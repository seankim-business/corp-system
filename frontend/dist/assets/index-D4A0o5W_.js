var eR=Object.defineProperty;var pN=e=>{throw TypeError(e)};var tR=(e,t,n)=>t in e?eR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xu=(e,t,n)=>tR(e,typeof t!="symbol"?t+"":t,n),Dp=(e,t,n)=>t.has(e)||pN("Cannot "+n);var J=(e,t,n)=>(Dp(e,t,"read from private field"),n?n.call(e):t.get(e)),Pe=(e,t,n)=>t.has(e)?pN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ye=(e,t,n,a)=>(Dp(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n),Be=(e,t,n)=>(Dp(e,t,"access private method"),n);var gu=(e,t,n,a)=>({set _(s){ye(e,t,s,n)},get _(){return J(e,t,a)}});function rR(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ze(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fp={exports:{}},Tl={},qp={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xN;function nR(){if(xN)return Ue;xN=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function x(q){return q===null||typeof q!="object"?null:(q=m&&q[m]||q["@@iterator"],typeof q=="function"?q:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function g(q,K,Y){this.props=q,this.context=K,this.refs=w,this.updater=Y||j}g.prototype.isReactComponent={},g.prototype.setState=function(q,K){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,K,"setState")},g.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function S(){}S.prototype=g.prototype;function P(q,K,Y){this.props=q,this.context=K,this.refs=w,this.updater=Y||j}var O=P.prototype=new S;O.constructor=P,v(O,g.prototype),O.isPureReactComponent=!0;var N=Array.isArray,A=Object.prototype.hasOwnProperty,C={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(q,K,Y){var H,ue={},he=null,oe=null;if(K!=null)for(H in K.ref!==void 0&&(oe=K.ref),K.key!==void 0&&(he=""+K.key),K)A.call(K,H)&&!E.hasOwnProperty(H)&&(ue[H]=K[H]);var te=arguments.length-2;if(te===1)ue.children=Y;else if(1<te){for(var le=Array(te),ke=0;ke<te;ke++)le[ke]=arguments[ke+2];ue.children=le}if(q&&q.defaultProps)for(H in te=q.defaultProps,te)ue[H]===void 0&&(ue[H]=te[H]);return{$$typeof:e,type:q,key:he,ref:oe,props:ue,_owner:C.current}}function R(q,K){return{$$typeof:e,type:q.type,key:K,ref:q.ref,props:q.props,_owner:q._owner}}function I(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function M(q){var K={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Y){return K[Y]})}var $=/\/+/g;function G(q,K){return typeof q=="object"&&q!==null&&q.key!=null?M(""+q.key):K.toString(36)}function V(q,K,Y,H,ue){var he=typeof q;(he==="undefined"||he==="boolean")&&(q=null);var oe=!1;if(q===null)oe=!0;else switch(he){case"string":case"number":oe=!0;break;case"object":switch(q.$$typeof){case e:case t:oe=!0}}if(oe)return oe=q,ue=ue(oe),q=H===""?"."+G(oe,0):H,N(ue)?(Y="",q!=null&&(Y=q.replace($,"$&/")+"/"),V(ue,K,Y,"",function(ke){return ke})):ue!=null&&(I(ue)&&(ue=R(ue,Y+(!ue.key||oe&&oe.key===ue.key?"":(""+ue.key).replace($,"$&/")+"/")+q)),K.push(ue)),1;if(oe=0,H=H===""?".":H+":",N(q))for(var te=0;te<q.length;te++){he=q[te];var le=H+G(he,te);oe+=V(he,K,Y,le,ue)}else if(le=x(q),typeof le=="function")for(q=le.call(q),te=0;!(he=q.next()).done;)he=he.value,le=H+G(he,te++),oe+=V(he,K,Y,le,ue);else if(he==="object")throw K=String(q),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return oe}function z(q,K,Y){if(q==null)return q;var H=[],ue=0;return V(q,H,"","",function(he){return K.call(Y,he,ue++)}),H}function U(q){if(q._status===-1){var K=q._result;K=K(),K.then(function(Y){(q._status===0||q._status===-1)&&(q._status=1,q._result=Y)},function(Y){(q._status===0||q._status===-1)&&(q._status=2,q._result=Y)}),q._status===-1&&(q._status=0,q._result=K)}if(q._status===1)return q._result.default;throw q._result}var W={current:null},B={transition:null},F={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:B,ReactCurrentOwner:C};function L(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:z,forEach:function(q,K,Y){z(q,function(){K.apply(this,arguments)},Y)},count:function(q){var K=0;return z(q,function(){K++}),K},toArray:function(q){return z(q,function(K){return K})||[]},only:function(q){if(!I(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Ue.Component=g,Ue.Fragment=n,Ue.Profiler=s,Ue.PureComponent=P,Ue.StrictMode=a,Ue.Suspense=u,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,Ue.act=L,Ue.cloneElement=function(q,K,Y){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var H=v({},q.props),ue=q.key,he=q.ref,oe=q._owner;if(K!=null){if(K.ref!==void 0&&(he=K.ref,oe=C.current),K.key!==void 0&&(ue=""+K.key),q.type&&q.type.defaultProps)var te=q.type.defaultProps;for(le in K)A.call(K,le)&&!E.hasOwnProperty(le)&&(H[le]=K[le]===void 0&&te!==void 0?te[le]:K[le])}var le=arguments.length-2;if(le===1)H.children=Y;else if(1<le){te=Array(le);for(var ke=0;ke<le;ke++)te[ke]=arguments[ke+2];H.children=te}return{$$typeof:e,type:q.type,key:ue,ref:he,props:H,_owner:oe}},Ue.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:i,_context:q},q.Consumer=q},Ue.createElement=T,Ue.createFactory=function(q){var K=T.bind(null,q);return K.type=q,K},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(q){return{$$typeof:d,render:q}},Ue.isValidElement=I,Ue.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:U}},Ue.memo=function(q,K){return{$$typeof:h,type:q,compare:K===void 0?null:K}},Ue.startTransition=function(q){var K=B.transition;B.transition={};try{q()}finally{B.transition=K}},Ue.unstable_act=L,Ue.useCallback=function(q,K){return W.current.useCallback(q,K)},Ue.useContext=function(q){return W.current.useContext(q)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(q){return W.current.useDeferredValue(q)},Ue.useEffect=function(q,K){return W.current.useEffect(q,K)},Ue.useId=function(){return W.current.useId()},Ue.useImperativeHandle=function(q,K,Y){return W.current.useImperativeHandle(q,K,Y)},Ue.useInsertionEffect=function(q,K){return W.current.useInsertionEffect(q,K)},Ue.useLayoutEffect=function(q,K){return W.current.useLayoutEffect(q,K)},Ue.useMemo=function(q,K){return W.current.useMemo(q,K)},Ue.useReducer=function(q,K,Y){return W.current.useReducer(q,K,Y)},Ue.useRef=function(q){return W.current.useRef(q)},Ue.useState=function(q){return W.current.useState(q)},Ue.useSyncExternalStore=function(q,K,Y){return W.current.useSyncExternalStore(q,K,Y)},Ue.useTransition=function(){return W.current.useTransition()},Ue.version="18.3.1",Ue}var gN;function ej(){return gN||(gN=1,qp.exports=nR()),qp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yN;function aR(){if(yN)return Tl;yN=1;var e=ej(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(d,u,h){var p,m={},x=null,j=null;h!==void 0&&(x=""+h),u.key!==void 0&&(x=""+u.key),u.ref!==void 0&&(j=u.ref);for(p in u)a.call(u,p)&&!i.hasOwnProperty(p)&&(m[p]=u[p]);if(d&&d.defaultProps)for(p in u=d.defaultProps,u)m[p]===void 0&&(m[p]=u[p]);return{$$typeof:t,type:d,key:x,ref:j,props:m,_owner:s.current}}return Tl.Fragment=n,Tl.jsx=l,Tl.jsxs=l,Tl}var vN;function sR(){return vN||(vN=1,Fp.exports=aR()),Fp.exports}var r=sR(),b=ej();const X=Ze(b),iR=rR({__proto__:null,default:X},[b]);var vu={},zp={exports:{}},yr={},Bp={exports:{}},Up={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bN;function oR(){return bN||(bN=1,(function(e){function t(B,F){var L=B.length;B.push(F);e:for(;0<L;){var q=L-1>>>1,K=B[q];if(0<s(K,F))B[q]=F,B[L]=K,L=q;else break e}}function n(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var F=B[0],L=B.pop();if(L!==F){B[0]=L;e:for(var q=0,K=B.length,Y=K>>>1;q<Y;){var H=2*(q+1)-1,ue=B[H],he=H+1,oe=B[he];if(0>s(ue,L))he<K&&0>s(oe,ue)?(B[q]=oe,B[he]=L,q=he):(B[q]=ue,B[H]=L,q=H);else if(he<K&&0>s(oe,L))B[q]=oe,B[he]=L,q=he;else break e}}return F}function s(B,F){var L=B.sortIndex-F.sortIndex;return L!==0?L:B.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var u=[],h=[],p=1,m=null,x=3,j=!1,v=!1,w=!1,g=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(B){for(var F=n(h);F!==null;){if(F.callback===null)a(h);else if(F.startTime<=B)a(h),F.sortIndex=F.expirationTime,t(u,F);else break;F=n(h)}}function N(B){if(w=!1,O(B),!v)if(n(u)!==null)v=!0,U(A);else{var F=n(h);F!==null&&W(N,F.startTime-B)}}function A(B,F){v=!1,w&&(w=!1,S(T),T=-1),j=!0;var L=x;try{for(O(F),m=n(u);m!==null&&(!(m.expirationTime>F)||B&&!M());){var q=m.callback;if(typeof q=="function"){m.callback=null,x=m.priorityLevel;var K=q(m.expirationTime<=F);F=e.unstable_now(),typeof K=="function"?m.callback=K:m===n(u)&&a(u),O(F)}else a(u);m=n(u)}if(m!==null)var Y=!0;else{var H=n(h);H!==null&&W(N,H.startTime-F),Y=!1}return Y}finally{m=null,x=L,j=!1}}var C=!1,E=null,T=-1,R=5,I=-1;function M(){return!(e.unstable_now()-I<R)}function $(){if(E!==null){var B=e.unstable_now();I=B;var F=!0;try{F=E(!0,B)}finally{F?G():(C=!1,E=null)}}else C=!1}var G;if(typeof P=="function")G=function(){P($)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,z=V.port2;V.port1.onmessage=$,G=function(){z.postMessage(null)}}else G=function(){g($,0)};function U(B){E=B,C||(C=!0,G())}function W(B,F){T=g(function(){B(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){v||j||(v=!0,U(A))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(B){switch(x){case 1:case 2:case 3:var F=3;break;default:F=x}var L=x;x=F;try{return B()}finally{x=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,F){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var L=x;x=B;try{return F()}finally{x=L}},e.unstable_scheduleCallback=function(B,F,L){var q=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?q+L:q):L=q,B){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=L+K,B={id:p++,callback:F,priorityLevel:B,startTime:L,expirationTime:K,sortIndex:-1},L>q?(B.sortIndex=L,t(h,B),n(u)===null&&B===n(h)&&(w?(S(T),T=-1):w=!0,W(N,L-q))):(B.sortIndex=K,t(u,B),v||j||(v=!0,U(A))),B},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(B){var F=x;return function(){var L=x;x=F;try{return B.apply(this,arguments)}finally{x=L}}}})(Up)),Up}var jN;function lR(){return jN||(jN=1,Bp.exports=oR()),Bp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wN;function cR(){if(wN)return yr;wN=1;var e=ej(),t=lR();function n(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function i(o,c){l(o,c),l(o+"Capture",c)}function l(o,c){for(s[o]=c,o=0;o<c.length;o++)a.add(c[o])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function x(o){return u.call(m,o)?!0:u.call(p,o)?!1:h.test(o)?m[o]=!0:(p[o]=!0,!1)}function j(o,c,f,y){if(f!==null&&f.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return y?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function v(o,c,f,y){if(c===null||typeof c>"u"||j(o,c,f,y))return!0;if(y)return!1;if(f!==null)switch(f.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(o,c,f,y,k,_,D){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=y,this.attributeNamespace=k,this.mustUseProperty=f,this.propertyName=o,this.type=c,this.sanitizeURL=_,this.removeEmptyString=D}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){g[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];g[c]=new w(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){g[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){g[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){g[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){g[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){g[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){g[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){g[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function P(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(S,P);g[c]=new w(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(S,P);g[c]=new w(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(S,P);g[c]=new w(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){g[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),g.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){g[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function O(o,c,f,y){var k=g.hasOwnProperty(c)?g[c]:null;(k!==null?k.type!==0:y||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(v(c,f,k,y)&&(f=null),y||k===null?x(c)&&(f===null?o.removeAttribute(c):o.setAttribute(c,""+f)):k.mustUseProperty?o[k.propertyName]=f===null?k.type===3?!1:"":f:(c=k.attributeName,y=k.attributeNamespace,f===null?o.removeAttribute(c):(k=k.type,f=k===3||k===4&&f===!0?"":""+f,y?o.setAttributeNS(y,c,f):o.setAttribute(c,f))))}var N=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),C=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),M=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),B=Symbol.iterator;function F(o){return o===null||typeof o!="object"?null:(o=B&&o[B]||o["@@iterator"],typeof o=="function"?o:null)}var L=Object.assign,q;function K(o){if(q===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);q=c&&c[1]||""}return`
`+q+o}var Y=!1;function H(o,c){if(!o||Y)return"";Y=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ie){var y=ie}Reflect.construct(o,[],c)}else{try{c.call()}catch(ie){y=ie}o.call(c.prototype)}else{try{throw Error()}catch(ie){y=ie}o()}}catch(ie){if(ie&&y&&typeof ie.stack=="string"){for(var k=ie.stack.split(`
`),_=y.stack.split(`
`),D=k.length-1,Q=_.length-1;1<=D&&0<=Q&&k[D]!==_[Q];)Q--;for(;1<=D&&0<=Q;D--,Q--)if(k[D]!==_[Q]){if(D!==1||Q!==1)do if(D--,Q--,0>Q||k[D]!==_[Q]){var Z=`
`+k[D].replace(" at new "," at ");return o.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",o.displayName)),Z}while(1<=D&&0<=Q);break}}}finally{Y=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?K(o):""}function ue(o){switch(o.tag){case 5:return K(o.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return o=H(o.type,!1),o;case 11:return o=H(o.type.render,!1),o;case 1:return o=H(o.type,!0),o;default:return""}}function he(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case C:return"Portal";case R:return"Profiler";case T:return"StrictMode";case G:return"Suspense";case V:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case M:return(o.displayName||"Context")+".Consumer";case I:return(o._context.displayName||"Context")+".Provider";case $:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case z:return c=o.displayName||null,c!==null?c:he(o.type)||"Memo";case U:c=o._payload,o=o._init;try{return he(o(c))}catch{}}return null}function oe(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(c);case 8:return c===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function te(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function le(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ke(o){var c=le(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),y=""+o[c];if(!o.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var k=f.get,_=f.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return k.call(this)},set:function(D){y=""+D,_.call(this,D)}}),Object.defineProperty(o,c,{enumerable:f.enumerable}),{getValue:function(){return y},setValue:function(D){y=""+D},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function $e(o){o._valueTracker||(o._valueTracker=ke(o))}function re(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),y="";return o&&(y=le(o)?o.checked?"true":"false":o.value),o=y,o!==f?(c.setValue(o),!0):!1}function be(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function je(o,c){var f=c.checked;return L({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function tt(o,c){var f=c.defaultValue==null?"":c.defaultValue,y=c.checked!=null?c.checked:c.defaultChecked;f=te(c.value!=null?c.value:f),o._wrapperState={initialChecked:y,initialValue:f,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function yt(o,c){c=c.checked,c!=null&&O(o,"checked",c,!1)}function qt(o,c){yt(o,c);var f=te(c.value),y=c.type;if(f!=null)y==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?yn(o,c.type,f):c.hasOwnProperty("defaultValue")&&yn(o,c.type,te(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function Zr(o,c,f){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var y=c.type;if(!(y!=="submit"&&y!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,f||c===o.value||(o.value=c),o.defaultValue=c}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function yn(o,c,f){(c!=="number"||be(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var vn=Array.isArray;function hr(o,c,f,y){if(o=o.options,c){c={};for(var k=0;k<f.length;k++)c["$"+f[k]]=!0;for(f=0;f<o.length;f++)k=c.hasOwnProperty("$"+o[f].value),o[f].selected!==k&&(o[f].selected=k),k&&y&&(o[f].defaultSelected=!0)}else{for(f=""+te(f),c=null,k=0;k<o.length;k++){if(o[k].value===f){o[k].selected=!0,y&&(o[k].defaultSelected=!0);return}c!==null||o[k].disabled||(c=o[k])}c!==null&&(c.selected=!0)}}function en(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return L({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function si(o,c){var f=c.value;if(f==null){if(f=c.children,c=c.defaultValue,f!=null){if(c!=null)throw Error(n(92));if(vn(f)){if(1<f.length)throw Error(n(93));f=f[0]}c=f}c==null&&(c=""),f=c}o._wrapperState={initialValue:te(f)}}function Ko(o,c){var f=te(c.value),y=te(c.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),c.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),y!=null&&(o.defaultValue=""+y)}function Go(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function Pw(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qf(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?Pw(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var ld,Ow=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,f,y,k){MSApp.execUnsafeLocalFunction(function(){return o(c,f,y,k)})}:o})(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(ld=ld||document.createElement("div"),ld.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=ld.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function Vo(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var Qo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aT=["Webkit","ms","Moz","O"];Object.keys(Qo).forEach(function(o){aT.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),Qo[c]=Qo[o]})});function Ew(o,c,f){return c==null||typeof c=="boolean"||c===""?"":f||typeof c!="number"||c===0||Qo.hasOwnProperty(o)&&Qo[o]?(""+c).trim():c+"px"}function _w(o,c){o=o.style;for(var f in c)if(c.hasOwnProperty(f)){var y=f.indexOf("--")===0,k=Ew(f,c[f],y);f==="float"&&(f="cssFloat"),y?o.setProperty(f,k):o[f]=k}}var sT=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yf(o,c){if(c){if(sT[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function Xf(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jf=null;function Zf(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var em=null,ii=null,oi=null;function Tw(o){if(o=gl(o)){if(typeof em!="function")throw Error(n(280));var c=o.stateNode;c&&(c=_d(c),em(o.stateNode,o.type,c))}}function Rw(o){ii?oi?oi.push(o):oi=[o]:ii=o}function Mw(){if(ii){var o=ii,c=oi;if(oi=ii=null,Tw(o),c)for(o=0;o<c.length;o++)Tw(c[o])}}function Iw(o,c){return o(c)}function $w(){}var tm=!1;function Lw(o,c,f){if(tm)return o(c,f);tm=!0;try{return Iw(o,c,f)}finally{tm=!1,(ii!==null||oi!==null)&&($w(),Mw())}}function Yo(o,c){var f=o.stateNode;if(f===null)return null;var y=_d(f);if(y===null)return null;f=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(n(231,c,typeof f));return f}var rm=!1;if(d)try{var Xo={};Object.defineProperty(Xo,"passive",{get:function(){rm=!0}}),window.addEventListener("test",Xo,Xo),window.removeEventListener("test",Xo,Xo)}catch{rm=!1}function iT(o,c,f,y,k,_,D,Q,Z){var ie=Array.prototype.slice.call(arguments,3);try{c.apply(f,ie)}catch(me){this.onError(me)}}var Jo=!1,cd=null,dd=!1,nm=null,oT={onError:function(o){Jo=!0,cd=o}};function lT(o,c,f,y,k,_,D,Q,Z){Jo=!1,cd=null,iT.apply(oT,arguments)}function cT(o,c,f,y,k,_,D,Q,Z){if(lT.apply(this,arguments),Jo){if(Jo){var ie=cd;Jo=!1,cd=null}else throw Error(n(198));dd||(dd=!0,nm=ie)}}function os(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function Dw(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function Fw(o){if(os(o)!==o)throw Error(n(188))}function dT(o){var c=o.alternate;if(!c){if(c=os(o),c===null)throw Error(n(188));return c!==o?null:o}for(var f=o,y=c;;){var k=f.return;if(k===null)break;var _=k.alternate;if(_===null){if(y=k.return,y!==null){f=y;continue}break}if(k.child===_.child){for(_=k.child;_;){if(_===f)return Fw(k),o;if(_===y)return Fw(k),c;_=_.sibling}throw Error(n(188))}if(f.return!==y.return)f=k,y=_;else{for(var D=!1,Q=k.child;Q;){if(Q===f){D=!0,f=k,y=_;break}if(Q===y){D=!0,y=k,f=_;break}Q=Q.sibling}if(!D){for(Q=_.child;Q;){if(Q===f){D=!0,f=_,y=k;break}if(Q===y){D=!0,y=_,f=k;break}Q=Q.sibling}if(!D)throw Error(n(189))}}if(f.alternate!==y)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?o:c}function qw(o){return o=dT(o),o!==null?zw(o):null}function zw(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=zw(o);if(c!==null)return c;o=o.sibling}return null}var Bw=t.unstable_scheduleCallback,Uw=t.unstable_cancelCallback,uT=t.unstable_shouldYield,hT=t.unstable_requestPaint,St=t.unstable_now,fT=t.unstable_getCurrentPriorityLevel,am=t.unstable_ImmediatePriority,Ww=t.unstable_UserBlockingPriority,ud=t.unstable_NormalPriority,mT=t.unstable_LowPriority,Hw=t.unstable_IdlePriority,hd=null,bn=null;function pT(o){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(hd,o,void 0,(o.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:yT,xT=Math.log,gT=Math.LN2;function yT(o){return o>>>=0,o===0?32:31-(xT(o)/gT|0)|0}var fd=64,md=4194304;function Zo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function pd(o,c){var f=o.pendingLanes;if(f===0)return 0;var y=0,k=o.suspendedLanes,_=o.pingedLanes,D=f&268435455;if(D!==0){var Q=D&~k;Q!==0?y=Zo(Q):(_&=D,_!==0&&(y=Zo(_)))}else D=f&~k,D!==0?y=Zo(D):_!==0&&(y=Zo(_));if(y===0)return 0;if(c!==0&&c!==y&&(c&k)===0&&(k=y&-y,_=c&-c,k>=_||k===16&&(_&4194240)!==0))return c;if((y&4)!==0&&(y|=f&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=y;0<c;)f=31-tn(c),k=1<<f,y|=o[f],c&=~k;return y}function vT(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bT(o,c){for(var f=o.suspendedLanes,y=o.pingedLanes,k=o.expirationTimes,_=o.pendingLanes;0<_;){var D=31-tn(_),Q=1<<D,Z=k[D];Z===-1?((Q&f)===0||(Q&y)!==0)&&(k[D]=vT(Q,c)):Z<=c&&(o.expiredLanes|=Q),_&=~Q}}function sm(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Kw(){var o=fd;return fd<<=1,(fd&4194240)===0&&(fd=64),o}function im(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function el(o,c,f){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-tn(c),o[c]=f}function jT(o,c){var f=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<f;){var k=31-tn(f),_=1<<k;c[k]=0,y[k]=-1,o[k]=-1,f&=~_}}function om(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var y=31-tn(f),k=1<<y;k&c|o[y]&c&&(o[y]|=c),f&=~k}}var et=0;function Gw(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Vw,lm,Qw,Yw,Xw,cm=!1,xd=[],ma=null,pa=null,xa=null,tl=new Map,rl=new Map,ga=[],wT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jw(o,c){switch(o){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":tl.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(c.pointerId)}}function nl(o,c,f,y,k,_){return o===null||o.nativeEvent!==_?(o={blockedOn:c,domEventName:f,eventSystemFlags:y,nativeEvent:_,targetContainers:[k]},c!==null&&(c=gl(c),c!==null&&lm(c)),o):(o.eventSystemFlags|=y,c=o.targetContainers,k!==null&&c.indexOf(k)===-1&&c.push(k),o)}function NT(o,c,f,y,k){switch(c){case"focusin":return ma=nl(ma,o,c,f,y,k),!0;case"dragenter":return pa=nl(pa,o,c,f,y,k),!0;case"mouseover":return xa=nl(xa,o,c,f,y,k),!0;case"pointerover":var _=k.pointerId;return tl.set(_,nl(tl.get(_)||null,o,c,f,y,k)),!0;case"gotpointercapture":return _=k.pointerId,rl.set(_,nl(rl.get(_)||null,o,c,f,y,k)),!0}return!1}function Zw(o){var c=ls(o.target);if(c!==null){var f=os(c);if(f!==null){if(c=f.tag,c===13){if(c=Dw(f),c!==null){o.blockedOn=c,Xw(o.priority,function(){Qw(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function gd(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=um(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var y=new f.constructor(f.type,f);Jf=y,f.target.dispatchEvent(y),Jf=null}else return c=gl(f),c!==null&&lm(c),o.blockedOn=f,!1;c.shift()}return!0}function e1(o,c,f){gd(o)&&f.delete(c)}function ST(){cm=!1,ma!==null&&gd(ma)&&(ma=null),pa!==null&&gd(pa)&&(pa=null),xa!==null&&gd(xa)&&(xa=null),tl.forEach(e1),rl.forEach(e1)}function al(o,c){o.blockedOn===c&&(o.blockedOn=null,cm||(cm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ST)))}function sl(o){function c(k){return al(k,o)}if(0<xd.length){al(xd[0],o);for(var f=1;f<xd.length;f++){var y=xd[f];y.blockedOn===o&&(y.blockedOn=null)}}for(ma!==null&&al(ma,o),pa!==null&&al(pa,o),xa!==null&&al(xa,o),tl.forEach(c),rl.forEach(c),f=0;f<ga.length;f++)y=ga[f],y.blockedOn===o&&(y.blockedOn=null);for(;0<ga.length&&(f=ga[0],f.blockedOn===null);)Zw(f),f.blockedOn===null&&ga.shift()}var li=N.ReactCurrentBatchConfig,yd=!0;function kT(o,c,f,y){var k=et,_=li.transition;li.transition=null;try{et=1,dm(o,c,f,y)}finally{et=k,li.transition=_}}function CT(o,c,f,y){var k=et,_=li.transition;li.transition=null;try{et=4,dm(o,c,f,y)}finally{et=k,li.transition=_}}function dm(o,c,f,y){if(yd){var k=um(o,c,f,y);if(k===null)Pm(o,c,y,vd,f),Jw(o,y);else if(NT(k,o,c,f,y))y.stopPropagation();else if(Jw(o,y),c&4&&-1<wT.indexOf(o)){for(;k!==null;){var _=gl(k);if(_!==null&&Vw(_),_=um(o,c,f,y),_===null&&Pm(o,c,y,vd,f),_===k)break;k=_}k!==null&&y.stopPropagation()}else Pm(o,c,y,null,f)}}var vd=null;function um(o,c,f,y){if(vd=null,o=Zf(y),o=ls(o),o!==null)if(c=os(o),c===null)o=null;else if(f=c.tag,f===13){if(o=Dw(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return vd=o,null}function t1(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fT()){case am:return 1;case Ww:return 4;case ud:case mT:return 16;case Hw:return 536870912;default:return 16}default:return 16}}var ya=null,hm=null,bd=null;function r1(){if(bd)return bd;var o,c=hm,f=c.length,y,k="value"in ya?ya.value:ya.textContent,_=k.length;for(o=0;o<f&&c[o]===k[o];o++);var D=f-o;for(y=1;y<=D&&c[f-y]===k[_-y];y++);return bd=k.slice(o,1<y?1-y:void 0)}function jd(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function wd(){return!0}function n1(){return!1}function kr(o){function c(f,y,k,_,D){this._reactName=f,this._targetInst=k,this.type=y,this.nativeEvent=_,this.target=D,this.currentTarget=null;for(var Q in o)o.hasOwnProperty(Q)&&(f=o[Q],this[Q]=f?f(_):_[Q]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?wd:n1,this.isPropagationStopped=n1,this}return L(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=wd)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=wd)},persist:function(){},isPersistent:wd}),c}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fm=kr(ci),il=L({},ci,{view:0,detail:0}),AT=kr(il),mm,pm,ol,Nd=L({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gm,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ol&&(ol&&o.type==="mousemove"?(mm=o.screenX-ol.screenX,pm=o.screenY-ol.screenY):pm=mm=0,ol=o),mm)},movementY:function(o){return"movementY"in o?o.movementY:pm}}),a1=kr(Nd),PT=L({},Nd,{dataTransfer:0}),OT=kr(PT),ET=L({},il,{relatedTarget:0}),xm=kr(ET),_T=L({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),TT=kr(_T),RT=L({},ci,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),MT=kr(RT),IT=L({},ci,{data:0}),s1=kr(IT),$T={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FT(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=DT[o])?!!c[o]:!1}function gm(){return FT}var qT=L({},il,{key:function(o){if(o.key){var c=$T[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=jd(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?LT[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gm,charCode:function(o){return o.type==="keypress"?jd(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?jd(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),zT=kr(qT),BT=L({},Nd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i1=kr(BT),UT=L({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gm}),WT=kr(UT),HT=L({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),KT=kr(HT),GT=L({},Nd,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),VT=kr(GT),QT=[9,13,27,32],ym=d&&"CompositionEvent"in window,ll=null;d&&"documentMode"in document&&(ll=document.documentMode);var YT=d&&"TextEvent"in window&&!ll,o1=d&&(!ym||ll&&8<ll&&11>=ll),l1=" ",c1=!1;function d1(o,c){switch(o){case"keyup":return QT.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u1(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var di=!1;function XT(o,c){switch(o){case"compositionend":return u1(c);case"keypress":return c.which!==32?null:(c1=!0,l1);case"textInput":return o=c.data,o===l1&&c1?null:o;default:return null}}function JT(o,c){if(di)return o==="compositionend"||!ym&&d1(o,c)?(o=r1(),bd=hm=ya=null,di=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return o1&&c.locale!=="ko"?null:c.data;default:return null}}var ZT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function h1(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!ZT[o.type]:c==="textarea"}function f1(o,c,f,y){Rw(y),c=Pd(c,"onChange"),0<c.length&&(f=new fm("onChange","change",null,f,y),o.push({event:f,listeners:c}))}var cl=null,dl=null;function e8(o){_1(o,0)}function Sd(o){var c=pi(o);if(re(c))return o}function t8(o,c){if(o==="change")return c}var m1=!1;if(d){var vm;if(d){var bm="oninput"in document;if(!bm){var p1=document.createElement("div");p1.setAttribute("oninput","return;"),bm=typeof p1.oninput=="function"}vm=bm}else vm=!1;m1=vm&&(!document.documentMode||9<document.documentMode)}function x1(){cl&&(cl.detachEvent("onpropertychange",g1),dl=cl=null)}function g1(o){if(o.propertyName==="value"&&Sd(dl)){var c=[];f1(c,dl,o,Zf(o)),Lw(e8,c)}}function r8(o,c,f){o==="focusin"?(x1(),cl=c,dl=f,cl.attachEvent("onpropertychange",g1)):o==="focusout"&&x1()}function n8(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Sd(dl)}function a8(o,c){if(o==="click")return Sd(c)}function s8(o,c){if(o==="input"||o==="change")return Sd(c)}function i8(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var rn=typeof Object.is=="function"?Object.is:i8;function ul(o,c){if(rn(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),y=Object.keys(c);if(f.length!==y.length)return!1;for(y=0;y<f.length;y++){var k=f[y];if(!u.call(c,k)||!rn(o[k],c[k]))return!1}return!0}function y1(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function v1(o,c){var f=y1(o);o=0;for(var y;f;){if(f.nodeType===3){if(y=o+f.textContent.length,o<=c&&y>=c)return{node:f,offset:c-o};o=y}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=y1(f)}}function b1(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?b1(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function j1(){for(var o=window,c=be();c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)o=c.contentWindow;else break;c=be(o.document)}return c}function jm(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function o8(o){var c=j1(),f=o.focusedElem,y=o.selectionRange;if(c!==f&&f&&f.ownerDocument&&b1(f.ownerDocument.documentElement,f)){if(y!==null&&jm(f)){if(c=y.start,o=y.end,o===void 0&&(o=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(o,f.value.length);else if(o=(c=f.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var k=f.textContent.length,_=Math.min(y.start,k);y=y.end===void 0?_:Math.min(y.end,k),!o.extend&&_>y&&(k=y,y=_,_=k),k=v1(f,_);var D=v1(f,y);k&&D&&(o.rangeCount!==1||o.anchorNode!==k.node||o.anchorOffset!==k.offset||o.focusNode!==D.node||o.focusOffset!==D.offset)&&(c=c.createRange(),c.setStart(k.node,k.offset),o.removeAllRanges(),_>y?(o.addRange(c),o.extend(D.node,D.offset)):(c.setEnd(D.node,D.offset),o.addRange(c)))}}for(c=[],o=f;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)o=c[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var l8=d&&"documentMode"in document&&11>=document.documentMode,ui=null,wm=null,hl=null,Nm=!1;function w1(o,c,f){var y=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Nm||ui==null||ui!==be(y)||(y=ui,"selectionStart"in y&&jm(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),hl&&ul(hl,y)||(hl=y,y=Pd(wm,"onSelect"),0<y.length&&(c=new fm("onSelect","select",null,c,f),o.push({event:c,listeners:y}),c.target=ui)))}function kd(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var hi={animationend:kd("Animation","AnimationEnd"),animationiteration:kd("Animation","AnimationIteration"),animationstart:kd("Animation","AnimationStart"),transitionend:kd("Transition","TransitionEnd")},Sm={},N1={};d&&(N1=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);function Cd(o){if(Sm[o])return Sm[o];if(!hi[o])return o;var c=hi[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in N1)return Sm[o]=c[f];return o}var S1=Cd("animationend"),k1=Cd("animationiteration"),C1=Cd("animationstart"),A1=Cd("transitionend"),P1=new Map,O1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function va(o,c){P1.set(o,c),i(c,[o])}for(var km=0;km<O1.length;km++){var Cm=O1[km],c8=Cm.toLowerCase(),d8=Cm[0].toUpperCase()+Cm.slice(1);va(c8,"on"+d8)}va(S1,"onAnimationEnd"),va(k1,"onAnimationIteration"),va(C1,"onAnimationStart"),va("dblclick","onDoubleClick"),va("focusin","onFocus"),va("focusout","onBlur"),va(A1,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u8=new Set("cancel close invalid load scroll toggle".split(" ").concat(fl));function E1(o,c,f){var y=o.type||"unknown-event";o.currentTarget=f,cT(y,c,void 0,o),o.currentTarget=null}function _1(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var y=o[f],k=y.event;y=y.listeners;e:{var _=void 0;if(c)for(var D=y.length-1;0<=D;D--){var Q=y[D],Z=Q.instance,ie=Q.currentTarget;if(Q=Q.listener,Z!==_&&k.isPropagationStopped())break e;E1(k,Q,ie),_=Z}else for(D=0;D<y.length;D++){if(Q=y[D],Z=Q.instance,ie=Q.currentTarget,Q=Q.listener,Z!==_&&k.isPropagationStopped())break e;E1(k,Q,ie),_=Z}}}if(dd)throw o=nm,dd=!1,nm=null,o}function ct(o,c){var f=c[Mm];f===void 0&&(f=c[Mm]=new Set);var y=o+"__bubble";f.has(y)||(T1(c,o,2,!1),f.add(y))}function Am(o,c,f){var y=0;c&&(y|=4),T1(f,o,y,c)}var Ad="_reactListening"+Math.random().toString(36).slice(2);function ml(o){if(!o[Ad]){o[Ad]=!0,a.forEach(function(f){f!=="selectionchange"&&(u8.has(f)||Am(f,!1,o),Am(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Ad]||(c[Ad]=!0,Am("selectionchange",!1,c))}}function T1(o,c,f,y){switch(t1(c)){case 1:var k=kT;break;case 4:k=CT;break;default:k=dm}f=k.bind(null,c,f,o),k=void 0,!rm||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(k=!0),y?k!==void 0?o.addEventListener(c,f,{capture:!0,passive:k}):o.addEventListener(c,f,!0):k!==void 0?o.addEventListener(c,f,{passive:k}):o.addEventListener(c,f,!1)}function Pm(o,c,f,y,k){var _=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var D=y.tag;if(D===3||D===4){var Q=y.stateNode.containerInfo;if(Q===k||Q.nodeType===8&&Q.parentNode===k)break;if(D===4)for(D=y.return;D!==null;){var Z=D.tag;if((Z===3||Z===4)&&(Z=D.stateNode.containerInfo,Z===k||Z.nodeType===8&&Z.parentNode===k))return;D=D.return}for(;Q!==null;){if(D=ls(Q),D===null)return;if(Z=D.tag,Z===5||Z===6){y=_=D;continue e}Q=Q.parentNode}}y=y.return}Lw(function(){var ie=_,me=Zf(f),pe=[];e:{var fe=P1.get(o);if(fe!==void 0){var ve=fm,Se=o;switch(o){case"keypress":if(jd(f)===0)break e;case"keydown":case"keyup":ve=zT;break;case"focusin":Se="focus",ve=xm;break;case"focusout":Se="blur",ve=xm;break;case"beforeblur":case"afterblur":ve=xm;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=a1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=OT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=WT;break;case S1:case k1:case C1:ve=TT;break;case A1:ve=KT;break;case"scroll":ve=AT;break;case"wheel":ve=VT;break;case"copy":case"cut":case"paste":ve=MT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=i1}var Ce=(c&4)!==0,kt=!Ce&&o==="scroll",ne=Ce?fe!==null?fe+"Capture":null:fe;Ce=[];for(var ee=ie,ae;ee!==null;){ae=ee;var xe=ae.stateNode;if(ae.tag===5&&xe!==null&&(ae=xe,ne!==null&&(xe=Yo(ee,ne),xe!=null&&Ce.push(pl(ee,xe,ae)))),kt)break;ee=ee.return}0<Ce.length&&(fe=new ve(fe,Se,null,f,me),pe.push({event:fe,listeners:Ce}))}}if((c&7)===0){e:{if(fe=o==="mouseover"||o==="pointerover",ve=o==="mouseout"||o==="pointerout",fe&&f!==Jf&&(Se=f.relatedTarget||f.fromElement)&&(ls(Se)||Se[$n]))break e;if((ve||fe)&&(fe=me.window===me?me:(fe=me.ownerDocument)?fe.defaultView||fe.parentWindow:window,ve?(Se=f.relatedTarget||f.toElement,ve=ie,Se=Se?ls(Se):null,Se!==null&&(kt=os(Se),Se!==kt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(ve=null,Se=ie),ve!==Se)){if(Ce=a1,xe="onMouseLeave",ne="onMouseEnter",ee="mouse",(o==="pointerout"||o==="pointerover")&&(Ce=i1,xe="onPointerLeave",ne="onPointerEnter",ee="pointer"),kt=ve==null?fe:pi(ve),ae=Se==null?fe:pi(Se),fe=new Ce(xe,ee+"leave",ve,f,me),fe.target=kt,fe.relatedTarget=ae,xe=null,ls(me)===ie&&(Ce=new Ce(ne,ee+"enter",Se,f,me),Ce.target=ae,Ce.relatedTarget=kt,xe=Ce),kt=xe,ve&&Se)t:{for(Ce=ve,ne=Se,ee=0,ae=Ce;ae;ae=fi(ae))ee++;for(ae=0,xe=ne;xe;xe=fi(xe))ae++;for(;0<ee-ae;)Ce=fi(Ce),ee--;for(;0<ae-ee;)ne=fi(ne),ae--;for(;ee--;){if(Ce===ne||ne!==null&&Ce===ne.alternate)break t;Ce=fi(Ce),ne=fi(ne)}Ce=null}else Ce=null;ve!==null&&R1(pe,fe,ve,Ce,!1),Se!==null&&kt!==null&&R1(pe,kt,Se,Ce,!0)}}e:{if(fe=ie?pi(ie):window,ve=fe.nodeName&&fe.nodeName.toLowerCase(),ve==="select"||ve==="input"&&fe.type==="file")var Ae=t8;else if(h1(fe))if(m1)Ae=s8;else{Ae=n8;var Ee=r8}else(ve=fe.nodeName)&&ve.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Ae=a8);if(Ae&&(Ae=Ae(o,ie))){f1(pe,Ae,f,me);break e}Ee&&Ee(o,fe,ie),o==="focusout"&&(Ee=fe._wrapperState)&&Ee.controlled&&fe.type==="number"&&yn(fe,"number",fe.value)}switch(Ee=ie?pi(ie):window,o){case"focusin":(h1(Ee)||Ee.contentEditable==="true")&&(ui=Ee,wm=ie,hl=null);break;case"focusout":hl=wm=ui=null;break;case"mousedown":Nm=!0;break;case"contextmenu":case"mouseup":case"dragend":Nm=!1,w1(pe,f,me);break;case"selectionchange":if(l8)break;case"keydown":case"keyup":w1(pe,f,me)}var _e;if(ym)e:{switch(o){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else di?d1(o,f)&&(De="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(De="onCompositionStart");De&&(o1&&f.locale!=="ko"&&(di||De!=="onCompositionStart"?De==="onCompositionEnd"&&di&&(_e=r1()):(ya=me,hm="value"in ya?ya.value:ya.textContent,di=!0)),Ee=Pd(ie,De),0<Ee.length&&(De=new s1(De,o,null,f,me),pe.push({event:De,listeners:Ee}),_e?De.data=_e:(_e=u1(f),_e!==null&&(De.data=_e)))),(_e=YT?XT(o,f):JT(o,f))&&(ie=Pd(ie,"onBeforeInput"),0<ie.length&&(me=new s1("onBeforeInput","beforeinput",null,f,me),pe.push({event:me,listeners:ie}),me.data=_e))}_1(pe,c)})}function pl(o,c,f){return{instance:o,listener:c,currentTarget:f}}function Pd(o,c){for(var f=c+"Capture",y=[];o!==null;){var k=o,_=k.stateNode;k.tag===5&&_!==null&&(k=_,_=Yo(o,f),_!=null&&y.unshift(pl(o,_,k)),_=Yo(o,c),_!=null&&y.push(pl(o,_,k))),o=o.return}return y}function fi(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function R1(o,c,f,y,k){for(var _=c._reactName,D=[];f!==null&&f!==y;){var Q=f,Z=Q.alternate,ie=Q.stateNode;if(Z!==null&&Z===y)break;Q.tag===5&&ie!==null&&(Q=ie,k?(Z=Yo(f,_),Z!=null&&D.unshift(pl(f,Z,Q))):k||(Z=Yo(f,_),Z!=null&&D.push(pl(f,Z,Q)))),f=f.return}D.length!==0&&o.push({event:c,listeners:D})}var h8=/\r\n?/g,f8=/\u0000|\uFFFD/g;function M1(o){return(typeof o=="string"?o:""+o).replace(h8,`
`).replace(f8,"")}function Od(o,c,f){if(c=M1(c),M1(o)!==c&&f)throw Error(n(425))}function Ed(){}var Om=null,Em=null;function _m(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Tm=typeof setTimeout=="function"?setTimeout:void 0,m8=typeof clearTimeout=="function"?clearTimeout:void 0,I1=typeof Promise=="function"?Promise:void 0,p8=typeof queueMicrotask=="function"?queueMicrotask:typeof I1<"u"?function(o){return I1.resolve(null).then(o).catch(x8)}:Tm;function x8(o){setTimeout(function(){throw o})}function Rm(o,c){var f=c,y=0;do{var k=f.nextSibling;if(o.removeChild(f),k&&k.nodeType===8)if(f=k.data,f==="/$"){if(y===0){o.removeChild(k),sl(c);return}y--}else f!=="$"&&f!=="$?"&&f!=="$!"||y++;f=k}while(f);sl(c)}function ba(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function $1(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return o;c--}else f==="/$"&&c++}o=o.previousSibling}return null}var mi=Math.random().toString(36).slice(2),jn="__reactFiber$"+mi,xl="__reactProps$"+mi,$n="__reactContainer$"+mi,Mm="__reactEvents$"+mi,g8="__reactListeners$"+mi,y8="__reactHandles$"+mi;function ls(o){var c=o[jn];if(c)return c;for(var f=o.parentNode;f;){if(c=f[$n]||f[jn]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=$1(o);o!==null;){if(f=o[jn])return f;o=$1(o)}return c}o=f,f=o.parentNode}return null}function gl(o){return o=o[jn]||o[$n],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function pi(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function _d(o){return o[xl]||null}var Im=[],xi=-1;function ja(o){return{current:o}}function dt(o){0>xi||(o.current=Im[xi],Im[xi]=null,xi--)}function at(o,c){xi++,Im[xi]=o.current,o.current=c}var wa={},Xt=ja(wa),fr=ja(!1),cs=wa;function gi(o,c){var f=o.type.contextTypes;if(!f)return wa;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===c)return y.__reactInternalMemoizedMaskedChildContext;var k={},_;for(_ in f)k[_]=c[_];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=k),k}function mr(o){return o=o.childContextTypes,o!=null}function Td(){dt(fr),dt(Xt)}function L1(o,c,f){if(Xt.current!==wa)throw Error(n(168));at(Xt,c),at(fr,f)}function D1(o,c,f){var y=o.stateNode;if(c=c.childContextTypes,typeof y.getChildContext!="function")return f;y=y.getChildContext();for(var k in y)if(!(k in c))throw Error(n(108,oe(o)||"Unknown",k));return L({},f,y)}function Rd(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||wa,cs=Xt.current,at(Xt,o),at(fr,fr.current),!0}function F1(o,c,f){var y=o.stateNode;if(!y)throw Error(n(169));f?(o=D1(o,c,cs),y.__reactInternalMemoizedMergedChildContext=o,dt(fr),dt(Xt),at(Xt,o)):dt(fr),at(fr,f)}var Ln=null,Md=!1,$m=!1;function q1(o){Ln===null?Ln=[o]:Ln.push(o)}function v8(o){Md=!0,q1(o)}function Na(){if(!$m&&Ln!==null){$m=!0;var o=0,c=et;try{var f=Ln;for(et=1;o<f.length;o++){var y=f[o];do y=y(!0);while(y!==null)}Ln=null,Md=!1}catch(k){throw Ln!==null&&(Ln=Ln.slice(o+1)),Bw(am,Na),k}finally{et=c,$m=!1}}return null}var yi=[],vi=0,Id=null,$d=0,$r=[],Lr=0,ds=null,Dn=1,Fn="";function us(o,c){yi[vi++]=$d,yi[vi++]=Id,Id=o,$d=c}function z1(o,c,f){$r[Lr++]=Dn,$r[Lr++]=Fn,$r[Lr++]=ds,ds=o;var y=Dn;o=Fn;var k=32-tn(y)-1;y&=~(1<<k),f+=1;var _=32-tn(c)+k;if(30<_){var D=k-k%5;_=(y&(1<<D)-1).toString(32),y>>=D,k-=D,Dn=1<<32-tn(c)+k|f<<k|y,Fn=_+o}else Dn=1<<_|f<<k|y,Fn=o}function Lm(o){o.return!==null&&(us(o,1),z1(o,1,0))}function Dm(o){for(;o===Id;)Id=yi[--vi],yi[vi]=null,$d=yi[--vi],yi[vi]=null;for(;o===ds;)ds=$r[--Lr],$r[Lr]=null,Fn=$r[--Lr],$r[Lr]=null,Dn=$r[--Lr],$r[Lr]=null}var Cr=null,Ar=null,ht=!1,nn=null;function B1(o,c){var f=zr(5,null,null,0);f.elementType="DELETED",f.stateNode=c,f.return=o,c=o.deletions,c===null?(o.deletions=[f],o.flags|=16):c.push(f)}function U1(o,c){switch(o.tag){case 5:var f=o.type;return c=c.nodeType!==1||f.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,Cr=o,Ar=ba(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,Cr=o,Ar=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(f=ds!==null?{id:Dn,overflow:Fn}:null,o.memoizedState={dehydrated:c,treeContext:f,retryLane:1073741824},f=zr(18,null,null,0),f.stateNode=c,f.return=o,o.child=f,Cr=o,Ar=null,!0):!1;default:return!1}}function Fm(o){return(o.mode&1)!==0&&(o.flags&128)===0}function qm(o){if(ht){var c=Ar;if(c){var f=c;if(!U1(o,c)){if(Fm(o))throw Error(n(418));c=ba(f.nextSibling);var y=Cr;c&&U1(o,c)?B1(y,f):(o.flags=o.flags&-4097|2,ht=!1,Cr=o)}}else{if(Fm(o))throw Error(n(418));o.flags=o.flags&-4097|2,ht=!1,Cr=o}}}function W1(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Cr=o}function Ld(o){if(o!==Cr)return!1;if(!ht)return W1(o),ht=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!_m(o.type,o.memoizedProps)),c&&(c=Ar)){if(Fm(o))throw H1(),Error(n(418));for(;c;)B1(o,c),c=ba(c.nextSibling)}if(W1(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(c===0){Ar=ba(o.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++}o=o.nextSibling}Ar=null}}else Ar=Cr?ba(o.stateNode.nextSibling):null;return!0}function H1(){for(var o=Ar;o;)o=ba(o.nextSibling)}function bi(){Ar=Cr=null,ht=!1}function zm(o){nn===null?nn=[o]:nn.push(o)}var b8=N.ReactCurrentBatchConfig;function yl(o,c,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(n(309));var y=f.stateNode}if(!y)throw Error(n(147,o));var k=y,_=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===_?c.ref:(c=function(D){var Q=k.refs;D===null?delete Q[_]:Q[_]=D},c._stringRef=_,c)}if(typeof o!="string")throw Error(n(284));if(!f._owner)throw Error(n(290,o))}return o}function Dd(o,c){throw o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function K1(o){var c=o._init;return c(o._payload)}function G1(o){function c(ne,ee){if(o){var ae=ne.deletions;ae===null?(ne.deletions=[ee],ne.flags|=16):ae.push(ee)}}function f(ne,ee){if(!o)return null;for(;ee!==null;)c(ne,ee),ee=ee.sibling;return null}function y(ne,ee){for(ne=new Map;ee!==null;)ee.key!==null?ne.set(ee.key,ee):ne.set(ee.index,ee),ee=ee.sibling;return ne}function k(ne,ee){return ne=_a(ne,ee),ne.index=0,ne.sibling=null,ne}function _(ne,ee,ae){return ne.index=ae,o?(ae=ne.alternate,ae!==null?(ae=ae.index,ae<ee?(ne.flags|=2,ee):ae):(ne.flags|=2,ee)):(ne.flags|=1048576,ee)}function D(ne){return o&&ne.alternate===null&&(ne.flags|=2),ne}function Q(ne,ee,ae,xe){return ee===null||ee.tag!==6?(ee=Tp(ae,ne.mode,xe),ee.return=ne,ee):(ee=k(ee,ae),ee.return=ne,ee)}function Z(ne,ee,ae,xe){var Ae=ae.type;return Ae===E?me(ne,ee,ae.props.children,xe,ae.key):ee!==null&&(ee.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===U&&K1(Ae)===ee.type)?(xe=k(ee,ae.props),xe.ref=yl(ne,ee,ae),xe.return=ne,xe):(xe=lu(ae.type,ae.key,ae.props,null,ne.mode,xe),xe.ref=yl(ne,ee,ae),xe.return=ne,xe)}function ie(ne,ee,ae,xe){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ae.containerInfo||ee.stateNode.implementation!==ae.implementation?(ee=Rp(ae,ne.mode,xe),ee.return=ne,ee):(ee=k(ee,ae.children||[]),ee.return=ne,ee)}function me(ne,ee,ae,xe,Ae){return ee===null||ee.tag!==7?(ee=vs(ae,ne.mode,xe,Ae),ee.return=ne,ee):(ee=k(ee,ae),ee.return=ne,ee)}function pe(ne,ee,ae){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=Tp(""+ee,ne.mode,ae),ee.return=ne,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case A:return ae=lu(ee.type,ee.key,ee.props,null,ne.mode,ae),ae.ref=yl(ne,null,ee),ae.return=ne,ae;case C:return ee=Rp(ee,ne.mode,ae),ee.return=ne,ee;case U:var xe=ee._init;return pe(ne,xe(ee._payload),ae)}if(vn(ee)||F(ee))return ee=vs(ee,ne.mode,ae,null),ee.return=ne,ee;Dd(ne,ee)}return null}function fe(ne,ee,ae,xe){var Ae=ee!==null?ee.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Ae!==null?null:Q(ne,ee,""+ae,xe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case A:return ae.key===Ae?Z(ne,ee,ae,xe):null;case C:return ae.key===Ae?ie(ne,ee,ae,xe):null;case U:return Ae=ae._init,fe(ne,ee,Ae(ae._payload),xe)}if(vn(ae)||F(ae))return Ae!==null?null:me(ne,ee,ae,xe,null);Dd(ne,ae)}return null}function ve(ne,ee,ae,xe,Ae){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return ne=ne.get(ae)||null,Q(ee,ne,""+xe,Ae);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case A:return ne=ne.get(xe.key===null?ae:xe.key)||null,Z(ee,ne,xe,Ae);case C:return ne=ne.get(xe.key===null?ae:xe.key)||null,ie(ee,ne,xe,Ae);case U:var Ee=xe._init;return ve(ne,ee,ae,Ee(xe._payload),Ae)}if(vn(xe)||F(xe))return ne=ne.get(ae)||null,me(ee,ne,xe,Ae,null);Dd(ee,xe)}return null}function Se(ne,ee,ae,xe){for(var Ae=null,Ee=null,_e=ee,De=ee=0,Ut=null;_e!==null&&De<ae.length;De++){_e.index>De?(Ut=_e,_e=null):Ut=_e.sibling;var Ke=fe(ne,_e,ae[De],xe);if(Ke===null){_e===null&&(_e=Ut);break}o&&_e&&Ke.alternate===null&&c(ne,_e),ee=_(Ke,ee,De),Ee===null?Ae=Ke:Ee.sibling=Ke,Ee=Ke,_e=Ut}if(De===ae.length)return f(ne,_e),ht&&us(ne,De),Ae;if(_e===null){for(;De<ae.length;De++)_e=pe(ne,ae[De],xe),_e!==null&&(ee=_(_e,ee,De),Ee===null?Ae=_e:Ee.sibling=_e,Ee=_e);return ht&&us(ne,De),Ae}for(_e=y(ne,_e);De<ae.length;De++)Ut=ve(_e,ne,De,ae[De],xe),Ut!==null&&(o&&Ut.alternate!==null&&_e.delete(Ut.key===null?De:Ut.key),ee=_(Ut,ee,De),Ee===null?Ae=Ut:Ee.sibling=Ut,Ee=Ut);return o&&_e.forEach(function(Ta){return c(ne,Ta)}),ht&&us(ne,De),Ae}function Ce(ne,ee,ae,xe){var Ae=F(ae);if(typeof Ae!="function")throw Error(n(150));if(ae=Ae.call(ae),ae==null)throw Error(n(151));for(var Ee=Ae=null,_e=ee,De=ee=0,Ut=null,Ke=ae.next();_e!==null&&!Ke.done;De++,Ke=ae.next()){_e.index>De?(Ut=_e,_e=null):Ut=_e.sibling;var Ta=fe(ne,_e,Ke.value,xe);if(Ta===null){_e===null&&(_e=Ut);break}o&&_e&&Ta.alternate===null&&c(ne,_e),ee=_(Ta,ee,De),Ee===null?Ae=Ta:Ee.sibling=Ta,Ee=Ta,_e=Ut}if(Ke.done)return f(ne,_e),ht&&us(ne,De),Ae;if(_e===null){for(;!Ke.done;De++,Ke=ae.next())Ke=pe(ne,Ke.value,xe),Ke!==null&&(ee=_(Ke,ee,De),Ee===null?Ae=Ke:Ee.sibling=Ke,Ee=Ke);return ht&&us(ne,De),Ae}for(_e=y(ne,_e);!Ke.done;De++,Ke=ae.next())Ke=ve(_e,ne,De,Ke.value,xe),Ke!==null&&(o&&Ke.alternate!==null&&_e.delete(Ke.key===null?De:Ke.key),ee=_(Ke,ee,De),Ee===null?Ae=Ke:Ee.sibling=Ke,Ee=Ke);return o&&_e.forEach(function(Z8){return c(ne,Z8)}),ht&&us(ne,De),Ae}function kt(ne,ee,ae,xe){if(typeof ae=="object"&&ae!==null&&ae.type===E&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case A:e:{for(var Ae=ae.key,Ee=ee;Ee!==null;){if(Ee.key===Ae){if(Ae=ae.type,Ae===E){if(Ee.tag===7){f(ne,Ee.sibling),ee=k(Ee,ae.props.children),ee.return=ne,ne=ee;break e}}else if(Ee.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===U&&K1(Ae)===Ee.type){f(ne,Ee.sibling),ee=k(Ee,ae.props),ee.ref=yl(ne,Ee,ae),ee.return=ne,ne=ee;break e}f(ne,Ee);break}else c(ne,Ee);Ee=Ee.sibling}ae.type===E?(ee=vs(ae.props.children,ne.mode,xe,ae.key),ee.return=ne,ne=ee):(xe=lu(ae.type,ae.key,ae.props,null,ne.mode,xe),xe.ref=yl(ne,ee,ae),xe.return=ne,ne=xe)}return D(ne);case C:e:{for(Ee=ae.key;ee!==null;){if(ee.key===Ee)if(ee.tag===4&&ee.stateNode.containerInfo===ae.containerInfo&&ee.stateNode.implementation===ae.implementation){f(ne,ee.sibling),ee=k(ee,ae.children||[]),ee.return=ne,ne=ee;break e}else{f(ne,ee);break}else c(ne,ee);ee=ee.sibling}ee=Rp(ae,ne.mode,xe),ee.return=ne,ne=ee}return D(ne);case U:return Ee=ae._init,kt(ne,ee,Ee(ae._payload),xe)}if(vn(ae))return Se(ne,ee,ae,xe);if(F(ae))return Ce(ne,ee,ae,xe);Dd(ne,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,ee!==null&&ee.tag===6?(f(ne,ee.sibling),ee=k(ee,ae),ee.return=ne,ne=ee):(f(ne,ee),ee=Tp(ae,ne.mode,xe),ee.return=ne,ne=ee),D(ne)):f(ne,ee)}return kt}var ji=G1(!0),V1=G1(!1),Fd=ja(null),qd=null,wi=null,Bm=null;function Um(){Bm=wi=qd=null}function Wm(o){var c=Fd.current;dt(Fd),o._currentValue=c}function Hm(o,c,f){for(;o!==null;){var y=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),o===f)break;o=o.return}}function Ni(o,c){qd=o,Bm=wi=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(pr=!0),o.firstContext=null)}function Dr(o){var c=o._currentValue;if(Bm!==o)if(o={context:o,memoizedValue:c,next:null},wi===null){if(qd===null)throw Error(n(308));wi=o,qd.dependencies={lanes:0,firstContext:o}}else wi=wi.next=o;return c}var hs=null;function Km(o){hs===null?hs=[o]:hs.push(o)}function Q1(o,c,f,y){var k=c.interleaved;return k===null?(f.next=f,Km(c)):(f.next=k.next,k.next=f),c.interleaved=f,qn(o,y)}function qn(o,c){o.lanes|=c;var f=o.alternate;for(f!==null&&(f.lanes|=c),f=o,o=o.return;o!==null;)o.childLanes|=c,f=o.alternate,f!==null&&(f.childLanes|=c),f=o,o=o.return;return f.tag===3?f.stateNode:null}var Sa=!1;function Gm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y1(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function zn(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function ka(o,c,f){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(He&2)!==0){var k=y.pending;return k===null?c.next=c:(c.next=k.next,k.next=c),y.pending=c,qn(o,f)}return k=y.interleaved,k===null?(c.next=c,Km(y)):(c.next=k.next,k.next=c),y.interleaved=c,qn(o,f)}function zd(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194240)!==0)){var y=c.lanes;y&=o.pendingLanes,f|=y,c.lanes=f,om(o,f)}}function X1(o,c){var f=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,f===y)){var k=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var D={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};_===null?k=_=D:_=_.next=D,f=f.next}while(f!==null);_===null?k=_=c:_=_.next=c}else k=_=c;f={baseState:y.baseState,firstBaseUpdate:k,lastBaseUpdate:_,shared:y.shared,effects:y.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}function Bd(o,c,f,y){var k=o.updateQueue;Sa=!1;var _=k.firstBaseUpdate,D=k.lastBaseUpdate,Q=k.shared.pending;if(Q!==null){k.shared.pending=null;var Z=Q,ie=Z.next;Z.next=null,D===null?_=ie:D.next=ie,D=Z;var me=o.alternate;me!==null&&(me=me.updateQueue,Q=me.lastBaseUpdate,Q!==D&&(Q===null?me.firstBaseUpdate=ie:Q.next=ie,me.lastBaseUpdate=Z))}if(_!==null){var pe=k.baseState;D=0,me=ie=Z=null,Q=_;do{var fe=Q.lane,ve=Q.eventTime;if((y&fe)===fe){me!==null&&(me=me.next={eventTime:ve,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Se=o,Ce=Q;switch(fe=c,ve=f,Ce.tag){case 1:if(Se=Ce.payload,typeof Se=="function"){pe=Se.call(ve,pe,fe);break e}pe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ce.payload,fe=typeof Se=="function"?Se.call(ve,pe,fe):Se,fe==null)break e;pe=L({},pe,fe);break e;case 2:Sa=!0}}Q.callback!==null&&Q.lane!==0&&(o.flags|=64,fe=k.effects,fe===null?k.effects=[Q]:fe.push(Q))}else ve={eventTime:ve,lane:fe,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},me===null?(ie=me=ve,Z=pe):me=me.next=ve,D|=fe;if(Q=Q.next,Q===null){if(Q=k.shared.pending,Q===null)break;fe=Q,Q=fe.next,fe.next=null,k.lastBaseUpdate=fe,k.shared.pending=null}}while(!0);if(me===null&&(Z=pe),k.baseState=Z,k.firstBaseUpdate=ie,k.lastBaseUpdate=me,c=k.shared.interleaved,c!==null){k=c;do D|=k.lane,k=k.next;while(k!==c)}else _===null&&(k.shared.lanes=0);ps|=D,o.lanes=D,o.memoizedState=pe}}function J1(o,c,f){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var y=o[c],k=y.callback;if(k!==null){if(y.callback=null,y=f,typeof k!="function")throw Error(n(191,k));k.call(y)}}}var vl={},wn=ja(vl),bl=ja(vl),jl=ja(vl);function fs(o){if(o===vl)throw Error(n(174));return o}function Vm(o,c){switch(at(jl,c),at(bl,o),at(wn,vl),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Qf(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=Qf(c,o)}dt(wn),at(wn,c)}function Si(){dt(wn),dt(bl),dt(jl)}function Z1(o){fs(jl.current);var c=fs(wn.current),f=Qf(c,o.type);c!==f&&(at(bl,o),at(wn,f))}function Qm(o){bl.current===o&&(dt(wn),dt(bl))}var xt=ja(0);function Ud(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Ym=[];function Xm(){for(var o=0;o<Ym.length;o++)Ym[o]._workInProgressVersionPrimary=null;Ym.length=0}var Wd=N.ReactCurrentDispatcher,Jm=N.ReactCurrentBatchConfig,ms=0,gt=null,_t=null,zt=null,Hd=!1,wl=!1,Nl=0,j8=0;function Jt(){throw Error(n(321))}function Zm(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!rn(o[f],c[f]))return!1;return!0}function ep(o,c,f,y,k,_){if(ms=_,gt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Wd.current=o===null||o.memoizedState===null?k8:C8,o=f(y,k),wl){_=0;do{if(wl=!1,Nl=0,25<=_)throw Error(n(301));_+=1,zt=_t=null,c.updateQueue=null,Wd.current=A8,o=f(y,k)}while(wl)}if(Wd.current=Vd,c=_t!==null&&_t.next!==null,ms=0,zt=_t=gt=null,Hd=!1,c)throw Error(n(300));return o}function tp(){var o=Nl!==0;return Nl=0,o}function Nn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?gt.memoizedState=zt=o:zt=zt.next=o,zt}function Fr(){if(_t===null){var o=gt.alternate;o=o!==null?o.memoizedState:null}else o=_t.next;var c=zt===null?gt.memoizedState:zt.next;if(c!==null)zt=c,_t=o;else{if(o===null)throw Error(n(310));_t=o,o={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},zt===null?gt.memoizedState=zt=o:zt=zt.next=o}return zt}function Sl(o,c){return typeof c=="function"?c(o):c}function rp(o){var c=Fr(),f=c.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var y=_t,k=y.baseQueue,_=f.pending;if(_!==null){if(k!==null){var D=k.next;k.next=_.next,_.next=D}y.baseQueue=k=_,f.pending=null}if(k!==null){_=k.next,y=y.baseState;var Q=D=null,Z=null,ie=_;do{var me=ie.lane;if((ms&me)===me)Z!==null&&(Z=Z.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),y=ie.hasEagerState?ie.eagerState:o(y,ie.action);else{var pe={lane:me,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};Z===null?(Q=Z=pe,D=y):Z=Z.next=pe,gt.lanes|=me,ps|=me}ie=ie.next}while(ie!==null&&ie!==_);Z===null?D=y:Z.next=Q,rn(y,c.memoizedState)||(pr=!0),c.memoizedState=y,c.baseState=D,c.baseQueue=Z,f.lastRenderedState=y}if(o=f.interleaved,o!==null){k=o;do _=k.lane,gt.lanes|=_,ps|=_,k=k.next;while(k!==o)}else k===null&&(f.lanes=0);return[c.memoizedState,f.dispatch]}function np(o){var c=Fr(),f=c.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var y=f.dispatch,k=f.pending,_=c.memoizedState;if(k!==null){f.pending=null;var D=k=k.next;do _=o(_,D.action),D=D.next;while(D!==k);rn(_,c.memoizedState)||(pr=!0),c.memoizedState=_,c.baseQueue===null&&(c.baseState=_),f.lastRenderedState=_}return[_,y]}function e2(){}function t2(o,c){var f=gt,y=Fr(),k=c(),_=!rn(y.memoizedState,k);if(_&&(y.memoizedState=k,pr=!0),y=y.queue,ap(a2.bind(null,f,y,o),[o]),y.getSnapshot!==c||_||zt!==null&&zt.memoizedState.tag&1){if(f.flags|=2048,kl(9,n2.bind(null,f,y,k,c),void 0,null),Bt===null)throw Error(n(349));(ms&30)!==0||r2(f,c,k)}return k}function r2(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=gt.updateQueue,c===null?(c={lastEffect:null,stores:null},gt.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function n2(o,c,f,y){c.value=f,c.getSnapshot=y,s2(c)&&i2(o)}function a2(o,c,f){return f(function(){s2(c)&&i2(o)})}function s2(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!rn(o,f)}catch{return!0}}function i2(o){var c=qn(o,1);c!==null&&ln(c,o,1,-1)}function o2(o){var c=Nn();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:o},c.queue=o,o=o.dispatch=S8.bind(null,gt,o),[c.memoizedState,o]}function kl(o,c,f,y){return o={tag:o,create:c,destroy:f,deps:y,next:null},c=gt.updateQueue,c===null?(c={lastEffect:null,stores:null},gt.updateQueue=c,c.lastEffect=o.next=o):(f=c.lastEffect,f===null?c.lastEffect=o.next=o:(y=f.next,f.next=o,o.next=y,c.lastEffect=o)),o}function l2(){return Fr().memoizedState}function Kd(o,c,f,y){var k=Nn();gt.flags|=o,k.memoizedState=kl(1|c,f,void 0,y===void 0?null:y)}function Gd(o,c,f,y){var k=Fr();y=y===void 0?null:y;var _=void 0;if(_t!==null){var D=_t.memoizedState;if(_=D.destroy,y!==null&&Zm(y,D.deps)){k.memoizedState=kl(c,f,_,y);return}}gt.flags|=o,k.memoizedState=kl(1|c,f,_,y)}function c2(o,c){return Kd(8390656,8,o,c)}function ap(o,c){return Gd(2048,8,o,c)}function d2(o,c){return Gd(4,2,o,c)}function u2(o,c){return Gd(4,4,o,c)}function h2(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function f2(o,c,f){return f=f!=null?f.concat([o]):null,Gd(4,4,h2.bind(null,c,o),f)}function sp(){}function m2(o,c){var f=Fr();c=c===void 0?null:c;var y=f.memoizedState;return y!==null&&c!==null&&Zm(c,y[1])?y[0]:(f.memoizedState=[o,c],o)}function p2(o,c){var f=Fr();c=c===void 0?null:c;var y=f.memoizedState;return y!==null&&c!==null&&Zm(c,y[1])?y[0]:(o=o(),f.memoizedState=[o,c],o)}function x2(o,c,f){return(ms&21)===0?(o.baseState&&(o.baseState=!1,pr=!0),o.memoizedState=f):(rn(f,c)||(f=Kw(),gt.lanes|=f,ps|=f,o.baseState=!0),c)}function w8(o,c){var f=et;et=f!==0&&4>f?f:4,o(!0);var y=Jm.transition;Jm.transition={};try{o(!1),c()}finally{et=f,Jm.transition=y}}function g2(){return Fr().memoizedState}function N8(o,c,f){var y=Oa(o);if(f={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null},y2(o))v2(c,f);else if(f=Q1(o,c,f,y),f!==null){var k=ir();ln(f,o,y,k),b2(f,c,y)}}function S8(o,c,f){var y=Oa(o),k={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null};if(y2(o))v2(c,k);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=c.lastRenderedReducer,_!==null))try{var D=c.lastRenderedState,Q=_(D,f);if(k.hasEagerState=!0,k.eagerState=Q,rn(Q,D)){var Z=c.interleaved;Z===null?(k.next=k,Km(c)):(k.next=Z.next,Z.next=k),c.interleaved=k;return}}catch{}finally{}f=Q1(o,c,k,y),f!==null&&(k=ir(),ln(f,o,y,k),b2(f,c,y))}}function y2(o){var c=o.alternate;return o===gt||c!==null&&c===gt}function v2(o,c){wl=Hd=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function b2(o,c,f){if((f&4194240)!==0){var y=c.lanes;y&=o.pendingLanes,f|=y,c.lanes=f,om(o,f)}}var Vd={readContext:Dr,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},k8={readContext:Dr,useCallback:function(o,c){return Nn().memoizedState=[o,c===void 0?null:c],o},useContext:Dr,useEffect:c2,useImperativeHandle:function(o,c,f){return f=f!=null?f.concat([o]):null,Kd(4194308,4,h2.bind(null,c,o),f)},useLayoutEffect:function(o,c){return Kd(4194308,4,o,c)},useInsertionEffect:function(o,c){return Kd(4,2,o,c)},useMemo:function(o,c){var f=Nn();return c=c===void 0?null:c,o=o(),f.memoizedState=[o,c],o},useReducer:function(o,c,f){var y=Nn();return c=f!==void 0?f(c):c,y.memoizedState=y.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},y.queue=o,o=o.dispatch=N8.bind(null,gt,o),[y.memoizedState,o]},useRef:function(o){var c=Nn();return o={current:o},c.memoizedState=o},useState:o2,useDebugValue:sp,useDeferredValue:function(o){return Nn().memoizedState=o},useTransition:function(){var o=o2(!1),c=o[0];return o=w8.bind(null,o[1]),Nn().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,f){var y=gt,k=Nn();if(ht){if(f===void 0)throw Error(n(407));f=f()}else{if(f=c(),Bt===null)throw Error(n(349));(ms&30)!==0||r2(y,c,f)}k.memoizedState=f;var _={value:f,getSnapshot:c};return k.queue=_,c2(a2.bind(null,y,_,o),[o]),y.flags|=2048,kl(9,n2.bind(null,y,_,f,c),void 0,null),f},useId:function(){var o=Nn(),c=Bt.identifierPrefix;if(ht){var f=Fn,y=Dn;f=(y&~(1<<32-tn(y)-1)).toString(32)+f,c=":"+c+"R"+f,f=Nl++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=j8++,c=":"+c+"r"+f.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},C8={readContext:Dr,useCallback:m2,useContext:Dr,useEffect:ap,useImperativeHandle:f2,useInsertionEffect:d2,useLayoutEffect:u2,useMemo:p2,useReducer:rp,useRef:l2,useState:function(){return rp(Sl)},useDebugValue:sp,useDeferredValue:function(o){var c=Fr();return x2(c,_t.memoizedState,o)},useTransition:function(){var o=rp(Sl)[0],c=Fr().memoizedState;return[o,c]},useMutableSource:e2,useSyncExternalStore:t2,useId:g2,unstable_isNewReconciler:!1},A8={readContext:Dr,useCallback:m2,useContext:Dr,useEffect:ap,useImperativeHandle:f2,useInsertionEffect:d2,useLayoutEffect:u2,useMemo:p2,useReducer:np,useRef:l2,useState:function(){return np(Sl)},useDebugValue:sp,useDeferredValue:function(o){var c=Fr();return _t===null?c.memoizedState=o:x2(c,_t.memoizedState,o)},useTransition:function(){var o=np(Sl)[0],c=Fr().memoizedState;return[o,c]},useMutableSource:e2,useSyncExternalStore:t2,useId:g2,unstable_isNewReconciler:!1};function an(o,c){if(o&&o.defaultProps){c=L({},c),o=o.defaultProps;for(var f in o)c[f]===void 0&&(c[f]=o[f]);return c}return c}function ip(o,c,f,y){c=o.memoizedState,f=f(y,c),f=f==null?c:L({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Qd={isMounted:function(o){return(o=o._reactInternals)?os(o)===o:!1},enqueueSetState:function(o,c,f){o=o._reactInternals;var y=ir(),k=Oa(o),_=zn(y,k);_.payload=c,f!=null&&(_.callback=f),c=ka(o,_,k),c!==null&&(ln(c,o,k,y),zd(c,o,k))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var y=ir(),k=Oa(o),_=zn(y,k);_.tag=1,_.payload=c,f!=null&&(_.callback=f),c=ka(o,_,k),c!==null&&(ln(c,o,k,y),zd(c,o,k))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=ir(),y=Oa(o),k=zn(f,y);k.tag=2,c!=null&&(k.callback=c),c=ka(o,k,y),c!==null&&(ln(c,o,y,f),zd(c,o,y))}};function j2(o,c,f,y,k,_,D){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,_,D):c.prototype&&c.prototype.isPureReactComponent?!ul(f,y)||!ul(k,_):!0}function w2(o,c,f){var y=!1,k=wa,_=c.contextType;return typeof _=="object"&&_!==null?_=Dr(_):(k=mr(c)?cs:Xt.current,y=c.contextTypes,_=(y=y!=null)?gi(o,k):wa),c=new c(f,_),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Qd,o.stateNode=c,c._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=k,o.__reactInternalMemoizedMaskedChildContext=_),c}function N2(o,c,f,y){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,y),c.state!==o&&Qd.enqueueReplaceState(c,c.state,null)}function op(o,c,f,y){var k=o.stateNode;k.props=f,k.state=o.memoizedState,k.refs={},Gm(o);var _=c.contextType;typeof _=="object"&&_!==null?k.context=Dr(_):(_=mr(c)?cs:Xt.current,k.context=gi(o,_)),k.state=o.memoizedState,_=c.getDerivedStateFromProps,typeof _=="function"&&(ip(o,c,_,f),k.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(c=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),c!==k.state&&Qd.enqueueReplaceState(k,k.state,null),Bd(o,f,k,y),k.state=o.memoizedState),typeof k.componentDidMount=="function"&&(o.flags|=4194308)}function ki(o,c){try{var f="",y=c;do f+=ue(y),y=y.return;while(y);var k=f}catch(_){k=`
Error generating stack: `+_.message+`
`+_.stack}return{value:o,source:c,stack:k,digest:null}}function lp(o,c,f){return{value:o,source:null,stack:f??null,digest:c??null}}function cp(o,c){try{console.error(c.value)}catch(f){setTimeout(function(){throw f})}}var P8=typeof WeakMap=="function"?WeakMap:Map;function S2(o,c,f){f=zn(-1,f),f.tag=3,f.payload={element:null};var y=c.value;return f.callback=function(){ru||(ru=!0,Sp=y),cp(o,c)},f}function k2(o,c,f){f=zn(-1,f),f.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var k=c.value;f.payload=function(){return y(k)},f.callback=function(){cp(o,c)}}var _=o.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(f.callback=function(){cp(o,c),typeof y!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})}),f}function C2(o,c,f){var y=o.pingCache;if(y===null){y=o.pingCache=new P8;var k=new Set;y.set(c,k)}else k=y.get(c),k===void 0&&(k=new Set,y.set(c,k));k.has(f)||(k.add(f),o=B8.bind(null,o,c,f),c.then(o,o))}function A2(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function P2(o,c,f,y,k){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(c=zn(-1,1),c.tag=2,ka(f,c,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=k,o)}var O8=N.ReactCurrentOwner,pr=!1;function sr(o,c,f,y){c.child=o===null?V1(c,null,f,y):ji(c,o.child,f,y)}function O2(o,c,f,y,k){f=f.render;var _=c.ref;return Ni(c,k),y=ep(o,c,f,y,_,k),f=tp(),o!==null&&!pr?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~k,Bn(o,c,k)):(ht&&f&&Lm(c),c.flags|=1,sr(o,c,y,k),c.child)}function E2(o,c,f,y,k){if(o===null){var _=f.type;return typeof _=="function"&&!_p(_)&&_.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(c.tag=15,c.type=_,_2(o,c,_,y,k)):(o=lu(f.type,null,y,c,c.mode,k),o.ref=c.ref,o.return=c,c.child=o)}if(_=o.child,(o.lanes&k)===0){var D=_.memoizedProps;if(f=f.compare,f=f!==null?f:ul,f(D,y)&&o.ref===c.ref)return Bn(o,c,k)}return c.flags|=1,o=_a(_,y),o.ref=c.ref,o.return=c,c.child=o}function _2(o,c,f,y,k){if(o!==null){var _=o.memoizedProps;if(ul(_,y)&&o.ref===c.ref)if(pr=!1,c.pendingProps=y=_,(o.lanes&k)!==0)(o.flags&131072)!==0&&(pr=!0);else return c.lanes=o.lanes,Bn(o,c,k)}return dp(o,c,f,y,k)}function T2(o,c,f){var y=c.pendingProps,k=y.children,_=o!==null?o.memoizedState:null;if(y.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Ai,Pr),Pr|=f;else{if((f&1073741824)===0)return o=_!==null?_.baseLanes|f:f,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,at(Ai,Pr),Pr|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=_!==null?_.baseLanes:f,at(Ai,Pr),Pr|=y}else _!==null?(y=_.baseLanes|f,c.memoizedState=null):y=f,at(Ai,Pr),Pr|=y;return sr(o,c,k,f),c.child}function R2(o,c){var f=c.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(c.flags|=512,c.flags|=2097152)}function dp(o,c,f,y,k){var _=mr(f)?cs:Xt.current;return _=gi(c,_),Ni(c,k),f=ep(o,c,f,y,_,k),y=tp(),o!==null&&!pr?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~k,Bn(o,c,k)):(ht&&y&&Lm(c),c.flags|=1,sr(o,c,f,k),c.child)}function M2(o,c,f,y,k){if(mr(f)){var _=!0;Rd(c)}else _=!1;if(Ni(c,k),c.stateNode===null)Xd(o,c),w2(c,f,y),op(c,f,y,k),y=!0;else if(o===null){var D=c.stateNode,Q=c.memoizedProps;D.props=Q;var Z=D.context,ie=f.contextType;typeof ie=="object"&&ie!==null?ie=Dr(ie):(ie=mr(f)?cs:Xt.current,ie=gi(c,ie));var me=f.getDerivedStateFromProps,pe=typeof me=="function"||typeof D.getSnapshotBeforeUpdate=="function";pe||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(Q!==y||Z!==ie)&&N2(c,D,y,ie),Sa=!1;var fe=c.memoizedState;D.state=fe,Bd(c,y,D,k),Z=c.memoizedState,Q!==y||fe!==Z||fr.current||Sa?(typeof me=="function"&&(ip(c,f,me,y),Z=c.memoizedState),(Q=Sa||j2(c,f,Q,y,fe,Z,ie))?(pe||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(c.flags|=4194308)):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=Z),D.props=y,D.state=Z,D.context=ie,y=Q):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{D=c.stateNode,Y1(o,c),Q=c.memoizedProps,ie=c.type===c.elementType?Q:an(c.type,Q),D.props=ie,pe=c.pendingProps,fe=D.context,Z=f.contextType,typeof Z=="object"&&Z!==null?Z=Dr(Z):(Z=mr(f)?cs:Xt.current,Z=gi(c,Z));var ve=f.getDerivedStateFromProps;(me=typeof ve=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(Q!==pe||fe!==Z)&&N2(c,D,y,Z),Sa=!1,fe=c.memoizedState,D.state=fe,Bd(c,y,D,k);var Se=c.memoizedState;Q!==pe||fe!==Se||fr.current||Sa?(typeof ve=="function"&&(ip(c,f,ve,y),Se=c.memoizedState),(ie=Sa||j2(c,f,ie,y,fe,Se,Z)||!1)?(me||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(y,Se,Z),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(y,Se,Z)),typeof D.componentDidUpdate=="function"&&(c.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof D.componentDidUpdate!="function"||Q===o.memoizedProps&&fe===o.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||Q===o.memoizedProps&&fe===o.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=Se),D.props=y,D.state=Se,D.context=Z,y=ie):(typeof D.componentDidUpdate!="function"||Q===o.memoizedProps&&fe===o.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||Q===o.memoizedProps&&fe===o.memoizedState||(c.flags|=1024),y=!1)}return up(o,c,f,y,_,k)}function up(o,c,f,y,k,_){R2(o,c);var D=(c.flags&128)!==0;if(!y&&!D)return k&&F1(c,f,!1),Bn(o,c,_);y=c.stateNode,O8.current=c;var Q=D&&typeof f.getDerivedStateFromError!="function"?null:y.render();return c.flags|=1,o!==null&&D?(c.child=ji(c,o.child,null,_),c.child=ji(c,null,Q,_)):sr(o,c,Q,_),c.memoizedState=y.state,k&&F1(c,f,!0),c.child}function I2(o){var c=o.stateNode;c.pendingContext?L1(o,c.pendingContext,c.pendingContext!==c.context):c.context&&L1(o,c.context,!1),Vm(o,c.containerInfo)}function $2(o,c,f,y,k){return bi(),zm(k),c.flags|=256,sr(o,c,f,y),c.child}var hp={dehydrated:null,treeContext:null,retryLane:0};function fp(o){return{baseLanes:o,cachePool:null,transitions:null}}function L2(o,c,f){var y=c.pendingProps,k=xt.current,_=!1,D=(c.flags&128)!==0,Q;if((Q=D)||(Q=o!==null&&o.memoizedState===null?!1:(k&2)!==0),Q?(_=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(k|=1),at(xt,k&1),o===null)return qm(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(D=y.children,o=y.fallback,_?(y=c.mode,_=c.child,D={mode:"hidden",children:D},(y&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=D):_=cu(D,y,0,null),o=vs(o,y,f,null),_.return=c,o.return=c,_.sibling=o,c.child=_,c.child.memoizedState=fp(f),c.memoizedState=hp,o):mp(c,D));if(k=o.memoizedState,k!==null&&(Q=k.dehydrated,Q!==null))return E8(o,c,D,y,Q,k,f);if(_){_=y.fallback,D=c.mode,k=o.child,Q=k.sibling;var Z={mode:"hidden",children:y.children};return(D&1)===0&&c.child!==k?(y=c.child,y.childLanes=0,y.pendingProps=Z,c.deletions=null):(y=_a(k,Z),y.subtreeFlags=k.subtreeFlags&14680064),Q!==null?_=_a(Q,_):(_=vs(_,D,f,null),_.flags|=2),_.return=c,y.return=c,y.sibling=_,c.child=y,y=_,_=c.child,D=o.child.memoizedState,D=D===null?fp(f):{baseLanes:D.baseLanes|f,cachePool:null,transitions:D.transitions},_.memoizedState=D,_.childLanes=o.childLanes&~f,c.memoizedState=hp,y}return _=o.child,o=_.sibling,y=_a(_,{mode:"visible",children:y.children}),(c.mode&1)===0&&(y.lanes=f),y.return=c,y.sibling=null,o!==null&&(f=c.deletions,f===null?(c.deletions=[o],c.flags|=16):f.push(o)),c.child=y,c.memoizedState=null,y}function mp(o,c){return c=cu({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function Yd(o,c,f,y){return y!==null&&zm(y),ji(c,o.child,null,f),o=mp(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function E8(o,c,f,y,k,_,D){if(f)return c.flags&256?(c.flags&=-257,y=lp(Error(n(422))),Yd(o,c,D,y)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(_=y.fallback,k=c.mode,y=cu({mode:"visible",children:y.children},k,0,null),_=vs(_,k,D,null),_.flags|=2,y.return=c,_.return=c,y.sibling=_,c.child=y,(c.mode&1)!==0&&ji(c,o.child,null,D),c.child.memoizedState=fp(D),c.memoizedState=hp,_);if((c.mode&1)===0)return Yd(o,c,D,null);if(k.data==="$!"){if(y=k.nextSibling&&k.nextSibling.dataset,y)var Q=y.dgst;return y=Q,_=Error(n(419)),y=lp(_,y,void 0),Yd(o,c,D,y)}if(Q=(D&o.childLanes)!==0,pr||Q){if(y=Bt,y!==null){switch(D&-D){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(y.suspendedLanes|D))!==0?0:k,k!==0&&k!==_.retryLane&&(_.retryLane=k,qn(o,k),ln(y,o,k,-1))}return Ep(),y=lp(Error(n(421))),Yd(o,c,D,y)}return k.data==="$?"?(c.flags|=128,c.child=o.child,c=U8.bind(null,o),k._reactRetry=c,null):(o=_.treeContext,Ar=ba(k.nextSibling),Cr=c,ht=!0,nn=null,o!==null&&($r[Lr++]=Dn,$r[Lr++]=Fn,$r[Lr++]=ds,Dn=o.id,Fn=o.overflow,ds=c),c=mp(c,y.children),c.flags|=4096,c)}function D2(o,c,f){o.lanes|=c;var y=o.alternate;y!==null&&(y.lanes|=c),Hm(o.return,c,f)}function pp(o,c,f,y,k){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:f,tailMode:k}:(_.isBackwards=c,_.rendering=null,_.renderingStartTime=0,_.last=y,_.tail=f,_.tailMode=k)}function F2(o,c,f){var y=c.pendingProps,k=y.revealOrder,_=y.tail;if(sr(o,c,y.children,f),y=xt.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&D2(o,f,c);else if(o.tag===19)D2(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(at(xt,y),(c.mode&1)===0)c.memoizedState=null;else switch(k){case"forwards":for(f=c.child,k=null;f!==null;)o=f.alternate,o!==null&&Ud(o)===null&&(k=f),f=f.sibling;f=k,f===null?(k=c.child,c.child=null):(k=f.sibling,f.sibling=null),pp(c,!1,k,f,_);break;case"backwards":for(f=null,k=c.child,c.child=null;k!==null;){if(o=k.alternate,o!==null&&Ud(o)===null){c.child=k;break}o=k.sibling,k.sibling=f,f=k,k=o}pp(c,!0,f,null,_);break;case"together":pp(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Xd(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function Bn(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),ps|=c.lanes,(f&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,f=_a(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=_a(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function _8(o,c,f){switch(c.tag){case 3:I2(c),bi();break;case 5:Z1(c);break;case 1:mr(c.type)&&Rd(c);break;case 4:Vm(c,c.stateNode.containerInfo);break;case 10:var y=c.type._context,k=c.memoizedProps.value;at(Fd,y._currentValue),y._currentValue=k;break;case 13:if(y=c.memoizedState,y!==null)return y.dehydrated!==null?(at(xt,xt.current&1),c.flags|=128,null):(f&c.child.childLanes)!==0?L2(o,c,f):(at(xt,xt.current&1),o=Bn(o,c,f),o!==null?o.sibling:null);at(xt,xt.current&1);break;case 19:if(y=(f&c.childLanes)!==0,(o.flags&128)!==0){if(y)return F2(o,c,f);c.flags|=128}if(k=c.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),at(xt,xt.current),y)break;return null;case 22:case 23:return c.lanes=0,T2(o,c,f)}return Bn(o,c,f)}var q2,xp,z2,B2;q2=function(o,c){for(var f=c.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},xp=function(){},z2=function(o,c,f,y){var k=o.memoizedProps;if(k!==y){o=c.stateNode,fs(wn.current);var _=null;switch(f){case"input":k=je(o,k),y=je(o,y),_=[];break;case"select":k=L({},k,{value:void 0}),y=L({},y,{value:void 0}),_=[];break;case"textarea":k=en(o,k),y=en(o,y),_=[];break;default:typeof k.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=Ed)}Yf(f,y);var D;f=null;for(ie in k)if(!y.hasOwnProperty(ie)&&k.hasOwnProperty(ie)&&k[ie]!=null)if(ie==="style"){var Q=k[ie];for(D in Q)Q.hasOwnProperty(D)&&(f||(f={}),f[D]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(s.hasOwnProperty(ie)?_||(_=[]):(_=_||[]).push(ie,null));for(ie in y){var Z=y[ie];if(Q=k!=null?k[ie]:void 0,y.hasOwnProperty(ie)&&Z!==Q&&(Z!=null||Q!=null))if(ie==="style")if(Q){for(D in Q)!Q.hasOwnProperty(D)||Z&&Z.hasOwnProperty(D)||(f||(f={}),f[D]="");for(D in Z)Z.hasOwnProperty(D)&&Q[D]!==Z[D]&&(f||(f={}),f[D]=Z[D])}else f||(_||(_=[]),_.push(ie,f)),f=Z;else ie==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Q=Q?Q.__html:void 0,Z!=null&&Q!==Z&&(_=_||[]).push(ie,Z)):ie==="children"?typeof Z!="string"&&typeof Z!="number"||(_=_||[]).push(ie,""+Z):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(s.hasOwnProperty(ie)?(Z!=null&&ie==="onScroll"&&ct("scroll",o),_||Q===Z||(_=[])):(_=_||[]).push(ie,Z))}f&&(_=_||[]).push("style",f);var ie=_;(c.updateQueue=ie)&&(c.flags|=4)}},B2=function(o,c,f,y){f!==y&&(c.flags|=4)};function Cl(o,c){if(!ht)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Zt(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,y=0;if(c)for(var k=o.child;k!==null;)f|=k.lanes|k.childLanes,y|=k.subtreeFlags&14680064,y|=k.flags&14680064,k.return=o,k=k.sibling;else for(k=o.child;k!==null;)f|=k.lanes|k.childLanes,y|=k.subtreeFlags,y|=k.flags,k.return=o,k=k.sibling;return o.subtreeFlags|=y,o.childLanes=f,c}function T8(o,c,f){var y=c.pendingProps;switch(Dm(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(c),null;case 1:return mr(c.type)&&Td(),Zt(c),null;case 3:return y=c.stateNode,Si(),dt(fr),dt(Xt),Xm(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(Ld(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,nn!==null&&(Ap(nn),nn=null))),xp(o,c),Zt(c),null;case 5:Qm(c);var k=fs(jl.current);if(f=c.type,o!==null&&c.stateNode!=null)z2(o,c,f,y,k),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!y){if(c.stateNode===null)throw Error(n(166));return Zt(c),null}if(o=fs(wn.current),Ld(c)){y=c.stateNode,f=c.type;var _=c.memoizedProps;switch(y[jn]=c,y[xl]=_,o=(c.mode&1)!==0,f){case"dialog":ct("cancel",y),ct("close",y);break;case"iframe":case"object":case"embed":ct("load",y);break;case"video":case"audio":for(k=0;k<fl.length;k++)ct(fl[k],y);break;case"source":ct("error",y);break;case"img":case"image":case"link":ct("error",y),ct("load",y);break;case"details":ct("toggle",y);break;case"input":tt(y,_),ct("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!_.multiple},ct("invalid",y);break;case"textarea":si(y,_),ct("invalid",y)}Yf(f,_),k=null;for(var D in _)if(_.hasOwnProperty(D)){var Q=_[D];D==="children"?typeof Q=="string"?y.textContent!==Q&&(_.suppressHydrationWarning!==!0&&Od(y.textContent,Q,o),k=["children",Q]):typeof Q=="number"&&y.textContent!==""+Q&&(_.suppressHydrationWarning!==!0&&Od(y.textContent,Q,o),k=["children",""+Q]):s.hasOwnProperty(D)&&Q!=null&&D==="onScroll"&&ct("scroll",y)}switch(f){case"input":$e(y),Zr(y,_,!0);break;case"textarea":$e(y),Go(y);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(y.onclick=Ed)}y=k,c.updateQueue=y,y!==null&&(c.flags|=4)}else{D=k.nodeType===9?k:k.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Pw(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=D.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=D.createElement(f,{is:y.is}):(o=D.createElement(f),f==="select"&&(D=o,y.multiple?D.multiple=!0:y.size&&(D.size=y.size))):o=D.createElementNS(o,f),o[jn]=c,o[xl]=y,q2(o,c,!1,!1),c.stateNode=o;e:{switch(D=Xf(f,y),f){case"dialog":ct("cancel",o),ct("close",o),k=y;break;case"iframe":case"object":case"embed":ct("load",o),k=y;break;case"video":case"audio":for(k=0;k<fl.length;k++)ct(fl[k],o);k=y;break;case"source":ct("error",o),k=y;break;case"img":case"image":case"link":ct("error",o),ct("load",o),k=y;break;case"details":ct("toggle",o),k=y;break;case"input":tt(o,y),k=je(o,y),ct("invalid",o);break;case"option":k=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},k=L({},y,{value:void 0}),ct("invalid",o);break;case"textarea":si(o,y),k=en(o,y),ct("invalid",o);break;default:k=y}Yf(f,k),Q=k;for(_ in Q)if(Q.hasOwnProperty(_)){var Z=Q[_];_==="style"?_w(o,Z):_==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&Ow(o,Z)):_==="children"?typeof Z=="string"?(f!=="textarea"||Z!=="")&&Vo(o,Z):typeof Z=="number"&&Vo(o,""+Z):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?Z!=null&&_==="onScroll"&&ct("scroll",o):Z!=null&&O(o,_,Z,D))}switch(f){case"input":$e(o),Zr(o,y,!1);break;case"textarea":$e(o),Go(o);break;case"option":y.value!=null&&o.setAttribute("value",""+te(y.value));break;case"select":o.multiple=!!y.multiple,_=y.value,_!=null?hr(o,!!y.multiple,_,!1):y.defaultValue!=null&&hr(o,!!y.multiple,y.defaultValue,!0);break;default:typeof k.onClick=="function"&&(o.onclick=Ed)}switch(f){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Zt(c),null;case 6:if(o&&c.stateNode!=null)B2(o,c,o.memoizedProps,y);else{if(typeof y!="string"&&c.stateNode===null)throw Error(n(166));if(f=fs(jl.current),fs(wn.current),Ld(c)){if(y=c.stateNode,f=c.memoizedProps,y[jn]=c,(_=y.nodeValue!==f)&&(o=Cr,o!==null))switch(o.tag){case 3:Od(y.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Od(y.nodeValue,f,(o.mode&1)!==0)}_&&(c.flags|=4)}else y=(f.nodeType===9?f:f.ownerDocument).createTextNode(y),y[jn]=c,c.stateNode=y}return Zt(c),null;case 13:if(dt(xt),y=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(ht&&Ar!==null&&(c.mode&1)!==0&&(c.flags&128)===0)H1(),bi(),c.flags|=98560,_=!1;else if(_=Ld(c),y!==null&&y.dehydrated!==null){if(o===null){if(!_)throw Error(n(318));if(_=c.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[jn]=c}else bi(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Zt(c),_=!1}else nn!==null&&(Ap(nn),nn=null),_=!0;if(!_)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=f,c):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(xt.current&1)!==0?Tt===0&&(Tt=3):Ep())),c.updateQueue!==null&&(c.flags|=4),Zt(c),null);case 4:return Si(),xp(o,c),o===null&&ml(c.stateNode.containerInfo),Zt(c),null;case 10:return Wm(c.type._context),Zt(c),null;case 17:return mr(c.type)&&Td(),Zt(c),null;case 19:if(dt(xt),_=c.memoizedState,_===null)return Zt(c),null;if(y=(c.flags&128)!==0,D=_.rendering,D===null)if(y)Cl(_,!1);else{if(Tt!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(D=Ud(o),D!==null){for(c.flags|=128,Cl(_,!1),y=D.updateQueue,y!==null&&(c.updateQueue=y,c.flags|=4),c.subtreeFlags=0,y=f,f=c.child;f!==null;)_=f,o=y,_.flags&=14680066,D=_.alternate,D===null?(_.childLanes=0,_.lanes=o,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=D.childLanes,_.lanes=D.lanes,_.child=D.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=D.memoizedProps,_.memoizedState=D.memoizedState,_.updateQueue=D.updateQueue,_.type=D.type,o=D.dependencies,_.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return at(xt,xt.current&1|2),c.child}o=o.sibling}_.tail!==null&&St()>Pi&&(c.flags|=128,y=!0,Cl(_,!1),c.lanes=4194304)}else{if(!y)if(o=Ud(D),o!==null){if(c.flags|=128,y=!0,f=o.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),Cl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!D.alternate&&!ht)return Zt(c),null}else 2*St()-_.renderingStartTime>Pi&&f!==1073741824&&(c.flags|=128,y=!0,Cl(_,!1),c.lanes=4194304);_.isBackwards?(D.sibling=c.child,c.child=D):(f=_.last,f!==null?f.sibling=D:c.child=D,_.last=D)}return _.tail!==null?(c=_.tail,_.rendering=c,_.tail=c.sibling,_.renderingStartTime=St(),c.sibling=null,f=xt.current,at(xt,y?f&1|2:f&1),c):(Zt(c),null);case 22:case 23:return Op(),y=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(c.flags|=8192),y&&(c.mode&1)!==0?(Pr&1073741824)!==0&&(Zt(c),c.subtreeFlags&6&&(c.flags|=8192)):Zt(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function R8(o,c){switch(Dm(c),c.tag){case 1:return mr(c.type)&&Td(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Si(),dt(fr),dt(Xt),Xm(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return Qm(c),null;case 13:if(dt(xt),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));bi()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return dt(xt),null;case 4:return Si(),null;case 10:return Wm(c.type._context),null;case 22:case 23:return Op(),null;case 24:return null;default:return null}}var Jd=!1,er=!1,M8=typeof WeakSet=="function"?WeakSet:Set,we=null;function Ci(o,c){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(y){vt(o,c,y)}else f.current=null}function gp(o,c,f){try{f()}catch(y){vt(o,c,y)}}var U2=!1;function I8(o,c){if(Om=yd,o=j1(),jm(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var y=f.getSelection&&f.getSelection();if(y&&y.rangeCount!==0){f=y.anchorNode;var k=y.anchorOffset,_=y.focusNode;y=y.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var D=0,Q=-1,Z=-1,ie=0,me=0,pe=o,fe=null;t:for(;;){for(var ve;pe!==f||k!==0&&pe.nodeType!==3||(Q=D+k),pe!==_||y!==0&&pe.nodeType!==3||(Z=D+y),pe.nodeType===3&&(D+=pe.nodeValue.length),(ve=pe.firstChild)!==null;)fe=pe,pe=ve;for(;;){if(pe===o)break t;if(fe===f&&++ie===k&&(Q=D),fe===_&&++me===y&&(Z=D),(ve=pe.nextSibling)!==null)break;pe=fe,fe=pe.parentNode}pe=ve}f=Q===-1||Z===-1?null:{start:Q,end:Z}}else f=null}f=f||{start:0,end:0}}else f=null;for(Em={focusedElem:o,selectionRange:f},yd=!1,we=c;we!==null;)if(c=we,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,we=o;else for(;we!==null;){c=we;try{var Se=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ce=Se.memoizedProps,kt=Se.memoizedState,ne=c.stateNode,ee=ne.getSnapshotBeforeUpdate(c.elementType===c.type?Ce:an(c.type,Ce),kt);ne.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var ae=c.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(xe){vt(c,c.return,xe)}if(o=c.sibling,o!==null){o.return=c.return,we=o;break}we=c.return}return Se=U2,U2=!1,Se}function Al(o,c,f){var y=c.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var k=y=y.next;do{if((k.tag&o)===o){var _=k.destroy;k.destroy=void 0,_!==void 0&&gp(c,f,_)}k=k.next}while(k!==y)}}function Zd(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&o)===o){var y=f.create;f.destroy=y()}f=f.next}while(f!==c)}}function yp(o){var c=o.ref;if(c!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof c=="function"?c(o):c.current=o}}function W2(o){var c=o.alternate;c!==null&&(o.alternate=null,W2(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[jn],delete c[xl],delete c[Mm],delete c[g8],delete c[y8])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function H2(o){return o.tag===5||o.tag===3||o.tag===4}function K2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||H2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function vp(o,c,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(o,c):f.insertBefore(o,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(o,f)):(c=f,c.appendChild(o)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Ed));else if(y!==4&&(o=o.child,o!==null))for(vp(o,c,f),o=o.sibling;o!==null;)vp(o,c,f),o=o.sibling}function bp(o,c,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(bp(o,c,f),o=o.sibling;o!==null;)bp(o,c,f),o=o.sibling}var Vt=null,sn=!1;function Ca(o,c,f){for(f=f.child;f!==null;)G2(o,c,f),f=f.sibling}function G2(o,c,f){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(hd,f)}catch{}switch(f.tag){case 5:er||Ci(f,c);case 6:var y=Vt,k=sn;Vt=null,Ca(o,c,f),Vt=y,sn=k,Vt!==null&&(sn?(o=Vt,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):Vt.removeChild(f.stateNode));break;case 18:Vt!==null&&(sn?(o=Vt,f=f.stateNode,o.nodeType===8?Rm(o.parentNode,f):o.nodeType===1&&Rm(o,f),sl(o)):Rm(Vt,f.stateNode));break;case 4:y=Vt,k=sn,Vt=f.stateNode.containerInfo,sn=!0,Ca(o,c,f),Vt=y,sn=k;break;case 0:case 11:case 14:case 15:if(!er&&(y=f.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){k=y=y.next;do{var _=k,D=_.destroy;_=_.tag,D!==void 0&&((_&2)!==0||(_&4)!==0)&&gp(f,c,D),k=k.next}while(k!==y)}Ca(o,c,f);break;case 1:if(!er&&(Ci(f,c),y=f.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=f.memoizedProps,y.state=f.memoizedState,y.componentWillUnmount()}catch(Q){vt(f,c,Q)}Ca(o,c,f);break;case 21:Ca(o,c,f);break;case 22:f.mode&1?(er=(y=er)||f.memoizedState!==null,Ca(o,c,f),er=y):Ca(o,c,f);break;default:Ca(o,c,f)}}function V2(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new M8),c.forEach(function(y){var k=W8.bind(null,o,y);f.has(y)||(f.add(y),y.then(k,k))})}}function on(o,c){var f=c.deletions;if(f!==null)for(var y=0;y<f.length;y++){var k=f[y];try{var _=o,D=c,Q=D;e:for(;Q!==null;){switch(Q.tag){case 5:Vt=Q.stateNode,sn=!1;break e;case 3:Vt=Q.stateNode.containerInfo,sn=!0;break e;case 4:Vt=Q.stateNode.containerInfo,sn=!0;break e}Q=Q.return}if(Vt===null)throw Error(n(160));G2(_,D,k),Vt=null,sn=!1;var Z=k.alternate;Z!==null&&(Z.return=null),k.return=null}catch(ie){vt(k,c,ie)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Q2(c,o),c=c.sibling}function Q2(o,c){var f=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(on(c,o),Sn(o),y&4){try{Al(3,o,o.return),Zd(3,o)}catch(Ce){vt(o,o.return,Ce)}try{Al(5,o,o.return)}catch(Ce){vt(o,o.return,Ce)}}break;case 1:on(c,o),Sn(o),y&512&&f!==null&&Ci(f,f.return);break;case 5:if(on(c,o),Sn(o),y&512&&f!==null&&Ci(f,f.return),o.flags&32){var k=o.stateNode;try{Vo(k,"")}catch(Ce){vt(o,o.return,Ce)}}if(y&4&&(k=o.stateNode,k!=null)){var _=o.memoizedProps,D=f!==null?f.memoizedProps:_,Q=o.type,Z=o.updateQueue;if(o.updateQueue=null,Z!==null)try{Q==="input"&&_.type==="radio"&&_.name!=null&&yt(k,_),Xf(Q,D);var ie=Xf(Q,_);for(D=0;D<Z.length;D+=2){var me=Z[D],pe=Z[D+1];me==="style"?_w(k,pe):me==="dangerouslySetInnerHTML"?Ow(k,pe):me==="children"?Vo(k,pe):O(k,me,pe,ie)}switch(Q){case"input":qt(k,_);break;case"textarea":Ko(k,_);break;case"select":var fe=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!_.multiple;var ve=_.value;ve!=null?hr(k,!!_.multiple,ve,!1):fe!==!!_.multiple&&(_.defaultValue!=null?hr(k,!!_.multiple,_.defaultValue,!0):hr(k,!!_.multiple,_.multiple?[]:"",!1))}k[xl]=_}catch(Ce){vt(o,o.return,Ce)}}break;case 6:if(on(c,o),Sn(o),y&4){if(o.stateNode===null)throw Error(n(162));k=o.stateNode,_=o.memoizedProps;try{k.nodeValue=_}catch(Ce){vt(o,o.return,Ce)}}break;case 3:if(on(c,o),Sn(o),y&4&&f!==null&&f.memoizedState.isDehydrated)try{sl(c.containerInfo)}catch(Ce){vt(o,o.return,Ce)}break;case 4:on(c,o),Sn(o);break;case 13:on(c,o),Sn(o),k=o.child,k.flags&8192&&(_=k.memoizedState!==null,k.stateNode.isHidden=_,!_||k.alternate!==null&&k.alternate.memoizedState!==null||(Np=St())),y&4&&V2(o);break;case 22:if(me=f!==null&&f.memoizedState!==null,o.mode&1?(er=(ie=er)||me,on(c,o),er=ie):on(c,o),Sn(o),y&8192){if(ie=o.memoizedState!==null,(o.stateNode.isHidden=ie)&&!me&&(o.mode&1)!==0)for(we=o,me=o.child;me!==null;){for(pe=we=me;we!==null;){switch(fe=we,ve=fe.child,fe.tag){case 0:case 11:case 14:case 15:Al(4,fe,fe.return);break;case 1:Ci(fe,fe.return);var Se=fe.stateNode;if(typeof Se.componentWillUnmount=="function"){y=fe,f=fe.return;try{c=y,Se.props=c.memoizedProps,Se.state=c.memoizedState,Se.componentWillUnmount()}catch(Ce){vt(y,f,Ce)}}break;case 5:Ci(fe,fe.return);break;case 22:if(fe.memoizedState!==null){J2(pe);continue}}ve!==null?(ve.return=fe,we=ve):J2(pe)}me=me.sibling}e:for(me=null,pe=o;;){if(pe.tag===5){if(me===null){me=pe;try{k=pe.stateNode,ie?(_=k.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(Q=pe.stateNode,Z=pe.memoizedProps.style,D=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,Q.style.display=Ew("display",D))}catch(Ce){vt(o,o.return,Ce)}}}else if(pe.tag===6){if(me===null)try{pe.stateNode.nodeValue=ie?"":pe.memoizedProps}catch(Ce){vt(o,o.return,Ce)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===o)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===o)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===o)break e;me===pe&&(me=null),pe=pe.return}me===pe&&(me=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:on(c,o),Sn(o),y&4&&V2(o);break;case 21:break;default:on(c,o),Sn(o)}}function Sn(o){var c=o.flags;if(c&2){try{e:{for(var f=o.return;f!==null;){if(H2(f)){var y=f;break e}f=f.return}throw Error(n(160))}switch(y.tag){case 5:var k=y.stateNode;y.flags&32&&(Vo(k,""),y.flags&=-33);var _=K2(o);bp(o,_,k);break;case 3:case 4:var D=y.stateNode.containerInfo,Q=K2(o);vp(o,Q,D);break;default:throw Error(n(161))}}catch(Z){vt(o,o.return,Z)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function $8(o,c,f){we=o,Y2(o)}function Y2(o,c,f){for(var y=(o.mode&1)!==0;we!==null;){var k=we,_=k.child;if(k.tag===22&&y){var D=k.memoizedState!==null||Jd;if(!D){var Q=k.alternate,Z=Q!==null&&Q.memoizedState!==null||er;Q=Jd;var ie=er;if(Jd=D,(er=Z)&&!ie)for(we=k;we!==null;)D=we,Z=D.child,D.tag===22&&D.memoizedState!==null?Z2(k):Z!==null?(Z.return=D,we=Z):Z2(k);for(;_!==null;)we=_,Y2(_),_=_.sibling;we=k,Jd=Q,er=ie}X2(o)}else(k.subtreeFlags&8772)!==0&&_!==null?(_.return=k,we=_):X2(o)}}function X2(o){for(;we!==null;){var c=we;if((c.flags&8772)!==0){var f=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:er||Zd(5,c);break;case 1:var y=c.stateNode;if(c.flags&4&&!er)if(f===null)y.componentDidMount();else{var k=c.elementType===c.type?f.memoizedProps:an(c.type,f.memoizedProps);y.componentDidUpdate(k,f.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var _=c.updateQueue;_!==null&&J1(c,_,y);break;case 3:var D=c.updateQueue;if(D!==null){if(f=null,c.child!==null)switch(c.child.tag){case 5:f=c.child.stateNode;break;case 1:f=c.child.stateNode}J1(c,D,f)}break;case 5:var Q=c.stateNode;if(f===null&&c.flags&4){f=Q;var Z=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&f.focus();break;case"img":Z.src&&(f.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ie=c.alternate;if(ie!==null){var me=ie.memoizedState;if(me!==null){var pe=me.dehydrated;pe!==null&&sl(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}er||c.flags&512&&yp(c)}catch(fe){vt(c,c.return,fe)}}if(c===o){we=null;break}if(f=c.sibling,f!==null){f.return=c.return,we=f;break}we=c.return}}function J2(o){for(;we!==null;){var c=we;if(c===o){we=null;break}var f=c.sibling;if(f!==null){f.return=c.return,we=f;break}we=c.return}}function Z2(o){for(;we!==null;){var c=we;try{switch(c.tag){case 0:case 11:case 15:var f=c.return;try{Zd(4,c)}catch(Z){vt(c,f,Z)}break;case 1:var y=c.stateNode;if(typeof y.componentDidMount=="function"){var k=c.return;try{y.componentDidMount()}catch(Z){vt(c,k,Z)}}var _=c.return;try{yp(c)}catch(Z){vt(c,_,Z)}break;case 5:var D=c.return;try{yp(c)}catch(Z){vt(c,D,Z)}}}catch(Z){vt(c,c.return,Z)}if(c===o){we=null;break}var Q=c.sibling;if(Q!==null){Q.return=c.return,we=Q;break}we=c.return}}var L8=Math.ceil,eu=N.ReactCurrentDispatcher,jp=N.ReactCurrentOwner,qr=N.ReactCurrentBatchConfig,He=0,Bt=null,Pt=null,Qt=0,Pr=0,Ai=ja(0),Tt=0,Pl=null,ps=0,tu=0,wp=0,Ol=null,xr=null,Np=0,Pi=1/0,Un=null,ru=!1,Sp=null,Aa=null,nu=!1,Pa=null,au=0,El=0,kp=null,su=-1,iu=0;function ir(){return(He&6)!==0?St():su!==-1?su:su=St()}function Oa(o){return(o.mode&1)===0?1:(He&2)!==0&&Qt!==0?Qt&-Qt:b8.transition!==null?(iu===0&&(iu=Kw()),iu):(o=et,o!==0||(o=window.event,o=o===void 0?16:t1(o.type)),o)}function ln(o,c,f,y){if(50<El)throw El=0,kp=null,Error(n(185));el(o,f,y),((He&2)===0||o!==Bt)&&(o===Bt&&((He&2)===0&&(tu|=f),Tt===4&&Ea(o,Qt)),gr(o,y),f===1&&He===0&&(c.mode&1)===0&&(Pi=St()+500,Md&&Na()))}function gr(o,c){var f=o.callbackNode;bT(o,c);var y=pd(o,o===Bt?Qt:0);if(y===0)f!==null&&Uw(f),o.callbackNode=null,o.callbackPriority=0;else if(c=y&-y,o.callbackPriority!==c){if(f!=null&&Uw(f),c===1)o.tag===0?v8(tN.bind(null,o)):q1(tN.bind(null,o)),p8(function(){(He&6)===0&&Na()}),f=null;else{switch(Gw(y)){case 1:f=am;break;case 4:f=Ww;break;case 16:f=ud;break;case 536870912:f=Hw;break;default:f=ud}f=cN(f,eN.bind(null,o))}o.callbackPriority=c,o.callbackNode=f}}function eN(o,c){if(su=-1,iu=0,(He&6)!==0)throw Error(n(327));var f=o.callbackNode;if(Oi()&&o.callbackNode!==f)return null;var y=pd(o,o===Bt?Qt:0);if(y===0)return null;if((y&30)!==0||(y&o.expiredLanes)!==0||c)c=ou(o,y);else{c=y;var k=He;He|=2;var _=nN();(Bt!==o||Qt!==c)&&(Un=null,Pi=St()+500,gs(o,c));do try{q8();break}catch(Q){rN(o,Q)}while(!0);Um(),eu.current=_,He=k,Pt!==null?c=0:(Bt=null,Qt=0,c=Tt)}if(c!==0){if(c===2&&(k=sm(o),k!==0&&(y=k,c=Cp(o,k))),c===1)throw f=Pl,gs(o,0),Ea(o,y),gr(o,St()),f;if(c===6)Ea(o,y);else{if(k=o.current.alternate,(y&30)===0&&!D8(k)&&(c=ou(o,y),c===2&&(_=sm(o),_!==0&&(y=_,c=Cp(o,_))),c===1))throw f=Pl,gs(o,0),Ea(o,y),gr(o,St()),f;switch(o.finishedWork=k,o.finishedLanes=y,c){case 0:case 1:throw Error(n(345));case 2:ys(o,xr,Un);break;case 3:if(Ea(o,y),(y&130023424)===y&&(c=Np+500-St(),10<c)){if(pd(o,0)!==0)break;if(k=o.suspendedLanes,(k&y)!==y){ir(),o.pingedLanes|=o.suspendedLanes&k;break}o.timeoutHandle=Tm(ys.bind(null,o,xr,Un),c);break}ys(o,xr,Un);break;case 4:if(Ea(o,y),(y&4194240)===y)break;for(c=o.eventTimes,k=-1;0<y;){var D=31-tn(y);_=1<<D,D=c[D],D>k&&(k=D),y&=~_}if(y=k,y=St()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*L8(y/1960))-y,10<y){o.timeoutHandle=Tm(ys.bind(null,o,xr,Un),y);break}ys(o,xr,Un);break;case 5:ys(o,xr,Un);break;default:throw Error(n(329))}}}return gr(o,St()),o.callbackNode===f?eN.bind(null,o):null}function Cp(o,c){var f=Ol;return o.current.memoizedState.isDehydrated&&(gs(o,c).flags|=256),o=ou(o,c),o!==2&&(c=xr,xr=f,c!==null&&Ap(c)),o}function Ap(o){xr===null?xr=o:xr.push.apply(xr,o)}function D8(o){for(var c=o;;){if(c.flags&16384){var f=c.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var y=0;y<f.length;y++){var k=f[y],_=k.getSnapshot;k=k.value;try{if(!rn(_(),k))return!1}catch{return!1}}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ea(o,c){for(c&=~wp,c&=~tu,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var f=31-tn(c),y=1<<f;o[f]=-1,c&=~y}}function tN(o){if((He&6)!==0)throw Error(n(327));Oi();var c=pd(o,0);if((c&1)===0)return gr(o,St()),null;var f=ou(o,c);if(o.tag!==0&&f===2){var y=sm(o);y!==0&&(c=y,f=Cp(o,y))}if(f===1)throw f=Pl,gs(o,0),Ea(o,c),gr(o,St()),f;if(f===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,ys(o,xr,Un),gr(o,St()),null}function Pp(o,c){var f=He;He|=1;try{return o(c)}finally{He=f,He===0&&(Pi=St()+500,Md&&Na())}}function xs(o){Pa!==null&&Pa.tag===0&&(He&6)===0&&Oi();var c=He;He|=1;var f=qr.transition,y=et;try{if(qr.transition=null,et=1,o)return o()}finally{et=y,qr.transition=f,He=c,(He&6)===0&&Na()}}function Op(){Pr=Ai.current,dt(Ai)}function gs(o,c){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,m8(f)),Pt!==null)for(f=Pt.return;f!==null;){var y=f;switch(Dm(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Td();break;case 3:Si(),dt(fr),dt(Xt),Xm();break;case 5:Qm(y);break;case 4:Si();break;case 13:dt(xt);break;case 19:dt(xt);break;case 10:Wm(y.type._context);break;case 22:case 23:Op()}f=f.return}if(Bt=o,Pt=o=_a(o.current,null),Qt=Pr=c,Tt=0,Pl=null,wp=tu=ps=0,xr=Ol=null,hs!==null){for(c=0;c<hs.length;c++)if(f=hs[c],y=f.interleaved,y!==null){f.interleaved=null;var k=y.next,_=f.pending;if(_!==null){var D=_.next;_.next=k,y.next=D}f.pending=y}hs=null}return o}function rN(o,c){do{var f=Pt;try{if(Um(),Wd.current=Vd,Hd){for(var y=gt.memoizedState;y!==null;){var k=y.queue;k!==null&&(k.pending=null),y=y.next}Hd=!1}if(ms=0,zt=_t=gt=null,wl=!1,Nl=0,jp.current=null,f===null||f.return===null){Tt=1,Pl=c,Pt=null;break}e:{var _=o,D=f.return,Q=f,Z=c;if(c=Qt,Q.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ie=Z,me=Q,pe=me.tag;if((me.mode&1)===0&&(pe===0||pe===11||pe===15)){var fe=me.alternate;fe?(me.updateQueue=fe.updateQueue,me.memoizedState=fe.memoizedState,me.lanes=fe.lanes):(me.updateQueue=null,me.memoizedState=null)}var ve=A2(D);if(ve!==null){ve.flags&=-257,P2(ve,D,Q,_,c),ve.mode&1&&C2(_,ie,c),c=ve,Z=ie;var Se=c.updateQueue;if(Se===null){var Ce=new Set;Ce.add(Z),c.updateQueue=Ce}else Se.add(Z);break e}else{if((c&1)===0){C2(_,ie,c),Ep();break e}Z=Error(n(426))}}else if(ht&&Q.mode&1){var kt=A2(D);if(kt!==null){(kt.flags&65536)===0&&(kt.flags|=256),P2(kt,D,Q,_,c),zm(ki(Z,Q));break e}}_=Z=ki(Z,Q),Tt!==4&&(Tt=2),Ol===null?Ol=[_]:Ol.push(_),_=D;do{switch(_.tag){case 3:_.flags|=65536,c&=-c,_.lanes|=c;var ne=S2(_,Z,c);X1(_,ne);break e;case 1:Q=Z;var ee=_.type,ae=_.stateNode;if((_.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(Aa===null||!Aa.has(ae)))){_.flags|=65536,c&=-c,_.lanes|=c;var xe=k2(_,Q,c);X1(_,xe);break e}}_=_.return}while(_!==null)}sN(f)}catch(Ae){c=Ae,Pt===f&&f!==null&&(Pt=f=f.return);continue}break}while(!0)}function nN(){var o=eu.current;return eu.current=Vd,o===null?Vd:o}function Ep(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Bt===null||(ps&268435455)===0&&(tu&268435455)===0||Ea(Bt,Qt)}function ou(o,c){var f=He;He|=2;var y=nN();(Bt!==o||Qt!==c)&&(Un=null,gs(o,c));do try{F8();break}catch(k){rN(o,k)}while(!0);if(Um(),He=f,eu.current=y,Pt!==null)throw Error(n(261));return Bt=null,Qt=0,Tt}function F8(){for(;Pt!==null;)aN(Pt)}function q8(){for(;Pt!==null&&!uT();)aN(Pt)}function aN(o){var c=lN(o.alternate,o,Pr);o.memoizedProps=o.pendingProps,c===null?sN(o):Pt=c,jp.current=null}function sN(o){var c=o;do{var f=c.alternate;if(o=c.return,(c.flags&32768)===0){if(f=T8(f,c,Pr),f!==null){Pt=f;return}}else{if(f=R8(f,c),f!==null){f.flags&=32767,Pt=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Tt=6,Pt=null;return}}if(c=c.sibling,c!==null){Pt=c;return}Pt=c=o}while(c!==null);Tt===0&&(Tt=5)}function ys(o,c,f){var y=et,k=qr.transition;try{qr.transition=null,et=1,z8(o,c,f,y)}finally{qr.transition=k,et=y}return null}function z8(o,c,f,y){do Oi();while(Pa!==null);if((He&6)!==0)throw Error(n(327));f=o.finishedWork;var k=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var _=f.lanes|f.childLanes;if(jT(o,_),o===Bt&&(Pt=Bt=null,Qt=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||nu||(nu=!0,cN(ud,function(){return Oi(),null})),_=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||_){_=qr.transition,qr.transition=null;var D=et;et=1;var Q=He;He|=4,jp.current=null,I8(o,f),Q2(f,o),o8(Em),yd=!!Om,Em=Om=null,o.current=f,$8(f),hT(),He=Q,et=D,qr.transition=_}else o.current=f;if(nu&&(nu=!1,Pa=o,au=k),_=o.pendingLanes,_===0&&(Aa=null),pT(f.stateNode),gr(o,St()),c!==null)for(y=o.onRecoverableError,f=0;f<c.length;f++)k=c[f],y(k.value,{componentStack:k.stack,digest:k.digest});if(ru)throw ru=!1,o=Sp,Sp=null,o;return(au&1)!==0&&o.tag!==0&&Oi(),_=o.pendingLanes,(_&1)!==0?o===kp?El++:(El=0,kp=o):El=0,Na(),null}function Oi(){if(Pa!==null){var o=Gw(au),c=qr.transition,f=et;try{if(qr.transition=null,et=16>o?16:o,Pa===null)var y=!1;else{if(o=Pa,Pa=null,au=0,(He&6)!==0)throw Error(n(331));var k=He;for(He|=4,we=o.current;we!==null;){var _=we,D=_.child;if((we.flags&16)!==0){var Q=_.deletions;if(Q!==null){for(var Z=0;Z<Q.length;Z++){var ie=Q[Z];for(we=ie;we!==null;){var me=we;switch(me.tag){case 0:case 11:case 15:Al(8,me,_)}var pe=me.child;if(pe!==null)pe.return=me,we=pe;else for(;we!==null;){me=we;var fe=me.sibling,ve=me.return;if(W2(me),me===ie){we=null;break}if(fe!==null){fe.return=ve,we=fe;break}we=ve}}}var Se=_.alternate;if(Se!==null){var Ce=Se.child;if(Ce!==null){Se.child=null;do{var kt=Ce.sibling;Ce.sibling=null,Ce=kt}while(Ce!==null)}}we=_}}if((_.subtreeFlags&2064)!==0&&D!==null)D.return=_,we=D;else e:for(;we!==null;){if(_=we,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Al(9,_,_.return)}var ne=_.sibling;if(ne!==null){ne.return=_.return,we=ne;break e}we=_.return}}var ee=o.current;for(we=ee;we!==null;){D=we;var ae=D.child;if((D.subtreeFlags&2064)!==0&&ae!==null)ae.return=D,we=ae;else e:for(D=ee;we!==null;){if(Q=we,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:Zd(9,Q)}}catch(Ae){vt(Q,Q.return,Ae)}if(Q===D){we=null;break e}var xe=Q.sibling;if(xe!==null){xe.return=Q.return,we=xe;break e}we=Q.return}}if(He=k,Na(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(hd,o)}catch{}y=!0}return y}finally{et=f,qr.transition=c}}return!1}function iN(o,c,f){c=ki(f,c),c=S2(o,c,1),o=ka(o,c,1),c=ir(),o!==null&&(el(o,1,c),gr(o,c))}function vt(o,c,f){if(o.tag===3)iN(o,o,f);else for(;c!==null;){if(c.tag===3){iN(c,o,f);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Aa===null||!Aa.has(y))){o=ki(f,o),o=k2(c,o,1),c=ka(c,o,1),o=ir(),c!==null&&(el(c,1,o),gr(c,o));break}}c=c.return}}function B8(o,c,f){var y=o.pingCache;y!==null&&y.delete(c),c=ir(),o.pingedLanes|=o.suspendedLanes&f,Bt===o&&(Qt&f)===f&&(Tt===4||Tt===3&&(Qt&130023424)===Qt&&500>St()-Np?gs(o,0):wp|=f),gr(o,c)}function oN(o,c){c===0&&((o.mode&1)===0?c=1:(c=md,md<<=1,(md&130023424)===0&&(md=4194304)));var f=ir();o=qn(o,c),o!==null&&(el(o,c,f),gr(o,f))}function U8(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),oN(o,f)}function W8(o,c){var f=0;switch(o.tag){case 13:var y=o.stateNode,k=o.memoizedState;k!==null&&(f=k.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(n(314))}y!==null&&y.delete(c),oN(o,f)}var lN;lN=function(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps||fr.current)pr=!0;else{if((o.lanes&f)===0&&(c.flags&128)===0)return pr=!1,_8(o,c,f);pr=(o.flags&131072)!==0}else pr=!1,ht&&(c.flags&1048576)!==0&&z1(c,$d,c.index);switch(c.lanes=0,c.tag){case 2:var y=c.type;Xd(o,c),o=c.pendingProps;var k=gi(c,Xt.current);Ni(c,f),k=ep(null,c,y,o,k,f);var _=tp();return c.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,mr(y)?(_=!0,Rd(c)):_=!1,c.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Gm(c),k.updater=Qd,c.stateNode=k,k._reactInternals=c,op(c,y,o,f),c=up(null,c,y,!0,_,f)):(c.tag=0,ht&&_&&Lm(c),sr(null,c,k,f),c=c.child),c;case 16:y=c.elementType;e:{switch(Xd(o,c),o=c.pendingProps,k=y._init,y=k(y._payload),c.type=y,k=c.tag=K8(y),o=an(y,o),k){case 0:c=dp(null,c,y,o,f);break e;case 1:c=M2(null,c,y,o,f);break e;case 11:c=O2(null,c,y,o,f);break e;case 14:c=E2(null,c,y,an(y.type,o),f);break e}throw Error(n(306,y,""))}return c;case 0:return y=c.type,k=c.pendingProps,k=c.elementType===y?k:an(y,k),dp(o,c,y,k,f);case 1:return y=c.type,k=c.pendingProps,k=c.elementType===y?k:an(y,k),M2(o,c,y,k,f);case 3:e:{if(I2(c),o===null)throw Error(n(387));y=c.pendingProps,_=c.memoizedState,k=_.element,Y1(o,c),Bd(c,y,null,f);var D=c.memoizedState;if(y=D.element,_.isDehydrated)if(_={element:y,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},c.updateQueue.baseState=_,c.memoizedState=_,c.flags&256){k=ki(Error(n(423)),c),c=$2(o,c,y,f,k);break e}else if(y!==k){k=ki(Error(n(424)),c),c=$2(o,c,y,f,k);break e}else for(Ar=ba(c.stateNode.containerInfo.firstChild),Cr=c,ht=!0,nn=null,f=V1(c,null,y,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(bi(),y===k){c=Bn(o,c,f);break e}sr(o,c,y,f)}c=c.child}return c;case 5:return Z1(c),o===null&&qm(c),y=c.type,k=c.pendingProps,_=o!==null?o.memoizedProps:null,D=k.children,_m(y,k)?D=null:_!==null&&_m(y,_)&&(c.flags|=32),R2(o,c),sr(o,c,D,f),c.child;case 6:return o===null&&qm(c),null;case 13:return L2(o,c,f);case 4:return Vm(c,c.stateNode.containerInfo),y=c.pendingProps,o===null?c.child=ji(c,null,y,f):sr(o,c,y,f),c.child;case 11:return y=c.type,k=c.pendingProps,k=c.elementType===y?k:an(y,k),O2(o,c,y,k,f);case 7:return sr(o,c,c.pendingProps,f),c.child;case 8:return sr(o,c,c.pendingProps.children,f),c.child;case 12:return sr(o,c,c.pendingProps.children,f),c.child;case 10:e:{if(y=c.type._context,k=c.pendingProps,_=c.memoizedProps,D=k.value,at(Fd,y._currentValue),y._currentValue=D,_!==null)if(rn(_.value,D)){if(_.children===k.children&&!fr.current){c=Bn(o,c,f);break e}}else for(_=c.child,_!==null&&(_.return=c);_!==null;){var Q=_.dependencies;if(Q!==null){D=_.child;for(var Z=Q.firstContext;Z!==null;){if(Z.context===y){if(_.tag===1){Z=zn(-1,f&-f),Z.tag=2;var ie=_.updateQueue;if(ie!==null){ie=ie.shared;var me=ie.pending;me===null?Z.next=Z:(Z.next=me.next,me.next=Z),ie.pending=Z}}_.lanes|=f,Z=_.alternate,Z!==null&&(Z.lanes|=f),Hm(_.return,f,c),Q.lanes|=f;break}Z=Z.next}}else if(_.tag===10)D=_.type===c.type?null:_.child;else if(_.tag===18){if(D=_.return,D===null)throw Error(n(341));D.lanes|=f,Q=D.alternate,Q!==null&&(Q.lanes|=f),Hm(D,f,c),D=_.sibling}else D=_.child;if(D!==null)D.return=_;else for(D=_;D!==null;){if(D===c){D=null;break}if(_=D.sibling,_!==null){_.return=D.return,D=_;break}D=D.return}_=D}sr(o,c,k.children,f),c=c.child}return c;case 9:return k=c.type,y=c.pendingProps.children,Ni(c,f),k=Dr(k),y=y(k),c.flags|=1,sr(o,c,y,f),c.child;case 14:return y=c.type,k=an(y,c.pendingProps),k=an(y.type,k),E2(o,c,y,k,f);case 15:return _2(o,c,c.type,c.pendingProps,f);case 17:return y=c.type,k=c.pendingProps,k=c.elementType===y?k:an(y,k),Xd(o,c),c.tag=1,mr(y)?(o=!0,Rd(c)):o=!1,Ni(c,f),w2(c,y,k),op(c,y,k,f),up(null,c,y,!0,o,f);case 19:return F2(o,c,f);case 22:return T2(o,c,f)}throw Error(n(156,c.tag))};function cN(o,c){return Bw(o,c)}function H8(o,c,f,y){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(o,c,f,y){return new H8(o,c,f,y)}function _p(o){return o=o.prototype,!(!o||!o.isReactComponent)}function K8(o){if(typeof o=="function")return _p(o)?1:0;if(o!=null){if(o=o.$$typeof,o===$)return 11;if(o===z)return 14}return 2}function _a(o,c){var f=o.alternate;return f===null?(f=zr(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function lu(o,c,f,y,k,_){var D=2;if(y=o,typeof o=="function")_p(o)&&(D=1);else if(typeof o=="string")D=5;else e:switch(o){case E:return vs(f.children,k,_,c);case T:D=8,k|=8;break;case R:return o=zr(12,f,c,k|2),o.elementType=R,o.lanes=_,o;case G:return o=zr(13,f,c,k),o.elementType=G,o.lanes=_,o;case V:return o=zr(19,f,c,k),o.elementType=V,o.lanes=_,o;case W:return cu(f,k,_,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case I:D=10;break e;case M:D=9;break e;case $:D=11;break e;case z:D=14;break e;case U:D=16,y=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return c=zr(D,f,c,k),c.elementType=o,c.type=y,c.lanes=_,c}function vs(o,c,f,y){return o=zr(7,o,y,c),o.lanes=f,o}function cu(o,c,f,y){return o=zr(22,o,y,c),o.elementType=W,o.lanes=f,o.stateNode={isHidden:!1},o}function Tp(o,c,f){return o=zr(6,o,null,c),o.lanes=f,o}function Rp(o,c,f){return c=zr(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function G8(o,c,f,y,k){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=im(0),this.expirationTimes=im(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=im(0),this.identifierPrefix=y,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function Mp(o,c,f,y,k,_,D,Q,Z){return o=new G8(o,c,f,Q,Z),c===1?(c=1,_===!0&&(c|=8)):c=0,_=zr(3,null,null,c),o.current=_,_.stateNode=o,_.memoizedState={element:y,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gm(_),o}function V8(o,c,f){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:y==null?null:""+y,children:o,containerInfo:c,implementation:f}}function dN(o){if(!o)return wa;o=o._reactInternals;e:{if(os(o)!==o||o.tag!==1)throw Error(n(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(mr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(o.tag===1){var f=o.type;if(mr(f))return D1(o,f,c)}return c}function uN(o,c,f,y,k,_,D,Q,Z){return o=Mp(f,y,!0,o,k,_,D,Q,Z),o.context=dN(null),f=o.current,y=ir(),k=Oa(f),_=zn(y,k),_.callback=c??null,ka(f,_,k),o.current.lanes=k,el(o,k,y),gr(o,y),o}function du(o,c,f,y){var k=c.current,_=ir(),D=Oa(k);return f=dN(f),c.context===null?c.context=f:c.pendingContext=f,c=zn(_,D),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=ka(k,c,D),o!==null&&(ln(o,k,D,_),zd(o,k,D)),D}function uu(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function hN(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function Ip(o,c){hN(o,c),(o=o.alternate)&&hN(o,c)}function Q8(){return null}var fN=typeof reportError=="function"?reportError:function(o){console.error(o)};function $p(o){this._internalRoot=o}hu.prototype.render=$p.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));du(o,c,null,null)},hu.prototype.unmount=$p.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;xs(function(){du(null,o,null,null)}),c[$n]=null}};function hu(o){this._internalRoot=o}hu.prototype.unstable_scheduleHydration=function(o){if(o){var c=Yw();o={blockedOn:null,target:o,priority:c};for(var f=0;f<ga.length&&c!==0&&c<ga[f].priority;f++);ga.splice(f,0,o),f===0&&Zw(o)}};function Lp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function fu(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function mN(){}function Y8(o,c,f,y,k){if(k){if(typeof y=="function"){var _=y;y=function(){var ie=uu(D);_.call(ie)}}var D=uN(c,y,o,0,null,!1,!1,"",mN);return o._reactRootContainer=D,o[$n]=D.current,ml(o.nodeType===8?o.parentNode:o),xs(),D}for(;k=o.lastChild;)o.removeChild(k);if(typeof y=="function"){var Q=y;y=function(){var ie=uu(Z);Q.call(ie)}}var Z=Mp(o,0,!1,null,null,!1,!1,"",mN);return o._reactRootContainer=Z,o[$n]=Z.current,ml(o.nodeType===8?o.parentNode:o),xs(function(){du(c,Z,f,y)}),Z}function mu(o,c,f,y,k){var _=f._reactRootContainer;if(_){var D=_;if(typeof k=="function"){var Q=k;k=function(){var Z=uu(D);Q.call(Z)}}du(c,D,o,k)}else D=Y8(f,c,o,k,y);return uu(D)}Vw=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var f=Zo(c.pendingLanes);f!==0&&(om(c,f|1),gr(c,St()),(He&6)===0&&(Pi=St()+500,Na()))}break;case 13:xs(function(){var y=qn(o,1);if(y!==null){var k=ir();ln(y,o,1,k)}}),Ip(o,1)}},lm=function(o){if(o.tag===13){var c=qn(o,134217728);if(c!==null){var f=ir();ln(c,o,134217728,f)}Ip(o,134217728)}},Qw=function(o){if(o.tag===13){var c=Oa(o),f=qn(o,c);if(f!==null){var y=ir();ln(f,o,c,y)}Ip(o,c)}},Yw=function(){return et},Xw=function(o,c){var f=et;try{return et=o,c()}finally{et=f}},em=function(o,c,f){switch(c){case"input":if(qt(o,f),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<f.length;c++){var y=f[c];if(y!==o&&y.form===o.form){var k=_d(y);if(!k)throw Error(n(90));re(y),qt(y,k)}}}break;case"textarea":Ko(o,f);break;case"select":c=f.value,c!=null&&hr(o,!!f.multiple,c,!1)}},Iw=Pp,$w=xs;var X8={usingClientEntryPoint:!1,Events:[gl,pi,_d,Rw,Mw,Pp]},_l={findFiberByHostInstance:ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J8={bundleType:_l.bundleType,version:_l.version,rendererPackageName:_l.rendererPackageName,rendererConfig:_l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=qw(o),o===null?null:o.stateNode},findFiberByHostInstance:_l.findFiberByHostInstance||Q8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pu.isDisabled&&pu.supportsFiber)try{hd=pu.inject(J8),bn=pu}catch{}}return yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X8,yr.createPortal=function(o,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lp(c))throw Error(n(200));return V8(o,c,null,f)},yr.createRoot=function(o,c){if(!Lp(o))throw Error(n(299));var f=!1,y="",k=fN;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),c=Mp(o,1,!1,null,null,f,!1,y,k),o[$n]=c.current,ml(o.nodeType===8?o.parentNode:o),new $p(c)},yr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=qw(c),o=o===null?null:o.stateNode,o},yr.flushSync=function(o){return xs(o)},yr.hydrate=function(o,c,f){if(!fu(c))throw Error(n(200));return mu(null,o,c,!0,f)},yr.hydrateRoot=function(o,c,f){if(!Lp(o))throw Error(n(405));var y=f!=null&&f.hydratedSources||null,k=!1,_="",D=fN;if(f!=null&&(f.unstable_strictMode===!0&&(k=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onRecoverableError!==void 0&&(D=f.onRecoverableError)),c=uN(c,null,o,1,f??null,k,!1,_,D),o[$n]=c.current,ml(o),y)for(o=0;o<y.length;o++)f=y[o],k=f._getVersion,k=k(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,k]:c.mutableSourceEagerHydrationData.push(f,k);return new hu(c)},yr.render=function(o,c,f){if(!fu(c))throw Error(n(200));return mu(null,o,c,!1,f)},yr.unmountComponentAtNode=function(o){if(!fu(o))throw Error(n(40));return o._reactRootContainer?(xs(function(){mu(null,null,o,!1,function(){o._reactRootContainer=null,o[$n]=null})}),!0):!1},yr.unstable_batchedUpdates=Pp,yr.unstable_renderSubtreeIntoContainer=function(o,c,f,y){if(!fu(f))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return mu(o,c,f,!1,y)},yr.version="18.3.1-next-f1338f8080-20240426",yr}var NN;function TP(){if(NN)return zp.exports;NN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),zp.exports=cR(),zp.exports}var SN;function dR(){if(SN)return vu;SN=1;var e=TP();return vu.createRoot=e.createRoot,vu.hydrateRoot=e.hydrateRoot,vu}var uR=dR();const hR=Ze(uR);var _o=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fR={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},$a,Zb,jP,mR=(jP=class{constructor(){Pe(this,$a,fR);Pe(this,Zb,!1)}setTimeoutProvider(e){ye(this,$a,e)}setTimeout(e,t){return J(this,$a).setTimeout(e,t)}clearTimeout(e){J(this,$a).clearTimeout(e)}setInterval(e,t){return J(this,$a).setInterval(e,t)}clearInterval(e){J(this,$a).clearInterval(e)}},$a=new WeakMap,Zb=new WeakMap,jP),Cs=new mR;function pR(e){setTimeout(e,0)}var Ws=typeof window>"u"||"Deno"in globalThis;function lr(){}function xR(e,t){return typeof e=="function"?e(t):e}function sv(e){return typeof e=="number"&&e>=0&&e!==1/0}function RP(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qa(e,t){return typeof e=="function"?e(t):e}function Kr(e,t){return typeof e=="function"?e(t):e}function kN(e,t){const{type:n="all",exact:a,fetchStatus:s,predicate:i,queryKey:l,stale:d}=e;if(l){if(a){if(t.queryHash!==tj(l,t.options))return!1}else if(!nc(t.queryKey,l))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||s&&s!==t.state.fetchStatus||i&&!i(t))}function CN(e,t){const{exact:n,status:a,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Hs(t.options.mutationKey)!==Hs(i))return!1}else if(!nc(t.options.mutationKey,i))return!1}return!(a&&t.state.status!==a||s&&!s(t))}function tj(e,t){return((t==null?void 0:t.queryKeyHashFn)||Hs)(e)}function Hs(e){return JSON.stringify(e,(t,n)=>iv(n)?Object.keys(n).sort().reduce((a,s)=>(a[s]=n[s],a),{}):n)}function nc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>nc(e[n],t[n])):!1}var gR=Object.prototype.hasOwnProperty;function MP(e,t,n=0){if(e===t)return e;if(n>500)return t;const a=AN(e)&&AN(t);if(!a&&!(iv(e)&&iv(t)))return t;const i=(a?e:Object.keys(e)).length,l=a?t:Object.keys(t),d=l.length,u=a?new Array(d):{};let h=0;for(let p=0;p<d;p++){const m=a?p:l[p],x=e[m],j=t[m];if(x===j){u[m]=x,(a?p<i:gR.call(e,m))&&h++;continue}if(x===null||j===null||typeof x!="object"||typeof j!="object"){u[m]=j;continue}const v=MP(x,j,n+1);u[m]=v,v===x&&h++}return i===d&&h===i?e:u}function Uu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function AN(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function iv(e){if(!PN(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!PN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function PN(e){return Object.prototype.toString.call(e)==="[object Object]"}function yR(e){return new Promise(t=>{Cs.setTimeout(t,e)})}function ov(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?MP(e,t):t}function vR(e,t,n=0){const a=[...e,t];return n&&a.length>n?a.slice(1):a}function bR(e,t,n=0){const a=[t,...e];return n&&a.length>n?a.slice(0,-1):a}var rj=Symbol();function IP(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===rj?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function nj(e,t){return typeof e=="function"?e(...t):!!e}function jR(e,t,n){let a=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),a||(a=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var Ts,La,Wi,wP,wR=(wP=class extends _o{constructor(){super();Pe(this,Ts);Pe(this,La);Pe(this,Wi);ye(this,Wi,t=>{if(!Ws&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){J(this,La)||this.setEventListener(J(this,Wi))}onUnsubscribe(){var t;this.hasListeners()||((t=J(this,La))==null||t.call(this),ye(this,La,void 0))}setEventListener(t){var n;ye(this,Wi,t),(n=J(this,La))==null||n.call(this),ye(this,La,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){J(this,Ts)!==t&&(ye(this,Ts,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof J(this,Ts)=="boolean"?J(this,Ts):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ts=new WeakMap,La=new WeakMap,Wi=new WeakMap,wP),aj=new wR;function lv(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function a(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{a({status:"fulfilled",value:s}),e(s)},n.reject=s=>{a({status:"rejected",reason:s}),t(s)},n}var NR=pR;function SR(){let e=[],t=0,n=d=>{d()},a=d=>{d()},s=NR;const i=d=>{t?e.push(d):s(()=>{n(d)})},l=()=>{const d=e;e=[],d.length&&s(()=>{a(()=>{d.forEach(u=>{n(u)})})})};return{batch:d=>{let u;t++;try{u=d()}finally{t--,t||l()}return u},batchCalls:d=>(...u)=>{i(()=>{d(...u)})},schedule:i,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{a=d},setScheduler:d=>{s=d}}}var $t=SR(),Hi,Da,Ki,NP,kR=(NP=class extends _o{constructor(){super();Pe(this,Hi,!0);Pe(this,Da);Pe(this,Ki);ye(this,Ki,t=>{if(!Ws&&window.addEventListener){const n=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}})}onSubscribe(){J(this,Da)||this.setEventListener(J(this,Ki))}onUnsubscribe(){var t;this.hasListeners()||((t=J(this,Da))==null||t.call(this),ye(this,Da,void 0))}setEventListener(t){var n;ye(this,Ki,t),(n=J(this,Da))==null||n.call(this),ye(this,Da,t(this.setOnline.bind(this)))}setOnline(t){J(this,Hi)!==t&&(ye(this,Hi,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return J(this,Hi)}},Hi=new WeakMap,Da=new WeakMap,Ki=new WeakMap,NP),Wu=new kR;function CR(e){return Math.min(1e3*2**e,3e4)}function $P(e){return(e??"online")==="online"?Wu.isOnline():!0}var cv=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function LP(e){let t=!1,n=0,a;const s=lv(),i=()=>s.status!=="pending",l=w=>{var g;if(!i()){const S=new cv(w);x(S),(g=e.onCancel)==null||g.call(e,S)}},d=()=>{t=!0},u=()=>{t=!1},h=()=>aj.isFocused()&&(e.networkMode==="always"||Wu.isOnline())&&e.canRun(),p=()=>$P(e.networkMode)&&e.canRun(),m=w=>{i()||(a==null||a(),s.resolve(w))},x=w=>{i()||(a==null||a(),s.reject(w))},j=()=>new Promise(w=>{var g;a=S=>{(i()||h())&&w(S)},(g=e.onPause)==null||g.call(e)}).then(()=>{var w;a=void 0,i()||(w=e.onContinue)==null||w.call(e)}),v=()=>{if(i())return;let w;const g=n===0?e.initialPromise:void 0;try{w=g??e.fn()}catch(S){w=Promise.reject(S)}Promise.resolve(w).then(m).catch(S=>{var C;if(i())return;const P=e.retry??(Ws?0:3),O=e.retryDelay??CR,N=typeof O=="function"?O(n,S):O,A=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,S);if(t||!A){x(S);return}n++,(C=e.onFail)==null||C.call(e,n,S),yR(N).then(()=>h()?void 0:j()).then(()=>{t?x(S):v()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(a==null||a(),s),cancelRetry:d,continueRetry:u,canStart:p,start:()=>(p()?v():j().then(v),s)}}var Rs,SP,DP=(SP=class{constructor(){Pe(this,Rs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sv(this.gcTime)&&ye(this,Rs,Cs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ws?1/0:300*1e3))}clearGcTimeout(){J(this,Rs)&&(Cs.clearTimeout(J(this,Rs)),ye(this,Rs,void 0))}},Rs=new WeakMap,SP),Ms,Gi,Hr,Is,Wt,Bc,$s,dn,Kn,kP,AR=(kP=class extends DP{constructor(t){super();Pe(this,dn);Pe(this,Ms);Pe(this,Gi);Pe(this,Hr);Pe(this,Is);Pe(this,Wt);Pe(this,Bc);Pe(this,$s);ye(this,$s,!1),ye(this,Bc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ye(this,Is,t.client),ye(this,Hr,J(this,Is).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ye(this,Ms,EN(this.options)),this.state=t.state??J(this,Ms),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=J(this,Wt))==null?void 0:t.promise}setOptions(t){if(this.options={...J(this,Bc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=EN(this.options);n.data!==void 0&&(this.setState(ON(n.data,n.dataUpdatedAt)),ye(this,Ms,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&J(this,Hr).remove(this)}setData(t,n){const a=ov(this.state.data,t,this.options);return Be(this,dn,Kn).call(this,{data:a,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),a}setState(t,n){Be(this,dn,Kn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var a,s;const n=(a=J(this,Wt))==null?void 0:a.promise;return(s=J(this,Wt))==null||s.cancel(t),n?n.then(lr).catch(lr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(J(this,Ms))}isActive(){return this.observers.some(t=>Kr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Qa(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!RP(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=J(this,Wt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=J(this,Wt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),J(this,Hr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(J(this,Wt)&&(J(this,$s)?J(this,Wt).cancel({revert:!0}):J(this,Wt).cancelRetry()),this.scheduleGc()),J(this,Hr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Be(this,dn,Kn).call(this,{type:"invalidate"})}async fetch(t,n){var u,h,p,m,x,j,v,w,g,S,P,O;if(this.state.fetchStatus!=="idle"&&((u=J(this,Wt))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(J(this,Wt))return J(this,Wt).continueRetry(),J(this,Wt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const N=this.observers.find(A=>A.options.queryFn);N&&this.setOptions(N.options)}const a=new AbortController,s=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(ye(this,$s,!0),a.signal)})},i=()=>{const N=IP(this.options,n),C=(()=>{const E={client:J(this,Is),queryKey:this.queryKey,meta:this.meta};return s(E),E})();return ye(this,$s,!1),this.options.persister?this.options.persister(N,C,this):N(C)},d=(()=>{const N={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:J(this,Is),state:this.state,fetchFn:i};return s(N),N})();(h=this.options.behavior)==null||h.onFetch(d,this),ye(this,Gi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=d.fetchOptions)==null?void 0:p.meta))&&Be(this,dn,Kn).call(this,{type:"fetch",meta:(m=d.fetchOptions)==null?void 0:m.meta}),ye(this,Wt,LP({initialPromise:n==null?void 0:n.initialPromise,fn:d.fetchFn,onCancel:N=>{N instanceof cv&&N.revert&&this.setState({...J(this,Gi),fetchStatus:"idle"}),a.abort()},onFail:(N,A)=>{Be(this,dn,Kn).call(this,{type:"failed",failureCount:N,error:A})},onPause:()=>{Be(this,dn,Kn).call(this,{type:"pause"})},onContinue:()=>{Be(this,dn,Kn).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}));try{const N=await J(this,Wt).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(j=(x=J(this,Hr).config).onSuccess)==null||j.call(x,N,this),(w=(v=J(this,Hr).config).onSettled)==null||w.call(v,N,this.state.error,this),N}catch(N){if(N instanceof cv){if(N.silent)return J(this,Wt).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw Be(this,dn,Kn).call(this,{type:"error",error:N}),(S=(g=J(this,Hr).config).onError)==null||S.call(g,N,this),(O=(P=J(this,Hr).config).onSettled)==null||O.call(P,this.state.data,N,this),N}finally{this.scheduleGc()}}},Ms=new WeakMap,Gi=new WeakMap,Hr=new WeakMap,Is=new WeakMap,Wt=new WeakMap,Bc=new WeakMap,$s=new WeakMap,dn=new WeakSet,Kn=function(t){const n=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...FP(a.data,this.options),fetchMeta:t.meta??null};case"success":const s={...a,...ON(t.data,t.dataUpdatedAt),dataUpdateCount:a.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ye(this,Gi,t.manual?s:void 0),s;case"error":const i=t.error;return{...a,error:i,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=n(this.state),$t.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),J(this,Hr).notify({query:this,type:"updated",action:t})})},kP);function FP(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$P(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ON(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function EN(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,a=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var vr,We,Uc,or,Ls,Vi,Vn,Fa,Wc,Qi,Yi,Ds,Fs,qa,Xi,Je,Hl,dv,uv,hv,fv,mv,pv,xv,qP,CP,PR=(CP=class extends _o{constructor(t,n){super();Pe(this,Je);Pe(this,vr);Pe(this,We);Pe(this,Uc);Pe(this,or);Pe(this,Ls);Pe(this,Vi);Pe(this,Vn);Pe(this,Fa);Pe(this,Wc);Pe(this,Qi);Pe(this,Yi);Pe(this,Ds);Pe(this,Fs);Pe(this,qa);Pe(this,Xi,new Set);this.options=n,ye(this,vr,t),ye(this,Fa,null),ye(this,Vn,lv()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(J(this,We).addObserver(this),_N(J(this,We),this.options)?Be(this,Je,Hl).call(this):this.updateResult(),Be(this,Je,fv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return gv(J(this,We),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return gv(J(this,We),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Be(this,Je,mv).call(this),Be(this,Je,pv).call(this),J(this,We).removeObserver(this)}setOptions(t){const n=this.options,a=J(this,We);if(this.options=J(this,vr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Kr(this.options.enabled,J(this,We))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Be(this,Je,xv).call(this),J(this,We).setOptions(this.options),n._defaulted&&!Uu(this.options,n)&&J(this,vr).getQueryCache().notify({type:"observerOptionsUpdated",query:J(this,We),observer:this});const s=this.hasListeners();s&&TN(J(this,We),a,this.options,n)&&Be(this,Je,Hl).call(this),this.updateResult(),s&&(J(this,We)!==a||Kr(this.options.enabled,J(this,We))!==Kr(n.enabled,J(this,We))||Qa(this.options.staleTime,J(this,We))!==Qa(n.staleTime,J(this,We)))&&Be(this,Je,dv).call(this);const i=Be(this,Je,uv).call(this);s&&(J(this,We)!==a||Kr(this.options.enabled,J(this,We))!==Kr(n.enabled,J(this,We))||i!==J(this,qa))&&Be(this,Je,hv).call(this,i)}getOptimisticResult(t){const n=J(this,vr).getQueryCache().build(J(this,vr),t),a=this.createResult(n,t);return ER(this,a)&&(ye(this,or,a),ye(this,Vi,this.options),ye(this,Ls,J(this,We).state)),a}getCurrentResult(){return J(this,or)}trackResult(t,n){return new Proxy(t,{get:(a,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&J(this,Vn).status==="pending"&&J(this,Vn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,s))})}trackProp(t){J(this,Xi).add(t)}getCurrentQuery(){return J(this,We)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=J(this,vr).defaultQueryOptions(t),a=J(this,vr).getQueryCache().build(J(this,vr),n);return a.fetch().then(()=>this.createResult(a,n))}fetch(t){return Be(this,Je,Hl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),J(this,or)))}createResult(t,n){var R;const a=J(this,We),s=this.options,i=J(this,or),l=J(this,Ls),d=J(this,Vi),h=t!==a?t.state:J(this,Uc),{state:p}=t;let m={...p},x=!1,j;if(n._optimisticResults){const I=this.hasListeners(),M=!I&&_N(t,n),$=I&&TN(t,a,n,s);(M||$)&&(m={...m,...FP(p.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:v,errorUpdatedAt:w,status:g}=m;j=m.data;let S=!1;if(n.placeholderData!==void 0&&j===void 0&&g==="pending"){let I;i!=null&&i.isPlaceholderData&&n.placeholderData===(d==null?void 0:d.placeholderData)?(I=i.data,S=!0):I=typeof n.placeholderData=="function"?n.placeholderData((R=J(this,Yi))==null?void 0:R.state.data,J(this,Yi)):n.placeholderData,I!==void 0&&(g="success",j=ov(i==null?void 0:i.data,I,n),x=!0)}if(n.select&&j!==void 0&&!S)if(i&&j===(l==null?void 0:l.data)&&n.select===J(this,Wc))j=J(this,Qi);else try{ye(this,Wc,n.select),j=n.select(j),j=ov(i==null?void 0:i.data,j,n),ye(this,Qi,j),ye(this,Fa,null)}catch(I){ye(this,Fa,I)}J(this,Fa)&&(v=J(this,Fa),j=J(this,Qi),w=Date.now(),g="error");const P=m.fetchStatus==="fetching",O=g==="pending",N=g==="error",A=O&&P,C=j!==void 0,T={status:g,fetchStatus:m.fetchStatus,isPending:O,isSuccess:g==="success",isError:N,isInitialLoading:A,isLoading:A,data:j,dataUpdatedAt:m.dataUpdatedAt,error:v,errorUpdatedAt:w,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>h.dataUpdateCount||m.errorUpdateCount>h.errorUpdateCount,isFetching:P,isRefetching:P&&!O,isLoadingError:N&&!C,isPaused:m.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:N&&C,isStale:sj(t,n),refetch:this.refetch,promise:J(this,Vn),isEnabled:Kr(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=T.data!==void 0,M=T.status==="error"&&!I,$=z=>{M?z.reject(T.error):I&&z.resolve(T.data)},G=()=>{const z=ye(this,Vn,T.promise=lv());$(z)},V=J(this,Vn);switch(V.status){case"pending":t.queryHash===a.queryHash&&$(V);break;case"fulfilled":(M||T.data!==V.value)&&G();break;case"rejected":(!M||T.error!==V.reason)&&G();break}}return T}updateResult(){const t=J(this,or),n=this.createResult(J(this,We),this.options);if(ye(this,Ls,J(this,We).state),ye(this,Vi,this.options),J(this,Ls).data!==void 0&&ye(this,Yi,J(this,We)),Uu(n,t))return;ye(this,or,n);const a=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!J(this,Xi).size)return!0;const l=new Set(i??J(this,Xi));return this.options.throwOnError&&l.add("error"),Object.keys(J(this,or)).some(d=>{const u=d;return J(this,or)[u]!==t[u]&&l.has(u)})};Be(this,Je,qP).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Be(this,Je,fv).call(this)}},vr=new WeakMap,We=new WeakMap,Uc=new WeakMap,or=new WeakMap,Ls=new WeakMap,Vi=new WeakMap,Vn=new WeakMap,Fa=new WeakMap,Wc=new WeakMap,Qi=new WeakMap,Yi=new WeakMap,Ds=new WeakMap,Fs=new WeakMap,qa=new WeakMap,Xi=new WeakMap,Je=new WeakSet,Hl=function(t){Be(this,Je,xv).call(this);let n=J(this,We).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(lr)),n},dv=function(){Be(this,Je,mv).call(this);const t=Qa(this.options.staleTime,J(this,We));if(Ws||J(this,or).isStale||!sv(t))return;const a=RP(J(this,or).dataUpdatedAt,t)+1;ye(this,Ds,Cs.setTimeout(()=>{J(this,or).isStale||this.updateResult()},a))},uv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(J(this,We)):this.options.refetchInterval)??!1},hv=function(t){Be(this,Je,pv).call(this),ye(this,qa,t),!(Ws||Kr(this.options.enabled,J(this,We))===!1||!sv(J(this,qa))||J(this,qa)===0)&&ye(this,Fs,Cs.setInterval(()=>{(this.options.refetchIntervalInBackground||aj.isFocused())&&Be(this,Je,Hl).call(this)},J(this,qa)))},fv=function(){Be(this,Je,dv).call(this),Be(this,Je,hv).call(this,Be(this,Je,uv).call(this))},mv=function(){J(this,Ds)&&(Cs.clearTimeout(J(this,Ds)),ye(this,Ds,void 0))},pv=function(){J(this,Fs)&&(Cs.clearInterval(J(this,Fs)),ye(this,Fs,void 0))},xv=function(){const t=J(this,vr).getQueryCache().build(J(this,vr),this.options);if(t===J(this,We))return;const n=J(this,We);ye(this,We,t),ye(this,Uc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},qP=function(t){$t.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(J(this,or))}),J(this,vr).getQueryCache().notify({query:J(this,We),type:"observerResultsUpdated"})})},CP);function OR(e,t){return Kr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function _N(e,t){return OR(e,t)||e.state.data!==void 0&&gv(e,t,t.refetchOnMount)}function gv(e,t,n){if(Kr(t.enabled,e)!==!1&&Qa(t.staleTime,e)!=="static"){const a=typeof n=="function"?n(e):n;return a==="always"||a!==!1&&sj(e,t)}return!1}function TN(e,t,n,a){return(e!==t||Kr(a.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&sj(e,n)}function sj(e,t){return Kr(t.enabled,e)!==!1&&e.isStaleByTime(Qa(t.staleTime,e))}function ER(e,t){return!Uu(e.getCurrentResult(),t)}function RN(e){return{onFetch:(t,n)=>{var p,m,x,j,v;const a=t.options,s=(x=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:x.direction,i=((j=t.state.data)==null?void 0:j.pages)||[],l=((v=t.state.data)==null?void 0:v.pageParams)||[];let d={pages:[],pageParams:[]},u=0;const h=async()=>{let w=!1;const g=O=>{jR(O,()=>t.signal,()=>w=!0)},S=IP(t.options,t.fetchOptions),P=async(O,N,A)=>{if(w)return Promise.reject();if(N==null&&O.pages.length)return Promise.resolve(O);const E=(()=>{const M={client:t.client,queryKey:t.queryKey,pageParam:N,direction:A?"backward":"forward",meta:t.options.meta};return g(M),M})(),T=await S(E),{maxPages:R}=t.options,I=A?bR:vR;return{pages:I(O.pages,T,R),pageParams:I(O.pageParams,N,R)}};if(s&&i.length){const O=s==="backward",N=O?_R:MN,A={pages:i,pageParams:l},C=N(a,A);d=await P(A,C,O)}else{const O=e??i.length;do{const N=u===0?l[0]??a.initialPageParam:MN(a,d);if(u>0&&N==null)break;d=await P(d,N),u++}while(u<O)}return d};t.options.persister?t.fetchFn=()=>{var w,g;return(g=(w=t.options).persister)==null?void 0:g.call(w,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=h}}}function MN(e,{pages:t,pageParams:n}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,n[a],n):void 0}function _R(e,{pages:t,pageParams:n}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,n[0],n):void 0}var Hc,Cn,tr,qs,An,Ra,AP,TR=(AP=class extends DP{constructor(t){super();Pe(this,An);Pe(this,Hc);Pe(this,Cn);Pe(this,tr);Pe(this,qs);ye(this,Hc,t.client),this.mutationId=t.mutationId,ye(this,tr,t.mutationCache),ye(this,Cn,[]),this.state=t.state||zP(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){J(this,Cn).includes(t)||(J(this,Cn).push(t),this.clearGcTimeout(),J(this,tr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ye(this,Cn,J(this,Cn).filter(n=>n!==t)),this.scheduleGc(),J(this,tr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){J(this,Cn).length||(this.state.status==="pending"?this.scheduleGc():J(this,tr).remove(this))}continue(){var t;return((t=J(this,qs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,d,u,h,p,m,x,j,v,w,g,S,P,O,N,A,C,E;const n=()=>{Be(this,An,Ra).call(this,{type:"continue"})},a={client:J(this,Hc),meta:this.options.meta,mutationKey:this.options.mutationKey};ye(this,qs,LP({fn:()=>this.options.mutationFn?this.options.mutationFn(t,a):Promise.reject(new Error("No mutationFn found")),onFail:(T,R)=>{Be(this,An,Ra).call(this,{type:"failed",failureCount:T,error:R})},onPause:()=>{Be(this,An,Ra).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>J(this,tr).canRun(this)}));const s=this.state.status==="pending",i=!J(this,qs).canStart();try{if(s)n();else{Be(this,An,Ra).call(this,{type:"pending",variables:t,isPaused:i}),J(this,tr).config.onMutate&&await J(this,tr).config.onMutate(t,this,a);const R=await((d=(l=this.options).onMutate)==null?void 0:d.call(l,t,a));R!==this.state.context&&Be(this,An,Ra).call(this,{type:"pending",context:R,variables:t,isPaused:i})}const T=await J(this,qs).start();return await((h=(u=J(this,tr).config).onSuccess)==null?void 0:h.call(u,T,t,this.state.context,this,a)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,T,t,this.state.context,a)),await((j=(x=J(this,tr).config).onSettled)==null?void 0:j.call(x,T,null,this.state.variables,this.state.context,this,a)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,T,null,t,this.state.context,a)),Be(this,An,Ra).call(this,{type:"success",data:T}),T}catch(T){try{await((S=(g=J(this,tr).config).onError)==null?void 0:S.call(g,T,t,this.state.context,this,a))}catch(R){Promise.reject(R)}try{await((O=(P=this.options).onError)==null?void 0:O.call(P,T,t,this.state.context,a))}catch(R){Promise.reject(R)}try{await((A=(N=J(this,tr).config).onSettled)==null?void 0:A.call(N,void 0,T,this.state.variables,this.state.context,this,a))}catch(R){Promise.reject(R)}try{await((E=(C=this.options).onSettled)==null?void 0:E.call(C,void 0,T,t,this.state.context,a))}catch(R){Promise.reject(R)}throw Be(this,An,Ra).call(this,{type:"error",error:T}),T}finally{J(this,tr).runNext(this)}}},Hc=new WeakMap,Cn=new WeakMap,tr=new WeakMap,qs=new WeakMap,An=new WeakSet,Ra=function(t){const n=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),$t.batch(()=>{J(this,Cn).forEach(a=>{a.onMutationUpdate(t)}),J(this,tr).notify({mutation:this,type:"updated",action:t})})},AP);function zP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qn,un,Kc,PP,RR=(PP=class extends _o{constructor(t={}){super();Pe(this,Qn);Pe(this,un);Pe(this,Kc);this.config=t,ye(this,Qn,new Set),ye(this,un,new Map),ye(this,Kc,0)}build(t,n,a){const s=new TR({client:t,mutationCache:this,mutationId:++gu(this,Kc)._,options:t.defaultMutationOptions(n),state:a});return this.add(s),s}add(t){J(this,Qn).add(t);const n=bu(t);if(typeof n=="string"){const a=J(this,un).get(n);a?a.push(t):J(this,un).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(J(this,Qn).delete(t)){const n=bu(t);if(typeof n=="string"){const a=J(this,un).get(n);if(a)if(a.length>1){const s=a.indexOf(t);s!==-1&&a.splice(s,1)}else a[0]===t&&J(this,un).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=bu(t);if(typeof n=="string"){const a=J(this,un).get(n),s=a==null?void 0:a.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var a;const n=bu(t);if(typeof n=="string"){const s=(a=J(this,un).get(n))==null?void 0:a.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$t.batch(()=>{J(this,Qn).forEach(t=>{this.notify({type:"removed",mutation:t})}),J(this,Qn).clear(),J(this,un).clear()})}getAll(){return Array.from(J(this,Qn))}find(t){const n={exact:!0,...t};return this.getAll().find(a=>CN(n,a))}findAll(t={}){return this.getAll().filter(n=>CN(t,n))}notify(t){$t.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return $t.batch(()=>Promise.all(t.map(n=>n.continue().catch(lr))))}},Qn=new WeakMap,un=new WeakMap,Kc=new WeakMap,PP);function bu(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Yn,za,br,Xn,sa,Du,yv,OP,MR=(OP=class extends _o{constructor(n,a){super();Pe(this,sa);Pe(this,Yn);Pe(this,za);Pe(this,br);Pe(this,Xn);ye(this,Yn,n),this.setOptions(a),this.bindMethods(),Be(this,sa,Du).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const a=this.options;this.options=J(this,Yn).defaultMutationOptions(n),Uu(this.options,a)||J(this,Yn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:J(this,br),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&Hs(a.mutationKey)!==Hs(this.options.mutationKey)?this.reset():((s=J(this,br))==null?void 0:s.state.status)==="pending"&&J(this,br).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=J(this,br))==null||n.removeObserver(this)}onMutationUpdate(n){Be(this,sa,Du).call(this),Be(this,sa,yv).call(this,n)}getCurrentResult(){return J(this,za)}reset(){var n;(n=J(this,br))==null||n.removeObserver(this),ye(this,br,void 0),Be(this,sa,Du).call(this),Be(this,sa,yv).call(this)}mutate(n,a){var s;return ye(this,Xn,a),(s=J(this,br))==null||s.removeObserver(this),ye(this,br,J(this,Yn).getMutationCache().build(J(this,Yn),this.options)),J(this,br).addObserver(this),J(this,br).execute(n)}},Yn=new WeakMap,za=new WeakMap,br=new WeakMap,Xn=new WeakMap,sa=new WeakSet,Du=function(){var a;const n=((a=J(this,br))==null?void 0:a.state)??zP();ye(this,za,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},yv=function(n){$t.batch(()=>{var a,s,i,l,d,u,h,p;if(J(this,Xn)&&this.hasListeners()){const m=J(this,za).variables,x=J(this,za).context,j={client:J(this,Yn),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(s=(a=J(this,Xn)).onSuccess)==null||s.call(a,n.data,m,x,j)}catch(v){Promise.reject(v)}try{(l=(i=J(this,Xn)).onSettled)==null||l.call(i,n.data,null,m,x,j)}catch(v){Promise.reject(v)}}else if((n==null?void 0:n.type)==="error"){try{(u=(d=J(this,Xn)).onError)==null||u.call(d,n.error,m,x,j)}catch(v){Promise.reject(v)}try{(p=(h=J(this,Xn)).onSettled)==null||p.call(h,void 0,n.error,m,x,j)}catch(v){Promise.reject(v)}}}this.listeners.forEach(m=>{m(J(this,za))})})},OP),Pn,EP,IR=(EP=class extends _o{constructor(t={}){super();Pe(this,Pn);this.config=t,ye(this,Pn,new Map)}build(t,n,a){const s=n.queryKey,i=n.queryHash??tj(s,n);let l=this.get(i);return l||(l=new AR({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:a,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){J(this,Pn).has(t.queryHash)||(J(this,Pn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=J(this,Pn).get(t.queryHash);n&&(t.destroy(),n===t&&J(this,Pn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$t.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return J(this,Pn).get(t)}getAll(){return[...J(this,Pn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(a=>kN(n,a))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(a=>kN(t,a)):n}notify(t){$t.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){$t.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$t.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Pn=new WeakMap,EP),bt,Ba,Ua,Ji,Zi,Wa,eo,to,_P,$R=(_P=class{constructor(e={}){Pe(this,bt);Pe(this,Ba);Pe(this,Ua);Pe(this,Ji);Pe(this,Zi);Pe(this,Wa);Pe(this,eo);Pe(this,to);ye(this,bt,e.queryCache||new IR),ye(this,Ba,e.mutationCache||new RR),ye(this,Ua,e.defaultOptions||{}),ye(this,Ji,new Map),ye(this,Zi,new Map),ye(this,Wa,0)}mount(){gu(this,Wa)._++,J(this,Wa)===1&&(ye(this,eo,aj.subscribe(async e=>{e&&(await this.resumePausedMutations(),J(this,bt).onFocus())})),ye(this,to,Wu.subscribe(async e=>{e&&(await this.resumePausedMutations(),J(this,bt).onOnline())})))}unmount(){var e,t;gu(this,Wa)._--,J(this,Wa)===0&&((e=J(this,eo))==null||e.call(this),ye(this,eo,void 0),(t=J(this,to))==null||t.call(this),ye(this,to,void 0))}isFetching(e){return J(this,bt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return J(this,Ba).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=J(this,bt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=J(this,bt).build(this,t),a=n.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Qa(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return J(this,bt).findAll(e).map(({queryKey:t,state:n})=>{const a=n.data;return[t,a]})}setQueryData(e,t,n){const a=this.defaultQueryOptions({queryKey:e}),s=J(this,bt).get(a.queryHash),i=s==null?void 0:s.state.data,l=xR(t,i);if(l!==void 0)return J(this,bt).build(this,a).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return $t.batch(()=>J(this,bt).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=J(this,bt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=J(this,bt);$t.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=J(this,bt);return $t.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},a=$t.batch(()=>J(this,bt).findAll(e).map(s=>s.cancel(n)));return Promise.all(a).then(lr).catch(lr)}invalidateQueries(e,t={}){return $t.batch(()=>(J(this,bt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},a=$t.batch(()=>J(this,bt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(lr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(lr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=J(this,bt).build(this,t);return n.isStaleByTime(Qa(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(lr).catch(lr)}fetchInfiniteQuery(e){return e.behavior=RN(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(lr).catch(lr)}ensureInfiniteQueryData(e){return e.behavior=RN(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Wu.isOnline()?J(this,Ba).resumePausedMutations():Promise.resolve()}getQueryCache(){return J(this,bt)}getMutationCache(){return J(this,Ba)}getDefaultOptions(){return J(this,Ua)}setDefaultOptions(e){ye(this,Ua,e)}setQueryDefaults(e,t){J(this,Ji).set(Hs(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...J(this,Ji).values()],n={};return t.forEach(a=>{nc(e,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(e,t){J(this,Zi).set(Hs(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...J(this,Zi).values()],n={};return t.forEach(a=>{nc(e,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...J(this,Ua).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=tj(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===rj&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...J(this,Ua).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){J(this,bt).clear(),J(this,Ba).clear()}},bt=new WeakMap,Ba=new WeakMap,Ua=new WeakMap,Ji=new WeakMap,Zi=new WeakMap,Wa=new WeakMap,eo=new WeakMap,to=new WeakMap,_P),BP=b.createContext(void 0),lt=e=>{const t=b.useContext(BP);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},LR=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(BP.Provider,{value:e,children:t})),UP=b.createContext(!1),DR=()=>b.useContext(UP);UP.Provider;function FR(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var qR=b.createContext(FR()),zR=()=>b.useContext(qR),BR=(e,t,n)=>{const a=n!=null&&n.state.error&&typeof e.throwOnError=="function"?nj(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||a)&&(t.isReset()||(e.retryOnMount=!1))},UR=e=>{b.useEffect(()=>{e.clearReset()},[e])},WR=({result:e,errorResetBoundary:t,throwOnError:n,query:a,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(s&&e.data===void 0||nj(n,[e.error,a])),HR=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...s)=>n(a(...s)):n(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},KR=(e,t)=>e.isLoading&&e.isFetching&&!t,GR=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,IN=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function VR(e,t,n){var x,j,v,w;const a=DR(),s=zR(),i=lt(),l=i.defaultQueryOptions(e);(j=(x=i.getDefaultOptions().queries)==null?void 0:x._experimental_beforeQuery)==null||j.call(x,l);const d=i.getQueryCache().get(l.queryHash);l._optimisticResults=a?"isRestoring":"optimistic",HR(l),BR(l,s,d),UR(s);const u=!i.getQueryCache().get(l.queryHash),[h]=b.useState(()=>new t(i,l)),p=h.getOptimisticResult(l),m=!a&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(g=>{const S=m?h.subscribe($t.batchCalls(g)):lr;return h.updateResult(),S},[h,m]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),b.useEffect(()=>{h.setOptions(l)},[l,h]),GR(l,p))throw IN(l,h,s);if(WR({result:p,errorResetBoundary:s,throwOnError:l.throwOnError,query:d,suspense:l.suspense}))throw p.error;if((w=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||w.call(v,l,p),l.experimental_prefetchInRender&&!Ws&&KR(p,a)){const g=u?IN(l,h,s):d==null?void 0:d.promise;g==null||g.catch(lr).finally(()=>{h.updateResult()})}return l.notifyOnChangeProps?p:h.trackResult(p)}function At(e,t){return VR(e,PR)}function pt(e,t){const n=lt(),[a]=b.useState(()=>new MR(n,e));b.useEffect(()=>{a.setOptions(e)},[a,e]);const s=b.useSyncExternalStore(b.useCallback(l=>a.subscribe($t.batchCalls(l)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),i=b.useCallback((l,d)=>{a.mutate(l,d).catch(lr)},[a]);if(s.error&&nj(a.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}TP();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ac.apply(this,arguments)}var Ha;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ha||(Ha={}));const $N="popstate";function QR(e){e===void 0&&(e={});function t(a,s){let{pathname:i,search:l,hash:d}=a.location;return vv("",{pathname:i,search:l,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){return typeof s=="string"?s:Hu(s)}return XR(t,n,null,e)}function Ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ij(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YR(){return Math.random().toString(36).substr(2,8)}function LN(e,t){return{usr:e.state,key:e.key,idx:t}}function vv(e,t,n,a){return n===void 0&&(n=null),ac({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?To(t):t,{state:n,key:t&&t.key||a||YR()})}function Hu(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function To(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function XR(e,t,n,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,l=s.history,d=Ha.Pop,u=null,h=p();h==null&&(h=0,l.replaceState(ac({},l.state,{idx:h}),""));function p(){return(l.state||{idx:null}).idx}function m(){d=Ha.Pop;let g=p(),S=g==null?null:g-h;h=g,u&&u({action:d,location:w.location,delta:S})}function x(g,S){d=Ha.Push;let P=vv(w.location,g,S);h=p()+1;let O=LN(P,h),N=w.createHref(P);try{l.pushState(O,"",N)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(N)}i&&u&&u({action:d,location:w.location,delta:1})}function j(g,S){d=Ha.Replace;let P=vv(w.location,g,S);h=p();let O=LN(P,h),N=w.createHref(P);l.replaceState(O,"",N),i&&u&&u({action:d,location:w.location,delta:0})}function v(g){let S=s.location.origin!=="null"?s.location.origin:s.location.href,P=typeof g=="string"?g:Hu(g);return P=P.replace(/ $/,"%20"),Ct(S,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,S)}let w={get action(){return d},get location(){return e(s,l)},listen(g){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener($N,m),u=g,()=>{s.removeEventListener($N,m),u=null}},createHref(g){return t(s,g)},createURL:v,encodeLocation(g){let S=v(g);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:x,replace:j,go(g){return l.go(g)}};return w}var DN;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(DN||(DN={}));function JR(e,t,n){return n===void 0&&(n="/"),ZR(e,t,n)}function ZR(e,t,n,a){let s=typeof t=="string"?To(t):t,i=oj(s.pathname||"/",n);if(i==null)return null;let l=WP(e);eM(l);let d=null;for(let u=0;d==null&&u<l.length;++u){let h=hM(i);d=cM(l[u],h)}return d}function WP(e,t,n,a){t===void 0&&(t=[]),n===void 0&&(n=[]),a===void 0&&(a="");let s=(i,l,d)=>{let u={relativePath:d===void 0?i.path||"":d,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};u.relativePath.startsWith("/")&&(Ct(u.relativePath.startsWith(a),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(a.length));let h=Ya([a,u.relativePath]),p=n.concat(u);i.children&&i.children.length>0&&(Ct(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),WP(i.children,t,p,h)),!(i.path==null&&!i.index)&&t.push({path:h,score:oM(h,i.index),routesMeta:p})};return e.forEach((i,l)=>{var d;if(i.path===""||!((d=i.path)!=null&&d.includes("?")))s(i,l);else for(let u of HP(i.path))s(i,l,u)}),t}function HP(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let l=HP(a.join("/")),d=[];return d.push(...l.map(u=>u===""?i:[i,u].join("/"))),s&&d.push(...l),d.map(u=>e.startsWith("/")&&u===""?"/":u)}function eM(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:lM(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const tM=/^:[\w-]+$/,rM=3,nM=2,aM=1,sM=10,iM=-2,FN=e=>e==="*";function oM(e,t){let n=e.split("/"),a=n.length;return n.some(FN)&&(a+=iM),t&&(a+=nM),n.filter(s=>!FN(s)).reduce((s,i)=>s+(tM.test(i)?rM:i===""?aM:sM),a)}function lM(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function cM(e,t,n){let{routesMeta:a}=e,s={},i="/",l=[];for(let d=0;d<a.length;++d){let u=a[d],h=d===a.length-1,p=i==="/"?t:t.slice(i.length)||"/",m=dM({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),x=u.route;if(!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:Ya([i,m.pathname]),pathnameBase:gM(Ya([i,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(i=Ya([i,m.pathnameBase]))}return l}function dM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=uM(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:a.reduce((h,p,m)=>{let{paramName:x,isOptional:j}=p;if(x==="*"){let w=d[m]||"";l=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=d[m];return j&&!v?h[x]=void 0:h[x]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:e}}function uM(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ij(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,u)=>(a.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function hM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ij(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function oj(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}const fM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mM=e=>fM.test(e);function pM(e,t){t===void 0&&(t="/");let{pathname:n,search:a="",hash:s=""}=typeof e=="string"?To(e):e,i;if(n)if(mM(n))i=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),ij(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?i=qN(n.substring(1),"/"):i=qN(n,t)}else i=t;return{pathname:i,search:yM(a),hash:vM(s)}}function qN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Wp(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xM(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function lj(e,t){let n=xM(e);return t?n.map((a,s)=>s===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function cj(e,t,n,a){a===void 0&&(a=!1);let s;typeof e=="string"?s=To(e):(s=ac({},e),Ct(!s.pathname||!s.pathname.includes("?"),Wp("?","pathname","search",s)),Ct(!s.pathname||!s.pathname.includes("#"),Wp("#","pathname","hash",s)),Ct(!s.search||!s.search.includes("#"),Wp("#","search","hash",s)));let i=e===""||s.pathname==="",l=i?"/":s.pathname,d;if(l==null)d=n;else{let m=t.length-1;if(!a&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),m-=1;s.pathname=x.join("/")}d=m>=0?t[m]:"/"}let u=pM(s,d),h=l&&l!=="/"&&l.endsWith("/"),p=(i||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}const Ya=e=>e.join("/").replace(/\/\/+/g,"/"),gM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const KP=["post","put","patch","delete"];new Set(KP);const jM=["get",...KP];new Set(jM);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sc(){return sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},sc.apply(this,arguments)}const dj=b.createContext(null),wM=b.createContext(null),es=b.createContext(null),Jh=b.createContext(null),ca=b.createContext({outlet:null,matches:[],isDataRoute:!1}),GP=b.createContext(null);function NM(e,t){let{relative:n}=t===void 0?{}:t;Ro()||Ct(!1);let{basename:a,navigator:s}=b.useContext(es),{hash:i,pathname:l,search:d}=QP(e,{relative:n}),u=l;return a!=="/"&&(u=l==="/"?a:Ya([a,l])),s.createHref({pathname:u,search:d,hash:i})}function Ro(){return b.useContext(Jh)!=null}function ts(){return Ro()||Ct(!1),b.useContext(Jh).location}function VP(e){b.useContext(es).static||b.useLayoutEffect(e)}function Zs(){let{isDataRoute:e}=b.useContext(ca);return e?$M():SM()}function SM(){Ro()||Ct(!1);let e=b.useContext(dj),{basename:t,future:n,navigator:a}=b.useContext(es),{matches:s}=b.useContext(ca),{pathname:i}=ts(),l=JSON.stringify(lj(s,n.v7_relativeSplatPath)),d=b.useRef(!1);return VP(()=>{d.current=!0}),b.useCallback(function(h,p){if(p===void 0&&(p={}),!d.current)return;if(typeof h=="number"){a.go(h);return}let m=cj(h,JSON.parse(l),i,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ya([t,m.pathname])),(p.replace?a.replace:a.push)(m,p.state,p)},[t,a,l,i,e])}function Zh(){let{matches:e}=b.useContext(ca),t=e[e.length-1];return t?t.params:{}}function QP(e,t){let{relative:n}=t===void 0?{}:t,{future:a}=b.useContext(es),{matches:s}=b.useContext(ca),{pathname:i}=ts(),l=JSON.stringify(lj(s,a.v7_relativeSplatPath));return b.useMemo(()=>cj(e,JSON.parse(l),i,n==="path"),[e,l,i,n])}function kM(e,t){return CM(e,t)}function CM(e,t,n,a){Ro()||Ct(!1);let{navigator:s}=b.useContext(es),{matches:i}=b.useContext(ca),l=i[i.length-1],d=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let h=ts(),p;if(t){var m;let g=typeof t=="string"?To(t):t;u==="/"||(m=g.pathname)!=null&&m.startsWith(u)||Ct(!1),p=g}else p=h;let x=p.pathname||"/",j=x;if(u!=="/"){let g=u.replace(/^\//,"").split("/");j="/"+x.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=JR(e,{pathname:j}),w=_M(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},d,g.params),pathname:Ya([u,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:Ya([u,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,n,a);return t&&w?b.createElement(Jh.Provider,{value:{location:sc({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Ha.Pop}},w):w}function AM(){let e=IM(),t=bM(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:s},n):null,null)}const PM=b.createElement(AM,null);class OM extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(ca.Provider,{value:this.props.routeContext},b.createElement(GP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EM(e){let{routeContext:t,match:n,children:a}=e,s=b.useContext(dj);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(ca.Provider,{value:t},a)}function _M(e,t,n,a){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),a===void 0&&(a=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,d=(s=n)==null?void 0:s.errors;if(d!=null){let p=l.findIndex(m=>m.route.id&&(d==null?void 0:d[m.route.id])!==void 0);p>=0||Ct(!1),l=l.slice(0,Math.min(l.length,p+1))}let u=!1,h=-1;if(n&&a&&a.v7_partialHydration)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:x,errors:j}=n,v=m.route.loader&&x[m.route.id]===void 0&&(!j||j[m.route.id]===void 0);if(m.route.lazy||v){u=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,m,x)=>{let j,v=!1,w=null,g=null;n&&(j=d&&m.route.id?d[m.route.id]:void 0,w=m.route.errorElement||PM,u&&(h<0&&x===0?(LM("route-fallback"),v=!0,g=null):h===x&&(v=!0,g=m.route.hydrateFallbackElement||null)));let S=t.concat(l.slice(0,x+1)),P=()=>{let O;return j?O=w:v?O=g:m.route.Component?O=b.createElement(m.route.Component,null):m.route.element?O=m.route.element:O=p,b.createElement(EM,{match:m,routeContext:{outlet:p,matches:S,isDataRoute:n!=null},children:O})};return n&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?b.createElement(OM,{location:n.location,revalidation:n.revalidation,component:w,error:j,children:P(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):P()},null)}var YP=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(YP||{}),XP=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(XP||{});function TM(e){let t=b.useContext(dj);return t||Ct(!1),t}function RM(e){let t=b.useContext(wM);return t||Ct(!1),t}function MM(e){let t=b.useContext(ca);return t||Ct(!1),t}function JP(e){let t=MM(),n=t.matches[t.matches.length-1];return n.route.id||Ct(!1),n.route.id}function IM(){var e;let t=b.useContext(GP),n=RM(),a=JP();return t!==void 0?t:(e=n.errors)==null?void 0:e[a]}function $M(){let{router:e}=TM(YP.UseNavigateStable),t=JP(XP.UseNavigateStable),n=b.useRef(!1);return VP(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,sc({fromRouteId:t},i)))},[e,t])}const zN={};function LM(e,t,n){zN[e]||(zN[e]=!0)}function DM(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ZP(e){let{to:t,replace:n,state:a,relative:s}=e;Ro()||Ct(!1);let{future:i,static:l}=b.useContext(es),{matches:d}=b.useContext(ca),{pathname:u}=ts(),h=Zs(),p=cj(t,lj(d,i.v7_relativeSplatPath),u,s==="path"),m=JSON.stringify(p);return b.useEffect(()=>h(JSON.parse(m),{replace:n,state:a,relative:s}),[h,m,s,n,a]),null}function Oe(e){Ct(!1)}function FM(e){let{basename:t="/",children:n=null,location:a,navigationType:s=Ha.Pop,navigator:i,static:l=!1,future:d}=e;Ro()&&Ct(!1);let u=t.replace(/^\/*/,"/"),h=b.useMemo(()=>({basename:u,navigator:i,static:l,future:sc({v7_relativeSplatPath:!1},d)}),[u,d,i,l]);typeof a=="string"&&(a=To(a));let{pathname:p="/",search:m="",hash:x="",state:j=null,key:v="default"}=a,w=b.useMemo(()=>{let g=oj(p,u);return g==null?null:{location:{pathname:g,search:m,hash:x,state:j,key:v},navigationType:s}},[u,p,m,x,j,v,s]);return w==null?null:b.createElement(es.Provider,{value:h},b.createElement(Jh.Provider,{children:n,value:w}))}function qM(e){let{children:t,location:n}=e;return kM(bv(t),n)}new Promise(()=>{});function bv(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(a,s)=>{if(!b.isValidElement(a))return;let i=[...t,s];if(a.type===b.Fragment){n.push.apply(n,bv(a.props.children,i));return}a.type!==Oe&&Ct(!1),!a.props.index||!a.props.children||Ct(!1);let l={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=bv(a.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},jv.apply(this,arguments)}function zM(e,t){if(e==null)return{};var n={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function BM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function UM(e,t){return e.button===0&&(!t||t==="_self")&&!BM(e)}function wv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(s=>[n,s]):[[n,a]])},[]))}function WM(e,t){let n=wv(e);return t&&t.forEach((a,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const HM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KM="6";try{window.__reactRouterVersion=KM}catch{}const GM="startTransition",BN=iR[GM];function VM(e){let{basename:t,children:n,future:a,window:s}=e,i=b.useRef();i.current==null&&(i.current=QR({window:s,v5Compat:!0}));let l=i.current,[d,u]=b.useState({action:l.action,location:l.location}),{v7_startTransition:h}=a||{},p=b.useCallback(m=>{h&&BN?BN(()=>u(m)):u(m)},[u,h]);return b.useLayoutEffect(()=>l.listen(p),[l,p]),b.useEffect(()=>DM(a),[a]),b.createElement(FM,{basename:t,children:n,location:d.location,navigationType:d.action,navigator:l,future:a})}const QM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=b.forwardRef(function(t,n){let{onClick:a,relative:s,reloadDocument:i,replace:l,state:d,target:u,to:h,preventScrollReset:p,viewTransition:m}=t,x=zM(t,HM),{basename:j}=b.useContext(es),v,w=!1;if(typeof h=="string"&&YM.test(h)&&(v=h,QM))try{let O=new URL(window.location.href),N=h.startsWith("//")?new URL(O.protocol+h):new URL(h),A=oj(N.pathname,j);N.origin===O.origin&&A!=null?h=A+N.search+N.hash:w=!0}catch{}let g=NM(h,{relative:s}),S=XM(h,{replace:l,state:d,target:u,preventScrollReset:p,relative:s,viewTransition:m});function P(O){a&&a(O),O.defaultPrevented||S(O)}return b.createElement("a",jv({},x,{href:v||g,onClick:w||i?a:P,ref:n,target:u}))});var UN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(UN||(UN={}));var WN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(WN||(WN={}));function XM(e,t){let{target:n,replace:a,state:s,preventScrollReset:i,relative:l,viewTransition:d}=t===void 0?{}:t,u=Zs(),h=ts(),p=QP(e,{relative:l});return b.useCallback(m=>{if(UM(m,n)){m.preventDefault();let x=a!==void 0?a:Hu(h)===Hu(p);u(e,{replace:x,state:s,preventScrollReset:i,relative:l,viewTransition:d})}},[h,u,p,a,s,n,e,i,l,d])}function ef(e){let t=b.useRef(wv(e)),n=b.useRef(!1),a=ts(),s=b.useMemo(()=>WM(a.search,n.current?null:t.current),[a.search]),i=Zs(),l=b.useCallback((d,u)=>{const h=wv(typeof d=="function"?d(s):d);n.current=!0,i("?"+h,u)},[i,s]);return[s,l]}function JM({onClick:e,loading:t=!1}){return r.jsxs("button",{onClick:e,disabled:t,className:"flex items-center justify-center gap-3 w-full px-6 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z",fill:"#4285F4"}),r.jsx("path",{d:"M9.003 18c2.43 0 4.467-.806 5.956-2.184l-2.908-2.258c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z",fill:"#34A853"}),r.jsx("path",{d:"M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05"}),r.jsx("path",{d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.426 0 9.003 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z",fill:"#EA4335"})]}),r.jsx("span",{className:"text-gray-700 font-medium",children:t?"Signing in...":"Sign in with Google"})]})}const HN={session_expired:"Your login session has expired. Please try again.",auth_failed:"Authentication failed. Please try again.",access_denied:"Access was denied. Please try again and grant the required permissions.",invalid_request:"Invalid authentication request. Please try again.",server_error:"Server error occurred. Please try again later."};function ZM(){const[e]=ef(),[t,n]=b.useState(null);b.useEffect(()=>{const s=e.get("error");if(s&&HN[s]){n(HN[s]);const i=new URLSearchParams(e);i.delete("error");const l=i.toString();window.history.replaceState({},"",l?`/login?${l}`:"/login")}},[e]);const a=()=>{const s="https://auth.nubabel.com",i=e.get("returnUrl")||"/dashboard";window.location.href=`${s}/auth/google?returnUrl=${encodeURIComponent(i)}`};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:r.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Nubabel"}),r.jsx("p",{className:"text-gray-600",children:"AI-Powered Workflow Automation"})]}),t&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-red-700 text-sm text-center",children:t})}),r.jsx(JM,{onClick:a}),r.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:"Sign in with your company Google account"})]})})}function ju({title:e,value:t,change:n,icon:a,trend:s}){const[i,l]=b.useState(0);return b.useEffect(()=>{if(typeof t!="number")return;const d=1e3,u=Date.now(),h=()=>{const p=Date.now()-u,m=Math.min(p/d,1),x=1-Math.pow(1-m,3);l(Math.round(x*t)),m<1&&requestAnimationFrame(h)};h()},[t]),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-500",children:e}),r.jsx("span",{className:"text-gray-400",children:a})]}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:typeof t=="number"?i.toLocaleString():t}),n!==void 0&&r.jsxs("div",{className:`text-sm mt-1 ${s==="up"?"text-green-600":s==="down"?"text-red-600":"text-gray-500"}`,children:[n>0?"+":"",n,"% from last week"]})]})}function eI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Nv=b.forwardRef(eI);function tI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const rI=b.forwardRef(tI);function nI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15 11.25-3-3m0 0-3 3m3-3v7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const aI=b.forwardRef(nI);function sI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const Sv=b.forwardRef(sI);function iI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const oI=b.forwardRef(iI);function lI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const eO=b.forwardRef(lI);function cI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ku=b.forwardRef(cI);function dI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const uI=b.forwardRef(dI);function hI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const fI=b.forwardRef(hI);function mI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const pI=b.forwardRef(mI);function xI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const kv=b.forwardRef(xI);function gI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const yI=b.forwardRef(gI);function vI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const tO=b.forwardRef(vI);function bI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const jI=b.forwardRef(bI);function wI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const NI=b.forwardRef(wI);function SI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const Cv=b.forwardRef(SI);function kI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const CI=b.forwardRef(kI);function AI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const uj=b.forwardRef(AI);function PI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Gu=b.forwardRef(PI);function OI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const EI=b.forwardRef(OI);function _I({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const tf=b.forwardRef(_I);function TI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const RI=b.forwardRef(TI);function MI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Vu=b.forwardRef(MI);function II({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Qu=b.forwardRef(II);function $I({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const LI=b.forwardRef($I);function DI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Yu=b.forwardRef(DI);function FI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const rf=b.forwardRef(FI),qI=[{id:"new-workflow",label:"New Workflow",icon:r.jsx(tf,{className:"h-5 w-5"}),shortcut:"N",path:"/workflows/new"},{id:"run-workflow",label:"Run Workflow",icon:r.jsx(EI,{className:"h-5 w-5"}),shortcut:"R",path:"/workflows"},{id:"settings",label:"Settings",icon:r.jsx(yI,{className:"h-5 w-5"}),shortcut:"S",path:"/settings"},{id:"help",label:"Help & Docs",icon:r.jsx(RI,{className:"h-5 w-5"}),shortcut:"?",path:"/help"}];function zI(){const e=Zs();return r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-3",children:"Quick Actions"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:qI.map(t=>r.jsxs("button",{onClick:()=>e(t.path),className:"flex items-center gap-3 px-3 py-2 text-left rounded-lg hover:bg-gray-50 transition-colors group",children:[r.jsx("span",{className:"text-gray-400 group-hover:text-indigo-600",children:t.icon}),r.jsx("span",{className:"flex-1 text-sm text-gray-700",children:t.label}),t.shortcut&&r.jsx("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 rounded text-gray-500",children:t.shortcut})]},t.id))})]})}function BI(){const[e]=b.useState([{id:"1",type:"execution",title:"Workflow completed",description:"Daily report",timestamp:new Date,status:"success"},{id:"2",type:"message",title:"New message",description:"From Slack #general",timestamp:new Date(Date.now()-6e4)},{id:"3",type:"system",title:"System update",timestamp:new Date(Date.now()-12e4)}]),t={success:"bg-green-100 text-green-800",error:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800"};return r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-3",children:"Recent Activity"}),r.jsxs("div",{className:"space-y-3",children:[e.map((n,a)=>r.jsxs("div",{className:"flex items-start gap-3 py-2 animate-fade-in",style:{animationDelay:`${a*100}ms`},children:[r.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${n.status?t[n.status].split(" ")[0]:"bg-gray-300"}`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:n.title}),n.description&&r.jsx("p",{className:"text-xs text-gray-500",children:n.description})]}),r.jsx("span",{className:"text-xs text-gray-400",children:UI(n.timestamp)})]},n.id)),e.length===0&&r.jsx("p",{className:"text-sm text-gray-400 text-center py-4",children:"No recent activity"})]})]})}function UI(e){const t=Date.now()-e.getTime();return t<6e4?"Just now":t<36e5?`${Math.floor(t/6e4)}m ago`:`${Math.floor(t/36e5)}h ago`}function Hp({className:e="",style:t}){return r.jsx("div",{className:`animate-pulse bg-gray-200 rounded ${e}`,style:t})}function Qr(){return r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 space-y-2",children:[r.jsx(Hp,{className:"h-3 w-1/2"}),r.jsx(Hp,{className:"h-8 w-2/3"}),r.jsx(Hp,{className:"h-3 w-1/3"})]})}function rO(e,t){return function(){return e.apply(t,arguments)}}const{toString:WI}=Object.prototype,{getPrototypeOf:hj}=Object,{iterator:nf,toStringTag:nO}=Symbol,af=(e=>t=>{const n=WI.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),xn=e=>(e=e.toLowerCase(),t=>af(t)===e),sf=e=>t=>typeof t===e,{isArray:Mo}=Array,ro=sf("undefined");function Gc(e){return e!==null&&!ro(e)&&e.constructor!==null&&!ro(e.constructor)&&wr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const aO=xn("ArrayBuffer");function HI(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&aO(e.buffer),t}const KI=sf("string"),wr=sf("function"),sO=sf("number"),Vc=e=>e!==null&&typeof e=="object",GI=e=>e===!0||e===!1,Fu=e=>{if(af(e)!=="object")return!1;const t=hj(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(nO in e)&&!(nf in e)},VI=e=>{if(!Vc(e)||Gc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},QI=xn("Date"),YI=xn("File"),XI=xn("Blob"),JI=xn("FileList"),ZI=e=>Vc(e)&&wr(e.pipe),e$=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||wr(e.append)&&((t=af(e))==="formdata"||t==="object"&&wr(e.toString)&&e.toString()==="[object FormData]"))},t$=xn("URLSearchParams"),[r$,n$,a$,s$]=["ReadableStream","Request","Response","Headers"].map(xn),i$=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qc(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let a,s;if(typeof e!="object"&&(e=[e]),Mo(e))for(a=0,s=e.length;a<s;a++)t.call(null,e[a],a,e);else{if(Gc(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let d;for(a=0;a<l;a++)d=i[a],t.call(null,e[d],d,e)}}function iO(e,t){if(Gc(e))return null;t=t.toLowerCase();const n=Object.keys(e);let a=n.length,s;for(;a-- >0;)if(s=n[a],t===s.toLowerCase())return s;return null}const As=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,oO=e=>!ro(e)&&e!==As;function Av(){const{caseless:e,skipUndefined:t}=oO(this)&&this||{},n={},a=(s,i)=>{const l=e&&iO(n,i)||i;Fu(n[l])&&Fu(s)?n[l]=Av(n[l],s):Fu(s)?n[l]=Av({},s):Mo(s)?n[l]=s.slice():(!t||!ro(s))&&(n[l]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Qc(arguments[s],a);return n}const o$=(e,t,n,{allOwnKeys:a}={})=>(Qc(t,(s,i)=>{n&&wr(s)?Object.defineProperty(e,i,{value:rO(s,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,i,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:a}),e),l$=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),c$=(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},d$=(e,t,n,a)=>{let s,i,l;const d={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)l=s[i],(!a||a(l,e,t))&&!d[l]&&(t[l]=e[l],d[l]=!0);e=n!==!1&&hj(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},u$=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return a!==-1&&a===n},h$=e=>{if(!e)return null;if(Mo(e))return e;let t=e.length;if(!sO(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},f$=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&hj(Uint8Array)),m$=(e,t)=>{const a=(e&&e[nf]).call(e);let s;for(;(s=a.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},p$=(e,t)=>{let n;const a=[];for(;(n=e.exec(t))!==null;)a.push(n);return a},x$=xn("HTMLFormElement"),g$=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,s){return a.toUpperCase()+s}),KN=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),y$=xn("RegExp"),lO=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};Qc(n,(s,i)=>{let l;(l=t(s,i,e))!==!1&&(a[i]=l||s)}),Object.defineProperties(e,a)},v$=e=>{lO(e,(t,n)=>{if(wr(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=e[n];if(wr(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},b$=(e,t)=>{const n={},a=s=>{s.forEach(i=>{n[i]=!0})};return Mo(e)?a(e):a(String(e).split(t)),n},j$=()=>{},w$=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function N$(e){return!!(e&&wr(e.append)&&e[nO]==="FormData"&&e[nf])}const S$=e=>{const t=new Array(10),n=(a,s)=>{if(Vc(a)){if(t.indexOf(a)>=0)return;if(Gc(a))return a;if(!("toJSON"in a)){t[s]=a;const i=Mo(a)?[]:{};return Qc(a,(l,d)=>{const u=n(l,s+1);!ro(u)&&(i[d]=u)}),t[s]=void 0,i}}return a};return n(e,0)},k$=xn("AsyncFunction"),C$=e=>e&&(Vc(e)||wr(e))&&wr(e.then)&&wr(e.catch),cO=((e,t)=>e?setImmediate:t?((n,a)=>(As.addEventListener("message",({source:s,data:i})=>{s===As&&i===n&&a.length&&a.shift()()},!1),s=>{a.push(s),As.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",wr(As.postMessage)),A$=typeof queueMicrotask<"u"?queueMicrotask.bind(As):typeof process<"u"&&process.nextTick||cO,P$=e=>e!=null&&wr(e[nf]),ce={isArray:Mo,isArrayBuffer:aO,isBuffer:Gc,isFormData:e$,isArrayBufferView:HI,isString:KI,isNumber:sO,isBoolean:GI,isObject:Vc,isPlainObject:Fu,isEmptyObject:VI,isReadableStream:r$,isRequest:n$,isResponse:a$,isHeaders:s$,isUndefined:ro,isDate:QI,isFile:YI,isBlob:XI,isRegExp:y$,isFunction:wr,isStream:ZI,isURLSearchParams:t$,isTypedArray:f$,isFileList:JI,forEach:Qc,merge:Av,extend:o$,trim:i$,stripBOM:l$,inherits:c$,toFlatObject:d$,kindOf:af,kindOfTest:xn,endsWith:u$,toArray:h$,forEachEntry:m$,matchAll:p$,isHTMLForm:x$,hasOwnProperty:KN,hasOwnProp:KN,reduceDescriptors:lO,freezeMethods:v$,toObjectSet:b$,toCamelCase:g$,noop:j$,toFiniteNumber:w$,findKey:iO,global:As,isContextDefined:oO,isSpecCompliantForm:N$,toJSONObject:S$,isAsyncFn:k$,isThenable:C$,setImmediate:cO,asap:A$,isIterable:P$};let Le=class dO extends Error{static from(t,n,a,s,i,l){const d=new dO(t.message,n||t.code,a,s,i);return d.cause=t,d.name=t.name,l&&Object.assign(d,l),d}constructor(t,n,a,s,i){super(t),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),a&&(this.config=a),s&&(this.request=s),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ce.toJSONObject(this.config),code:this.code,status:this.status}}};Le.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Le.ERR_BAD_OPTION="ERR_BAD_OPTION";Le.ECONNABORTED="ECONNABORTED";Le.ETIMEDOUT="ETIMEDOUT";Le.ERR_NETWORK="ERR_NETWORK";Le.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Le.ERR_DEPRECATED="ERR_DEPRECATED";Le.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Le.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Le.ERR_CANCELED="ERR_CANCELED";Le.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Le.ERR_INVALID_URL="ERR_INVALID_URL";const O$=null;function Pv(e){return ce.isPlainObject(e)||ce.isArray(e)}function uO(e){return ce.endsWith(e,"[]")?e.slice(0,-2):e}function GN(e,t,n){return e?e.concat(t).map(function(s,i){return s=uO(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function E$(e){return ce.isArray(e)&&!e.some(Pv)}const _$=ce.toFlatObject(ce,{},null,function(t){return/^is[A-Z]/.test(t)});function of(e,t,n){if(!ce.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ce.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,g){return!ce.isUndefined(g[w])});const a=n.metaTokens,s=n.visitor||p,i=n.dots,l=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&ce.isSpecCompliantForm(t);if(!ce.isFunction(s))throw new TypeError("visitor must be a function");function h(v){if(v===null)return"";if(ce.isDate(v))return v.toISOString();if(ce.isBoolean(v))return v.toString();if(!u&&ce.isBlob(v))throw new Le("Blob is not supported. Use a Buffer instead.");return ce.isArrayBuffer(v)||ce.isTypedArray(v)?u&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function p(v,w,g){let S=v;if(v&&!g&&typeof v=="object"){if(ce.endsWith(w,"{}"))w=a?w:w.slice(0,-2),v=JSON.stringify(v);else if(ce.isArray(v)&&E$(v)||(ce.isFileList(v)||ce.endsWith(w,"[]"))&&(S=ce.toArray(v)))return w=uO(w),S.forEach(function(O,N){!(ce.isUndefined(O)||O===null)&&t.append(l===!0?GN([w],N,i):l===null?w:w+"[]",h(O))}),!1}return Pv(v)?!0:(t.append(GN(g,w,i),h(v)),!1)}const m=[],x=Object.assign(_$,{defaultVisitor:p,convertValue:h,isVisitable:Pv});function j(v,w){if(!ce.isUndefined(v)){if(m.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));m.push(v),ce.forEach(v,function(S,P){(!(ce.isUndefined(S)||S===null)&&s.call(t,S,ce.isString(P)?P.trim():P,w,x))===!0&&j(S,w?w.concat(P):[P])}),m.pop()}}if(!ce.isObject(e))throw new TypeError("data must be an object");return j(e),t}function VN(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function fj(e,t){this._pairs=[],e&&of(e,this,t)}const hO=fj.prototype;hO.append=function(t,n){this._pairs.push([t,n])};hO.toString=function(t){const n=t?function(a){return t.call(this,a,VN)}:VN;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function T$(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function fO(e,t,n){if(!t)return e;const a=n&&n.encode||T$,s=ce.isFunction(n)?{serialize:n}:n,i=s&&s.serialize;let l;if(i?l=i(t,s):l=ce.isURLSearchParams(t)?t.toString():new fj(t,s).toString(a),l){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class QN{constructor(){this.handlers=[]}use(t,n,a){return this.handlers.push({fulfilled:t,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ce.forEach(this.handlers,function(a){a!==null&&t(a)})}}const mO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},R$=typeof URLSearchParams<"u"?URLSearchParams:fj,M$=typeof FormData<"u"?FormData:null,I$=typeof Blob<"u"?Blob:null,$$={isBrowser:!0,classes:{URLSearchParams:R$,FormData:M$,Blob:I$},protocols:["http","https","file","blob","url","data"]},mj=typeof window<"u"&&typeof document<"u",Ov=typeof navigator=="object"&&navigator||void 0,L$=mj&&(!Ov||["ReactNative","NativeScript","NS"].indexOf(Ov.product)<0),D$=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",F$=mj&&window.location.href||"http://localhost",q$=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mj,hasStandardBrowserEnv:L$,hasStandardBrowserWebWorkerEnv:D$,navigator:Ov,origin:F$},Symbol.toStringTag,{value:"Module"})),ar={...q$,...$$};function z$(e,t){return of(e,new ar.classes.URLSearchParams,{visitor:function(n,a,s,i){return ar.isNode&&ce.isBuffer(n)?(this.append(a,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function B$(e){return ce.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function U$(e){const t={},n=Object.keys(e);let a;const s=n.length;let i;for(a=0;a<s;a++)i=n[a],t[i]=e[i];return t}function pO(e){function t(n,a,s,i){let l=n[i++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),u=i>=n.length;return l=!l&&ce.isArray(s)?s.length:l,u?(ce.hasOwnProp(s,l)?s[l]=[s[l],a]:s[l]=a,!d):((!s[l]||!ce.isObject(s[l]))&&(s[l]=[]),t(n,a,s[l],i)&&ce.isArray(s[l])&&(s[l]=U$(s[l])),!d)}if(ce.isFormData(e)&&ce.isFunction(e.entries)){const n={};return ce.forEachEntry(e,(a,s)=>{t(B$(a),s,n,0)}),n}return null}function W$(e,t,n){if(ce.isString(e))try{return(t||JSON.parse)(e),ce.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(e)}const Yc={transitional:mO,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const a=n.getContentType()||"",s=a.indexOf("application/json")>-1,i=ce.isObject(t);if(i&&ce.isHTMLForm(t)&&(t=new FormData(t)),ce.isFormData(t))return s?JSON.stringify(pO(t)):t;if(ce.isArrayBuffer(t)||ce.isBuffer(t)||ce.isStream(t)||ce.isFile(t)||ce.isBlob(t)||ce.isReadableStream(t))return t;if(ce.isArrayBufferView(t))return t.buffer;if(ce.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return z$(t,this.formSerializer).toString();if((d=ce.isFileList(t))||a.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return of(d?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),W$(t)):t}],transformResponse:[function(t){const n=this.transitional||Yc.transitional,a=n&&n.forcedJSONParsing,s=this.responseType==="json";if(ce.isResponse(t)||ce.isReadableStream(t))return t;if(t&&ce.isString(t)&&(a&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(d){if(l)throw d.name==="SyntaxError"?Le.from(d,Le.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ar.classes.FormData,Blob:ar.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ce.forEach(["delete","get","head","post","put","patch"],e=>{Yc.headers[e]={}});const H$=ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),K$=e=>{const t={};let n,a,s;return e&&e.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),a=l.substring(s+1).trim(),!(!n||t[n]&&H$[n])&&(n==="set-cookie"?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t},YN=Symbol("internals");function Rl(e){return e&&String(e).trim().toLowerCase()}function qu(e){return e===!1||e==null?e:ce.isArray(e)?e.map(qu):String(e)}function G$(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}const V$=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Kp(e,t,n,a,s){if(ce.isFunction(a))return a.call(this,t,n);if(s&&(t=n),!!ce.isString(t)){if(ce.isString(a))return t.indexOf(a)!==-1;if(ce.isRegExp(a))return a.test(t)}}function Q$(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,a)=>n.toUpperCase()+a)}function Y$(e,t){const n=ce.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(s,i,l){return this[a].call(this,t,s,i,l)},configurable:!0})})}let Nr=class{constructor(t){t&&this.set(t)}set(t,n,a){const s=this;function i(d,u,h){const p=Rl(u);if(!p)throw new Error("header name must be a non-empty string");const m=ce.findKey(s,p);(!m||s[m]===void 0||h===!0||h===void 0&&s[m]!==!1)&&(s[m||u]=qu(d))}const l=(d,u)=>ce.forEach(d,(h,p)=>i(h,p,u));if(ce.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(ce.isString(t)&&(t=t.trim())&&!V$(t))l(K$(t),n);else if(ce.isObject(t)&&ce.isIterable(t)){let d={},u,h;for(const p of t){if(!ce.isArray(p))throw TypeError("Object iterator must return a key-value pair");d[h=p[0]]=(u=d[h])?ce.isArray(u)?[...u,p[1]]:[u,p[1]]:p[1]}l(d,n)}else t!=null&&i(n,t,a);return this}get(t,n){if(t=Rl(t),t){const a=ce.findKey(this,t);if(a){const s=this[a];if(!n)return s;if(n===!0)return G$(s);if(ce.isFunction(n))return n.call(this,s,a);if(ce.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Rl(t),t){const a=ce.findKey(this,t);return!!(a&&this[a]!==void 0&&(!n||Kp(this,this[a],a,n)))}return!1}delete(t,n){const a=this;let s=!1;function i(l){if(l=Rl(l),l){const d=ce.findKey(a,l);d&&(!n||Kp(a,a[d],d,n))&&(delete a[d],s=!0)}}return ce.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let a=n.length,s=!1;for(;a--;){const i=n[a];(!t||Kp(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,a={};return ce.forEach(this,(s,i)=>{const l=ce.findKey(a,i);if(l){n[l]=qu(s),delete n[i];return}const d=t?Q$(i):String(i).trim();d!==i&&delete n[i],n[d]=qu(s),a[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ce.forEach(this,(a,s)=>{a!=null&&a!==!1&&(n[s]=t&&ce.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const a=new this(t);return n.forEach(s=>a.set(s)),a}static accessor(t){const a=(this[YN]=this[YN]={accessors:{}}).accessors,s=this.prototype;function i(l){const d=Rl(l);a[d]||(Y$(s,l),a[d]=!0)}return ce.isArray(t)?t.forEach(i):i(t),this}};Nr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ce.reduceDescriptors(Nr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[n]=a}}});ce.freezeMethods(Nr);function Gp(e,t){const n=this||Yc,a=t||n,s=Nr.from(a.headers);let i=a.data;return ce.forEach(e,function(d){i=d.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function xO(e){return!!(e&&e.__CANCEL__)}let Xc=class extends Le{constructor(t,n,a){super(t??"canceled",Le.ERR_CANCELED,n,a),this.name="CanceledError",this.__CANCEL__=!0}};function gO(e,t,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?e(n):t(new Le("Request failed with status code "+n.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function X$(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function J$(e,t){e=e||10;const n=new Array(e),a=new Array(e);let s=0,i=0,l;return t=t!==void 0?t:1e3,function(u){const h=Date.now(),p=a[i];l||(l=h),n[s]=u,a[s]=h;let m=i,x=0;for(;m!==s;)x+=n[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),h-l<t)return;const j=p&&h-p;return j?Math.round(x*1e3/j):void 0}}function Z$(e,t){let n=0,a=1e3/t,s,i;const l=(h,p=Date.now())=>{n=p,s=null,i&&(clearTimeout(i),i=null),e(...h)};return[(...h)=>{const p=Date.now(),m=p-n;m>=a?l(h,p):(s=h,i||(i=setTimeout(()=>{i=null,l(s)},a-m)))},()=>s&&l(s)]}const Xu=(e,t,n=3)=>{let a=0;const s=J$(50,250);return Z$(i=>{const l=i.loaded,d=i.lengthComputable?i.total:void 0,u=l-a,h=s(u),p=l<=d;a=l;const m={loaded:l,total:d,progress:d?l/d:void 0,bytes:u,rate:h||void 0,estimated:h&&d&&p?(d-l)/h:void 0,event:i,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(m)},n)},XN=(e,t)=>{const n=e!=null;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},JN=e=>(...t)=>ce.asap(()=>e(...t)),e7=ar.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ar.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ar.origin),ar.navigator&&/(msie|trident)/i.test(ar.navigator.userAgent)):()=>!0,t7=ar.hasStandardBrowserEnv?{write(e,t,n,a,s,i,l){if(typeof document>"u")return;const d=[`${e}=${encodeURIComponent(t)}`];ce.isNumber(n)&&d.push(`expires=${new Date(n).toUTCString()}`),ce.isString(a)&&d.push(`path=${a}`),ce.isString(s)&&d.push(`domain=${s}`),i===!0&&d.push("secure"),ce.isString(l)&&d.push(`SameSite=${l}`),document.cookie=d.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function r7(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function n7(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function yO(e,t,n){let a=!r7(t);return e&&(a||n==!1)?n7(e,t):t}const ZN=e=>e instanceof Nr?{...e}:e;function Ks(e,t){t=t||{};const n={};function a(h,p,m,x){return ce.isPlainObject(h)&&ce.isPlainObject(p)?ce.merge.call({caseless:x},h,p):ce.isPlainObject(p)?ce.merge({},p):ce.isArray(p)?p.slice():p}function s(h,p,m,x){if(ce.isUndefined(p)){if(!ce.isUndefined(h))return a(void 0,h,m,x)}else return a(h,p,m,x)}function i(h,p){if(!ce.isUndefined(p))return a(void 0,p)}function l(h,p){if(ce.isUndefined(p)){if(!ce.isUndefined(h))return a(void 0,h)}else return a(void 0,p)}function d(h,p,m){if(m in t)return a(h,p);if(m in e)return a(void 0,h)}const u={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(h,p,m)=>s(ZN(h),ZN(p),m,!0)};return ce.forEach(Object.keys({...e,...t}),function(p){const m=u[p]||s,x=m(e[p],t[p],p);ce.isUndefined(x)&&m!==d||(n[p]=x)}),n}const vO=e=>{const t=Ks({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:i,headers:l,auth:d}=t;if(t.headers=l=Nr.from(l),t.url=fO(yO(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),ce.isFormData(n)){if(ar.hasStandardBrowserEnv||ar.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(ce.isFunction(n.getHeaders)){const u=n.getHeaders(),h=["content-type","content-length"];Object.entries(u).forEach(([p,m])=>{h.includes(p.toLowerCase())&&l.set(p,m)})}}if(ar.hasStandardBrowserEnv&&(a&&ce.isFunction(a)&&(a=a(t)),a||a!==!1&&e7(t.url))){const u=s&&i&&t7.read(i);u&&l.set(s,u)}return t},a7=typeof XMLHttpRequest<"u",s7=a7&&function(e){return new Promise(function(n,a){const s=vO(e);let i=s.data;const l=Nr.from(s.headers).normalize();let{responseType:d,onUploadProgress:u,onDownloadProgress:h}=s,p,m,x,j,v;function w(){j&&j(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let g=new XMLHttpRequest;g.open(s.method.toUpperCase(),s.url,!0),g.timeout=s.timeout;function S(){if(!g)return;const O=Nr.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),A={data:!d||d==="text"||d==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:O,config:e,request:g};gO(function(E){n(E),w()},function(E){a(E),w()},A),g=null}"onloadend"in g?g.onloadend=S:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(S)},g.onabort=function(){g&&(a(new Le("Request aborted",Le.ECONNABORTED,e,g)),g=null)},g.onerror=function(N){const A=N&&N.message?N.message:"Network Error",C=new Le(A,Le.ERR_NETWORK,e,g);C.event=N||null,a(C),g=null},g.ontimeout=function(){let N=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const A=s.transitional||mO;s.timeoutErrorMessage&&(N=s.timeoutErrorMessage),a(new Le(N,A.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,e,g)),g=null},i===void 0&&l.setContentType(null),"setRequestHeader"in g&&ce.forEach(l.toJSON(),function(N,A){g.setRequestHeader(A,N)}),ce.isUndefined(s.withCredentials)||(g.withCredentials=!!s.withCredentials),d&&d!=="json"&&(g.responseType=s.responseType),h&&([x,v]=Xu(h,!0),g.addEventListener("progress",x)),u&&g.upload&&([m,j]=Xu(u),g.upload.addEventListener("progress",m),g.upload.addEventListener("loadend",j)),(s.cancelToken||s.signal)&&(p=O=>{g&&(a(!O||O.type?new Xc(null,e,g):O),g.abort(),g=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const P=X$(s.url);if(P&&ar.protocols.indexOf(P)===-1){a(new Le("Unsupported protocol "+P+":",Le.ERR_BAD_REQUEST,e));return}g.send(i||null)})},i7=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let a=new AbortController,s;const i=function(h){if(!s){s=!0,d();const p=h instanceof Error?h:this.reason;a.abort(p instanceof Le?p:new Xc(p instanceof Error?p.message:p))}};let l=t&&setTimeout(()=>{l=null,i(new Le(`timeout of ${t}ms exceeded`,Le.ETIMEDOUT))},t);const d=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),e=null)};e.forEach(h=>h.addEventListener("abort",i));const{signal:u}=a;return u.unsubscribe=()=>ce.asap(d),u}},o7=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let a=0,s;for(;a<n;)s=a+t,yield e.slice(a,s),a=s},l7=async function*(e,t){for await(const n of c7(e))yield*o7(n,t)},c7=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:a}=await t.read();if(n)break;yield a}}finally{await t.cancel()}},eS=(e,t,n,a)=>{const s=l7(e,t);let i=0,l,d=u=>{l||(l=!0,a&&a(u))};return new ReadableStream({async pull(u){try{const{done:h,value:p}=await s.next();if(h){d(),u.close();return}let m=p.byteLength;if(n){let x=i+=m;n(x)}u.enqueue(new Uint8Array(p))}catch(h){throw d(h),h}},cancel(u){return d(u),s.return()}},{highWaterMark:2})},tS=64*1024,{isFunction:wu}=ce,d7=(({Request:e,Response:t})=>({Request:e,Response:t}))(ce.global),{ReadableStream:rS,TextEncoder:nS}=ce.global,aS=(e,...t)=>{try{return!!e(...t)}catch{return!1}},u7=e=>{e=ce.merge.call({skipUndefined:!0},d7,e);const{fetch:t,Request:n,Response:a}=e,s=t?wu(t):typeof fetch=="function",i=wu(n),l=wu(a);if(!s)return!1;const d=s&&wu(rS),u=s&&(typeof nS=="function"?(v=>w=>v.encode(w))(new nS):async v=>new Uint8Array(await new n(v).arrayBuffer())),h=i&&d&&aS(()=>{let v=!1;const w=new n(ar.origin,{body:new rS,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!w}),p=l&&d&&aS(()=>ce.isReadableStream(new a("").body)),m={stream:p&&(v=>v.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!m[v]&&(m[v]=(w,g)=>{let S=w&&w[v];if(S)return S.call(w);throw new Le(`Response type '${v}' is not supported`,Le.ERR_NOT_SUPPORT,g)})});const x=async v=>{if(v==null)return 0;if(ce.isBlob(v))return v.size;if(ce.isSpecCompliantForm(v))return(await new n(ar.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(ce.isArrayBufferView(v)||ce.isArrayBuffer(v))return v.byteLength;if(ce.isURLSearchParams(v)&&(v=v+""),ce.isString(v))return(await u(v)).byteLength},j=async(v,w)=>{const g=ce.toFiniteNumber(v.getContentLength());return g??x(w)};return async v=>{let{url:w,method:g,data:S,signal:P,cancelToken:O,timeout:N,onDownloadProgress:A,onUploadProgress:C,responseType:E,headers:T,withCredentials:R="same-origin",fetchOptions:I}=vO(v),M=t||fetch;E=E?(E+"").toLowerCase():"text";let $=i7([P,O&&O.toAbortSignal()],N),G=null;const V=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let z;try{if(C&&h&&g!=="get"&&g!=="head"&&(z=await j(T,S))!==0){let q=new n(w,{method:"POST",body:S,duplex:"half"}),K;if(ce.isFormData(S)&&(K=q.headers.get("content-type"))&&T.setContentType(K),q.body){const[Y,H]=XN(z,Xu(JN(C)));S=eS(q.body,tS,Y,H)}}ce.isString(R)||(R=R?"include":"omit");const U=i&&"credentials"in n.prototype,W={...I,signal:$,method:g.toUpperCase(),headers:T.normalize().toJSON(),body:S,duplex:"half",credentials:U?R:void 0};G=i&&new n(w,W);let B=await(i?M(G,I):M(w,W));const F=p&&(E==="stream"||E==="response");if(p&&(A||F&&V)){const q={};["status","statusText","headers"].forEach(ue=>{q[ue]=B[ue]});const K=ce.toFiniteNumber(B.headers.get("content-length")),[Y,H]=A&&XN(K,Xu(JN(A),!0))||[];B=new a(eS(B.body,tS,Y,()=>{H&&H(),V&&V()}),q)}E=E||"text";let L=await m[ce.findKey(m,E)||"text"](B,v);return!F&&V&&V(),await new Promise((q,K)=>{gO(q,K,{data:L,headers:Nr.from(B.headers),status:B.status,statusText:B.statusText,config:v,request:G})})}catch(U){throw V&&V(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new Le("Network Error",Le.ERR_NETWORK,v,G),{cause:U.cause||U}):Le.from(U,U&&U.code,v,G)}}},h7=new Map,bO=e=>{let t=e&&e.env||{};const{fetch:n,Request:a,Response:s}=t,i=[a,s,n];let l=i.length,d=l,u,h,p=h7;for(;d--;)u=i[d],h=p.get(u),h===void 0&&p.set(u,h=d?new Map:u7(t)),p=h;return h};bO();const pj={http:O$,xhr:s7,fetch:{get:bO}};ce.forEach(pj,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const sS=e=>`- ${e}`,f7=e=>ce.isFunction(e)||e===null||e===!1;function m7(e,t){e=ce.isArray(e)?e:[e];const{length:n}=e;let a,s;const i={};for(let l=0;l<n;l++){a=e[l];let d;if(s=a,!f7(a)&&(s=pj[(d=String(a)).toLowerCase()],s===void 0))throw new Le(`Unknown adapter '${d}'`);if(s&&(ce.isFunction(s)||(s=s.get(t))))break;i[d||"#"+l]=s}if(!s){const l=Object.entries(i).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let d=n?l.length>1?`since :
`+l.map(sS).join(`
`):" "+sS(l[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return s}const jO={getAdapter:m7,adapters:pj};function Vp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Xc(null,e)}function iS(e){return Vp(e),e.headers=Nr.from(e.headers),e.data=Gp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),jO.getAdapter(e.adapter||Yc.adapter,e)(e).then(function(a){return Vp(e),a.data=Gp.call(e,e.transformResponse,a),a.headers=Nr.from(a.headers),a},function(a){return xO(a)||(Vp(e),a&&a.response&&(a.response.data=Gp.call(e,e.transformResponse,a.response),a.response.headers=Nr.from(a.response.headers))),Promise.reject(a)})}const wO="1.13.4",lf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{lf[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const oS={};lf.transitional=function(t,n,a){function s(i,l){return"[Axios v"+wO+"] Transitional option '"+i+"'"+l+(a?". "+a:"")}return(i,l,d)=>{if(t===!1)throw new Le(s(l," has been removed"+(n?" in "+n:"")),Le.ERR_DEPRECATED);return n&&!oS[l]&&(oS[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,l,d):!0}};lf.spelling=function(t){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function p7(e,t,n){if(typeof e!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const i=a[s],l=t[i];if(l){const d=e[i],u=d===void 0||l(d,i,e);if(u!==!0)throw new Le("option "+i+" must be "+u,Le.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Le("Unknown option "+i,Le.ERR_BAD_OPTION)}}const zu={assertOptions:p7,validators:lf},kn=zu.validators;let zs=class{constructor(t){this.defaults=t||{},this.interceptors={request:new QN,response:new QN}}async request(t,n){try{return await this._request(t,n)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ks(this.defaults,n);const{transitional:a,paramsSerializer:s,headers:i}=n;a!==void 0&&zu.assertOptions(a,{silentJSONParsing:kn.transitional(kn.boolean),forcedJSONParsing:kn.transitional(kn.boolean),clarifyTimeoutError:kn.transitional(kn.boolean)},!1),s!=null&&(ce.isFunction(s)?n.paramsSerializer={serialize:s}:zu.assertOptions(s,{encode:kn.function,serialize:kn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),zu.assertOptions(n,{baseUrl:kn.spelling("baseURL"),withXsrfToken:kn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=i&&ce.merge(i.common,i[n.method]);i&&ce.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=Nr.concat(l,i);const d=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(u=u&&w.synchronous,d.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let p,m=0,x;if(!u){const v=[iS.bind(this),void 0];for(v.unshift(...d),v.push(...h),x=v.length,p=Promise.resolve(n);m<x;)p=p.then(v[m++],v[m++]);return p}x=d.length;let j=n;for(;m<x;){const v=d[m++],w=d[m++];try{j=v(j)}catch(g){w.call(this,g);break}}try{p=iS.call(this,j)}catch(v){return Promise.reject(v)}for(m=0,x=h.length;m<x;)p=p.then(h[m++],h[m++]);return p}getUri(t){t=Ks(this.defaults,t);const n=yO(t.baseURL,t.url,t.allowAbsoluteUrls);return fO(n,t.params,t.paramsSerializer)}};ce.forEach(["delete","get","head","options"],function(t){zs.prototype[t]=function(n,a){return this.request(Ks(a||{},{method:t,url:n,data:(a||{}).data}))}});ce.forEach(["post","put","patch"],function(t){function n(a){return function(i,l,d){return this.request(Ks(d||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}zs.prototype[t]=n(),zs.prototype[t+"Form"]=n(!0)});let x7=class NO{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const a=this;this.promise.then(s=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](s);a._listeners=null}),this.promise.then=s=>{let i;const l=new Promise(d=>{a.subscribe(d),i=d}).then(s);return l.cancel=function(){a.unsubscribe(i)},l},t(function(i,l,d){a.reason||(a.reason=new Xc(i,l,d),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=a=>{t.abort(a)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new NO(function(s){t=s}),cancel:t}}};function g7(e){return function(n){return e.apply(null,n)}}function y7(e){return ce.isObject(e)&&e.isAxiosError===!0}const Ev={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ev).forEach(([e,t])=>{Ev[t]=e});function SO(e){const t=new zs(e),n=rO(zs.prototype.request,t);return ce.extend(n,zs.prototype,t,{allOwnKeys:!0}),ce.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return SO(Ks(e,s))},n}const wt=SO(Yc);wt.Axios=zs;wt.CanceledError=Xc;wt.CancelToken=x7;wt.isCancel=xO;wt.VERSION=wO;wt.toFormData=of;wt.AxiosError=Le;wt.Cancel=wt.CanceledError;wt.all=function(t){return Promise.all(t)};wt.spread=g7;wt.isAxiosError=y7;wt.mergeConfig=Ks;wt.AxiosHeaders=Nr;wt.formToJSON=e=>pO(ce.isHTMLForm(e)?new FormData(e):e);wt.getAdapter=jO.getAdapter;wt.HttpStatusCode=Ev;wt.default=wt;const{Axios:$ne,AxiosError:Lne,CanceledError:Dne,isCancel:Fne,CancelToken:qne,VERSION:zne,all:Bne,Cancel:Une,isAxiosError:Wne,spread:Hne,toFormData:Kne,AxiosHeaders:Gne,HttpStatusCode:Vne,formToJSON:Qne,getAdapter:Yne,mergeConfig:Xne}=wt;class Ve extends Error{constructor(n,a,s){super(n);xu(this,"status");xu(this,"data");this.name="ApiError",this.status=a,this.data=s}}const It=wt.create({baseURL:"https://auth.nubabel.com",withCredentials:!0,headers:{"Content-Type":"application/json"}});function v7(){const e=document.cookie.match(/csrf_token=([^;]+)/);return e?decodeURIComponent(e[1]):""}It.interceptors.request.use(e=>{const t=v7();return t&&e.method&&!["get","head","options"].includes(e.method.toLowerCase())&&(e.headers["X-CSRF-Token"]=t),e});function b7(e){var n,a;if(wt.isAxiosError(e)){const s=e,i=((n=s.response)==null?void 0:n.status)??null,l=(a=s.response)==null?void 0:a.data,d=typeof(l==null?void 0:l.error)=="string"&&l.error||typeof(l==null?void 0:l.message)=="string"&&l.message||s.message||"Request failed";return new Ve(d,i,l)}const t=e instanceof Error?e.message:String(e);return new Ve(t,null,null)}let Qp=!1,Yp=null;async function j7(){try{return await It.post("/auth/refresh"),!0}catch{return!1}}It.interceptors.response.use(e=>e,async e=>{var n,a,s;const t=e.config;if(((n=e.response)==null?void 0:n.status)===401&&t&&!t._retried&&!((a=t.url)!=null&&a.includes("/auth/refresh"))&&!((s=t.url)!=null&&s.includes("/auth/login"))){t._retried=!0,Qp||(Qp=!0,Yp=j7());const i=await Yp;return Qp=!1,Yp=null,i?It.request(t):(window.location.href="/login?error=session_expired",Promise.reject(e))}return Promise.reject(e)});async function se(e){try{return(await It.request(e)).data}catch(t){throw b7(t)}}function w7(){var h;const[e,t]=b.useState(!0),[n,a]=b.useState(null),[s,i]=b.useState(null),[l,d]=b.useState({account:!0,slack:!1,workflow:!1});b.useEffect(()=>{async function p(){try{t(!0);const m=await It.get("/api/dashboard/stats");a(m.data),i(null)}catch(m){console.error("Failed to fetch dashboard stats:",m),i("Failed to load stats")}finally{t(!1)}}p()},[]);const u=p=>{d(m=>({...m,[p]:!m[p]}))};return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Welcome to Nubabel - AI-Powered Workflow Automation Platform"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:e?r.jsxs(r.Fragment,{children:[r.jsx(Qr,{}),r.jsx(Qr,{}),r.jsx(Qr,{}),r.jsx(Qr,{})]}):s?r.jsx("div",{className:"col-span-4 text-center py-4 text-gray-500",children:s}):r.jsxs(r.Fragment,{children:[r.jsx(ju,{title:"Total Workflows",value:String((n==null?void 0:n.totalWorkflows)??0),icon:r.jsx(eO,{className:"h-5 w-5"}),trend:"neutral",change:0}),r.jsx(ju,{title:"Recent Executions",value:String((n==null?void 0:n.recentExecutions)??0),icon:r.jsx(LI,{className:"h-5 w-5"}),trend:"neutral",change:0}),r.jsx(ju,{title:"Success Rate",value:`${(n==null?void 0:n.successRate)??0}%`,icon:r.jsx(tO,{className:"h-5 w-5"}),trend:"neutral",change:0}),r.jsx(ju,{title:"Active Integrations",value:String(((h=n==null?void 0:n.activeIntegrations)==null?void 0:h.length)??0),icon:r.jsx(CI,{className:"h-5 w-5"}),trend:"neutral",change:0})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[r.jsx(zI,{}),r.jsx(BI,{})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:" Getting Started"}),r.jsx("p",{className:"text-blue-800 mb-4",children:"Complete these steps to start automating your workflows:"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[r.jsx("input",{type:"checkbox",checked:l.account,onChange:()=>u("account"),className:"h-5 w-5 rounded border-blue-300 text-blue-600 focus:ring-blue-500 cursor-pointer"}),r.jsx("span",{className:`text-blue-800 group-hover:text-blue-900 ${l.account?"line-through opacity-75":""}`,children:"Set up your account"})]}),r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[r.jsx("input",{type:"checkbox",checked:l.slack,onChange:()=>u("slack"),className:"h-5 w-5 rounded border-blue-300 text-blue-600 focus:ring-blue-500 cursor-pointer"}),r.jsx("span",{className:`text-blue-800 group-hover:text-blue-900 ${l.slack?"line-through opacity-75":""}`,children:"Configure your integrations (Slack, Notion, etc.)"})]}),r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[r.jsx("input",{type:"checkbox",checked:l.workflow,onChange:()=>u("workflow"),className:"h-5 w-5 rounded border-blue-300 text-blue-600 focus:ring-blue-500 cursor-pointer"}),r.jsx("span",{className:`text-blue-800 group-hover:text-blue-900 ${l.workflow?"line-through opacity-75":""}`,children:"Create and run your first workflow"})]})]})]})]})}function N7({workflow:e,onExecute:t}){return r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${e.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.enabled?"Enabled":"Disabled"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:e.description||"No description"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-xs text-gray-500",children:["Created ",new Date(e.createdAt).toLocaleDateString()]}),r.jsx("button",{onClick:()=>t(e.id),disabled:!e.enabled,className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Execute"})]})]})}function S7({workflowId:e,workflowName:t,isOpen:n,onClose:a,onSuccess:s}){const[i,l]=b.useState("{}"),[d,u]=b.useState("idle"),[h,p]=b.useState("");if(!n)return null;const m=async()=>{u("executing"),p("");try{let x={};i.trim()&&(x=JSON.parse(i)),await se({url:`/api/workflows/${e}/execute`,method:"POST",data:{inputData:x}}),u("success"),setTimeout(()=>{s==null||s(),a()},1500)}catch(x){x instanceof SyntaxError?p("Invalid JSON format"):x instanceof Ve?p(x.message):p("Execution failed"),u("error")}};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:a}),r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",onClick:x=>x.stopPropagation(),children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",onClick:x=>x.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Execute: ",t]}),r.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Data (JSON)"}),r.jsx("textarea",{value:i,onChange:x=>l(x.target.value),disabled:d==="executing",className:"w-full h-48 px-3 py-2 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100",placeholder:'{"key": "value"}'}),d==="executing"&&r.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg flex items-center gap-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-blue-600"}),r.jsx("span",{className:"text-blue-800",children:"Executing workflow..."})]}),d==="success"&&r.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[r.jsx("span",{className:"text-green-600 text-xl",children:""}),r.jsx("span",{className:"text-green-800",children:"Workflow executed successfully!"})]}),d==="error"&&r.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("span",{className:"text-red-800",children:h})})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200",children:[r.jsx("button",{onClick:a,disabled:d==="executing",className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:"Cancel"}),r.jsx("button",{onClick:m,disabled:d==="executing"||d==="success",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:d==="executing"?"Executing...":"Execute"})]})]})})]})}function k7({isOpen:e,onClose:t,onSuccess:n}){const[a,s]=b.useState(""),[i,l]=b.useState(""),[d,u]=b.useState(!1),[h,p]=b.useState(null),m=async()=>{if(!a.trim()){p("Workflow name is required");return}u(!0),p(null);try{await se({url:"/api/workflows",method:"POST",data:{name:a.trim(),description:i.trim()||void 0,enabled:!0,config:{}}}),n(),t(),s(""),l("")}catch(x){let j="Failed to create workflow";x instanceof Ve&&(x.status===403?j="You don't have permission to create workflows. Please contact your organization admin to get elevated permissions.":j=x.message),p(j)}finally{u(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t,children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:x=>x.stopPropagation(),children:r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create Workflow"}),h&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:h}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{id:"name",type:"text",value:a,onChange:x=>s(x.target.value),placeholder:"My Workflow",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{id:"description",value:i,onChange:x=>l(x.target.value),placeholder:"Describe what this workflow does...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),r.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),r.jsx("button",{onClick:m,disabled:d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Creating...":"Create"})]})]})})}):null}function C7(){const[e,t]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState(null),[l,d]=b.useState(null),[u,h]=b.useState(!1),p=async()=>{try{i(null);const v=await se({url:"/api/workflows",method:"GET"});t(v.workflows)}catch(v){const w=v instanceof Ve?v.message:"Failed to fetch workflows";i(w)}finally{a(!1)}};b.useEffect(()=>{p()},[]);const m=v=>{const w=e.find(g=>g.id===v);w&&d(w)},x=()=>{d(null)},j=()=>{p()};return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflows..."})]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Workflows"}),r.jsx("p",{className:"text-gray-600",children:"Manage and execute automation workflows"})]}),r.jsxs("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:"+"}),"Create Workflow"]})]}),s&&r.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsx("p",{className:"text-red-800",children:s})}),e.length===0&&!s?r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No workflows yet"}),r.jsx("p",{className:"text-gray-600",children:"Create your first workflow to get started with automation"})]})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(v=>r.jsx(N7,{workflow:v,onExecute:m},v.id))}),l&&r.jsx(S7,{workflowId:l.id,workflowName:l.name,isOpen:!0,onClose:x,onSuccess:j}),r.jsx(k7,{isOpen:u,onClose:()=>h(!1),onSuccess:p})]})}function A7(){const{id:e}=Zh(),[t,n]=b.useState(null),[a,s]=b.useState([]),[i,l]=b.useState(!0);b.useEffect(()=>{(async()=>{if(e)try{const[h,p]=await Promise.all([se({url:`/api/workflows/${e}`,method:"GET"}),se({url:`/api/workflows/${e}/executions`,method:"GET"})]);n(h.workflow),s(p.executions||[])}catch(h){console.error("Failed to fetch workflow:",h)}finally{l(!1)}})()},[e]);const d=u=>{switch(u){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return i?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflow..."})]})}):t?r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx(ft,{to:"/workflows",className:"text-indigo-600 hover:underline text-sm mb-2 inline-block",children:" Back to workflows"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t.name}),t.description&&r.jsx("p",{className:"text-gray-600",children:t.description})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${t.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.enabled?"Enabled":"Disabled"}),r.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:"Execute"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),r.jsx("p",{className:"mt-2 text-lg text-gray-900",children:new Date(t.createdAt).toLocaleDateString()})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),r.jsx("p",{className:"mt-2 text-lg text-gray-900",children:t.updatedAt?new Date(t.updatedAt).toLocaleDateString():"-"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Total Executions"}),r.jsx("p",{className:"mt-2 text-lg text-gray-900",children:a.length})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Executions"})}),a.length===0?r.jsx("div",{className:"p-12 text-center",children:r.jsx("p",{className:"text-gray-500",children:"No executions yet"})}):r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Started"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.slice(0,10).map(u=>{const h=u.startedAt&&u.completedAt?Math.round((new Date(u.completedAt).getTime()-new Date(u.startedAt).getTime())/1e3):null;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${d(u.status)}`,children:u.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:u.startedAt?new Date(u.startedAt).toLocaleString():"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h!==null?`${h}s`:"-"})]},u.id)})})]})]})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Workflow not found"}),r.jsx(ft,{to:"/workflows",className:"text-indigo-600 hover:underline mt-4 inline-block",children:"Back to workflows"})]})}function P7(){const[e,t]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState("all");b.useEffect(()=>{(async()=>{try{const p=await se({url:"/api/executions",method:"GET"});t(p.executions||[])}catch(p){console.error("Failed to fetch executions:",p)}finally{a(!1)}})()},[]);const l=e.filter(h=>s==="all"?!0:h.status===s),d=h=>{switch(h){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},u=h=>{switch(h){case"success":return"";case"failed":return"";case"running":return"";default:return""}};return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading executions..."})]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Executions"}),r.jsx("p",{className:"text-gray-600",children:"View workflow execution history"})]}),r.jsxs("div",{className:"mb-6 flex gap-2",children:[r.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg font-medium ${s==="all"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"All"}),r.jsx("button",{onClick:()=>i("success"),className:`px-4 py-2 rounded-lg font-medium ${s==="success"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Success"}),r.jsx("button",{onClick:()=>i("failed"),className:`px-4 py-2 rounded-lg font-medium ${s==="failed"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Failed"}),r.jsx("button",{onClick:()=>i("running"),className:`px-4 py-2 rounded-lg font-medium ${s==="running"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Running"})]}),l.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No executions yet"}),r.jsx("p",{className:"text-gray-600",children:"Execute workflows to see their history here"})]})}):r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Workflow"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Started"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(h=>{var m;const p=h.startedAt&&h.completedAt?Math.round((new Date(h.completedAt).getTime()-new Date(h.startedAt).getTime())/1e3):null;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${d(h.status)}`,children:[u(h.status)," ",h.status]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((m=h.workflow)==null?void 0:m.name)||"Unknown"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.startedAt?new Date(h.startedAt).toLocaleString():"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p!==null?`${p}s`:"-"})]},h.id)})})]})})]})}function O7(){const{id:e}=Zh(),[t,n]=b.useState(null),[a,s]=b.useState(!0),[i,l]=b.useState(null);b.useEffect(()=>{(async()=>{if(e)try{const m=await se({url:`/api/executions/${e}`,method:"GET"});n(m.execution)}catch(m){console.error("Failed to fetch execution:",m),l(m instanceof Error?m.message:"An error occurred")}finally{s(!1)}})()},[e]);const d=p=>{switch(p){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},u=p=>{switch(p){case"success":return"";case"failed":return"";case"running":return"";default:return""}};if(a)return r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading execution..."})]})});if(!t)return r.jsxs("div",{className:"text-center py-12",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Execution not found"}),r.jsx(ft,{to:"/executions",className:"text-indigo-600 hover:underline mt-4 inline-block",children:"Back to executions"})]});const h=t.startedAt&&t.completedAt?Math.round((new Date(t.completedAt).getTime()-new Date(t.startedAt).getTime())/1e3):null;return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx(ft,{to:"/executions",className:"text-indigo-600 hover:underline text-sm mb-2 inline-block",children:" Back to executions"}),i&&r.jsx("div",{className:"text-red-500 p-4 mb-4",children:i}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Execution Details"}),t.workflowName&&r.jsxs("p",{className:"text-gray-600",children:["Workflow: ",t.workflowName]})]}),r.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${d(t.status)}`,children:[u(t.status)," ",t.status]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Started"}),r.jsx("p",{className:"mt-2 text-lg text-gray-900",children:t.startedAt?new Date(t.startedAt).toLocaleString():"-"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Completed"}),r.jsx("p",{className:"mt-2 text-lg text-gray-900",children:t.completedAt?new Date(t.completedAt).toLocaleString():"-"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),r.jsx("p",{className:"mt-2 text-lg text-gray-900",children:h!==null?`${h}s`:"-"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Execution ID"}),r.jsx("p",{className:"mt-2 text-sm text-gray-900 font-mono truncate",children:t.id})]})]}),t.errorMessage&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-8",children:[r.jsx("h3",{className:"text-sm font-medium text-red-800 mb-2",children:"Error"}),r.jsx("pre",{className:"text-sm text-red-700 whitespace-pre-wrap font-mono",children:t.errorMessage})]}),t.steps&&t.steps.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow mb-8",children:[r.jsx("div",{className:"px-6 py-4 border-b",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Execution Steps"})}),r.jsx("div",{className:"divide-y divide-gray-200",children:t.steps.map((p,m)=>r.jsx("div",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 text-sm font-medium text-gray-600",children:m+1}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-gray-900",children:p.name}),r.jsx("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${d(p.status)}`,children:p.status})]}),p.error&&r.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.error})]})]})},p.id))})]}),(t.input||t.output)&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.input&&r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Input"})}),r.jsx("pre",{className:"p-6 text-sm text-gray-700 overflow-auto",children:JSON.stringify(t.input,null,2)})]}),t.output&&r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Output"})}),r.jsx("pre",{className:"p-6 text-sm text-gray-700 overflow-auto",children:JSON.stringify(t.output,null,2)})]})]})]})}const lS=e=>{let t;const n=new Set,a=(h,p)=>{const m=typeof h=="function"?h(t):h;if(!Object.is(m,t)){const x=t;t=p??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(j=>j(t,x))}},s=()=>t,d={setState:a,getState:s,getInitialState:()=>u,subscribe:h=>(n.add(h),()=>n.delete(h))},u=t=e(a,s,d);return d},E7=(e=>e?lS(e):lS),_7=e=>e;function T7(e,t=_7){const n=X.useSyncExternalStore(e.subscribe,X.useCallback(()=>t(e.getState()),[e,t]),X.useCallback(()=>t(e.getInitialState()),[e,t]));return X.useDebugValue(n),n}const cS=e=>{const t=E7(e),n=a=>T7(t,a);return Object.assign(n,t),n},xj=(e=>e?cS(e):cS),rs=xj((e,t)=>({user:null,currentOrganization:null,organizations:[],membership:null,isLoading:!0,hasCheckedAuth:!1,fetchUser:async()=>{if(!t().hasCheckedAuth){e({isLoading:!0,hasCheckedAuth:!0});try{const n=await se({url:"/auth/me",method:"GET"});e({user:n.user,currentOrganization:n.currentOrganization,organizations:n.organizations||[],membership:n.membership||null,isLoading:!1})}catch(n){console.error("Failed to fetch user:",n),e({user:null,currentOrganization:null,organizations:[],membership:null,isLoading:!1})}}},logout:async()=>{try{await se({url:"/auth/logout",method:"POST"}),e({user:null,currentOrganization:null,organizations:[],membership:null}),window.location.href="/login"}catch(n){console.error("Logout failed:",n)}},switchOrganization:async n=>{try{const a=await se({url:"/auth/switch-org",method:"POST",data:{organizationId:n}});if(a.redirectUrl){window.location.href=a.redirectUrl;return}window.location.reload()}catch(a){console.error("Switch organization failed:",a)}},setUser:n=>{e({user:n})}}));function R7(){const{user:e,currentOrganization:t}=rs(),[n,a]=b.useState((e==null?void 0:e.name)||""),[s,i]=b.useState(!1),l=async()=>{i(!0);try{await se({url:"/api/user/profile",method:"PUT",data:{name:n}}),alert("Profile updated successfully")}catch(u){const h=u instanceof Ve?u.message:"Failed to update profile";console.error("Save failed:",u),alert(h)}finally{i(!1)}},d=async()=>{if(confirm("Are you sure you want to logout from all devices?"))try{await se({url:"/api/auth/logout-all",method:"POST"}),window.location.href="/login"}catch(u){const h=u instanceof Ve?u.message:"Failed to logout from all devices";console.error("Logout all failed:",u),alert(h)}};return r.jsxs("div",{className:"max-w-4xl",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),r.jsx("p",{className:"text-gray-600",children:"Manage your account settings and preferences"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Profile"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("input",{type:"text",value:n,onChange:u=>a(u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Email cannot be changed"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Avatar"}),r.jsxs("div",{className:"flex items-center gap-4",children:[e!=null&&e.picture?r.jsx("img",{src:e.picture,alt:e.name,className:"w-16 h-16 rounded-full"}):r.jsx("div",{className:"w-16 h-16 rounded-full bg-indigo-600 flex items-center justify-center",children:r.jsx("span",{className:"text-white text-2xl font-medium",children:((e==null?void 0:e.name)||(e==null?void 0:e.email)||"?").charAt(0).toUpperCase()})}),r.jsxs("div",{children:[r.jsx("button",{className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Change Avatar"}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"JPG, PNG or GIF (max. 2MB)"})]})]})]}),r.jsx("div",{className:"pt-4",children:r.jsx("button",{onClick:l,disabled:s,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Saving...":"Save Changes"})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Organization"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),r.jsx("input",{type:"text",value:(t==null?void 0:t.name)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Domain"}),r.jsx("input",{type:"text",value:(t==null?void 0:t.domain)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Members"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Member management coming soon"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Security"}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Active Sessions"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"You are currently logged in on this device. Session management coming soon."}),r.jsx("button",{onClick:d,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Logout from All Devices"})]})})]})]})]})}function M7(){const[e,t]=ef(),[n,a]=b.useState(null),[s,i]=b.useState([]),[l,d]=b.useState(!0),[u,h]=b.useState(!1),[p,m]=b.useState(null);b.useEffect(()=>{const S=e.get("success"),P=e.get("error");S==="true"?(m({type:"success",text:"Notion workspace connected successfully!"}),t({})):P&&(m({type:"error",text:{access_denied:"You denied the Notion authorization request.",missing_params:"Missing required parameters from Notion.",invalid_state:"Invalid state parameter. Please try again.",token_exchange_failed:"Failed to exchange token with Notion.",server_error:"Server error occurred. Please try again.",notion_not_configured:"Notion integration is not yet configured. Please contact support."}[P]||`Error: ${P}`}),t({})),x()},[e,t]);const x=async()=>{try{const S=await se({url:"/api/notion/oauth/status",method:"GET"});a(S),S.connected&&await j()}catch(S){if(S instanceof Ve&&S.status===404){a({connected:!1,method:"none",workspaceId:null,workspaceName:null,workspaceIcon:null,botId:null,connectedAt:null,defaultDatabaseId:null});return}console.error("Fetch status error:",S)}finally{d(!1)}},j=async()=>{try{const S=await se({url:"/api/notion/databases",method:"GET"});i(S.databases||[])}catch{i([])}},v=()=>{window.location.href="/api/notion/oauth/install"},w=async()=>{if(confirm("Are you sure you want to disconnect Notion?")){h(!0),m(null);try{await se({url:"/api/notion/oauth/disconnect",method:"DELETE"}),a({connected:!1,method:"none",workspaceId:null,workspaceName:null,workspaceIcon:null,botId:null,connectedAt:null,defaultDatabaseId:null}),i([]),m({type:"success",text:"Notion disconnected successfully."})}catch{m({type:"error",text:"Failed to disconnect Notion."})}finally{h(!1)}}};if(l)return r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})});const g=(n==null?void 0:n.connected)??!1;return r.jsxs("div",{className:"max-w-4xl",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Notion Integration"}),r.jsx("p",{className:"text-gray-600",children:"Connect your Notion workspace for workflows and knowledge management"})]}),p&&r.jsx("div",{className:`mb-6 p-4 rounded-lg ${p.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:p.text}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:g&&n?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-black rounded-lg flex items-center justify-center",children:n.workspaceIcon?r.jsx("img",{src:n.workspaceIcon,alt:"",className:"w-8 h-8 rounded"}):r.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.119 20 4.5v15c0 1.381-1.119 2.5-2.5 2.5h-11C5.119 22 4 20.881 4 19.5v-15zM6.5 4C6.224 4 6 4.224 6 4.5v15c0 .276.224.5.5.5h11c.276 0 .5-.224.5-.5v-15c0-.276-.224-.5-.5-.5h-11zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h5v2H8v-2z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:n.workspaceName||"Notion Workspace"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Connected via OAuth"})]})]}),r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"Connected"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t border-gray-100 pt-4",children:[n.workspaceId&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Workspace ID:"}),r.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:n.workspaceId})]}),n.botId&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Bot ID:"}),r.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:n.botId})]}),n.connectedAt&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Connected:"}),r.jsx("span",{className:"ml-2 text-gray-700",children:new Date(n.connectedAt).toLocaleDateString()})]})]}),r.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100",children:[r.jsx("button",{onClick:v,className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:"Reconnect"}),r.jsx("button",{onClick:w,disabled:u,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?"Disconnecting...":"Disconnect"})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-16 h-16 bg-black rounded-2xl flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-10 h-10 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.119 20 4.5v15c0 1.381-1.119 2.5-2.5 2.5h-11C5.119 22 4 20.881 4 19.5v-15zM6.5 4C6.224 4 6 4.224 6 4.5v15c0 .276.224.5.5.5h11c.276 0 .5-.224.5-.5v-15c0-.276-.224-.5-.5-.5h-11zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h5v2H8v-2z"})})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Connect your Notion workspace"}),r.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Click the button below to authorize Nubabel to access your Notion workspace. Your team's pages and databases will be available for AI workflows."}),r.jsxs("button",{onClick:v,className:"inline-flex items-center gap-2 px-6 py-3 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors font-medium text-lg",children:[r.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.119 20 4.5v15c0 1.381-1.119 2.5-2.5 2.5h-11C5.119 22 4 20.881 4 19.5v-15zM6.5 4C6.224 4 6 4.224 6 4.5v15c0 .276.224.5.5.5h11c.276 0 .5-.224.5-.5v-15c0-.276-.224-.5-.5-.5h-11zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h5v2H8v-2z"})}),"Connect to Notion"]})]})}),g&&s.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Available Databases"}),r.jsx("button",{onClick:j,className:"text-sm text-indigo-600 hover:text-indigo-700",children:"Refresh"})]}),r.jsx("div",{className:"space-y-2",children:s.map(S=>r.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-indigo-300 transition",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:S.title}),r.jsx("p",{className:"text-sm text-gray-500 font-mono",children:S.id})]}),r.jsx("a",{href:S.url,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline text-sm",children:"Open in Notion"})]})},S.id))})]}),g&&s.length===0&&r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-yellow-900 mb-2",children:"No databases found"}),r.jsx("p",{className:"text-yellow-700 mb-4",children:"Your Notion workspace is connected, but no databases are accessible yet. Grant access to specific pages in Notion for the integration to see them."}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("a",{href:"https://notion.so",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-yellow-600 text-white text-sm font-medium rounded-md hover:bg-yellow-700",children:["Open Notion",r.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),r.jsx("button",{onClick:j,className:"inline-flex items-center px-4 py-2 bg-white border border-yellow-300 text-yellow-700 text-sm font-medium rounded-md hover:bg-yellow-50",children:"Refresh Databases"})]})]}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"How It Works"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Connect your workspace"}),r.jsx("p",{className:"text-sm text-gray-600",children:'Click "Connect to Notion" and authorize Nubabel to access your workspace.'})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"2"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Share pages with the integration"}),r.jsx("p",{className:"text-sm text-gray-600",children:"In Notion, share specific pages or databases with the Nubabel integration to give it access."})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"3"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Use in workflows"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Your Notion content will be available to AI agents for knowledge retrieval and automation."})]})]})]})]})]})}function I7(){const[e,t]=ef(),[n,a]=b.useState(null),[s,i]=b.useState(!0),[l,d]=b.useState(!1),[u,h]=b.useState(null);b.useEffect(()=>{const v=e.get("success"),w=e.get("error");v==="true"?(h({type:"success",text:"Slack workspace connected successfully!"}),t({})):w&&(h({type:"error",text:{access_denied:"You denied the Slack authorization request.",missing_params:"Missing required parameters from Slack.",server_config:"Server configuration error. Please contact support.",invalid_state:"Invalid state parameter. Please try again.",token_exchange_failed:"Failed to exchange token with Slack.",server_error:"Server error occurred. Please try again.",slack_not_configured:"Slack integration is not yet configured. Please contact support."}[w]||`Error: ${w}`}),t({})),p()},[e,t]);const p=async()=>{try{const v=await se({url:"/api/slack/integration",method:"GET"});a(v.integration)}catch(v){if(v instanceof Ve&&v.status===404){a(null);return}console.error("Fetch integration error:",v)}finally{i(!1)}},m=()=>{window.location.href="/api/slack/oauth/install"},x=async()=>{if(confirm("Are you sure you want to disconnect Slack?")){d(!0),h(null);try{await se({url:"/api/slack/integration",method:"DELETE"}),a(null),h({type:"success",text:"Slack disconnected successfully."})}catch{h({type:"error",text:"Failed to disconnect Slack."})}finally{d(!1)}}};if(s)return r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})});const j=!!(n!=null&&n.hasWorkspace&&(n!=null&&n.workspaceId));return r.jsxs("div",{className:"max-w-4xl",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Slack Integration"}),r.jsx("p",{className:"text-gray-600",children:"Connect your Slack workspace to enable AI-powered automation"})]}),u&&r.jsx("div",{className:`mb-6 p-4 rounded-lg ${u.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:u.text}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:j&&n?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-[#4A154B] rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:n.workspaceName}),r.jsx("p",{className:"text-sm text-gray-500",children:"Connected Workspace"})]})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n.enabled&&n.healthStatus==="healthy"?"bg-green-100 text-green-800":n.healthStatus==="degraded"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:n.enabled&&n.healthStatus==="healthy"?"Connected":n.healthStatus==="degraded"?"Degraded":"Disconnected"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t border-gray-100 pt-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Workspace ID:"}),r.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:n.workspaceId})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Bot User ID:"}),r.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:n.botUserId||"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Installed:"}),r.jsx("span",{className:"ml-2 text-gray-700",children:n.installedAt?new Date(n.installedAt).toLocaleDateString():"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Last Updated:"}),r.jsx("span",{className:"ml-2 text-gray-700",children:new Date(n.updatedAt).toLocaleDateString()})]})]}),n.scopes&&n.scopes.length>0&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Permissions:"}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.scopes.map(v=>r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:v},v))})]}),r.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100",children:[r.jsx("button",{onClick:m,className:"px-4 py-2 bg-[#4A154B] text-white rounded-lg hover:bg-[#3e1240] transition-colors",children:"Reconnect Workspace"}),r.jsx("button",{onClick:x,disabled:l,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Disconnecting...":"Disconnect"})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-16 h-16 bg-[#4A154B] rounded-2xl flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-10 h-10 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Connect your Slack workspace"}),r.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Click the button below to authorize Nubabel in your Slack workspace. Your team will be able to interact with AI agents directly from Slack."}),r.jsxs("button",{onClick:m,className:"inline-flex items-center gap-2 px-6 py-3 bg-[#4A154B] text-white rounded-lg hover:bg-[#3e1240] transition-colors font-medium text-lg",children:[r.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})}),"Connect to Slack"]})]})}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"How It Works"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Connect your workspace"}),r.jsx("p",{className:"text-sm text-gray-600",children:'Click "Connect to Slack" and authorize Nubabel in your workspace.'})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"2"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Invite the bot to channels"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Add the Nubabel bot to the channels where you want AI assistance."})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"3"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Start using AI automation"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Mention the bot or use slash commands to interact with your AI agents."})]})]})]})]})]})}function $7(){const[e,t]=b.useState(null),[n,a]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const d=await se({url:"/api/settings/google-calendar",method:"GET"});t(d.connection)}catch(d){console.error("Failed to fetch Google Calendar connection:",d)}finally{a(!1)}})()},[]);const s=async()=>{try{const l=await se({url:"/api/settings/google-calendar/connect",method:"POST"});window.location.href=l.authUrl}catch(l){console.error("Failed to initiate connection:",l)}},i=async()=>{if(confirm("Are you sure you want to disconnect Google Calendar?"))try{await se({url:"/api/settings/google-calendar/disconnect",method:"POST"}),t(null)}catch(l){console.error("Failed to disconnect:",l)}};return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx(ft,{to:"/settings",className:"text-indigo-600 hover:underline text-sm mb-2 inline-block",children:" Back to settings"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Google Calendar Settings"}),r.jsx("p",{className:"text-gray-600",children:"Connect your Google Calendar to enable scheduling workflows"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11zM9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm-8 4H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Google Calendar"}),r.jsx("p",{className:"text-sm text-gray-500",children:e!=null&&e.connected?`Connected as ${e.email}`:"Not connected"})]}),e!=null&&e.connected?r.jsx("button",{onClick:i,className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 font-medium",children:"Disconnect"}):r.jsx("button",{onClick:s,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:"Connect"})]})}),(e==null?void 0:e.connected)&&e.calendars&&r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-4",children:"Available Calendars"}),r.jsx("div",{className:"space-y-3",children:e.calendars.map(l=>r.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-900",children:l.name}),l.primary&&r.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"Primary"})]})},l.id))})]}),!(e!=null&&e.connected)&&r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"What you can do with Google Calendar:"}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-green-500",children:""}),"Create and manage calendar events"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-green-500",children:""}),"Trigger workflows based on calendar events"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-green-500",children:""}),"Sync meeting schedules automatically"]})]})]})]})]})}function L7(){return At({queryKey:["identities","user"],queryFn:async()=>(await se({url:"/api/identities",method:"GET"})).identities})}function D7(){return At({queryKey:["identities","suggestions"],queryFn:async()=>(await se({url:"/api/identities/suggestions",method:"GET"})).suggestions})}function F7(){const e=lt();return pt({mutationFn:async({identityId:t,reason:n})=>se({url:`/api/identities/${t}/unlink`,method:"POST",data:{reason:n}}),onSuccess:()=>{e.invalidateQueries({queryKey:["identities","user"]})}})}function q7(){const e=lt();return pt({mutationFn:async({suggestionId:t,reason:n})=>se({url:`/api/identities/suggestions/${t}/accept`,method:"POST",data:{reason:n}}),onSuccess:()=>{e.invalidateQueries({queryKey:["identities","user"]}),e.invalidateQueries({queryKey:["identities","suggestions"]})}})}function z7(){const e=lt();return pt({mutationFn:async({suggestionId:t,reason:n})=>se({url:`/api/identities/suggestions/${t}/reject`,method:"POST",data:{reason:n}}),onSuccess:()=>{e.invalidateQueries({queryKey:["identities","suggestions"]})}})}const kO={slack:{name:"Slack",color:"#4A154B",icon:r.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})},google:{name:"Google",color:"#4285F4",icon:r.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),r.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),r.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),r.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})},notion:{name:"Notion",color:"#000000",icon:r.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M4.459 4.208c.746.606 1.026.56 2.428.466l13.215-.793c.28 0 .047-.28-.046-.326L17.86 1.968c-.42-.326-.981-.7-2.055-.607L3.01 2.295c-.466.046-.56.28-.374.466zm.793 3.08v13.904c0 .747.373 1.027 1.214.98l14.523-.84c.841-.046.935-.56.935-1.167V6.354c0-.606-.233-.933-.748-.887l-15.177.887c-.56.047-.747.327-.747.933zm14.337.745c.093.42 0 .84-.42.888l-.7.14v10.264c-.608.327-1.168.514-1.635.514-.748 0-.935-.234-1.495-.933l-4.577-7.186v6.952L12.21 19s0 .84-1.168.84l-3.222.186c-.093-.186 0-.653.327-.746l.84-.233V9.854L7.822 9.76c-.094-.42.14-1.026.793-1.073l3.456-.233 4.764 7.279v-6.44l-1.215-.139c-.093-.514.28-.887.747-.933zM1.936 1.035l13.31-.98c1.634-.14 2.055-.047 3.082.7l4.249 2.986c.7.513.934.653.934 1.213v16.378c0 1.026-.373 1.634-1.68 1.726l-15.458.934c-.98.047-1.448-.093-1.962-.747l-3.129-4.06c-.56-.747-.793-1.306-.793-1.96V2.667c0-.839.374-1.54 1.447-1.632z"})})}};function B7({identity:e,onUnlink:t,isUnlinking:n}){const a=kO[e.provider];return r.jsxs("div",{className:"border-4 border-black bg-white",children:[r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 flex items-center justify-center border-4 border-black",style:{backgroundColor:a.color,color:"white"},children:a.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"font-mono text-lg font-bold uppercase tracking-tight",children:a.name}),e.displayName&&r.jsx("div",{className:"text-sm text-gray-900",children:e.displayName}),e.email&&r.jsx("div",{className:"text-xs font-mono text-gray-600",children:e.email})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4 border-t-2 border-black",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-mono font-bold uppercase tracking-wider text-gray-500",children:"Linked"}),r.jsx("div",{className:"text-sm font-mono",children:e.linkedAt?new Date(e.linkedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Unknown"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-mono font-bold uppercase tracking-wider text-gray-500",children:"Method"}),r.jsx("div",{className:"text-sm font-mono uppercase",children:e.linkMethod||"N/A"})]})]})]}),r.jsx("div",{className:"border-t-4 border-black bg-gray-50 px-6 py-3",children:r.jsx("button",{onClick:()=>t(e.id),disabled:n,className:"w-full font-mono text-sm font-bold uppercase tracking-wider py-2 px-4 border-2 border-black bg-white hover:bg-red-600 hover:text-white hover:border-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:n?"UNLINKING...":"UNLINK"})})]})}function U7({suggestion:e,onAccept:t,onReject:n,isProcessing:a}){const s=kO[e.externalIdentity.provider],i=Math.round(e.confidenceScore*100);return r.jsxs("div",{className:"border-4 border-black bg-yellow-50",children:[r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 flex items-center justify-center border-4 border-black",style:{backgroundColor:s.color,color:"white"},children:s.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"font-mono text-lg font-bold uppercase tracking-tight",children:s.name}),e.externalIdentity.displayName&&r.jsx("div",{className:"text-sm text-gray-900",children:e.externalIdentity.displayName}),e.externalIdentity.email&&r.jsx("div",{className:"text-xs font-mono text-gray-600",children:e.externalIdentity.email})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-xs font-mono font-bold uppercase tracking-wider text-gray-500",children:"Confidence"}),r.jsxs("div",{className:"text-2xl font-mono font-bold",children:[i,"%"]})]})]}),r.jsxs("div",{className:"pt-4 border-t-2 border-black",children:[r.jsx("div",{className:"text-xs font-mono font-bold uppercase tracking-wider text-gray-500 mb-1",children:"Match Method"}),r.jsx("div",{className:"text-sm font-mono",children:e.matchMethod})]})]}),r.jsx("div",{className:"border-t-4 border-black bg-white px-6 py-3",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>t(e.id),disabled:a,className:"flex-1 font-mono text-sm font-bold uppercase tracking-wider py-2 px-4 border-2 border-black bg-green-400 hover:bg-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"ACCEPT"}),r.jsx("button",{onClick:()=>n(e.id),disabled:a,className:"flex-1 font-mono text-sm font-bold uppercase tracking-wider py-2 px-4 border-2 border-black bg-white hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"REJECT"})]})})]})}function W7(){const[e,t]=b.useState(null),{data:n,isLoading:a}=L7(),{data:s,isLoading:i}=D7(),l=F7(),d=q7(),u=z7(),h=async w=>{if(confirm("Are you sure you want to unlink this identity?"))try{await l.mutateAsync({identityId:w}),t({type:"success",text:"Identity unlinked successfully"}),setTimeout(()=>t(null),5e3)}catch(g){t({type:"error",text:g.message||"Failed to unlink identity"}),setTimeout(()=>t(null),5e3)}},p=async w=>{try{await d.mutateAsync({suggestionId:w}),t({type:"success",text:"Suggestion accepted and identity linked"}),setTimeout(()=>t(null),5e3)}catch(g){t({type:"error",text:g.message||"Failed to accept suggestion"}),setTimeout(()=>t(null),5e3)}},m=async w=>{try{await u.mutateAsync({suggestionId:w}),t({type:"success",text:"Suggestion rejected"}),setTimeout(()=>t(null),5e3)}catch(g){t({type:"error",text:g.message||"Failed to reject suggestion"}),setTimeout(()=>t(null),5e3)}};if(a||i)return r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block w-16 h-16 border-8 border-black border-t-transparent animate-spin"}),r.jsx("p",{className:"mt-4 font-mono font-bold uppercase tracking-wider",children:"LOADING..."})]})});const j=(n==null?void 0:n.filter(w=>w.linkStatus==="linked"))||[],v=s||[];return r.jsxs("div",{className:"max-w-6xl",children:[r.jsxs("div",{className:"mb-8 pb-6 border-b-4 border-black",children:[r.jsx("h1",{className:"text-5xl font-mono font-black uppercase tracking-tighter mb-2",children:"Linked Identities"}),r.jsx("p",{className:"text-lg font-mono text-gray-700",children:"Manage external service connections to your account"})]}),e&&r.jsx("div",{className:`mb-6 p-4 border-4 font-mono ${e.type==="success"?"border-green-600 bg-green-50 text-green-900":"border-red-600 bg-red-50 text-red-900"}`,children:e.text}),v.length>0&&r.jsxs("div",{className:"mb-12",children:[r.jsxs("h2",{className:"text-2xl font-mono font-black uppercase tracking-tight mb-4 border-b-4 border-black pb-2",children:["Pending Suggestions (",v.length,")"]}),r.jsx("p",{className:"text-sm font-mono text-gray-600 mb-6",children:"We found these identities that might belong to you. Review and accept or reject them."}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:v.map(w=>r.jsx(U7,{suggestion:w,onAccept:p,onReject:m,isProcessing:d.isPending||u.isPending},w.id))})]}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-mono font-black uppercase tracking-tight mb-4 border-b-4 border-black pb-2",children:["Linked Identities (",j.length,")"]}),j.length===0?r.jsxs("div",{className:"border-4 border-black bg-gray-50 p-12 text-center",children:[r.jsx("div",{className:"mb-4",children:r.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:r.jsx("path",{strokeLinecap:"square",strokeLinejoin:"miter",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),r.jsx("h3",{className:"font-mono font-bold text-lg uppercase tracking-tight text-gray-900 mb-2",children:"No Linked Identities"}),r.jsxs("p",{className:"font-mono text-sm text-gray-600",children:["You haven't linked any external service identities yet.",r.jsx("br",{}),"Check pending suggestions above or contact your administrator."]})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:j.map(w=>r.jsx(B7,{identity:w,onUnlink:h,isUnlinking:l.isPending},w.id))})]})]})}function H7(){return At({queryKey:["member-identities"],queryFn:async()=>{const e=await se({url:"/api/admin/identities",method:"GET",params:{status:"linked",limit:1e3}}),t=new Map;return e.identities.forEach(n=>{if(n.userId){const a=t.get(n.userId)||[];a.push(n),t.set(n.userId,a)}}),t},staleTime:6e4})}function K7(e){return At({queryKey:["admin","identities",e],queryFn:async()=>{const t=new URLSearchParams;e!=null&&e.status&&t.set("status",e.status),e!=null&&e.provider&&t.set("provider",e.provider),e!=null&&e.page&&t.set("page",e.page.toString()),e!=null&&e.limit&&t.set("limit",e.limit.toString());const n=await fetch(`/api/admin/identities?${t}`,{credentials:"include"});if(!n.ok)throw new Error("Failed to fetch identities");return n.json()}})}function G7(){return At({queryKey:["admin","identities","stats"],queryFn:async()=>{const e=await fetch("/api/admin/identities/stats",{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch identity stats");return e.json()}})}function V7(){return At({queryKey:["admin","identities","suggestions"],queryFn:async()=>{const e=await fetch("/api/admin/identities/suggestions",{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch suggestions");return(await e.json()).suggestions}})}function Q7(){const e=lt();return pt({mutationFn:async({identityId:t,userId:n,reason:a})=>{const s=await fetch(`/api/admin/identities/${t}/link`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({userId:n,reason:a})});if(!s.ok){const i=await s.json();throw new Error(i.error||"Failed to link identity")}return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","identities"]}),e.invalidateQueries({queryKey:["admin","identities","stats"]})}})}function Y7(){const e=lt();return pt({mutationFn:async({identityId:t,reason:n})=>{const a=await fetch(`/api/admin/identities/${t}/unlink`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:n})});if(!a.ok){const s=await a.json();throw new Error(s.error||"Failed to unlink identity")}return a.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","identities"]}),e.invalidateQueries({queryKey:["admin","identities","stats"]})}})}function X7(){const e=lt();return pt({mutationFn:async({suggestionId:t,reason:n})=>{const a=await fetch(`/api/identities/suggestions/${t}/accept`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:n})});if(!a.ok){const s=await a.json();throw new Error(s.error||"Failed to accept suggestion")}return a.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","identities"]}),e.invalidateQueries({queryKey:["admin","identities","suggestions"]}),e.invalidateQueries({queryKey:["admin","identities","stats"]})}})}function J7(){const e=lt();return pt({mutationFn:async({suggestionId:t,reason:n})=>{const a=await fetch(`/api/identities/suggestions/${t}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:n})});if(!a.ok){const s=await a.json();throw new Error(s.error||"Failed to reject suggestion")}return a.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","identities","suggestions"]})}})}function CO(){const e=lt();return pt({mutationFn:async()=>(await It.post("admin/identities/sync-slack")).data,onSuccess:()=>{e.invalidateQueries({queryKey:["admin","identities"]}),e.invalidateQueries({queryKey:["admin","identities","stats"]}),e.invalidateQueries({queryKey:["admin","identities","suggestions"]})}})}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=(...e)=>e.filter((t,n,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,a)=>a?a.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=e=>{const t=eL(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:s="",children:i,iconNode:l,...d},u)=>b.createElement("svg",{ref:u,...tL,width:t,height:t,stroke:e,strokeWidth:a?Number(n)*24/Number(t):n,className:AO("lucide",s),...!i&&!rL(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,p])=>b.createElement(h,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=(e,t)=>{const n=b.forwardRef(({className:a,...s},i)=>b.createElement(nL,{ref:i,iconNode:t,className:AO(`lucide-${Z7(dS(e))}`,`lucide-${e}`,a),...s}));return n.displayName=dS(e),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["path",{d:"M17 3a2 2 0 0 1 2 2v15a1 1 0 0 1-1.496.868l-4.512-2.578a2 2 0 0 0-1.984 0l-4.512 2.578A1 1 0 0 1 5 20V5a2 2 0 0 1 2-2z",key:"oz39mx"}]],sL=Nt("bookmark",aL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ka=Nt("check",iL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],no=Nt("circle-alert",oL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ql=Nt("circle-check-big",lL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dL=Nt("clock",cL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Xp=Nt("copy",uL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],PO=Nt("external-link",hL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],cf=Nt("file-text",fL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],gj=Nt("link",mL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Jp=Nt("loader-circle",pL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],df=Nt("mail",xL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],uf=Nt("message-square",gL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],vL=Nt("pen",yL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Jn=Nt("refresh-cw",bL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],wL=Nt("rotate-ccw",jL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],SL=Nt("search",NL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],CL=Nt("terminal",kL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],PL=Nt("trash-2",AL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],EL=Nt("unlink",OL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],OO=Nt("users",_L);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],EO=Nt("x",TL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ML=Nt("zap",RL);function IL(){return At({queryKey:["members","invite","sources"],queryFn:async()=>{const e=await fetch("/api/members/invite/sources",{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch connected services");return(await e.json()).sources}})}function $L(e,t){return At({queryKey:["members","invite","users",e,t],queryFn:async()=>{if(!e)return[];const n=new URLSearchParams({provider:e});t&&n.set("search",t);const a=await fetch(`/api/members/invite/users?${n}`,{credentials:"include"});if(!a.ok)throw new Error("Failed to fetch users");return(await a.json()).users},enabled:!!e,staleTime:3e4})}function LL(){const e=lt();return pt({mutationFn:async t=>{const n=await fetch("/api/members/invite",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to invite members")}return n.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["members"]}),e.invalidateQueries({queryKey:["members","invite","users"]})}})}function DL({provider:e,size:t=20}){const n={slack:r.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})}),google:r.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),r.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),r.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),r.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),notion:r.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M4.459 4.208c.746.606 1.026.56 2.428.466l13.215-.793c.28 0 .047-.28-.046-.326L17.86 1.968c-.42-.326-.98-.7-2.055-.607L3.01 2.295c-.466.046-.56.28-.373.466l1.822 1.447zm.793 3.08v13.904c0 .747.373 1.027 1.214.98l14.523-.84c.84-.046.934-.56.934-1.166V6.354c0-.606-.233-.933-.746-.886l-15.177.887c-.56.047-.747.327-.747.933zm14.337.745c.093.42 0 .84-.42.888l-.7.14v10.264c-.608.327-1.168.514-1.635.514-.747 0-.934-.234-1.495-.933l-4.577-7.186v6.952l1.448.327s0 .84-1.168.84l-3.22.186c-.094-.186 0-.653.327-.746l.84-.233V9.854L7.822 9.76c-.094-.42.14-1.026.793-1.073l3.454-.233 4.763 7.278v-6.44l-1.215-.14c-.093-.514.28-.886.747-.933l3.222-.186zm-14.617-7c-.094-.093-.047-.14.093-.14l13.028-.792c.14-.047.186.047.14.093l-1.868 1.447c-.28.233-.42.327-.747.373L2.775 2.808c-.186.046-.186.14-.047.186l1.914 1.04z"})})};return r.jsx("span",{className:"text-gray-600",children:n[e]})}function FL({isOpen:e,onClose:t,onSuccess:n}){const[a,s]=b.useState(null),[i,l]=b.useState(""),[d,u]=b.useState(new Set),[h,p]=b.useState("member"),[m,x]=b.useState(!1),{data:j,isLoading:v}=IL(),{data:w,isLoading:g}=$L(a,i),S=LL();b.useEffect(()=>{j&&j.length>0&&!a&&s(j[0].provider)},[j,a]),b.useEffect(()=>{u(new Set),l("")},[a]),b.useEffect(()=>{e||(s(null),u(new Set),l(""),p("member"),x(!1),S.reset())},[e]);const P=b.useMemo(()=>{if(!w)return[];if(!i)return w;const E=i.toLowerCase();return w.filter(T=>{var R,I;return((R=T.displayName)==null?void 0:R.toLowerCase().includes(E))||((I=T.email)==null?void 0:I.toLowerCase().includes(E))})},[w,i]),O=E=>{u(T=>{const R=new Set(T);return R.has(E)?R.delete(E):R.add(E),R})},N=()=>{d.size===P.length?u(new Set):u(new Set(P.map(E=>E.providerUserId)))},A=async()=>{if(!(!a||d.size===0))try{(await S.mutateAsync({provider:a,providerUserIds:Array.from(d),role:h})).summary.invited>0&&n(),x(!0)}catch{}};if(!e)return null;const C=j==null?void 0:j.find(E=>E.provider===a);return r.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] flex flex-col border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b-4 border-black bg-yellow-300",children:[r.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:"Invite from Connected Services"}),r.jsx("button",{onClick:t,className:"p-1 hover:bg-black/10 transition-colors",children:r.jsx(EO,{size:24,strokeWidth:3})})]}),r.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:v?r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsx(Jp,{className:"animate-spin",size:32})}):j&&j.length===0?r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center",children:[r.jsx(no,{size:48,className:"text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-bold mb-2",children:"No Connected Services"}),r.jsx("p",{className:"text-gray-600 max-w-sm",children:"Connect Slack, Google, or Notion to invite members from those services."})]}):m&&S.data?r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-500 flex items-center justify-center mb-4",children:r.jsx(Ka,{size:32,className:"text-white",strokeWidth:3})}),r.jsx("h3",{className:"text-xl font-black mb-4",children:"Invitations Sent!"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[S.data.summary.invited>0&&r.jsxs("p",{className:"text-green-600 font-medium",children:[S.data.summary.invited," user",S.data.summary.invited!==1?"s":""," invited"]}),S.data.summary.alreadyMembers>0&&r.jsxs("p",{className:"text-yellow-600",children:[S.data.summary.alreadyMembers," already member",S.data.summary.alreadyMembers!==1?"s":""]}),S.data.summary.errors>0&&r.jsxs("p",{className:"text-red-600",children:[S.data.summary.errors," error",S.data.summary.errors!==1?"s":""]})]}),r.jsx("button",{onClick:t,className:"mt-6 px-6 py-2 bg-black text-white font-bold uppercase hover:bg-gray-800 transition-colors",children:"Done"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex border-b-4 border-black bg-gray-100",children:j==null?void 0:j.map(E=>r.jsxs("button",{onClick:()=>s(E.provider),className:`flex-1 px-4 py-3 flex items-center justify-center gap-2 font-bold uppercase text-sm transition-colors ${a===E.provider?"bg-white border-r-4 border-black -mb-1 pb-4":"hover:bg-gray-200"}`,children:[r.jsx(DL,{provider:E.provider,size:18}),r.jsx("span",{children:E.provider}),r.jsx("span",{className:"px-2 py-0.5 bg-black text-white text-xs",children:E.userCount})]},E.provider))}),C&&r.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b-2 border-gray-200 text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Workspace: "}),r.jsx("span",{className:"font-medium",children:C.workspaceName||C.provider})]}),r.jsx("div",{className:"px-6 py-4 border-b-2 border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx(SL,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:i,onChange:E=>l(E.target.value),placeholder:"Search by name or email...",className:"w-full pl-10 pr-4 py-2 border-2 border-black focus:outline-none focus:ring-2 focus:ring-yellow-300"})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:g?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(Jp,{className:"animate-spin",size:24})}):P.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[r.jsx(OO,{size:40,className:"mb-3"}),r.jsx("p",{className:"font-medium",children:"No users found"}),r.jsx("p",{className:"text-sm",children:i?"Try a different search term":"All users are already members"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"px-6 py-2 bg-gray-50 border-b border-gray-200 flex items-center gap-3",children:r.jsxs("button",{onClick:N,className:"flex items-center gap-2 text-sm font-medium hover:text-black transition-colors",children:[r.jsx("div",{className:`w-5 h-5 border-2 border-black flex items-center justify-center ${d.size===P.length&&P.length>0?"bg-yellow-300":"bg-white"}`,children:d.size===P.length&&P.length>0&&r.jsx(Ka,{size:14,strokeWidth:3})}),"Select All (",P.length,")"]})}),r.jsx("div",{className:"divide-y divide-gray-100",children:P.map(E=>r.jsxs("button",{onClick:()=>O(E.providerUserId),className:"w-full px-6 py-3 flex items-center gap-4 hover:bg-gray-50 transition-colors text-left",children:[r.jsx("div",{className:`w-5 h-5 border-2 border-black flex items-center justify-center flex-shrink-0 ${d.has(E.providerUserId)?"bg-yellow-300":"bg-white"}`,children:d.has(E.providerUserId)&&r.jsx(Ka,{size:14,strokeWidth:3})}),E.avatarUrl?r.jsx("img",{src:E.avatarUrl,alt:"",className:"w-10 h-10 border-2 border-black"}):r.jsx("div",{className:"w-10 h-10 border-2 border-black bg-gray-200 flex items-center justify-center font-bold text-gray-600",children:(E.displayName||E.email||"?").charAt(0).toUpperCase()}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-bold truncate",children:E.displayName||E.email||"Unknown User"}),E.email&&E.displayName&&r.jsx("p",{className:"text-sm text-gray-500 truncate",children:E.email})]})]},E.providerUserId))})]})}),r.jsxs("div",{className:"px-6 py-4 border-t-4 border-black bg-gray-50",children:[S.error&&r.jsx("div",{className:"mb-4 p-3 bg-red-100 border-2 border-red-500 text-red-700 text-sm font-medium",children:S.error.message}),r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{className:"text-sm font-bold uppercase",children:"Role:"}),r.jsxs("select",{value:h,onChange:E=>p(E.target.value),className:"px-3 py-2 border-2 border-black font-medium focus:outline-none focus:ring-2 focus:ring-yellow-300",children:[r.jsx("option",{value:"admin",children:"Admin"}),r.jsx("option",{value:"member",children:"Member"}),r.jsx("option",{value:"viewer",children:"Viewer"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:[d.size," selected"]}),r.jsx("button",{onClick:t,className:"px-4 py-2 border-2 border-black font-bold uppercase hover:bg-gray-200 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:A,disabled:d.size===0||S.isPending,className:"px-6 py-2 bg-black text-white font-bold uppercase hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:S.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Jp,{size:16,className:"animate-spin"}),"Inviting..."]}):`Invite ${d.size>0?`(${d.size})`:""}`})]})]})]})]})})]})})}function qL({organizationId:e,isOpen:t,onClose:n,onSuccess:a}){const[s,i]=b.useState(""),[l,d]=b.useState("member"),[u,h]=b.useState(!1),[p,m]=b.useState(null),x=async()=>{if(!s.trim()){m("Email is required");return}h(!0),m(null);try{await se({url:`/api/organizations/${e}/members/invite`,method:"POST",data:{email:s.trim(),role:l}}),a(),n(),i(""),d("member")}catch(j){const v=j instanceof Ve?j.message:"Failed to invite member";m(v)}finally{h(!1)}};return t?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Invite Member"}),p&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:p}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),r.jsx("input",{id:"email",type:"email",value:s,onChange:j=>i(j.target.value),placeholder:"colleague@company.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),r.jsxs("select",{id:"role",value:l,onChange:j=>d(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"admin",children:"Admin - Full access"}),r.jsx("option",{value:"member",children:"Member - Can execute workflows"}),r.jsx("option",{value:"viewer",children:"Viewer - Read only"})]})]})]}),r.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[r.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),r.jsx("button",{onClick:x,disabled:u,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Inviting...":"Send Invitation"})]})]})})}):null}function zL({userId:e,currentRole:t,organizationId:n,currentUserId:a,onSuccess:s}){const[i,l]=b.useState(!1),d=e===a,u=async h=>{if(h!==t){l(!0);try{await se({url:`/api/organizations/${n}/members/${e}/role`,method:"PUT",data:{role:h}}),s()}catch(p){const m=p instanceof Ve?p.message:"Failed to update role";alert(m)}finally{l(!1)}}};return r.jsxs("select",{value:t,onChange:h=>u(h.target.value),disabled:i||d,className:`px-2 py-1 text-sm border border-gray-300 rounded ${d?"bg-gray-100 cursor-not-allowed":"hover:border-gray-400"} ${i?"opacity-50":""}`,children:[r.jsx("option",{value:"owner",children:"Owner"}),r.jsx("option",{value:"admin",children:"Admin"}),r.jsx("option",{value:"member",children:"Member"}),r.jsx("option",{value:"viewer",children:"Viewer"})]})}const _O={slack:uf,google:df,notion:cf},BL={slack:"bg-purple-100 text-purple-600",google:"bg-blue-100 text-blue-600",notion:"bg-gray-100 text-gray-600"},_v={slack:"Slack",google:"Google",notion:"Notion"};function UL({identity:e}){const t=_O[e.provider],n=BL[e.provider],a=_v[e.provider],s=e.email||e.displayName||`${a} Account`;return r.jsxs("div",{className:"relative group",children:[r.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-md ${n} transition-all hover:shadow-sm`,title:s,children:[r.jsx(t,{className:"w-3 h-3"}),r.jsx("span",{className:"text-xs font-medium",children:a})]}),r.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap z-10",children:s})]})}function WL({identities:e,allProviders:t}){return r.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:t.map(n=>{const a=e.find(i=>i.provider===n),s=_O[n];return a?r.jsx(UL,{identity:a},n):r.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-gray-50 text-gray-300 border border-gray-200",title:`No ${_v[n]} account linked`,children:[r.jsx(s,{className:"w-3 h-3"}),r.jsx("span",{className:"text-xs font-medium",children:_v[n]})]},n)})})}function HL(){const{currentOrganization:e,user:t}=rs(),[n,a]=b.useState([]),[s,i]=b.useState(!0),[l,d]=b.useState(!1),[u,h]=b.useState(!1),[p,m]=b.useState("all"),[x,j]=b.useState("all"),v=e==null?void 0:e.id,w=t==null?void 0:t.id,{data:g,isLoading:S,refetch:P}=H7(),O=CO(),N=()=>{confirm("Slack    . ?")&&O.mutate(void 0,{onSuccess:I=>{alert(` !

 : ${I.stats.total}
: ${I.stats.synced}
 : ${I.stats.autoLinked}
 : ${I.stats.suggested}`),P()},onError:I=>{alert(` : ${I.message}`)}})},A=b.useCallback(async()=>{if(v)try{const I=await se({url:`/api/organizations/${v}/members`,method:"GET"});a(I.members)}catch(I){console.error("Failed to fetch members:",I)}finally{i(!1)}},[v]);b.useEffect(()=>{A()},[A]);const C=async(I,M)=>{if(confirm(`Are you sure you want to remove ${M} from this organization?`))try{await se({url:`/api/organizations/${v}/members/${I}`,method:"DELETE"}),A()}catch($){const G=$ instanceof Ve?$.message:"Failed to remove member";alert(G)}},E=I=>I?new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",T=n.filter(I=>{const M=(g==null?void 0:g.get(I.userId))||[];if(p!=="all"&&!M.some(G=>G.provider===p))return!1;if(x==="linked"){if(M.length===0)return!1}else if(x==="unlinked"&&M.length>0)return!1;return!0}),R={total:n.length,withSlack:n.filter(I=>((g==null?void 0:g.get(I.userId))||[]).some(M=>M.provider==="slack")).length,withGoogle:n.filter(I=>((g==null?void 0:g.get(I.userId))||[]).some(M=>M.provider==="google")).length,withNotion:n.filter(I=>((g==null?void 0:g.get(I.userId))||[]).some(M=>M.provider==="notion")).length,fullyLinked:n.filter(I=>((g==null?void 0:g.get(I.userId))||[]).length===3).length,noLinks:n.filter(I=>((g==null?void 0:g.get(I.userId))||[]).length===0).length};return s?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading members..."})]})}):r.jsxs("div",{className:"max-w-7xl",children:[r.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Members"}),r.jsx("p",{className:"text-gray-600",children:"Manage your organization members and their linked accounts"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:N,disabled:O.isPending,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 flex items-center gap-2",children:[r.jsx(Jn,{size:18,className:O.isPending?"animate-spin":""}),O.isPending?" ...":"Slack "]}),r.jsxs("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[r.jsx(OO,{size:18}),"Invite from Services"]}),r.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:"+"}),"Invite by Email"]})]})]}),!S&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:R.total}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Members"})]}),r.jsxs("div",{className:"bg-purple-50 rounded-lg shadow p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(uf,{className:"w-4 h-4 text-purple-600"}),r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:R.withSlack})]}),r.jsx("div",{className:"text-sm text-purple-700",children:"Slack Linked"})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg shadow p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(df,{className:"w-4 h-4 text-blue-600"}),r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:R.withGoogle})]}),r.jsx("div",{className:"text-sm text-blue-700",children:"Google Linked"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg shadow p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(cf,{className:"w-4 h-4 text-gray-600"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:R.withNotion})]}),r.jsx("div",{className:"text-sm text-gray-700",children:"Notion Linked"})]}),r.jsxs("div",{className:"bg-green-50 rounded-lg shadow p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(gj,{className:"w-4 h-4 text-green-600"}),r.jsx("div",{className:"text-2xl font-bold text-green-900",children:R.fullyLinked})]}),r.jsx("div",{className:"text-sm text-green-700",children:"Fully Linked"})]}),r.jsxs("div",{className:"bg-orange-50 rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:R.noLinks}),r.jsx("div",{className:"text-sm text-orange-700",children:"No Links"})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:r.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Provider:"}),r.jsxs("select",{value:p,onChange:I=>m(I.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Providers"}),r.jsx("option",{value:"slack",children:"Slack Only"}),r.jsx("option",{value:"google",children:"Google Only"}),r.jsx("option",{value:"notion",children:"Notion Only"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Link Status:"}),r.jsxs("select",{value:x,onChange:I=>j(I.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Members"}),r.jsx("option",{value:"linked",children:"Has Linked Accounts"}),r.jsx("option",{value:"unlinked",children:"No Linked Accounts"})]})]}),r.jsxs("div",{className:"ml-auto text-sm text-gray-600",children:["Showing ",T.length," of ",n.length," members"]})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Linked Accounts"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(I=>{const M=(g==null?void 0:g.get(I.userId))||[];return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:I.avatarUrl?r.jsx("img",{className:"h-10 w-10 rounded-full",src:I.avatarUrl,alt:I.name}):r.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-600 flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-medium",children:I.name.charAt(0).toUpperCase()})})}),r.jsxs("div",{className:"ml-4",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[I.name,I.userId===w&&r.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(you)"})]}),r.jsx("div",{className:"text-sm text-gray-500",children:I.email})]})]})}),r.jsx("td",{className:"px-6 py-4",children:S?r.jsx("div",{className:"text-sm text-gray-400",children:"Loading..."}):M.length>0?r.jsx(WL,{identities:M,allProviders:["slack","google","notion"]}):r.jsx("div",{className:"text-sm text-gray-400 italic",children:"No linked accounts"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v&&w&&r.jsx(zL,{userId:I.userId,currentRole:I.role,organizationId:v,currentUserId:w,onSuccess:A})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${I.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:I.status==="active"?"Active":"Pending"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E(I.joinedAt)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:I.userId!==w&&r.jsx("button",{onClick:()=>C(I.userId,I.name),className:"text-red-600 hover:text-red-900",children:"Remove"})})]},I.id)})})]}),T.length===0&&n.length>0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No members match filters"}),r.jsx("p",{className:"text-gray-600",children:"Try adjusting your filter criteria"})]}),n.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No members yet"}),r.jsx("p",{className:"text-gray-600",children:"Invite team members to collaborate"})]})]}),v&&r.jsx(qL,{organizationId:v,isOpen:l,onClose:()=>d(!1),onSuccess:A}),r.jsx(FL,{isOpen:u,onClose:()=>h(!1),onSuccess:A})]})}function KL(){const[e,t]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState(null),[l,d]=b.useState("pending"),[u,h]=b.useState("all"),[p,m]=b.useState({page:1,total:0,totalPages:0}),[x,j]=b.useState(null),v=b.useCallback(async()=>{a(!0),i(null);try{const N=await se({url:"/api/approvals",method:"GET",params:{status:l,type:u,page:p.page,limit:20}});t(N.approvals),m({page:N.pagination.page,total:N.pagination.total,totalPages:N.pagination.totalPages})}catch(N){const A=N instanceof Ve?N.message:"Failed to fetch approvals";i(A)}finally{a(!1)}},[l,u,p.page]);b.useEffect(()=>{v()},[v]);const w=async(N,A)=>{j(N);try{await se({url:`/api/approvals/${N}/respond`,method:"PUT",data:{action:A}}),v()}catch(C){const E=C instanceof Ve?C.message:"Failed to respond to approval";i(E)}finally{j(null)}},g=N=>{const A={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",expired:"bg-gray-100 text-gray-800"};return r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${A[N]}`,children:N.charAt(0).toUpperCase()+N.slice(1)})},S=N=>{const A={budget:{bg:"bg-blue-100 text-blue-800",emoji:"money"},deployment:{bg:"bg-purple-100 text-purple-800",emoji:"rocket"},content:{bg:"bg-orange-100 text-orange-800",emoji:"document"}};return r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${A[N].bg}`,children:N.charAt(0).toUpperCase()+N.slice(1)})},P=N=>new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),O=N=>new Date(N)<new Date;return n&&e.length===0?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading approvals..."})]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Approvals"}),r.jsx("p",{className:"text-gray-600",children:"Review and respond to approval requests"})]}),s&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:s}),r.jsxs("div",{className:"mb-6 flex flex-wrap gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:l,onChange:N=>{d(N.target.value),m(A=>({...A,page:1}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"}),r.jsx("option",{value:"expired",children:"Expired"}),r.jsx("option",{value:"all",children:"All"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),r.jsxs("select",{value:u,onChange:N=>{h(N.target.value),m(A=>({...A,page:1}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"budget",children:"Budget"}),r.jsx("option",{value:"deployment",children:"Deployment"}),r.jsx("option",{value:"content",children:"Content"})]})]})]}),e.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:l==="pending"?"":""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:l==="pending"?"No pending approvals":"No approvals found"}),r.jsx("p",{className:"text-gray-600",children:l==="pending"?"You're all caught up!":"Try changing the filters to see more approvals."})]})}):r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(N=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.title}),r.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:N.description})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S(N.type)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g(N.status)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O(N.expiresAt)?r.jsx("span",{className:"text-red-600",children:"Expired"}):P(N.expiresAt)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N.status==="pending"&&!O(N.expiresAt)?r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>w(N.id,"approved"),disabled:x===N.id,className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:x===N.id?"...":"Approve"}),r.jsx("button",{onClick:()=>w(N.id,"rejected"),disabled:x===N.id,className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50",children:x===N.id?"...":"Reject"})]}):r.jsx("span",{className:"text-sm text-gray-400",children:N.respondedAt?P(N.respondedAt):"-"})})]},N.id))})]}),p.totalPages>1&&r.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",p.page," of ",p.totalPages," (",p.total," total)"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>m(N=>({...N,page:N.page-1})),disabled:p.page<=1,className:"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:"Previous"}),r.jsx("button",{onClick:()=>m(N=>({...N,page:N.page+1})),disabled:p.page>=p.totalPages,className:"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:"Next"})]})]})]})]})}const GL=["execution:started","execution:progress","execution:completed","execution:failed","workflow:updated","notification"];function VL(e={}){const{url:t="/api/events",reconnectDelay:n=3e3,maxReconnectAttempts:a=10,onEvent:s}=e,[i,l]=b.useState(!1),[d,u]=b.useState(null),[h,p]=b.useState(null),m=b.useRef(null),x=b.useRef(0),j=b.useRef(null),v=b.useRef(s),w=b.useRef([]);b.useEffect(()=>{v.current=s},[s]);const g=b.useCallback(()=>{m.current&&(w.current.forEach(({type:O,handler:N})=>{var A;(A=m.current)==null||A.removeEventListener(O,N)}),w.current=[],m.current.close(),m.current=null),j.current&&(clearTimeout(j.current),j.current=null)},[]),S=b.useCallback(()=>{g();const N=`https://auth.nubabel.com${t}`;try{const A=new EventSource(N,{withCredentials:!0});m.current=A,A.onopen=()=>{l(!0),p(null),x.current=0},A.onerror=()=>{if(l(!1),g(),x.current<a){const C=n*Math.pow(2,x.current);x.current+=1,j.current=setTimeout(()=>{S()},C)}else p("Failed to connect to server. Please refresh the page.")},A.onmessage=C=>{var E;try{const T=JSON.parse(C.data),R={type:T.type||"message",data:T.data||T,timestamp:Date.now()};u(R),(E=v.current)==null||E.call(v,R)}catch{C.data!=="heartbeat"&&console.warn("Failed to parse SSE message:",C.data)}},GL.forEach(C=>{const E=T=>{var R;try{const M=JSON.parse(T.data),$={type:C,data:M,timestamp:Date.now()};u($),(R=v.current)==null||R.call(v,$)}catch(I){console.warn(`Failed to parse ${C} event:`,I)}};A.addEventListener(C,E),w.current.push({type:C,handler:E})})}catch(A){p("Failed to create EventSource connection"),console.error("SSE connection error:",A)}},[t,n,a,g]),P=b.useCallback(()=>{x.current=0,S()},[S]);return b.useEffect(()=>(S(),g),[S,g]),{isConnected:i,lastEvent:d,error:h,reconnect:P}}const uS={sisyphus:"",oracle:"",explore:"",librarian:"",executor:"","executor-high":"",architect:"",designer:"",qa_tester:"",build_fixer:"",writer:"",default:""};function QL(e){const t=e.toLowerCase().replace(/-/g,"_");return uS[t]||uS.default}function YL(e,t){switch(e){case"pending":return r.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded-full",children:"pending"});case"in_progress":return r.jsxs("span",{className:"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded-full flex items-center gap-1",children:[r.jsx("span",{className:"animate-pulse",children:""}),t!==void 0?`${t}%`:"running"]});case"completed":return r.jsx("span",{className:"px-2 py-0.5 text-xs bg-green-100 text-green-700 rounded-full",children:" done"});case"failed":return r.jsx("span",{className:"px-2 py-0.5 text-xs bg-red-100 text-red-700 rounded-full",children:" failed"});case"cancelled":return r.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-700 rounded-full",children:"cancelled"});default:return null}}function XL(e){return e<1e3?`${e}ms`:e<6e4?`${(e/1e3).toFixed(1)}s`:`${Math.floor(e/6e4)}m ${Math.round(e%6e4/1e3)}s`}function TO({agent:e,children:t,allAgents:n,depth:a,onSelectAgent:s}){const i=t.filter(l=>l.parentId===e.id);return r.jsxs("div",{className:`${a>0?"ml-6 border-l-2 border-gray-200 pl-4":""}`,children:[r.jsxs("div",{className:`flex items-center gap-3 py-2 px-3 rounded-lg cursor-pointer transition hover:bg-gray-50 ${e.status==="in_progress"?"bg-blue-50":""}`,onClick:()=>s==null?void 0:s(e),children:[r.jsx("span",{className:"text-xl",children:QL(e.agentType)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-gray-900 truncate",children:e.agentName||e.agentType}),YL(e.status,e.progress)]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-0.5",children:[e.category&&r.jsx("span",{className:"bg-gray-100 px-1.5 py-0.5 rounded",children:e.category}),e.duration!==void 0&&r.jsxs("span",{children:[" ",XL(e.duration)]})]})]}),e.status==="in_progress"&&e.progress!==void 0&&r.jsx("div",{className:"w-16 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${e.progress}%`}})})]}),e.status==="failed"&&e.errorMessage&&r.jsx("div",{className:"ml-9 mt-1 p-2 bg-red-50 text-red-700 text-xs rounded border border-red-200",children:e.errorMessage}),i.length>0&&r.jsx("div",{className:"mt-1",children:i.map(l=>r.jsx(TO,{agent:l,children:n,allAgents:n,depth:a+1,onSelectAgent:s},l.id))})]})}function JL({agents:e,selectedSessionId:t,onSelectAgent:n}){const a=b.useMemo(()=>t?e.filter(l=>l.sessionId===t):e,[e,t]),s=b.useMemo(()=>a.filter(l=>!l.parentId),[a]),i=b.useMemo(()=>{const l=a.length,d=a.filter(p=>p.status==="completed").length,u=a.filter(p=>p.status==="failed").length,h=a.filter(p=>p.status==="in_progress").length;return{total:l,completed:d,failed:u,inProgress:h}},[a]);return a.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Agent Hierarchy"})]}),r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsx("p",{children:"No active agents"}),r.jsx("p",{className:"text-sm mt-1",children:"Agent delegation hierarchy will appear here"})]})]}):r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Agent Hierarchy"})]}),r.jsxs("div",{className:"flex gap-4 mt-2 text-sm",children:[r.jsxs("span",{className:"text-gray-600",children:["Total: ",i.total]}),i.inProgress>0&&r.jsxs("span",{className:"text-blue-600",children:[" ",i.inProgress," running"]}),i.completed>0&&r.jsxs("span",{className:"text-green-600",children:[" ",i.completed," done"]}),i.failed>0&&r.jsxs("span",{className:"text-red-600",children:[" ",i.failed," failed"]})]})]}),r.jsx("div",{className:"p-4 max-h-[500px] overflow-y-auto",children:s.map(l=>r.jsx(TO,{agent:l,children:a,allAgents:a,depth:0,onSelectAgent:n},l.id))})]})}function ZL({accounts:e,selectedAccountId:t,onRefresh:n}){const[a,s]=b.useState(Date.now());b.useEffect(()=>{const m=setInterval(()=>s(Date.now()),6e4);return()=>clearInterval(m)},[]);const i=m=>{switch(m){case"active":return"";case"rate_limited":return"";case"exhausted":return"";case"cooldown":return"";default:return""}},l=m=>m<50?"bg-green-500":m<75?"bg-yellow-500":m<90?"bg-orange-500":"bg-red-500",d=m=>{if(!m)return null;const j=new Date(m).getTime()-a;if(j<=0)return null;const v=Math.floor(j/6e4);return v<60?`${v}m`:`${Math.floor(v/60)}h ${v%60}m`},u=[...e].sort((m,x)=>m.id===t?-1:x.id===t?1:x.priority-m.priority),h=e.filter(m=>m.status==="active").length,p=e.length>0?Math.round(e.reduce((m,x)=>m+x.estimatedUsagePercent,0)/e.length):0;return r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Claude Max Pool"})]}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[h,"/",e.length," active  ",p,"% avg usage"]})]}),n&&r.jsx("button",{onClick:n,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition",title:"Refresh",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})}),r.jsx("div",{className:"p-4 space-y-3 max-h-[400px] overflow-y-auto",children:u.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsx("p",{children:"No accounts configured"})]}):u.map(m=>{const x=d(m.cooldownUntil),j=m.id===t;return r.jsxs("div",{className:`p-3 rounded-lg border-2 transition ${j?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:i(m.status)}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-900",children:m.nickname}),j&&r.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-blue-500 text-white rounded-full",children:"Active"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[m.estimatedUsagePercent.toFixed(1),"%"]}),x&&r.jsxs("div",{className:"text-xs text-orange-600",children:[" ",x]})]})]}),r.jsx("div",{className:"relative h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:`absolute left-0 top-0 h-full rounded-full transition-all duration-500 ${l(m.estimatedUsagePercent)}`,style:{width:`${Math.min(m.estimatedUsagePercent,100)}%`}})}),r.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[r.jsx("span",{className:"truncate max-w-[150px]",title:m.email,children:m.email}),r.jsx("span",{className:`px-2 py-0.5 rounded-full ${m.status==="active"?"bg-green-100 text-green-700":m.status==="rate_limited"?"bg-yellow-100 text-yellow-700":m.status==="exhausted"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:m.status.replace("_"," ")})]})]},m.id)})})]})}const eD=["all","agent:started","agent:progress","agent:completed","agent:failed","agent_delegated","account_selected","execution:started","execution:completed"];function tD(){const[e,t]=b.useState([]),[n,a]=b.useState("all"),[s,i]=b.useState(new Map),[l,d]=b.useState([]),[u,h]=b.useState(),[p,m]=b.useState(),x=b.useCallback(C=>{const E={id:`${C.timestamp}-${Math.random().toString(36).slice(2)}`,type:C.type,data:C.data,timestamp:C.timestamp};t(R=>[E,...R].slice(0,100));const T=C.data;if(C.type==="agent:started"||C.type==="agent_delegated"){const R={id:T.activityId||T.id||E.id,sessionId:T.sessionId||"unknown",agentType:T.agentType||"unknown",agentName:T.agentName,category:T.category,status:"in_progress",parentId:T.parentActivityId,startedAt:new Date(C.timestamp).toISOString()};i(I=>new Map(I).set(R.id,R))}if(C.type==="agent:progress"){const R=T.activityId;R&&i(I=>{const M=new Map(I),$=M.get(R);return $&&M.set(R,{...$,progress:T.progress,status:"in_progress"}),M})}if(C.type==="agent:completed"||C.type==="agent:failed"){const R=T.activityId;R&&i(I=>{const M=new Map(I),$=M.get(R);return $&&M.set(R,{...$,status:C.type==="agent:completed"?"completed":"failed",duration:T.duration,errorMessage:T.errorMessage,completedAt:new Date(C.timestamp).toISOString()}),M})}C.type==="account_selected"&&(h(T.accountId),T.accounts&&d(T.accounts))},[]),{isConnected:j,error:v,reconnect:w}=VL({url:"/api/events",onEvent:x}),g=b.useMemo(()=>e.filter(C=>n==="all"?!0:C.type===n||C.type.startsWith(n.split(":")[0])),[e,n]),S=b.useMemo(()=>Array.from(s.values()),[s]),P=b.useMemo(()=>{const C=new Set(S.map(E=>E.sessionId));return Array.from(C)},[S]),O=C=>C.includes("started")?"bg-blue-100 text-blue-800":C.includes("completed")?"bg-green-100 text-green-800":C.includes("failed")||C.includes("error")?"bg-red-100 text-red-800":C.includes("progress")?"bg-yellow-100 text-yellow-800":C.includes("delegated")?"bg-purple-100 text-purple-800":C.includes("account")?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800",N=C=>C.includes("started")?"":C.includes("completed")?"":C.includes("failed")?"":C.includes("progress")?"":C.includes("delegated")?"":C.includes("account")?"":"",A=C=>new Date(C).toLocaleTimeString();return r.jsxs("div",{className:"p-6 min-h-screen bg-gray-50",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Agent Activity"}),r.jsx("p",{className:"text-gray-600",children:"Real-time monitoring of OMC agent operations"})]}),r.jsxs("div",{className:"mb-4 flex items-center justify-between flex-wrap gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`inline-block w-3 h-3 rounded-full ${j?"bg-green-500 animate-pulse":"bg-red-500"}`}),r.jsx("span",{className:"text-sm text-gray-600",children:j?"Live":"Disconnected"})]}),!j&&r.jsx("button",{onClick:w,className:"text-sm text-blue-600 hover:text-blue-800",children:"Reconnect"}),v&&r.jsx("span",{className:"text-sm text-red-600",children:v})]}),P.length>0&&r.jsxs("select",{value:p||"",onChange:C=>m(C.target.value||void 0),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"All Sessions"}),P.map(C=>r.jsxs("option",{value:C,children:["Session: ",C.slice(0,12),"..."]},C))]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[r.jsx("div",{className:"lg:col-span-3",children:r.jsx(JL,{agents:S,selectedSessionId:p,onSelectAgent:C=>m(C.sessionId)})}),r.jsx("div",{className:"lg:col-span-6",children:r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Event Feed"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[g.length," events"]})]}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:eD.map(C=>r.jsx("button",{onClick:()=>a(C),className:`px-3 py-1 rounded-full text-xs transition ${n===C?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:C==="all"?"All":C.replace(":"," ")},C))})]}),r.jsx("div",{className:"p-4 max-h-[600px] overflow-y-auto space-y-3",children:g.length===0?r.jsxs("div",{className:"text-center py-12 text-gray-500",children:[r.jsx("div",{className:"text-4xl mb-4",children:""}),r.jsx("h2",{className:"text-lg font-medium",children:"Waiting for events..."}),r.jsx("p",{className:"text-sm mt-1",children:"Events appear here in real-time"})]}):g.map(C=>r.jsx("div",{className:"p-3 rounded-lg border border-gray-200 hover:border-gray-300 transition",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-xl",children:N(C.type)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${O(C.type)}`,children:C.type}),r.jsx("span",{className:"text-xs text-gray-500",children:A(C.timestamp)})]}),Object.keys(C.data).length>0&&r.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs",children:r.jsx("pre",{className:"text-gray-600 overflow-x-auto whitespace-pre-wrap",children:JSON.stringify(C.data,null,2)})})]})]})},C.id))}),e.length>0&&r.jsx("div",{className:"p-3 border-t border-gray-200 text-center",children:r.jsx("button",{onClick:()=>{t([]),i(new Map)},className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})})]})}),r.jsx("div",{className:"lg:col-span-3",children:r.jsx(ZL,{accounts:l,selectedAccountId:u,onRefresh:()=>{fetch("/api/claude-max-accounts").then(C=>C.json()).then(C=>d(C.accounts||[])).catch(console.error)}})})]})]})}function rD(){var l,d,u;const[e,t]=b.useState(null),[n,a]=b.useState(!0),[s,i]=b.useState(null);return b.useEffect(()=>{(async()=>{try{const p=await se({url:"/api/metrics/agents",method:"GET"});t(p)}catch(p){console.error("Failed to fetch metrics:",p),i(p instanceof Error?p.message:"An error occurred")}finally{a(!1)}})()},[]),n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading metrics..."})]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agent Metrics"}),r.jsx("p",{className:"text-gray-600",children:"Monitor agent performance and statistics"})]}),s&&r.jsx("div",{className:"text-red-500 p-4",children:s}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Total Executions"}),r.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:(e==null?void 0:e.totalExecutions)||0})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Success Rate"}),r.jsxs("p",{className:"mt-2 text-3xl font-bold text-green-600",children:[((l=e==null?void 0:e.overallSuccessRate)==null?void 0:l.toFixed(1))||0,"%"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Active Agents"}),r.jsx("p",{className:"mt-2 text-3xl font-bold text-indigo-600",children:((d=e==null?void 0:e.agents)==null?void 0:d.length)||0})]})]}),(u=e==null?void 0:e.agents)!=null&&u.length?r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Executions"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Success Rate"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Duration"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Run"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.agents.map(h=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:h.agentName}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.totalExecutions}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${h.successRate>=90?"bg-green-100 text-green-800":h.successRate>=70?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[h.successRate.toFixed(1),"%"]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[h.avgDuration.toFixed(1),"s"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.lastExecution?new Date(h.lastExecution).toLocaleString():"-"})]},h.agentId))})]})}):r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No metrics yet"}),r.jsx("p",{className:"text-gray-600",children:"Agent metrics will appear here after executions"})]})})]})}function nD(){const[e,t]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState(""),[l,d]=b.useState(""),[u,h]=b.useState(0),[p,m]=b.useState(null),[x,j]=b.useState(""),v=20;b.useEffect(()=>{(async()=>{try{a(!0);const A=new URLSearchParams({limit:v.toString(),offset:u.toString()});s&&A.append("type",s),l&&A.append("impactLevel",l);const C=await se({url:`/api/org-changes?${A.toString()}`,method:"GET"});t(C.data||[])}catch(A){console.error("Failed to fetch organization changes:",A)}finally{a(!1)}})()},[s,l,u]);const w=N=>{switch(N){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},g=N=>{switch(N){case"new_member":return"";case"role_change":return"";case"workflow_added":return"";case"workflow_deleted":return"";case"integration_added":return"";case"settings_changed":return"";default:return""}},S=N=>{switch(N){case"merged":return"bg-purple-100 text-purple-800";case"open":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},P=async N=>{try{await se({url:`/api/org-changes/${N}/link-pr`,method:"POST",data:{prUrl:x}});const A=new URLSearchParams({limit:v.toString(),offset:u.toString()});s&&A.append("type",s),l&&A.append("impactLevel",l);const C=await se({url:`/api/org-changes?${A.toString()}`,method:"GET"});t(C.data||[]),m(null),j("")}catch(A){console.error("Failed to link PR:",A),alert("Failed to link PR. Please check the URL format.")}},O=async N=>{try{await se({url:`/api/org-changes/${N}/pr-status`,method:"GET"});const A=new URLSearchParams({limit:v.toString(),offset:u.toString()});s&&A.append("type",s),l&&A.append("impactLevel",l);const C=await se({url:`/api/org-changes?${A.toString()}`,method:"GET"});t(C.data||[])}catch(A){console.error("Failed to sync PR status:",A)}};return n&&e.length===0?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading organization changes..."})]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Organization Changes"}),r.jsx("p",{className:"text-gray-600",children:"Track organizational changes and updates"})]}),r.jsxs("div",{className:"mb-6 flex gap-4 flex-wrap",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Type"}),r.jsxs("select",{value:s,onChange:N=>{i(N.target.value),h(0)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-600",children:[r.jsx("option",{value:"",children:"All Types"}),r.jsx("option",{value:"new_member",children:"New Member"}),r.jsx("option",{value:"role_change",children:"Role Change"}),r.jsx("option",{value:"workflow_added",children:"Workflow Added"}),r.jsx("option",{value:"workflow_deleted",children:"Workflow Deleted"}),r.jsx("option",{value:"integration_added",children:"Integration Added"}),r.jsx("option",{value:"settings_changed",children:"Settings Changed"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Impact"}),r.jsxs("select",{value:l,onChange:N=>{d(N.target.value),h(0)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-600",children:[r.jsx("option",{value:"",children:"All Impact Levels"}),r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"})]})]})]}),e.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No changes yet"}),r.jsx("p",{className:"text-gray-600",children:"Organization changes will appear here"})]})}):r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Impact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PR Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(N=>{var A;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[r.jsx("span",{className:"mr-2",children:g(N.type)}),N.type.replace(/_/g," ")]}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 max-w-md truncate",children:N.description}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${w(N.impactLevel)}`,children:N.impactLevel})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N.prUrl&&((A=N.metadata)!=null&&A.pr)?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("a",{href:N.prUrl,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${S(N.metadata.pr.state)}`,children:[N.metadata.pr.state," #",N.metadata.pr.number]}),r.jsx("button",{onClick:()=>O(N.id),className:"text-gray-400 hover:text-gray-600",title:"Refresh PR status",children:""})]}):p===N.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"text",value:x,onChange:C=>j(C.target.value),placeholder:"https://github.com/...",className:"px-2 py-1 text-xs border border-gray-300 rounded"}),r.jsx("button",{onClick:()=>P(N.id),className:"px-2 py-1 text-xs bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Link"}),r.jsx("button",{onClick:()=>{m(null),j("")},className:"px-2 py-1 text-xs bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Cancel"})]}):r.jsx("button",{onClick:()=>m(N.id),className:"text-xs text-indigo-600 hover:text-indigo-800",children:"+ Link PR"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(N.createdAt).toLocaleString()})]},N.id)})})]})}),e.length>0&&r.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[r.jsx("button",{onClick:()=>h(Math.max(0,u-v)),disabled:u===0,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",u+1," to ",Math.min(u+v,u+e.length)]}),r.jsx("button",{onClick:()=>h(u+v),disabled:e.length<v,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})}function aD(e){return{id:e.id,title:e.title,description:e.description||void 0,progress:e.progress,keyResults:e.keyResults.map(t=>({id:t.id,title:t.title,currentValue:t.current,targetValue:t.target,unit:t.unit})),owner:e.ownerId||"Unassigned",quarter:e.quarter}}function sD(){const[e,t]=b.useState([]),[n,a]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const l=await se({url:"/api/okr",method:"GET"});t((l.objectives||[]).map(aD))}catch(l){console.error("Failed to fetch OKRs:",l)}finally{a(!1)}})()},[]);const s=i=>i>=70?"bg-green-500":i>=40?"bg-yellow-500":"bg-red-500";return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading OKRs..."})]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"OKRs"}),r.jsx("p",{className:"text-gray-600",children:"Track objectives and key results"})]}),r.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:"New Objective"})]}),e.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No OKRs yet"}),r.jsx("p",{className:"text-gray-600",children:"Create your first objective to start tracking progress"})]})}):r.jsx("div",{className:"space-y-6",children:e.map(i=>r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:i.title}),i.description&&r.jsx("p",{className:"text-gray-600 mt-1",children:i.description}),r.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Owner: ",i.owner,i.quarter&&` | ${i.quarter}`]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[i.progress,"%"]})})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:r.jsx("div",{className:`h-2 rounded-full ${s(i.progress)}`,style:{width:`${i.progress}%`}})}),i.keyResults.length>0&&r.jsxs("div",{className:"border-t pt-4 mt-4 space-y-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500 uppercase",children:"Key Results"}),i.keyResults.map(l=>{const d=l.targetValue>0?Math.round(l.currentValue/l.targetValue*100):0;return r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-gray-700",children:l.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("div",{className:"flex-1 bg-gray-100 rounded-full h-1.5",children:r.jsx("div",{className:`h-1.5 rounded-full ${s(d)}`,style:{width:`${Math.min(d,100)}%`}})}),r.jsxs("span",{className:"text-xs text-gray-500",children:[l.currentValue,"/",l.targetValue," ",l.unit]})]})]})},l.id)})]})]},i.id))})]})}function iD({agent:e,onEdit:t,onDelete:n,onViewActivity:a,onToggleEnabled:s}){const[i,l]=b.useState(!1),[d,u]=b.useState(!1),h=async()=>{if(!(!s||d)){u(!0);try{await s(e,!e.enabled)}finally{u(!1)}}},p=m=>({ops:"bg-blue-100 text-blue-800",brand:"bg-purple-100 text-purple-800",hr:"bg-green-100 text-green-800",finance:"bg-yellow-100 text-yellow-800",cs:"bg-pink-100 text-pink-800",product:"bg-indigo-100 text-indigo-800"})[m]||"bg-gray-100 text-gray-800";return r.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-lg flex items-center justify-center",children:r.jsxs("span",{className:"text-2xl text-white",children:[e.function==="ops"&&"",e.function==="brand"&&"",e.function==="hr"&&"",e.function==="finance"&&"",e.function==="cs"&&"",e.function==="product"&&"",!["ops","brand","hr","finance","cs","product"].includes(e.function)&&""]})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500",children:e.id})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p(e.function)}`,children:e.function}),s&&r.jsx("button",{onClick:h,disabled:d,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${e.enabled!==!1?"bg-green-500":"bg-gray-300"} ${d?"opacity-50":""}`,title:e.enabled!==!1?"Enabled - Click to disable":"Disabled - Click to enable",children:r.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${e.enabled!==!1?"translate-x-5":"translate-x-0"}`})})]})]}),r.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:e.description}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Skills"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[(e.skillDetails||e.skills.map(m=>({id:m,name:m}))).map(m=>r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:m.name},m.id)),e.skills.length===0&&r.jsx("span",{className:"text-xs text-gray-400",children:"No skills assigned"})]})]}),r.jsxs("button",{onClick:()=>l(!i),className:"mt-4 text-sm text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:[i?"Hide details":"Show details",r.jsx("svg",{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Tools"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.tools.map(m=>r.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:m},m)),e.tools.length===0&&r.jsx("span",{className:"text-xs text-gray-400",children:"No tools configured"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Routing Keywords"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.routing_keywords.map(m=>r.jsx("span",{className:"px-2 py-1 bg-orange-50 text-orange-700 text-xs rounded-full",children:m},m)),e.routing_keywords.length===0&&r.jsx("span",{className:"text-xs text-gray-400",children:"No keywords configured"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Permissions"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Read:"}),r.jsxs("ul",{className:"mt-1 space-y-1",children:[e.permissions.read.map(m=>r.jsx("li",{className:"text-green-700 font-mono",children:m},m)),e.permissions.read.length===0&&r.jsx("li",{className:"text-gray-400",children:"None"})]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Write:"}),r.jsxs("ul",{className:"mt-1 space-y-1",children:[e.permissions.write.map(m=>r.jsx("li",{className:"text-yellow-700 font-mono",children:m},m)),e.permissions.write.length===0&&r.jsx("li",{className:"text-gray-400",children:"None"})]})]})]})]})]})]}),r.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-between items-center rounded-b-lg",children:[r.jsx("button",{onClick:()=>a==null?void 0:a(e),className:"text-sm text-gray-600 hover:text-gray-900",children:"View Activity"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>t(e),className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Edit"}),r.jsx("button",{onClick:()=>n(e),className:"px-3 py-1.5 text-sm text-red-600 bg-white border border-red-300 rounded-md hover:bg-red-50",children:"Delete"})]})]})]})}const oD=[{value:"ops",label:"Operations"},{value:"brand",label:"Brand/Marketing"},{value:"hr",label:"Human Resources"},{value:"finance",label:"Finance"},{value:"cs",label:"Customer Success"},{value:"product",label:"Product"}];function lD({isOpen:e,onClose:t,onSuccess:n,agent:a,availableSkills:s,availableTools:i}){const l=!!a,[d,u]=b.useState({id:"",name:"",function:"ops",description:"",skills:[],tools:[],routing_keywords:[],permissions:{read:[],write:[]}}),[h,p]=b.useState(""),[m,x]=b.useState(""),[j,v]=b.useState(""),[w,g]=b.useState(!1),[S,P]=b.useState(null);b.useEffect(()=>{u(a?{id:a.id,name:a.name,function:a.function,description:a.description,skills:[...a.skills],tools:[...a.tools],routing_keywords:[...a.routing_keywords],permissions:{read:[...a.permissions.read],write:[...a.permissions.write]}}:{id:"",name:"",function:"ops",description:"",skills:[],tools:[],routing_keywords:[],permissions:{read:[],write:[]}}),P(null)},[a,e]);const O=async $=>{$.preventDefault(),g(!0),P(null);try{l?await se({url:`/api/admin/agents/${d.id}`,method:"PUT",data:{name:d.name,function:d.function,description:d.description,skills:d.skills,tools:d.tools,routing_keywords:d.routing_keywords,permissions:d.permissions}}):await se({url:"/api/admin/agents",method:"POST",data:d}),n(),t()}catch(G){const V=G instanceof Ve?G.message:"Failed to save agent";P(V)}finally{g(!1)}},N=()=>{h.trim()&&!d.routing_keywords.includes(h.trim())&&(u({...d,routing_keywords:[...d.routing_keywords,h.trim()]}),p(""))},A=$=>{u({...d,routing_keywords:d.routing_keywords.filter(G=>G!==$)})},C=()=>{m.trim()&&!d.permissions.read.includes(m.trim())&&(u({...d,permissions:{...d.permissions,read:[...d.permissions.read,m.trim()]}}),x(""))},E=$=>{u({...d,permissions:{...d.permissions,read:d.permissions.read.filter(G=>G!==$)}})},T=()=>{j.trim()&&!d.permissions.write.includes(j.trim())&&(u({...d,permissions:{...d.permissions,write:[...d.permissions.write,j.trim()]}}),v(""))},R=$=>{u({...d,permissions:{...d.permissions,write:d.permissions.write.filter(G=>G!==$)}})},I=$=>{const G=d.skills.includes($)?d.skills.filter(V=>V!==$):[...d.skills,$];u({...d,skills:G})},M=$=>{const G=d.tools.includes($)?d.tools.filter(V=>V!==$):[...d.tools,$];u({...d,tools:G})};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 max-h-[90vh] overflow-y-auto",children:r.jsxs("form",{onSubmit:O,children:[r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:l?"Edit Agent":"Create Agent"}),S&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:S}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID (slug) *"}),r.jsx("input",{id:"id",type:"text",value:d.id,onChange:$=>u({...d,id:$.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"brand-agent",disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100"}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lowercase letters, numbers, and hyphens only"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{id:"name",type:"text",value:d.name,onChange:$=>u({...d,name:$.target.value}),placeholder:"Brand Agent",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"function",className:"block text-sm font-medium text-gray-700 mb-1",children:"Function *"}),r.jsx("select",{id:"function",value:d.function,onChange:$=>u({...d,function:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:oD.map($=>r.jsx("option",{value:$.value,children:$.label},$.value))})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),r.jsx("textarea",{id:"description",value:d.description,onChange:$=>u({...d,description:$.target.value}),placeholder:"Agent description...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills"}),r.jsxs("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:[s.map($=>r.jsx("button",{type:"button",onClick:()=>I($.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${d.skills.includes($.id)?"bg-indigo-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:$.name},$.id)),s.length===0&&r.jsx("span",{className:"text-sm text-gray-500",children:"No skills available"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tools"}),r.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:i.map($=>r.jsx("button",{type:"button",onClick:()=>M($.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${d.tools.includes($.id)?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,title:$.description,children:$.name},$.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Routing Keywords"}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:h,onChange:$=>p($.target.value),onKeyDown:$=>$.key==="Enter"&&($.preventDefault(),N()),placeholder:"Add keyword...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Add"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:d.routing_keywords.map($=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-orange-100 text-orange-800 text-sm rounded-full",children:[$,r.jsx("button",{type:"button",onClick:()=>A($),className:"text-orange-600 hover:text-orange-800",children:""})]},$))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Read Paths"}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:m,onChange:$=>x($.target.value),onKeyDown:$=>$.key==="Enter"&&($.preventDefault(),C()),placeholder:"/sops/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),r.jsx("button",{type:"button",onClick:C,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),r.jsx("ul",{className:"space-y-1 max-h-24 overflow-y-auto",children:d.permissions.read.map($=>r.jsxs("li",{className:"flex items-center justify-between text-sm bg-green-50 px-2 py-1 rounded",children:[r.jsx("span",{className:"font-mono text-green-700",children:$}),r.jsx("button",{type:"button",onClick:()=>E($),className:"text-green-600 hover:text-green-800",children:""})]},$))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Write Paths"}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:j,onChange:$=>v($.target.value),onKeyDown:$=>$.key==="Enter"&&($.preventDefault(),T()),placeholder:"/sops/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),r.jsx("button",{type:"button",onClick:T,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),r.jsx("ul",{className:"space-y-1 max-h-24 overflow-y-auto",children:d.permissions.write.map($=>r.jsxs("li",{className:"flex items-center justify-between text-sm bg-yellow-50 px-2 py-1 rounded",children:[r.jsx("span",{className:"font-mono text-yellow-700",children:$}),r.jsx("button",{type:"button",onClick:()=>R($),className:"text-yellow-600 hover:text-yellow-800",children:""})]},$))})]})]})]})]}),r.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center rounded-b-lg",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Changes will create a GitHub PR for review"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:w||!d.id||!d.name||!d.description,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Creating PR...":l?"Update Agent":"Create Agent"})]})]})]})})}):null}function cD(){const[e,t]=b.useState([]),[n,a]=b.useState([]),[s,i]=b.useState([]),[l,d]=b.useState(!0),[u,h]=b.useState(null),[p,m]=b.useState(!1),[x,j]=b.useState(null),[v,w]=b.useState([]),[g,S]=b.useState(null),[P,O]=b.useState(""),[N,A]=b.useState("all"),C=async()=>{try{const U=await se({url:"/api/admin/pending-prs?type=agent",method:"GET"});w(U.pullRequests)}catch(U){console.error("Failed to fetch pending PRs:",U)}},E=async()=>{try{const U=await se({url:"/api/admin/agents",method:"GET"});t(U.agents)}catch(U){const W=U instanceof Ve?U.message:"Failed to fetch agents";h(W)}},T=async()=>{try{const U=await se({url:"/api/admin/skills",method:"GET"});a(U.skills.map(W=>({id:W.id,name:W.name})))}catch(U){console.error("Failed to fetch skills:",U)}},R=async()=>{try{const U=await se({url:"/api/admin/tools",method:"GET"});i(U.tools)}catch(U){console.error("Failed to fetch tools:",U)}};b.useEffect(()=>{(async()=>{d(!0),await Promise.all([E(),T(),R(),C()]),d(!1)})()},[]);const I=()=>{j(null),m(!0)},M=U=>{j(U),m(!0)},$=async U=>{if(confirm(`Are you sure you want to delete "${U.name}"? This will create a PR.`))try{const W=await se({url:`/api/admin/agents/${U.id}`,method:"DELETE"});S(`PR created to delete agent. View at: ${W.pullRequest.html_url}`),E(),C()}catch(W){const B=W instanceof Ve?W.message:"Failed to delete agent";h(B)}},G=()=>{S("Changes submitted successfully. A GitHub PR has been created for review."),E(),C()},V=U=>{window.location.href=`/activity?agent=${U.id}`},z=async(U,W)=>{try{const B=await se({url:`/api/admin/agents/${U.id}`,method:"PUT",data:{...U,enabled:W}});S(`PR created to ${W?"enable":"disable"} agent. View at: ${B.pullRequest.html_url}`),E(),C()}catch(B){const F=B instanceof Ve?B.message:"Failed to toggle agent status";h(F)}};return l?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading agents..."})]})}):r.jsxs("div",{className:"max-w-7xl",children:[r.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agents"}),r.jsx("p",{className:"text-gray-600",children:"Manage AI agents and their configurations"})]}),r.jsxs("button",{onClick:I,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:"+"}),"Create Agent"]})]}),g&&r.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg flex justify-between items-center",children:[r.jsx("span",{children:g}),r.jsx("button",{onClick:()=>S(null),className:"text-green-600 hover:text-green-800",children:""})]}),u&&r.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg flex justify-between items-center",children:[r.jsx("span",{children:u}),r.jsx("button",{onClick:()=>h(null),className:"text-red-600 hover:text-red-800",children:""})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:e.length}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total Agents"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:new Set(e.map(U=>U.function)).size}),r.jsx("div",{className:"text-sm text-gray-500",children:"Functions"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(e.flatMap(U=>U.skills)).size}),r.jsx("div",{className:"text-sm text-gray-500",children:"Unique Skills"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:new Set(e.flatMap(U=>U.tools)).size}),r.jsx("div",{className:"text-sm text-gray-500",children:"Tools in Use"})]})]}),r.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx("input",{type:"text",placeholder:"Search agents by name, ID, or keyword...",value:P,onChange:U=>O(U.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})}),r.jsx("div",{className:"flex gap-2",children:r.jsxs("select",{value:N,onChange:U=>A(U.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Functions"}),Array.from(new Set(e.map(U=>U.function))).map(U=>r.jsx("option",{value:U,children:U.charAt(0).toUpperCase()+U.slice(1)},U))]})})]}),v.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Pending Pull Requests (",v.length,")"]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg overflow-hidden",children:r.jsxs("table",{className:"min-w-full",children:[r.jsx("thead",{className:"bg-yellow-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"PR"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Agent"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Author"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Created"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-yellow-200",children:v.map(U=>r.jsxs("tr",{className:"hover:bg-yellow-100",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("a",{href:U.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-800 hover:underline font-medium",children:["#",U.number]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-gray-700",children:U.resource_id})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("img",{src:U.author_avatar,alt:U.author,className:"w-6 h-6 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-700",children:U.author})]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(U.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-4 py-3",children:U.draft?r.jsx("span",{className:"px-2 py-1 text-xs bg-gray-200 text-gray-700 rounded-full",children:"Draft"}):r.jsx("span",{className:"px-2 py-1 text-xs bg-green-200 text-green-800 rounded-full",children:"Ready"})})]},U.number))})]})})]}),(()=>{const U=e.filter(W=>{const B=P.toLowerCase(),F=!B||W.name.toLowerCase().includes(B)||W.id.toLowerCase().includes(B)||W.description.toLowerCase().includes(B)||W.routing_keywords.some(q=>q.toLowerCase().includes(B)),L=N==="all"||W.function===N;return F&&L});return e.length===0?r.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No agents yet"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first agent to get started"}),r.jsx("button",{onClick:I,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create Agent"})]}):U.length===0?r.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No matching agents"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search or filters"}),r.jsx("button",{onClick:()=>{O(""),A("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Clear Filters"})]}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:U.map(W=>r.jsx(iD,{agent:W,onEdit:M,onDelete:$,onViewActivity:V,onToggleEnabled:z},W.id))})})(),r.jsx(lD,{isOpen:p,onClose:()=>m(!1),onSuccess:G,agent:x,availableSkills:n,availableTools:s})]})}function dD({skill:e,onEdit:t,onDelete:n}){var l;const[a,s]=b.useState(!1),i=d=>({operations:"bg-blue-100 text-blue-800",marketing:"bg-purple-100 text-purple-800",hr:"bg-green-100 text-green-800",finance:"bg-yellow-100 text-yellow-800",customer:"bg-pink-100 text-pink-800",product:"bg-indigo-100 text-indigo-800"})[d]||"bg-gray-100 text-gray-800";return r.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-2xl text-white",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500",children:e.id})]})]}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${i(e.category)}`,children:e.category})]}),r.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:e.description}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Triggers"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.triggers.map((d,u)=>r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",children:d},u)),e.triggers.length===0&&r.jsx("span",{className:"text-xs text-gray-400",children:"No triggers configured"})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Used by Agents"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:((l=e.agentDetails)==null?void 0:l.map(d=>r.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 text-xs rounded-full",children:d.name},d.id)))||r.jsx("span",{className:"text-xs text-gray-400",children:"Not bound to any agent"})})]}),r.jsxs("button",{onClick:()=>s(!a),className:"mt-4 text-sm text-purple-600 hover:text-purple-800 flex items-center gap-1",children:[a?"Hide details":"Show details",r.jsx("svg",{className:`w-4 h-4 transition-transform ${a?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Required Tools"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.tools_required.map(d=>r.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:d},d)),e.tools_required.length===0&&r.jsx("span",{className:"text-xs text-gray-400",children:"No tools required"})]})]}),e.parameters&&e.parameters.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Parameters"}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:e.parameters.map(d=>r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"font-medium text-gray-700",children:d.name}),r.jsxs("span",{className:"text-gray-400 mx-1",children:["(",d.type,")"]}),d.required&&r.jsx("span",{className:"text-red-500 text-xs",children:"*"}),r.jsx("p",{className:"text-gray-500 text-xs",children:d.description}),d.default!==void 0&&r.jsxs("span",{className:"text-xs text-blue-600",children:["Default: ",JSON.stringify(d.default)]})]},d.name))})]}),e.outputs&&e.outputs.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Outputs"}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:e.outputs.map(d=>r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"font-medium text-gray-700",children:d.name}),r.jsxs("span",{className:"text-gray-400 mx-1",children:["(",d.type,")"]}),r.jsx("p",{className:"text-gray-500 text-xs",children:d.description})]},d.name))})]})]})]}),r.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-end items-center gap-2 rounded-b-lg",children:[r.jsx("button",{onClick:()=>t(e),className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Edit"}),r.jsx("button",{onClick:()=>n(e),className:"px-3 py-1.5 text-sm text-red-600 bg-white border border-red-300 rounded-md hover:bg-red-50",children:"Delete"})]})]})}const uD=[{value:"operations",label:"Operations"},{value:"marketing",label:"Marketing"},{value:"hr",label:"Human Resources"},{value:"finance",label:"Finance"},{value:"customer",label:"Customer Success"},{value:"product",label:"Product"}],hS=["string","number","boolean","object","array"];function hD({isOpen:e,onClose:t,onSuccess:n,skill:a,availableAgents:s,availableTools:i}){const l=!!a,[d,u]=b.useState({id:"",name:"",description:"",category:"operations",triggers:[],parameters:[],outputs:[],tools_required:[]}),[h,p]=b.useState(""),[m,x]=b.useState({name:"",type:"string",description:"",required:!1,default:""}),[j,v]=b.useState({name:"",type:"string",description:""}),[w,g]=b.useState(!1),[S,P]=b.useState(null);b.useEffect(()=>{u(a?{id:a.id,name:a.name,description:a.description,category:a.category,triggers:[...a.triggers],parameters:a.parameters?[...a.parameters]:[],outputs:a.outputs?[...a.outputs]:[],tools_required:[...a.tools_required]}:{id:"",name:"",description:"",category:"operations",triggers:[],parameters:[],outputs:[],tools_required:[]}),P(null)},[a,e]);const O=async M=>{M.preventDefault(),g(!0),P(null);try{l?await se({url:`/api/admin/skills/${d.id}`,method:"PUT",data:{name:d.name,description:d.description,category:d.category,triggers:d.triggers,parameters:d.parameters,outputs:d.outputs,tools_required:d.tools_required}}):await se({url:"/api/admin/skills",method:"POST",data:d}),n(),t()}catch($){const G=$ instanceof Ve?$.message:"Failed to save skill";P(G)}finally{g(!1)}},N=()=>{h.trim()&&!d.triggers.includes(h.trim())&&(u({...d,triggers:[...d.triggers,h.trim()]}),p(""))},A=M=>{u({...d,triggers:d.triggers.filter(($,G)=>G!==M)})},C=()=>{if(m.name.trim()&&m.description.trim()){const M={name:m.name.trim(),type:m.type,description:m.description.trim(),required:m.required};if(m.default.trim())try{M.default=JSON.parse(m.default)}catch{M.default=m.default}u({...d,parameters:[...d.parameters,M]}),x({name:"",type:"string",description:"",required:!1,default:""})}},E=M=>{u({...d,parameters:d.parameters.filter(($,G)=>G!==M)})},T=()=>{j.name.trim()&&j.description.trim()&&(u({...d,outputs:[...d.outputs,{...j,name:j.name.trim(),description:j.description.trim()}]}),v({name:"",type:"string",description:""}))},R=M=>{u({...d,outputs:d.outputs.filter(($,G)=>G!==M)})},I=M=>{const $=d.tools_required.includes(M)?d.tools_required.filter(G=>G!==M):[...d.tools_required,M];u({...d,tools_required:$})};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 max-h-[90vh] overflow-y-auto",children:r.jsxs("form",{onSubmit:O,children:[r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:l?"Edit Skill":"Create Skill"}),S&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:S}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID (slug) *"}),r.jsx("input",{id:"id",type:"text",value:d.id,onChange:M=>u({...d,id:M.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"resource-planning",disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 disabled:bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{id:"name",type:"text",value:d.name,onChange:M=>u({...d,name:M.target.value}),placeholder:"Resource Planning",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),r.jsx("textarea",{id:"description",value:d.description,onChange:M=>u({...d,description:M.target.value}),placeholder:"Skill description...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),r.jsx("select",{id:"category",value:d.category,onChange:M=>u({...d,category:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:uD.map(M=>r.jsx("option",{value:M.value,children:M.label},M.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Triggers"}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:h,onChange:M=>p(M.target.value),onKeyDown:M=>M.key==="Enter"&&(M.preventDefault(),N()),placeholder:"Add trigger keyword...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),r.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Add"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:d.triggers.map((M,$)=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:[M,r.jsx("button",{type:"button",onClick:()=>A($),className:"text-green-600 hover:text-green-800",children:""})]},$))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Required Tools"}),r.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:i.map(M=>r.jsx("button",{type:"button",onClick:()=>I(M.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${d.tools_required.includes(M.id)?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,title:M.description,children:M.name},M.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parameters"}),r.jsxs("div",{className:"space-y-2 mb-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:m.name,onChange:M=>x({...m,name:M.target.value}),placeholder:"Name",className:"w-1/4 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),r.jsx("select",{value:m.type,onChange:M=>x({...m,type:M.target.value}),className:"w-1/6 px-2 py-2 border border-gray-300 rounded-lg text-sm",children:hS.map(M=>r.jsx("option",{value:M,children:M},M))}),r.jsx("input",{type:"text",value:m.description,onChange:M=>x({...m,description:M.target.value}),placeholder:"Description",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),r.jsx("button",{type:"button",onClick:C,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),r.jsxs("div",{className:"flex gap-2 items-center pl-2",children:[r.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-600",children:[r.jsx("input",{type:"checkbox",checked:m.required,onChange:M=>x({...m,required:M.target.checked}),className:"w-3 h-3"}),"Required"]}),r.jsx("input",{type:"text",value:m.default,onChange:M=>x({...m,default:M.target.value}),placeholder:"Default value (optional)",className:"flex-1 px-2 py-1 border border-gray-300 rounded text-xs"})]})]}),d.parameters.length>0&&r.jsx("div",{className:"bg-gray-50 rounded-lg p-2 space-y-1",children:d.parameters.map((M,$)=>r.jsxs("div",{className:"flex items-center justify-between text-sm bg-white px-2 py-1 rounded",children:[r.jsxs("span",{children:[r.jsx("span",{className:"font-medium",children:M.name}),r.jsxs("span",{className:"text-gray-400 mx-1",children:["(",M.type,")"]}),M.required&&r.jsx("span",{className:"text-red-500",children:"*"}),r.jsx("span",{className:"text-gray-500 text-xs ml-2",children:M.description})]}),r.jsx("button",{type:"button",onClick:()=>E($),className:"text-gray-400 hover:text-gray-600",children:""})]},$))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Outputs"}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:j.name,onChange:M=>v({...j,name:M.target.value}),placeholder:"Name",className:"w-1/4 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),r.jsx("select",{value:j.type,onChange:M=>v({...j,type:M.target.value}),className:"w-1/6 px-2 py-2 border border-gray-300 rounded-lg text-sm",children:hS.map(M=>r.jsx("option",{value:M,children:M},M))}),r.jsx("input",{type:"text",value:j.description,onChange:M=>v({...j,description:M.target.value}),placeholder:"Description",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),r.jsx("button",{type:"button",onClick:T,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),d.outputs.length>0&&r.jsx("div",{className:"bg-gray-50 rounded-lg p-2 space-y-1",children:d.outputs.map((M,$)=>r.jsxs("div",{className:"flex items-center justify-between text-sm bg-white px-2 py-1 rounded",children:[r.jsxs("span",{children:[r.jsx("span",{className:"font-medium",children:M.name}),r.jsxs("span",{className:"text-gray-400 mx-1",children:["(",M.type,")"]}),r.jsx("span",{className:"text-gray-500 text-xs ml-2",children:M.description})]}),r.jsx("button",{type:"button",onClick:()=>R($),className:"text-gray-400 hover:text-gray-600",children:""})]},$))})]})]})]}),r.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center rounded-b-lg",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Changes will create a GitHub PR for review"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:w||!d.id||!d.name||!d.description,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Creating PR...":l?"Update Skill":"Create Skill"})]})]})]})})}):null}function fD(){const[e,t]=b.useState([]),[n,a]=b.useState([]),[s,i]=b.useState([]),[l,d]=b.useState(!0),[u,h]=b.useState(null),[p,m]=b.useState(!1),[x,j]=b.useState(null),[v,w]=b.useState([]),[g,S]=b.useState(null),[P,O]=b.useState("all"),[N,A]=b.useState(""),[C,E]=b.useState("skills"),[T,R]=b.useState([]),[I,M]=b.useState([]),[$,G]=b.useState([]),[V,z]=b.useState(!1),U=async()=>{try{const oe=await se({url:"/api/admin/pending-prs?type=skill",method:"GET"});w(oe.pullRequests)}catch(oe){console.error("Failed to fetch pending PRs:",oe)}},W=async()=>{try{const oe=await se({url:"/api/admin/skills",method:"GET"});t(oe.skills)}catch(oe){const te=oe instanceof Ve?oe.message:"Failed to fetch skills";h(te)}},B=async()=>{try{const oe=await se({url:"/api/admin/agents",method:"GET"});a(oe.agents.map(te=>({id:te.id,name:te.name})))}catch(oe){console.error("Failed to fetch agents:",oe)}},F=async()=>{try{const oe=await se({url:"/api/admin/tools",method:"GET"});i(oe.tools)}catch(oe){console.error("Failed to fetch tools:",oe)}},L=async()=>{z(!0);try{const[oe,te,le]=await Promise.all([se({url:"/api/optimization/skills/metrics",method:"GET"}).catch(()=>({metrics:[]})),se({url:"/api/optimization/skills/top",method:"GET"}).catch(()=>({skills:[]})),se({url:"/api/optimization/skills/poor",method:"GET"}).catch(()=>({skills:[]}))]);R(oe.metrics),M(te.skills),G(le.skills)}catch{}finally{z(!1)}};b.useEffect(()=>{(async()=>{d(!0),await Promise.all([W(),B(),F(),U()]),d(!1)})()},[]),b.useEffect(()=>{C==="performance"&&L()},[C]);const q=()=>{j(null),m(!0)},K=oe=>{j(oe),m(!0)},Y=async oe=>{if(confirm(`Are you sure you want to delete "${oe.name}"? This will create a PR.`))try{const te=await se({url:`/api/admin/skills/${oe.id}`,method:"DELETE"});S(`PR created to delete skill. View at: ${te.pullRequest.html_url}`),W(),U()}catch(te){const le=te instanceof Ve?te.message:"Failed to delete skill";h(le)}},H=()=>{S("Changes submitted successfully. A GitHub PR has been created for review."),W(),U()},ue=Array.from(new Set(e.map(oe=>oe.category))),he=e.filter(oe=>{const te=N.toLowerCase(),le=!te||oe.name.toLowerCase().includes(te)||oe.id.toLowerCase().includes(te)||oe.description.toLowerCase().includes(te)||oe.triggers.some($e=>$e.toLowerCase().includes(te)),ke=P==="all"||oe.category===P;return le&&ke});return l?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading skills..."})]})}):r.jsxs("div",{className:"max-w-7xl",children:[r.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Skills"}),r.jsx("p",{className:"text-gray-600",children:"Manage AI skills and their configurations"})]}),r.jsxs("button",{onClick:q,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:"+"}),"Create Skill"]})]}),g&&r.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg flex justify-between items-center",children:[r.jsx("span",{children:g}),r.jsx("button",{onClick:()=>S(null),className:"text-green-600 hover:text-green-800",children:""})]}),u&&r.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg flex justify-between items-center",children:[r.jsx("span",{children:u}),r.jsx("button",{onClick:()=>h(null),className:"text-red-600 hover:text-red-800",children:""})]}),r.jsxs("div",{className:"flex gap-2 mb-6",children:[r.jsx("button",{onClick:()=>E("skills"),className:`px-4 py-2 rounded-lg text-sm font-medium ${C==="skills"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Skills Management"}),r.jsx("button",{onClick:()=>E("performance"),className:`px-4 py-2 rounded-lg text-sm font-medium ${C==="performance"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Performance Dashboard"})]}),C==="skills"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.length}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total Skills"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:ue.length}),r.jsx("div",{className:"text-sm text-gray-500",children:"Categories"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.reduce((oe,te)=>oe+te.triggers.length,0)}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total Triggers"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:e.reduce((oe,te)=>{var le;return oe+(((le=te.agentDetails)==null?void 0:le.length)||0)},0)}),r.jsx("div",{className:"text-sm text-gray-500",children:"Agent Bindings"})]})]}),r.jsxs("div",{className:"mb-6 space-y-4",children:[r.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:r.jsx("input",{type:"text",placeholder:"Search skills by name, ID, or trigger...",value:N,onChange:oe=>A(oe.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Filter by category:"}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsxs("button",{onClick:()=>O("all"),className:`px-3 py-1 text-sm rounded-full ${P==="all"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All (",e.length,")"]}),ue.map(oe=>r.jsxs("button",{onClick:()=>O(oe),className:`px-3 py-1 text-sm rounded-full capitalize ${P===oe?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[oe," (",e.filter(te=>te.category===oe).length,")"]},oe))]})]})]}),v.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Pending Pull Requests (",v.length,")"]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg overflow-hidden",children:r.jsxs("table",{className:"min-w-full",children:[r.jsx("thead",{className:"bg-yellow-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"PR"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Skill"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Author"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Created"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-yellow-200",children:v.map(oe=>r.jsxs("tr",{className:"hover:bg-yellow-100",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("a",{href:oe.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-800 hover:underline font-medium",children:["#",oe.number]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-gray-700",children:oe.resource_id})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("img",{src:oe.author_avatar,alt:oe.author,className:"w-6 h-6 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-700",children:oe.author})]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(oe.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-4 py-3",children:oe.draft?r.jsx("span",{className:"px-2 py-1 text-xs bg-gray-200 text-gray-700 rounded-full",children:"Draft"}):r.jsx("span",{className:"px-2 py-1 text-xs bg-green-200 text-green-800 rounded-full",children:"Ready"})})]},oe.number))})]})})]}),he.length===0?r.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[r.jsx("div",{className:"text-6xl mb-4",children:e.length===0?"":""}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.length===0?"No skills yet":"No matching skills"}),r.jsx("p",{className:"text-gray-600 mb-4",children:e.length===0?"Create your first skill to get started":"Try adjusting your search or filters"}),e.length===0?r.jsx("button",{onClick:q,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Create Skill"}):r.jsx("button",{onClick:()=>{A(""),O("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Clear Filters"})]}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:he.map(oe=>r.jsx(dD,{skill:oe,onEdit:K,onDelete:Y},oe.id))})]}),C==="performance"&&r.jsx("div",{children:V?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Skills Tracked"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:T.length})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Executions"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:T.reduce((oe,te)=>oe+te.totalExecutions,0).toLocaleString()})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Avg Success Rate"}),r.jsx("div",{className:"text-2xl font-bold text-green-600 mt-1",children:T.length>0?`${Math.round(T.reduce((oe,te)=>oe+te.successRate,0)/T.length*100)}%`:"N/A"})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Needs Attention"}),r.jsx("div",{className:"text-2xl font-bold text-amber-600 mt-1",children:$.length})]})]}),I.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Performing Skills"}),r.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Skill"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Executions"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Success Rate"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Avg Latency"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"P95 Latency"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:I.map(oe=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:oe.skillId}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:oe.totalExecutions}),r.jsx("td",{className:"px-4 py-3 text-sm text-right",children:r.jsxs("span",{className:`font-medium ${oe.successRate>=.9?"text-green-600":oe.successRate>=.7?"text-amber-600":"text-red-600"}`,children:[Math.round(oe.successRate*100),"%"]})}),r.jsxs("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:[oe.avgDurationMs,"ms"]}),r.jsxs("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:[oe.p95DurationMs,"ms"]})]},oe.skillId))})]})})]}),$.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Needs Attention"}),r.jsx("div",{className:"space-y-3",children:$.map(oe=>r.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:oe.skillId}),r.jsx("div",{className:"text-sm text-gray-600 mt-1",children:oe.successRate<.7?`Low success rate: ${Math.round(oe.successRate*100)}%`:`High latency: ${oe.avgDurationMs}ms avg`})]}),r.jsxs("div",{className:"text-right text-sm",children:[r.jsxs("div",{className:"text-gray-500",children:[oe.totalExecutions," executions"]}),r.jsxs("div",{className:"text-gray-500",children:[oe.failureCount," failures"]})]})]},oe.skillId))})]}),T.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"All Skills"}),r.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Skill"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Total"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Success"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Failed"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Rate"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Avg (ms)"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"P95 (ms)"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Last Run"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:T.map(oe=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:oe.skillId}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:oe.totalExecutions}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-green-600",children:oe.successCount}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-red-600",children:oe.failureCount}),r.jsx("td",{className:"px-4 py-3 text-sm text-right",children:r.jsxs("span",{className:`font-medium ${oe.successRate>=.9?"text-green-600":oe.successRate>=.7?"text-amber-600":"text-red-600"}`,children:[Math.round(oe.successRate*100),"%"]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:oe.avgDurationMs}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:oe.p95DurationMs}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-500",children:oe.lastExecutedAt?new Date(oe.lastExecutedAt).toLocaleDateString():"Never"})]},oe.skillId))})]})})]}),T.length===0&&!V&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-4xl mb-4",children:""}),r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No performance data yet"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Skill metrics will appear here once skills are executed"})]})]})}),r.jsx(hD,{isOpen:p,onClose:()=>m(!1),onSuccess:H,skill:x,availableAgents:n,availableTools:s})]})}function mD(){const[e,t]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState("all"),[l,d]=b.useState(null),[u,h]=b.useState(!1),[p,m]=b.useState(0);b.useEffect(()=>{x()},[s]);const x=async()=>{a(!0);try{const S=new URLSearchParams;s!=="all"&&S.set("source",s);const P=await se({url:`/api/conversations${S.toString()?`?${S.toString()}`:""}`,method:"GET"});t(P.conversations||[]),m(P.total||0)}catch(S){console.error("Failed to fetch conversations:",S)}finally{a(!1)}},j=async S=>{h(!0);try{const P=await se({url:`/api/conversations/${S}`,method:"GET"});d(P.conversation)}catch(P){console.error("Failed to fetch conversation detail:",P)}finally{h(!1)}},v=S=>{switch(S){case"slack":return"";case"web":return"";case"terminal":return"";case"api":return"";default:return""}},w=S=>{switch(S){case"slack":return"bg-purple-100 text-purple-800";case"web":return"bg-blue-100 text-blue-800";case"terminal":return"bg-gray-100 text-gray-800";case"api":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},g=S=>{const P=new Date(S),N=new Date().getTime()-P.getTime(),A=Math.floor(N/(1e3*60*60)),C=Math.floor(N/(1e3*60*60*24));return A<1?"Just now":A<24?`${A}h ago`:C<7?`${C}d ago`:P.toLocaleDateString()};return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading conversations..."})]})}):r.jsxs("div",{className:"flex h-full",children:[r.jsxs("div",{className:`${l?"w-1/2":"w-full"} transition-all duration-300`,children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Conversations"}),r.jsxs("p",{className:"text-gray-600",children:["View AI conversation history from Slack and other sources (",p," total)"]})]}),r.jsx("div",{className:"mb-6 flex gap-2 flex-wrap",children:["all","slack","web","terminal","api"].map(S=>r.jsx("button",{onClick:()=>i(S),className:`px-4 py-2 rounded-lg font-medium capitalize ${s===S?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:S==="all"?"All Sources":S},S))}),e.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No conversations yet"}),r.jsx("p",{className:"text-gray-600",children:"Start chatting with the AI via Slack or web to see conversation history here"})]})}):r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"divide-y divide-gray-200",children:e.map(S=>r.jsx("div",{onClick:()=>j(S.id),className:`p-4 hover:bg-gray-50 cursor-pointer transition-colors ${(l==null?void 0:l.id)===S.id?"bg-indigo-50":""}`,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${w(S.source)}`,children:[v(S.source)," ",S.source||"unknown"]}),r.jsxs("span",{className:"text-xs text-gray-500",children:[S.messageCount," messages"]})]}),r.jsx("p",{className:"text-sm text-gray-900 truncate",children:S.preview||"No preview available"}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"text-xs text-gray-500",children:S.userName}),r.jsx("span",{className:"text-xs text-gray-400",children:""}),r.jsx("span",{className:"text-xs text-gray-500",children:g(S.lastUsedAt)})]})]}),r.jsx("div",{className:"ml-4 flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},S.id))})})]}),l&&r.jsxs("div",{className:"w-1/2 pl-6 border-l border-gray-200",children:[r.jsx("div",{className:"sticky top-0 bg-gray-50 -mx-6 px-6 pt-0",children:r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${w(l.source)}`,children:[v(l.source)," ",l.source||"unknown"]}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Conversation Detail"})]}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[l.userName," "," ",new Date(l.createdAt).toLocaleString()]})]}),r.jsx("button",{onClick:()=>d(null),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:r.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),u?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):r.jsxs("div",{className:"space-y-4 pb-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:[l.history.map((S,P)=>r.jsx("div",{className:`flex ${S.role==="user"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[85%] rounded-lg px-4 py-2 ${S.role==="user"?"bg-indigo-600 text-white":S.role==="system"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-900"}`,children:[S.role==="system"&&r.jsx("span",{className:"text-xs font-medium block mb-1",children:"System"}),r.jsx("p",{className:"text-sm whitespace-pre-wrap",children:S.content}),S.timestamp&&r.jsx("p",{className:`text-xs mt-1 ${S.role==="user"?"text-indigo-200":"text-gray-400"}`,children:new Date(S.timestamp).toLocaleTimeString()})]})},P)),l.history.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No messages in this conversation"})]})]})]})}const fS={notion:{icon:"N",color:"text-black",bg:"bg-white border border-gray-300"},drive:{icon:"G",color:"text-blue-600",bg:"bg-blue-50"},github:{icon:"GH",color:"text-gray-800",bg:"bg-gray-100"},slack:{icon:"S",color:"text-purple-600",bg:"bg-purple-50"}},pD={notion:"Notion",drive:"Google Drive",github:"GitHub",slack:"Slack"};function xD({result:e,onClick:t,onCopyLink:n}){const[a,s]=b.useState(!1),i=fS[e.source]||fS.notion,l=h=>{h.stopPropagation(),navigator.clipboard.writeText(e.url),s(!0),n==null||n(e.url),setTimeout(()=>s(!1),2e3)},d=h=>{h.stopPropagation(),window.open(e.url,"_blank","noopener,noreferrer")},u=h=>h?new Date(h).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}):null;return r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:border-indigo-300 hover:shadow-md transition-all cursor-pointer",onClick:()=>t==null?void 0:t(e),children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center font-bold text-sm ${i.bg} ${i.color}`,children:i.icon}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate",children:e.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[r.jsx("span",{className:"text-xs text-gray-500",children:pD[e.source]}),e.lastModified&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-300",children:"|"}),r.jsx("span",{className:"text-xs text-gray-500",children:u(e.lastModified)})]}),e.author&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-300",children:"|"}),r.jsx("span",{className:"text-xs text-gray-500",children:e.author})]})]})]}),r.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[r.jsx("button",{onClick:l,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Copy link",children:a?r.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),r.jsx("button",{onClick:d,className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"Open in new tab",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]}),e.aiSummary?r.jsxs("div",{className:"mt-2 p-2 bg-indigo-50 rounded-md",children:[r.jsxs("div",{className:"flex items-center gap-1 text-xs text-indigo-600 font-medium mb-1",children:[r.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),"AI Summary"]}),r.jsx("p",{className:"text-sm text-gray-700",children:e.aiSummary})]}):r.jsx("p",{className:"mt-2 text-sm text-gray-600 line-clamp-2",children:e.relevantExcerpt||e.snippet||"No preview available"}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx("div",{className:"flex-1 h-1 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${Math.round(e.score*100)}%`}})}),r.jsxs("span",{className:"text-xs text-gray-400",children:[Math.round(e.score*100),"% match"]})]})]})]})})}const gD={notion:"Notion",drive:"Google Drive",github:"GitHub",slack:"Slack"};function yD(){const[e,t]=b.useState(""),[n,a]=b.useState(null),[s,i]=b.useState(!1),[l,d]=b.useState(null),[u,h]=b.useState([]),[p,m]=b.useState(null),[x,j]=b.useState("");b.useEffect(()=>{const N=setTimeout(()=>{j(e)},300);return()=>clearTimeout(N)},[e]);const v=b.useCallback(async N=>{if(!N.trim()){a(null);return}i(!0),d(null);try{const A=await fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({query:N,sources:u.length>0?u:void 0,limit:20,includeAiSummary:!0})});if(!A.ok)throw new Error("Search failed");const C=await A.json();a(C),C.results.length>0&&m(null)}catch(A){d(A instanceof Error?A.message:"Search failed")}finally{i(!1)}},[u]);b.useEffect(()=>{x&&v(x)},[x,v]);const w=async N=>{if(p)try{await fetch("/api/search/analytics",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({analyticsId:p,clickedResult:N.url,clickedSource:N.source})})}catch{}window.open(N.url,"_blank","noopener,noreferrer")},g=N=>{t(N)},S=async N=>{if(p)try{await fetch("/api/search/analytics",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({analyticsId:p,aiAnswerUseful:N})})}catch{}},P=N=>{h(A=>A.includes(N)?A.filter(C=>C!==N):[...A,N])},O=(n==null?void 0:n.sources.filter(N=>N.connected).map(N=>N.source))||[];return r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Unified Search"}),r.jsx("p",{className:"text-gray-600",children:"Search across all your connected integrations"})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:r.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("input",{type:"text",value:e,onChange:N=>t(N.target.value),placeholder:"Search documents, messages, issues...",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-lg"}),s&&r.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:r.jsx("div",{className:"w-5 h-5 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin"})})]})}),O.length>0&&r.jsxs("div",{className:"mb-6 flex flex-wrap gap-2",children:[r.jsx("span",{className:"text-sm text-gray-500 py-1",children:"Filter by:"}),O.map(N=>{var A;return r.jsxs("button",{onClick:()=>P(N),className:`px-3 py-1 text-sm rounded-full transition-colors ${u.length===0||u.includes(N)?"bg-indigo-100 text-indigo-700 hover:bg-indigo-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:[gD[N],n&&r.jsxs("span",{className:"ml-1 text-xs",children:["(",((A=n.sources.find(C=>C.source===N))==null?void 0:A.count)||0,")"]})]},N)})]}),l&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:l}),n&&r.jsxs("div",{className:"space-y-6",children:[n.aiAnswer&&r.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"AI Answer"})]}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:n.aiAnswer}),r.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Was this helpful?"}),r.jsx("button",{onClick:()=>S(!0),className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Yes"}),r.jsx("button",{onClick:()=>S(!1),className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"No"})]})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[r.jsxs("span",{children:[n.totalCount," result",n.totalCount!==1?"s":""," ","found"]}),n.responseTimeMs&&r.jsxs("span",{children:[(n.responseTimeMs/1e3).toFixed(2),"s"]})]}),n.results.length>0?r.jsx("div",{className:"space-y-3",children:n.results.map((N,A)=>r.jsx(xD,{result:N,onClick:w},`${N.source}-${N.id}-${A}`))}):r.jsxs("div",{className:"text-center py-12 text-gray-500",children:['No results found for "',e,'"']}),n.relatedQuestions&&n.relatedQuestions.length>0&&r.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Related Questions"}),r.jsx("div",{className:"space-y-2",children:n.relatedQuestions.map((N,A)=>r.jsxs("button",{onClick:()=>g(N),className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg text-sm text-gray-700 transition-colors flex items-center gap-3",children:[r.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),N]},A))})]})]}),!n&&!s&&!e&&r.jsxs("div",{className:"text-center py-16",children:[r.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Start searching"}),r.jsx("p",{className:"text-gray-500 max-w-sm mx-auto",children:"Search across Notion, Google Drive, GitHub, and Slack to find documents, messages, and issues."})]})]})}function vD(){const[e,t]=b.useState(null),[n,a]=b.useState(null),[s,i]=b.useState([]),[l,d]=b.useState(!0),[u,h]=b.useState(null);b.useEffect(()=>{p();const m=setInterval(p,3e4);return()=>clearInterval(m)},[]);const p=async()=>{try{const[m,x,j]=await Promise.all([fetch("/api/admin/metrics",{credentials:"include"}),fetch("/api/admin/system/health",{credentials:"include"}),fetch("/api/admin/metrics/revenue",{credentials:"include"})]);if(m.ok&&t(await m.json()),x.ok&&a(await x.json()),j.ok){const v=await j.json();i(v.topOrganizations||[])}h(null)}catch{h("Failed to load dashboard data")}finally{d(!1)}};return l?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})}):u?r.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:u}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Platform overview and monitoring"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm text-gray-500",children:["Last updated: ",e!=null&&e.timestamp?new Date(e.timestamp).toLocaleTimeString():"N/A"]}),r.jsx("button",{onClick:p,className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Refresh"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(Nu,{title:"MRR",value:`$${((e==null?void 0:e.revenue.mrr)||0).toLocaleString()}`,subtext:`ARR: $${((e==null?void 0:e.revenue.arr)||0).toLocaleString()}`,trend:12,trendLabel:"vs last month",icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"green"}),r.jsx(Nu,{title:"Total Users",value:((e==null?void 0:e.users.total)||0).toLocaleString(),subtext:`${(e==null?void 0:e.users.activeThisMonth)||0} active this month`,trend:8,trendLabel:"vs last month",icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),color:"blue"}),r.jsx(Nu,{title:"Organizations",value:((e==null?void 0:e.organizations.total)||0).toLocaleString(),subtext:`${(e==null?void 0:e.organizations.newThisMonth)||0} new this month`,trend:(e==null?void 0:e.organizations.newThisMonth)||0,trendLabel:"new signups",icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),color:"purple"}),r.jsx(Nu,{title:"System Uptime",value:`${((e==null?void 0:e.system.uptime)||99.9).toFixed(1)}%`,subtext:`${(e==null?void 0:e.system.avgLatency)||0}ms avg latency`,icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),color:e!=null&&e.system.uptime&&e.system.uptime>=99.9?"green":"yellow"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue by Plan"}),r.jsx("div",{className:"space-y-3",children:Object.entries((e==null?void 0:e.revenue.revenueByPlan)||{}).map(([m,x])=>r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"w-24 text-sm text-gray-600 capitalize",children:m}),r.jsx("div",{className:"flex-1 h-4 bg-gray-100 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${e!=null&&e.revenue.mrr?x/e.revenue.mrr*100:0}%`}})}),r.jsxs("span",{className:"w-20 text-sm text-gray-900 text-right",children:["$",x.toLocaleString()]})]},m))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"System Health"}),r.jsx(bD,{status:(n==null?void 0:n.status)||"healthy"})]}),r.jsx("div",{className:"space-y-3",children:n==null?void 0:n.components.map(m=>r.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[r.jsx("span",{className:"text-sm text-gray-600 capitalize",children:m.name}),r.jsxs("div",{className:"flex items-center gap-2",children:[m.latency&&r.jsxs("span",{className:"text-xs text-gray-400",children:[m.latency,"ms"]}),r.jsx(jD,{status:m.status})]})]},m.name))})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Top Organizations by Spend"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Organization"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Plan"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Monthly Spend"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[s.map(m=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"font-medium text-gray-900",children:m.name})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded-full capitalize",children:m.plan})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-gray-900",children:["$",m.monthlySpend.toLocaleString()]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:r.jsx("button",{className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"View"})})]},m.id)),s.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No organizations found"})})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Plan Distribution"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries((e==null?void 0:e.organizations.byPlan)||{}).map(([m,x])=>r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x}),r.jsx("p",{className:"text-sm text-gray-500 capitalize",children:m})]},m))})]})]})}function Nu({title:e,value:t,subtext:n,trend:a,trendLabel:s,icon:i,color:l="gray"}){const d={green:"bg-green-100 text-green-600",blue:"bg-blue-100 text-blue-600",purple:"bg-purple-100 text-purple-600",yellow:"bg-yellow-100 text-yellow-600",gray:"bg-gray-100 text-gray-600"};return r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:`p-2 rounded-lg ${d[l]}`,children:i}),a!==void 0&&r.jsxs("span",{className:`text-sm font-medium ${a>=0?"text-green-600":"text-red-600"}`,children:[a>=0?"+":"",a,"%"]})]}),r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:e}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n})]})}function bD({status:e}){const t={healthy:{bg:"bg-green-100",text:"text-green-700",label:"Healthy"},degraded:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Degraded"},unhealthy:{bg:"bg-red-100",text:"text-red-700",label:"Unhealthy"}},{bg:n,text:a,label:s}=t[e];return r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${n} ${a}`,children:s})}function jD({status:e}){const t={healthy:"bg-green-500",degraded:"bg-yellow-500",unhealthy:"bg-red-500"};return r.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${t[e]}`})}function wD(){const[e,t]=b.useState([]),[n,a]=b.useState({total:0,page:1,pageSize:20,totalPages:0}),[s,i]=b.useState(!0),[l,d]=b.useState(null),[u,h]=b.useState(""),[p,m]=b.useState("all"),[x,j]=b.useState("all"),[v,w]=b.useState("createdAt"),[g,S]=b.useState("desc"),P=b.useCallback(async()=>{i(!0);try{const I=new URLSearchParams({page:n.page.toString(),limit:n.pageSize.toString(),sortBy:v,sortOrder:g});u&&I.append("search",u),p!=="all"&&I.append("status",p),x!=="all"&&I.append("plan",x);const M=await fetch(`/api/admin/organizations?${I}`,{credentials:"include"});if(!M.ok)throw new Error("Failed to fetch organizations");const $=await M.json();t($.organizations||[]),a(G=>({...G,total:$.total||0,totalPages:Math.ceil(($.total||0)/G.pageSize)}))}catch(I){d(I instanceof Error?I.message:"Failed to load organizations")}finally{i(!1)}},[n.page,n.pageSize,u,p,x,v,g]);b.useEffect(()=>{P()},[P]);const O=I=>{v===I?S(g==="asc"?"desc":"asc"):(w(I),S("desc"))},N=async I=>{if(confirm("Are you sure you want to suspend this organization?"))try{if(!(await fetch(`/api/admin/organizations/${I}/suspend`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to suspend organization");P()}catch(M){alert(M instanceof Error?M.message:"Failed to suspend organization")}},A=async I=>{try{if(!(await fetch(`/api/admin/organizations/${I}/reactivate`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to reactivate organization");P()}catch(M){alert(M instanceof Error?M.message:"Failed to reactivate organization")}},C=I=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(I),E=I=>new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),T=I=>{switch(I){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-red-100 text-red-800";case"trial":return"bg-blue-100 text-blue-800";case"churned":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},R=I=>{switch(I.toLowerCase()){case"enterprise":return"bg-purple-100 text-purple-800";case"pro":return"bg-indigo-100 text-indigo-800";case"starter":return"bg-blue-100 text-blue-800";case"free":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return l?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"text-red-600 text-lg mb-4",children:"Error"}),r.jsx("p",{className:"text-gray-600",children:l}),r.jsx("button",{onClick:P,className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Retry"})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Organizations"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Manage all platform organizations"})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("span",{className:"text-sm text-gray-500",children:[n.total," total"]})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsx("div",{className:"flex-1 min-w-[200px]",children:r.jsx("input",{type:"text",placeholder:"Search organizations...",value:u,onChange:I=>{h(I.target.value),a(M=>({...M,page:1}))},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),r.jsxs("select",{value:p,onChange:I=>{m(I.target.value),a(M=>({...M,page:1}))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"all",children:"All Statuses"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"trial",children:"Trial"}),r.jsx("option",{value:"suspended",children:"Suspended"}),r.jsx("option",{value:"churned",children:"Churned"})]}),r.jsxs("select",{value:x,onChange:I=>{j(I.target.value),a(M=>({...M,page:1}))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"all",children:"All Plans"}),r.jsx("option",{value:"free",children:"Free"}),r.jsx("option",{value:"starter",children:"Starter"}),r.jsx("option",{value:"pro",children:"Pro"}),r.jsx("option",{value:"enterprise",children:"Enterprise"})]}),r.jsx("button",{onClick:P,disabled:s,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:r.jsx("svg",{className:`w-5 h-5 ${s?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>O("name"),children:r.jsxs("div",{className:"flex items-center gap-1",children:["Organization",v==="name"&&r.jsx("span",{children:g==="asc"?"":""})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>O("userCount"),children:r.jsxs("div",{className:"flex items-center gap-1",children:["Users",v==="userCount"&&r.jsx("span",{children:g==="asc"?"":""})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>O("mrr"),children:r.jsxs("div",{className:"flex items-center gap-1",children:["MRR",v==="mrr"&&r.jsx("span",{children:g==="asc"?"":""})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>O("createdAt"),children:r.jsxs("div",{className:"flex items-center gap-1",children:["Created",v==="createdAt"&&r.jsx("span",{children:g==="asc"?"":""})]})}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})})})}):e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:"No organizations found"})}):e.map(I=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:I.name}),r.jsx("div",{className:"text-sm text-gray-500",children:I.slug})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${R(I.plan)}`,children:I.plan})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${T(I.status)}`,children:I.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I.userCount}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C(I.mrr)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E(I.createdAt)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("a",{href:`/admin/organizations/${I.id}`,className:"text-indigo-600 hover:text-indigo-900 font-medium",children:"View"}),I.status==="active"?r.jsx("button",{onClick:()=>N(I.id),className:"text-red-600 hover:text-red-900 font-medium",children:"Suspend"}):I.status==="suspended"?r.jsx("button",{onClick:()=>A(I.id),className:"text-green-600 hover:text-green-900 font-medium",children:"Reactivate"}):null]})})]},I.id))})]})}),n.totalPages>1&&r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(n.page-1)*n.pageSize+1," to"," ",Math.min(n.page*n.pageSize,n.total)," of"," ",n.total," results"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>a(I=>({...I,page:I.page-1})),disabled:n.page===1,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),r.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",n.page," of ",n.totalPages]}),r.jsx("button",{onClick:()=>a(I=>({...I,page:I.page+1})),disabled:n.page===n.totalPages,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})}function ND(){const[e,t]=b.useState("all"),[n,a]=b.useState("all"),[s,i]=b.useState(""),[l,d]=b.useState(1),[u,h]=b.useState(null),[p,m]=b.useState(""),{data:x}=G7(),{data:j,isLoading:v}=K7({status:e==="all"?void 0:e,provider:n==="all"?void 0:n,page:l,limit:20}),{data:w}=V7(),g=Q7(),S=Y7(),P=X7(),O=J7(),N=CO(),A=x||{total:0,linked:0,unlinked:0,suggested:0,byProvider:{slack:0,google:0,notion:0}},C=(j==null?void 0:j.identities)||[],E=(j==null?void 0:j.pagination)||{page:1,totalPages:0},T=C.filter(V=>{var U,W,B,F,L,q;if(!s)return!0;const z=s.toLowerCase();return((U=V.email)==null?void 0:U.toLowerCase().includes(z))||((W=V.displayName)==null?void 0:W.toLowerCase().includes(z))||((F=(B=V.linkedUser)==null?void 0:B.email)==null?void 0:F.toLowerCase().includes(z))||((q=(L=V.linkedUser)==null?void 0:L.displayName)==null?void 0:q.toLowerCase().includes(z))}),R=V=>{if(!p.trim()){alert("Please enter a user ID");return}g.mutate({identityId:V,userId:p},{onSuccess:()=>{h(null),m("")},onError:z=>{alert(z.message)}})},I=V=>{confirm("Unlink this identity?")&&S.mutate({identityId:V},{onError:z=>{alert(z.message)}})},M=V=>{P.mutate({suggestionId:V},{onError:z=>{alert(z.message)}})},$=V=>{O.mutate({suggestionId:V},{onError:z=>{alert(z.message)}})},G=()=>{confirm("Sync all Slack users to the identity system? This will create identity records and attempt auto-linking.")&&N.mutate(void 0,{onSuccess:V=>{alert(`Sync complete: ${V.message}

Auto-linked: ${V.stats.autoLinked}
Suggestions created: ${V.stats.suggested}`)},onError:V=>{alert(V.message)}})};return r.jsxs("div",{className:"min-h-screen bg-black text-white",children:[r.jsx("div",{className:"border-b-4 border-white bg-black",children:r.jsxs("div",{className:"p-8 flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-6xl font-black uppercase tracking-tighter mb-2",children:"Identity"}),r.jsx("p",{className:"text-xl font-mono text-gray-400",children:"CONTROL PANEL"})]}),r.jsxs("button",{onClick:G,disabled:N.isPending,className:"px-6 py-3 border-2 border-white text-white font-mono font-bold uppercase hover:bg-white hover:text-black transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[r.jsx(Jn,{className:`w-5 h-5 ${N.isPending?"animate-spin":""}`}),N.isPending?"SYNCING...":"SYNC SLACK USERS"]})]})}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[r.jsx(Su,{label:"TOTAL",value:A.total,color:"border-white"}),r.jsx(Su,{label:"LINKED",value:A.linked,color:"border-green-500"}),r.jsx(Su,{label:"UNLINKED",value:A.unlinked,color:"border-red-500"}),r.jsx(Su,{label:"SUGGESTED",value:A.suggested,color:"border-yellow-500"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[r.jsx(Zp,{provider:"SLACK",count:A.byProvider.slack,icon:r.jsx(uf,{className:"w-8 h-8"})}),r.jsx(Zp,{provider:"GOOGLE",count:A.byProvider.google,icon:r.jsx(df,{className:"w-8 h-8"})}),r.jsx(Zp,{provider:"NOTION",count:A.byProvider.notion,icon:r.jsx(cf,{className:"w-8 h-8"})})]}),w&&w.length>0&&r.jsx(SD,{suggestions:w,onAccept:M,onReject:$}),r.jsx("div",{className:"border-4 border-white bg-black p-6 mb-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-mono font-bold mb-2 uppercase",children:"Search"}),r.jsx("input",{type:"text",value:s,onChange:V=>i(V.target.value),placeholder:"Email or name...",className:"w-full bg-black border-2 border-white px-4 py-3 font-mono text-white placeholder-gray-600 focus:outline-none focus:border-yellow-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-mono font-bold mb-2 uppercase",children:"Status"}),r.jsxs("select",{value:e,onChange:V=>{t(V.target.value),d(1)},className:"w-full bg-black border-2 border-white px-4 py-3 font-mono text-white focus:outline-none focus:border-yellow-500",children:[r.jsx("option",{value:"all",children:"ALL"}),r.jsx("option",{value:"linked",children:"LINKED"}),r.jsx("option",{value:"unlinked",children:"UNLINKED"}),r.jsx("option",{value:"suggested",children:"SUGGESTED"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-mono font-bold mb-2 uppercase",children:"Provider"}),r.jsxs("select",{value:n,onChange:V=>{a(V.target.value),d(1)},className:"w-full bg-black border-2 border-white px-4 py-3 font-mono text-white focus:outline-none focus:border-yellow-500",children:[r.jsx("option",{value:"all",children:"ALL"}),r.jsx("option",{value:"slack",children:"SLACK"}),r.jsx("option",{value:"google",children:"GOOGLE"}),r.jsx("option",{value:"notion",children:"NOTION"})]})]})]})}),r.jsxs("div",{className:"border-4 border-white bg-black overflow-hidden",children:[r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b-4 border-white",children:[r.jsx("th",{className:"text-left p-4 font-mono text-xs font-bold uppercase",children:"Provider"}),r.jsx("th",{className:"text-left p-4 font-mono text-xs font-bold uppercase",children:"Identity"}),r.jsx("th",{className:"text-left p-4 font-mono text-xs font-bold uppercase",children:"Status"}),r.jsx("th",{className:"text-left p-4 font-mono text-xs font-bold uppercase",children:"Linked User"}),r.jsx("th",{className:"text-right p-4 font-mono text-xs font-bold uppercase",children:"Actions"})]})}),r.jsx("tbody",{children:v?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-12 text-center",children:r.jsx("div",{className:"inline-block w-8 h-8 border-4 border-white border-t-transparent animate-spin"})})}):T.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-12 text-center font-mono text-gray-600",children:"NO IDENTITIES FOUND"})}):T.map(V=>r.jsx(kD,{identity:V,onLink:()=>h(V),onUnlink:()=>I(V.id)},V.id))})]}),E.totalPages>1&&r.jsxs("div",{className:"border-t-4 border-white p-4 flex justify-between items-center",children:[r.jsxs("div",{className:"font-mono text-sm",children:["PAGE ",E.page," / ",E.totalPages]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>d(V=>Math.max(1,V-1)),disabled:l===1,className:"px-4 py-2 border-2 border-white font-mono font-bold disabled:opacity-30 disabled:cursor-not-allowed hover:bg-white hover:text-black transition-colors",children:"PREV"}),r.jsx("button",{onClick:()=>d(V=>Math.min(E.totalPages,V+1)),disabled:l===E.totalPages,className:"px-4 py-2 border-2 border-white font-mono font-bold disabled:opacity-30 disabled:cursor-not-allowed hover:bg-white hover:text-black transition-colors",children:"NEXT"})]})]})]})]}),u&&r.jsx(CD,{identity:u,linkUserId:p,setLinkUserId:m,onLink:()=>R(u.id),onClose:()=>{h(null),m("")},isLoading:g.isPending})]})}function Su({label:e,value:t,color:n}){return r.jsxs("div",{className:`border-4 ${n} bg-black p-6`,children:[r.jsx("div",{className:"text-5xl font-black mb-2",children:t}),r.jsx("div",{className:"text-xs font-mono font-bold",children:e})]})}function Zp({provider:e,count:t,icon:n}){return r.jsxs("div",{className:"border-4 border-white bg-black p-6 flex items-center gap-4",children:[r.jsx("div",{className:"text-white",children:n}),r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-black",children:t}),r.jsx("div",{className:"text-xs font-mono font-bold",children:e})]})]})}function SD({suggestions:e,onAccept:t,onReject:n}){return r.jsxs("div",{className:"border-4 border-yellow-500 bg-black p-6 mb-8",children:[r.jsxs("h2",{className:"text-2xl font-black uppercase mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"inline-block w-4 h-4 bg-yellow-500 animate-pulse"}),"PENDING SUGGESTIONS (",e.length,")"]}),r.jsx("div",{className:"space-y-4",children:e.map(a=>r.jsxs("div",{className:"border-2 border-yellow-500 bg-black p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-mono text-sm mb-1",children:a.externalIdentity.displayName||a.externalIdentity.email}),r.jsxs("div",{className:"text-xs text-gray-400 font-mono",children:[a.externalIdentity.provider.toUpperCase()," "," ",a.suggestedUser.email]}),r.jsxs("div",{className:"text-xs text-yellow-500 font-mono mt-1",children:["CONFIDENCE: ",Math.round(a.confidenceScore*100),"%"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>t(a.id),className:"px-4 py-2 border-2 border-green-500 text-green-500 font-mono font-bold hover:bg-green-500 hover:text-black transition-colors flex items-center gap-2",children:[r.jsx(Ka,{className:"w-4 h-4"}),"ACCEPT"]}),r.jsxs("button",{onClick:()=>n(a.id),className:"px-4 py-2 border-2 border-red-500 text-red-500 font-mono font-bold hover:bg-red-500 hover:text-black transition-colors flex items-center gap-2",children:[r.jsx(EO,{className:"w-4 h-4"}),"REJECT"]})]})]},a.id))})]})}function kD({identity:e,onLink:t,onUnlink:n}){const a={slack:uf,google:df,notion:cf}[e.provider],s={linked:"border-green-500 text-green-500",unlinked:"border-red-500 text-red-500",suggested:"border-yellow-500 text-yellow-500"};return r.jsxs("tr",{className:"border-b-2 border-gray-800 hover:bg-gray-900 transition-colors",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(a,{className:"w-5 h-5"}),r.jsx("span",{className:"font-mono text-xs uppercase",children:e.provider})]})}),r.jsxs("td",{className:"p-4",children:[r.jsx("div",{className:"font-mono text-sm",children:e.displayName||e.email||"Unknown"}),e.email&&e.displayName&&r.jsx("div",{className:"font-mono text-xs text-gray-500",children:e.email})]}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:`inline-block px-3 py-1 border-2 ${s[e.linkStatus]} font-mono text-xs font-bold uppercase`,children:e.linkStatus})}),r.jsx("td",{className:"p-4",children:e.linkedUser?r.jsxs("div",{children:[r.jsx("div",{className:"font-mono text-sm",children:e.linkedUser.displayName}),r.jsx("div",{className:"font-mono text-xs text-gray-500",children:e.linkedUser.email})]}):r.jsx("span",{className:"font-mono text-xs text-gray-600",children:"NOT LINKED"})}),r.jsx("td",{className:"p-4 text-right",children:r.jsx("div",{className:"flex justify-end gap-2",children:e.linkStatus==="linked"?r.jsxs("button",{onClick:n,className:"px-3 py-1.5 border-2 border-red-500 text-red-500 font-mono text-xs font-bold hover:bg-red-500 hover:text-black transition-colors flex items-center gap-1",children:[r.jsx(EL,{className:"w-3 h-3"}),"UNLINK"]}):r.jsxs("button",{onClick:t,className:"px-3 py-1.5 border-2 border-green-500 text-green-500 font-mono text-xs font-bold hover:bg-green-500 hover:text-black transition-colors flex items-center gap-1",children:[r.jsx(gj,{className:"w-3 h-3"}),"LINK"]})})})]})}function CD({identity:e,linkUserId:t,setLinkUserId:n,onLink:a,onClose:s,isLoading:i}){return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"border-4 border-white bg-black p-8 max-w-lg w-full",children:[r.jsx("h2",{className:"text-3xl font-black uppercase mb-6",children:"LINK IDENTITY"}),r.jsxs("div",{className:"mb-6 p-4 border-2 border-gray-700",children:[r.jsx("div",{className:"font-mono text-sm mb-2",children:e.displayName||e.email||"Unknown"}),r.jsx("div",{className:"font-mono text-xs text-gray-500 uppercase",children:e.provider})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-xs font-mono font-bold mb-2 uppercase",children:"User ID"}),r.jsx("input",{type:"text",value:t,onChange:l=>n(l.target.value),placeholder:"Enter user ID...",className:"w-full bg-black border-2 border-white px-4 py-3 font-mono text-white placeholder-gray-600 focus:outline-none focus:border-yellow-500",autoFocus:!0})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:a,disabled:i,className:"flex-1 px-6 py-3 border-2 border-green-500 text-green-500 font-mono font-bold hover:bg-green-500 hover:text-black transition-colors disabled:opacity-30 disabled:cursor-not-allowed",children:i?"LINKING...":"LINK"}),r.jsx("button",{onClick:s,disabled:i,className:"flex-1 px-6 py-3 border-2 border-white text-white font-mono font-bold hover:bg-white hover:text-black transition-colors disabled:opacity-30",children:"CANCEL"})]})]})})}function Io(e){return e.status===404||e.status===502}function Jc({title:e,description:t,onRetry:n}){return r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-12 text-center max-w-lg",children:[r.jsx("div",{className:"text-4xl mb-4",children:r.jsx("svg",{className:"w-12 h-12 mx-auto text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.42 15.17l-5.28-3.3a.5.5 0 010-.84l5.28-3.3a.5.5 0 01.76.42v6.6a.5.5 0 01-.76.42zM20 7l-8 5 8 5V7z"})})}),r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:e}),r.jsx("p",{className:"text-blue-700 text-sm",children:t||"This feature is currently being set up. Please check back later."}),n&&r.jsx("button",{onClick:n,className:"mt-4 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Retry"})]})})}function RO(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=RO(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function ze(){for(var e,t,n=0,a="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=RO(e))&&(a&&(a+=" "),a+=t);return a}var ex,mS;function Sr(){if(mS)return ex;mS=1;var e=Array.isArray;return ex=e,ex}var tx,pS;function MO(){if(pS)return tx;pS=1;var e=typeof yu=="object"&&yu&&yu.Object===Object&&yu;return tx=e,tx}var rx,xS;function Mn(){if(xS)return rx;xS=1;var e=MO(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return rx=n,rx}var nx,gS;function Zc(){if(gS)return nx;gS=1;var e=Mn(),t=e.Symbol;return nx=t,nx}var ax,yS;function AD(){if(yS)return ax;yS=1;var e=Zc(),t=Object.prototype,n=t.hasOwnProperty,a=t.toString,s=e?e.toStringTag:void 0;function i(l){var d=n.call(l,s),u=l[s];try{l[s]=void 0;var h=!0}catch{}var p=a.call(l);return h&&(d?l[s]=u:delete l[s]),p}return ax=i,ax}var sx,vS;function PD(){if(vS)return sx;vS=1;var e=Object.prototype,t=e.toString;function n(a){return t.call(a)}return sx=n,sx}var ix,bS;function da(){if(bS)return ix;bS=1;var e=Zc(),t=AD(),n=PD(),a="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function l(d){return d==null?d===void 0?s:a:i&&i in Object(d)?t(d):n(d)}return ix=l,ix}var ox,jS;function ua(){if(jS)return ox;jS=1;function e(t){return t!=null&&typeof t=="object"}return ox=e,ox}var lx,wS;function $o(){if(wS)return lx;wS=1;var e=da(),t=ua(),n="[object Symbol]";function a(s){return typeof s=="symbol"||t(s)&&e(s)==n}return lx=a,lx}var cx,NS;function yj(){if(NS)return cx;NS=1;var e=Sr(),t=$o(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(i,l){if(e(i))return!1;var d=typeof i;return d=="number"||d=="symbol"||d=="boolean"||i==null||t(i)?!0:a.test(i)||!n.test(i)||l!=null&&i in Object(l)}return cx=s,cx}var dx,SS;function ns(){if(SS)return dx;SS=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return dx=e,dx}var ux,kS;function vj(){if(kS)return ux;kS=1;var e=da(),t=ns(),n="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function l(d){if(!t(d))return!1;var u=e(d);return u==a||u==s||u==n||u==i}return ux=l,ux}var hx,CS;function OD(){if(CS)return hx;CS=1;var e=Mn(),t=e["__core-js_shared__"];return hx=t,hx}var fx,AS;function ED(){if(AS)return fx;AS=1;var e=OD(),t=(function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function n(a){return!!t&&t in a}return fx=n,fx}var mx,PS;function IO(){if(PS)return mx;PS=1;var e=Function.prototype,t=e.toString;function n(a){if(a!=null){try{return t.call(a)}catch{}try{return a+""}catch{}}return""}return mx=n,mx}var px,OS;function _D(){if(OS)return px;OS=1;var e=vj(),t=ED(),n=ns(),a=IO(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,l=Function.prototype,d=Object.prototype,u=l.toString,h=d.hasOwnProperty,p=RegExp("^"+u.call(h).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(x){if(!n(x)||t(x))return!1;var j=e(x)?p:i;return j.test(a(x))}return px=m,px}var xx,ES;function TD(){if(ES)return xx;ES=1;function e(t,n){return t==null?void 0:t[n]}return xx=e,xx}var gx,_S;function ei(){if(_S)return gx;_S=1;var e=_D(),t=TD();function n(a,s){var i=t(a,s);return e(i)?i:void 0}return gx=n,gx}var yx,TS;function hf(){if(TS)return yx;TS=1;var e=ei(),t=e(Object,"create");return yx=t,yx}var vx,RS;function RD(){if(RS)return vx;RS=1;var e=hf();function t(){this.__data__=e?e(null):{},this.size=0}return vx=t,vx}var bx,MS;function MD(){if(MS)return bx;MS=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return bx=e,bx}var jx,IS;function ID(){if(IS)return jx;IS=1;var e=hf(),t="__lodash_hash_undefined__",n=Object.prototype,a=n.hasOwnProperty;function s(i){var l=this.__data__;if(e){var d=l[i];return d===t?void 0:d}return a.call(l,i)?l[i]:void 0}return jx=s,jx}var wx,$S;function $D(){if($S)return wx;$S=1;var e=hf(),t=Object.prototype,n=t.hasOwnProperty;function a(s){var i=this.__data__;return e?i[s]!==void 0:n.call(i,s)}return wx=a,wx}var Nx,LS;function LD(){if(LS)return Nx;LS=1;var e=hf(),t="__lodash_hash_undefined__";function n(a,s){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=e&&s===void 0?t:s,this}return Nx=n,Nx}var Sx,DS;function DD(){if(DS)return Sx;DS=1;var e=RD(),t=MD(),n=ID(),a=$D(),s=LD();function i(l){var d=-1,u=l==null?0:l.length;for(this.clear();++d<u;){var h=l[d];this.set(h[0],h[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=a,i.prototype.set=s,Sx=i,Sx}var kx,FS;function FD(){if(FS)return kx;FS=1;function e(){this.__data__=[],this.size=0}return kx=e,kx}var Cx,qS;function bj(){if(qS)return Cx;qS=1;function e(t,n){return t===n||t!==t&&n!==n}return Cx=e,Cx}var Ax,zS;function ff(){if(zS)return Ax;zS=1;var e=bj();function t(n,a){for(var s=n.length;s--;)if(e(n[s][0],a))return s;return-1}return Ax=t,Ax}var Px,BS;function qD(){if(BS)return Px;BS=1;var e=ff(),t=Array.prototype,n=t.splice;function a(s){var i=this.__data__,l=e(i,s);if(l<0)return!1;var d=i.length-1;return l==d?i.pop():n.call(i,l,1),--this.size,!0}return Px=a,Px}var Ox,US;function zD(){if(US)return Ox;US=1;var e=ff();function t(n){var a=this.__data__,s=e(a,n);return s<0?void 0:a[s][1]}return Ox=t,Ox}var Ex,WS;function BD(){if(WS)return Ex;WS=1;var e=ff();function t(n){return e(this.__data__,n)>-1}return Ex=t,Ex}var _x,HS;function UD(){if(HS)return _x;HS=1;var e=ff();function t(n,a){var s=this.__data__,i=e(s,n);return i<0?(++this.size,s.push([n,a])):s[i][1]=a,this}return _x=t,_x}var Tx,KS;function mf(){if(KS)return Tx;KS=1;var e=FD(),t=qD(),n=zD(),a=BD(),s=UD();function i(l){var d=-1,u=l==null?0:l.length;for(this.clear();++d<u;){var h=l[d];this.set(h[0],h[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=a,i.prototype.set=s,Tx=i,Tx}var Rx,GS;function jj(){if(GS)return Rx;GS=1;var e=ei(),t=Mn(),n=e(t,"Map");return Rx=n,Rx}var Mx,VS;function WD(){if(VS)return Mx;VS=1;var e=DD(),t=mf(),n=jj();function a(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Mx=a,Mx}var Ix,QS;function HD(){if(QS)return Ix;QS=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Ix=e,Ix}var $x,YS;function pf(){if(YS)return $x;YS=1;var e=HD();function t(n,a){var s=n.__data__;return e(a)?s[typeof a=="string"?"string":"hash"]:s.map}return $x=t,$x}var Lx,XS;function KD(){if(XS)return Lx;XS=1;var e=pf();function t(n){var a=e(this,n).delete(n);return this.size-=a?1:0,a}return Lx=t,Lx}var Dx,JS;function GD(){if(JS)return Dx;JS=1;var e=pf();function t(n){return e(this,n).get(n)}return Dx=t,Dx}var Fx,ZS;function VD(){if(ZS)return Fx;ZS=1;var e=pf();function t(n){return e(this,n).has(n)}return Fx=t,Fx}var qx,e5;function QD(){if(e5)return qx;e5=1;var e=pf();function t(n,a){var s=e(this,n),i=s.size;return s.set(n,a),this.size+=s.size==i?0:1,this}return qx=t,qx}var zx,t5;function wj(){if(t5)return zx;t5=1;var e=WD(),t=KD(),n=GD(),a=VD(),s=QD();function i(l){var d=-1,u=l==null?0:l.length;for(this.clear();++d<u;){var h=l[d];this.set(h[0],h[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=a,i.prototype.set=s,zx=i,zx}var Bx,r5;function $O(){if(r5)return Bx;r5=1;var e=wj(),t="Expected a function";function n(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var l=arguments,d=s?s.apply(this,l):l[0],u=i.cache;if(u.has(d))return u.get(d);var h=a.apply(this,l);return i.cache=u.set(d,h)||u,h};return i.cache=new(n.Cache||e),i}return n.Cache=e,Bx=n,Bx}var Ux,n5;function YD(){if(n5)return Ux;n5=1;var e=$O(),t=500;function n(a){var s=e(a,function(l){return i.size===t&&i.clear(),l}),i=s.cache;return s}return Ux=n,Ux}var Wx,a5;function XD(){if(a5)return Wx;a5=1;var e=YD(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,a=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(l,d,u,h){i.push(u?h.replace(n,"$1"):d||l)}),i});return Wx=a,Wx}var Hx,s5;function Nj(){if(s5)return Hx;s5=1;function e(t,n){for(var a=-1,s=t==null?0:t.length,i=Array(s);++a<s;)i[a]=n(t[a],a,t);return i}return Hx=e,Hx}var Kx,i5;function JD(){if(i5)return Kx;i5=1;var e=Zc(),t=Nj(),n=Sr(),a=$o(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function l(d){if(typeof d=="string")return d;if(n(d))return t(d,l)+"";if(a(d))return i?i.call(d):"";var u=d+"";return u=="0"&&1/d==-1/0?"-0":u}return Kx=l,Kx}var Gx,o5;function LO(){if(o5)return Gx;o5=1;var e=JD();function t(n){return n==null?"":e(n)}return Gx=t,Gx}var Vx,l5;function DO(){if(l5)return Vx;l5=1;var e=Sr(),t=yj(),n=XD(),a=LO();function s(i,l){return e(i)?i:t(i,l)?[i]:n(a(i))}return Vx=s,Vx}var Qx,c5;function xf(){if(c5)return Qx;c5=1;var e=$o();function t(n){if(typeof n=="string"||e(n))return n;var a=n+"";return a=="0"&&1/n==-1/0?"-0":a}return Qx=t,Qx}var Yx,d5;function Sj(){if(d5)return Yx;d5=1;var e=DO(),t=xf();function n(a,s){s=e(s,a);for(var i=0,l=s.length;a!=null&&i<l;)a=a[t(s[i++])];return i&&i==l?a:void 0}return Yx=n,Yx}var Xx,u5;function FO(){if(u5)return Xx;u5=1;var e=Sj();function t(n,a,s){var i=n==null?void 0:e(n,a);return i===void 0?s:i}return Xx=t,Xx}var ZD=FO();const Mr=Ze(ZD);var Jx,h5;function e9(){if(h5)return Jx;h5=1;function e(t){return t==null}return Jx=e,Jx}var t9=e9();const qe=Ze(t9);var Zx,f5;function r9(){if(f5)return Zx;f5=1;var e=da(),t=Sr(),n=ua(),a="[object String]";function s(i){return typeof i=="string"||!t(i)&&n(i)&&e(i)==a}return Zx=s,Zx}var n9=r9();const Gs=Ze(n9);var a9=vj();const Fe=Ze(a9);var s9=ns();const Lo=Ze(s9);var eg={exports:{}},Ye={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m5;function i9(){if(m5)return Ye;m5=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function w(g){if(typeof g=="object"&&g!==null){var S=g.$$typeof;switch(S){case e:switch(g=g.type,g){case n:case s:case a:case h:case p:return g;default:switch(g=g&&g.$$typeof,g){case d:case l:case u:case x:case m:case i:return g;default:return S}}case t:return S}}}return Ye.ContextConsumer=l,Ye.ContextProvider=i,Ye.Element=e,Ye.ForwardRef=u,Ye.Fragment=n,Ye.Lazy=x,Ye.Memo=m,Ye.Portal=t,Ye.Profiler=s,Ye.StrictMode=a,Ye.Suspense=h,Ye.SuspenseList=p,Ye.isAsyncMode=function(){return!1},Ye.isConcurrentMode=function(){return!1},Ye.isContextConsumer=function(g){return w(g)===l},Ye.isContextProvider=function(g){return w(g)===i},Ye.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===e},Ye.isForwardRef=function(g){return w(g)===u},Ye.isFragment=function(g){return w(g)===n},Ye.isLazy=function(g){return w(g)===x},Ye.isMemo=function(g){return w(g)===m},Ye.isPortal=function(g){return w(g)===t},Ye.isProfiler=function(g){return w(g)===s},Ye.isStrictMode=function(g){return w(g)===a},Ye.isSuspense=function(g){return w(g)===h},Ye.isSuspenseList=function(g){return w(g)===p},Ye.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===n||g===s||g===a||g===h||g===p||g===j||typeof g=="object"&&g!==null&&(g.$$typeof===x||g.$$typeof===m||g.$$typeof===i||g.$$typeof===l||g.$$typeof===u||g.$$typeof===v||g.getModuleId!==void 0)},Ye.typeOf=w,Ye}var p5;function o9(){return p5||(p5=1,eg.exports=i9()),eg.exports}var l9=o9(),tg,x5;function qO(){if(x5)return tg;x5=1;var e=da(),t=ua(),n="[object Number]";function a(s){return typeof s=="number"||t(s)&&e(s)==n}return tg=a,tg}var rg,g5;function c9(){if(g5)return rg;g5=1;var e=qO();function t(n){return e(n)&&n!=+n}return rg=t,rg}var d9=c9();const ed=Ze(d9);var u9=qO();const h9=Ze(u9);var cr=function(t){return t===0?0:t>0?1:-1},Ps=function(t){return Gs(t)&&t.indexOf("%")===t.length-1},ge=function(t){return h9(t)&&!ed(t)},f9=function(t){return qe(t)},Dt=function(t){return ge(t)||Gs(t)},m9=0,Do=function(t){var n=++m9;return"".concat(t||"").concat(n)},dr=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(t)&&!Gs(t))return a;var i;if(Ps(t)){var l=t.indexOf("%");i=n*parseFloat(t.slice(0,l))/100}else i=+t;return ed(i)&&(i=a),s&&i>n&&(i=n),i},Ia=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},p9=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,a={},s=0;s<n;s++)if(!a[t[s]])a[t[s]]=!0;else return!0;return!1},Tr=function(t,n){return ge(t)&&ge(n)?function(a){return t+a*(n-t)}:function(){return n}};function Ju(e,t,n){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):Mr(a,t))===n})}var x9=function(t,n){return ge(t)&&ge(n)?t-n:Gs(t)&&Gs(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function zi(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function Tv(e){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tv(e)}var g9=["viewBox","children"],y9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],y5=["points","pathLength"],ng={svg:g9,polygon:y5,polyline:y5},kj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Zu=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(b.isValidElement(t)&&(a=t.props),!Lo(a))return null;var s={};return Object.keys(a).forEach(function(i){kj.includes(i)&&(s[i]=n||function(l){return a[i](a,l)})}),s},v9=function(t,n,a){return function(s){return t(n,a,s),null}},Vs=function(t,n,a){if(!Lo(t)||Tv(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var l=t[i];kj.includes(i)&&typeof l=="function"&&(s||(s={}),s[i]=v9(l,n,a))}),s},b9=["children"],j9=["children"];function v5(e,t){if(e==null)return{};var n=w9(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function w9(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Rv(e){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rv(e)}var b5={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ra=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},j5=null,ag=null,Cj=function e(t){if(t===j5&&Array.isArray(ag))return ag;var n=[];return b.Children.forEach(t,function(a){qe(a)||(l9.isFragment(a)?n=n.concat(e(a.props.children)):n.push(a))}),ag=n,j5=t,n};function Ir(e,t){var n=[],a=[];return Array.isArray(t)?a=t.map(function(s){return ra(s)}):a=[ra(t)],Cj(e).forEach(function(s){var i=Mr(s,"type.displayName")||Mr(s,"type.name");a.indexOf(i)!==-1&&n.push(s)}),n}function _r(e,t){var n=Ir(e,t);return n&&n[0]}var w5=function(t){if(!t||!t.props)return!1;var n=t.props,a=n.width,s=n.height;return!(!ge(a)||a<=0||!ge(s)||s<=0)},N9=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],S9=function(t){return t&&t.type&&Gs(t.type)&&N9.indexOf(t.type)>=0},k9=function(t){return t&&Rv(t)==="object"&&"clipDot"in t},C9=function(t,n,a,s){var i,l=(i=ng==null?void 0:ng[s])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Fe(t)&&(s&&l.includes(n)||y9.includes(n))||a&&kj.includes(n)},Re=function(t,n,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(b.isValidElement(t)&&(s=t.props),!Lo(s))return null;var i={};return Object.keys(s).forEach(function(l){var d;C9((d=s)===null||d===void 0?void 0:d[l],l,n,a)&&(i[l]=s[l])}),i},Mv=function e(t,n){if(t===n)return!0;var a=b.Children.count(t);if(a!==b.Children.count(n))return!1;if(a===0)return!0;if(a===1)return N5(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<a;s++){var i=t[s],l=n[s];if(Array.isArray(i)||Array.isArray(l)){if(!e(i,l))return!1}else if(!N5(i,l))return!1}return!0},N5=function(t,n){if(qe(t)&&qe(n))return!0;if(!qe(t)&&!qe(n)){var a=t.props||{},s=a.children,i=v5(a,b9),l=n.props||{},d=l.children,u=v5(l,j9);return s&&d?zi(i,u)&&Mv(s,d):!s&&!d?zi(i,u):!1}return!1},S5=function(t,n){var a=[],s={};return Cj(t).forEach(function(i,l){if(S9(i))a.push(i);else if(i){var d=ra(i.type),u=n[d]||{},h=u.handler,p=u.once;if(h&&(!p||!s[d])){var m=h(i,d,l);a.push(m),s[d]=!0}}}),a},A9=function(t){var n=t&&t.type;return n&&b5[n]?b5[n]:null},P9=function(t,n){return Cj(n).indexOf(t)},O9=["children","width","height","viewBox","className","style","title","desc"];function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Iv.apply(this,arguments)}function E9(e,t){if(e==null)return{};var n=_9(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function _9(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function $v(e){var t=e.children,n=e.width,a=e.height,s=e.viewBox,i=e.className,l=e.style,d=e.title,u=e.desc,h=E9(e,O9),p=s||{width:n,height:a,x:0,y:0},m=ze("recharts-surface",i);return X.createElement("svg",Iv({},Re(h,!0,"svg"),{className:m,width:n,height:a,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),X.createElement("title",null,d),X.createElement("desc",null,u),t)}var T9=["children","className"];function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Lv.apply(this,arguments)}function R9(e,t){if(e==null)return{};var n=M9(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function M9(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var Ge=X.forwardRef(function(e,t){var n=e.children,a=e.className,s=R9(e,T9),i=ze("recharts-layer",a);return X.createElement("g",Lv({className:i},Re(s,!0),{ref:t}),n)}),pn=function(t,n){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]},sg,k5;function I9(){if(k5)return sg;k5=1;function e(t,n,a){var s=-1,i=t.length;n<0&&(n=-n>i?0:i+n),a=a>i?i:a,a<0&&(a+=i),i=n>a?0:a-n>>>0,n>>>=0;for(var l=Array(i);++s<i;)l[s]=t[s+n];return l}return sg=e,sg}var ig,C5;function $9(){if(C5)return ig;C5=1;var e=I9();function t(n,a,s){var i=n.length;return s=s===void 0?i:s,!a&&s>=i?n:e(n,a,s)}return ig=t,ig}var og,A5;function zO(){if(A5)return og;A5=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+n+a,i="\\ufe0e\\ufe0f",l="\\u200d",d=RegExp("["+l+e+s+i+"]");function u(h){return d.test(h)}return og=u,og}var lg,P5;function L9(){if(P5)return lg;P5=1;function e(t){return t.split("")}return lg=e,lg}var cg,O5;function D9(){if(O5)return cg;O5=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+n+a,i="\\ufe0e\\ufe0f",l="["+e+"]",d="["+s+"]",u="\\ud83c[\\udffb-\\udfff]",h="(?:"+d+"|"+u+")",p="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",x="[\\ud800-\\udbff][\\udc00-\\udfff]",j="\\u200d",v=h+"?",w="["+i+"]?",g="(?:"+j+"(?:"+[p,m,x].join("|")+")"+w+v+")*",S=w+v+g,P="(?:"+[p+d+"?",d,m,x,l].join("|")+")",O=RegExp(u+"(?="+u+")|"+P+S,"g");function N(A){return A.match(O)||[]}return cg=N,cg}var dg,E5;function F9(){if(E5)return dg;E5=1;var e=L9(),t=zO(),n=D9();function a(s){return t(s)?n(s):e(s)}return dg=a,dg}var ug,_5;function q9(){if(_5)return ug;_5=1;var e=$9(),t=zO(),n=F9(),a=LO();function s(i){return function(l){l=a(l);var d=t(l)?n(l):void 0,u=d?d[0]:l.charAt(0),h=d?e(d,1).join(""):l.slice(1);return u[i]()+h}}return ug=s,ug}var hg,T5;function z9(){if(T5)return hg;T5=1;var e=q9(),t=e("toUpperCase");return hg=t,hg}var B9=z9();const gf=Ze(B9);function it(e){return function(){return e}}const BO=Math.cos,eh=Math.sin,gn=Math.sqrt,th=Math.PI,yf=2*th,Dv=Math.PI,Fv=2*Dv,Ns=1e-6,U9=Fv-Ns;function UO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function W9(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return UO;const n=10**t;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+a[s]}}class H9{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?UO:W9(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,a,s){this._append`Q${+t},${+n},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,n,a,s,i,l){this._append`C${+t},${+n},${+a},${+s},${this._x1=+i},${this._y1=+l}`}arcTo(t,n,a,s,i){if(t=+t,n=+n,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,d=this._y1,u=a-t,h=s-n,p=l-t,m=d-n,x=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(x>Ns)if(!(Math.abs(m*u-h*p)>Ns)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let j=a-l,v=s-d,w=u*u+h*h,g=j*j+v*v,S=Math.sqrt(w),P=Math.sqrt(x),O=i*Math.tan((Dv-Math.acos((w+x-g)/(2*S*P)))/2),N=O/P,A=O/S;Math.abs(N-1)>Ns&&this._append`L${t+N*p},${n+N*m}`,this._append`A${i},${i},0,0,${+(m*j>p*v)},${this._x1=t+A*u},${this._y1=n+A*h}`}}arc(t,n,a,s,i,l){if(t=+t,n=+n,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let d=a*Math.cos(s),u=a*Math.sin(s),h=t+d,p=n+u,m=1^l,x=l?s-i:i-s;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Ns||Math.abs(this._y1-p)>Ns)&&this._append`L${h},${p}`,a&&(x<0&&(x=x%Fv+Fv),x>U9?this._append`A${a},${a},0,1,${m},${t-d},${n-u}A${a},${a},0,1,${m},${this._x1=h},${this._y1=p}`:x>Ns&&this._append`A${a},${a},0,${+(x>=Dv)},${m},${this._x1=t+a*Math.cos(i)},${this._y1=n+a*Math.sin(i)}`)}rect(t,n,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function Aj(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);t=a}return e},()=>new H9(t)}function Pj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function WO(e){this._context=e}WO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function vf(e){return new WO(e)}function HO(e){return e[0]}function KO(e){return e[1]}function GO(e,t){var n=it(!0),a=null,s=vf,i=null,l=Aj(d);e=typeof e=="function"?e:e===void 0?HO:it(e),t=typeof t=="function"?t:t===void 0?KO:it(t);function d(u){var h,p=(u=Pj(u)).length,m,x=!1,j;for(a==null&&(i=s(j=l())),h=0;h<=p;++h)!(h<p&&n(m=u[h],h,u))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+e(m,h,u),+t(m,h,u));if(j)return i=null,j+""||null}return d.x=function(u){return arguments.length?(e=typeof u=="function"?u:it(+u),d):e},d.y=function(u){return arguments.length?(t=typeof u=="function"?u:it(+u),d):t},d.defined=function(u){return arguments.length?(n=typeof u=="function"?u:it(!!u),d):n},d.curve=function(u){return arguments.length?(s=u,a!=null&&(i=s(a)),d):s},d.context=function(u){return arguments.length?(u==null?a=i=null:i=s(a=u),d):a},d}function ku(e,t,n){var a=null,s=it(!0),i=null,l=vf,d=null,u=Aj(h);e=typeof e=="function"?e:e===void 0?HO:it(+e),t=typeof t=="function"?t:it(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?KO:it(+n);function h(m){var x,j,v,w=(m=Pj(m)).length,g,S=!1,P,O=new Array(w),N=new Array(w);for(i==null&&(d=l(P=u())),x=0;x<=w;++x){if(!(x<w&&s(g=m[x],x,m))===S)if(S=!S)j=x,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),v=x-1;v>=j;--v)d.point(O[v],N[v]);d.lineEnd(),d.areaEnd()}S&&(O[x]=+e(g,x,m),N[x]=+t(g,x,m),d.point(a?+a(g,x,m):O[x],n?+n(g,x,m):N[x]))}if(P)return d=null,P+""||null}function p(){return GO().defined(s).curve(l).context(i)}return h.x=function(m){return arguments.length?(e=typeof m=="function"?m:it(+m),a=null,h):e},h.x0=function(m){return arguments.length?(e=typeof m=="function"?m:it(+m),h):e},h.x1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:it(+m),h):a},h.y=function(m){return arguments.length?(t=typeof m=="function"?m:it(+m),n=null,h):t},h.y0=function(m){return arguments.length?(t=typeof m=="function"?m:it(+m),h):t},h.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:it(+m),h):n},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(n)},h.lineX1=function(){return p().x(a).y(t)},h.defined=function(m){return arguments.length?(s=typeof m=="function"?m:it(!!m),h):s},h.curve=function(m){return arguments.length?(l=m,i!=null&&(d=l(i)),h):l},h.context=function(m){return arguments.length?(m==null?i=d=null:d=l(i=m),h):i},h}class VO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function K9(e){return new VO(e,!0)}function G9(e){return new VO(e,!1)}const Oj={draw(e,t){const n=gn(t/th);e.moveTo(n,0),e.arc(0,0,n,0,yf)}},V9={draw(e,t){const n=gn(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},QO=gn(1/3),Q9=QO*2,Y9={draw(e,t){const n=gn(t/Q9),a=n*QO;e.moveTo(0,-n),e.lineTo(a,0),e.lineTo(0,n),e.lineTo(-a,0),e.closePath()}},X9={draw(e,t){const n=gn(t),a=-n/2;e.rect(a,a,n,n)}},J9=.8908130915292852,YO=eh(th/10)/eh(7*th/10),Z9=eh(yf/10)*YO,eF=-BO(yf/10)*YO,tF={draw(e,t){const n=gn(t*J9),a=Z9*n,s=eF*n;e.moveTo(0,-n),e.lineTo(a,s);for(let i=1;i<5;++i){const l=yf*i/5,d=BO(l),u=eh(l);e.lineTo(u*n,-d*n),e.lineTo(d*a-u*s,u*a+d*s)}e.closePath()}},fg=gn(3),rF={draw(e,t){const n=-gn(t/(fg*3));e.moveTo(0,n*2),e.lineTo(-fg*n,-n),e.lineTo(fg*n,-n),e.closePath()}},Br=-.5,Ur=gn(3)/2,qv=1/gn(12),nF=(qv/2+1)*3,aF={draw(e,t){const n=gn(t/nF),a=n/2,s=n*qv,i=a,l=n*qv+n,d=-i,u=l;e.moveTo(a,s),e.lineTo(i,l),e.lineTo(d,u),e.lineTo(Br*a-Ur*s,Ur*a+Br*s),e.lineTo(Br*i-Ur*l,Ur*i+Br*l),e.lineTo(Br*d-Ur*u,Ur*d+Br*u),e.lineTo(Br*a+Ur*s,Br*s-Ur*a),e.lineTo(Br*i+Ur*l,Br*l-Ur*i),e.lineTo(Br*d+Ur*u,Br*u-Ur*d),e.closePath()}};function sF(e,t){let n=null,a=Aj(s);e=typeof e=="function"?e:it(e||Oj),t=typeof t=="function"?t:it(t===void 0?64:+t);function s(){let i;if(n||(n=i=a()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:it(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:it(+i),s):t},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function rh(){}function nh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function XO(e){this._context=e}XO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iF(e){return new XO(e)}function JO(e){this._context=e}JO.prototype={areaStart:rh,areaEnd:rh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:nh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oF(e){return new JO(e)}function ZO(e){this._context=e}ZO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:nh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lF(e){return new ZO(e)}function eE(e){this._context=e}eE.prototype={areaStart:rh,areaEnd:rh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function cF(e){return new eE(e)}function R5(e){return e<0?-1:1}function M5(e,t,n){var a=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),l=(n-e._y1)/(s||a<0&&-0),d=(i*s+l*a)/(a+s);return(R5(i)+R5(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(d))||0}function I5(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function mg(e,t,n){var a=e._x0,s=e._y0,i=e._x1,l=e._y1,d=(i-a)/3;e._context.bezierCurveTo(a+d,s+d*t,i-d,l-d*n,i,l)}function ah(e){this._context=e}ah.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mg(this,this._t0,I5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,mg(this,I5(this,n=M5(this,e,t)),n);break;default:mg(this,this._t0,n=M5(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function tE(e){this._context=new rE(e)}(tE.prototype=Object.create(ah.prototype)).point=function(e,t){ah.prototype.point.call(this,t,e)};function rE(e){this._context=e}rE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,a,s,i){this._context.bezierCurveTo(t,e,a,n,i,s)}};function dF(e){return new ah(e)}function uF(e){return new tE(e)}function nE(e){this._context=e}nE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var a=$5(e),s=$5(t),i=0,l=1;l<n;++i,++l)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function $5(e){var t,n=e.length-1,a,s=new Array(n),i=new Array(n),l=new Array(n);for(s[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,i[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)a=s[t]/i[t-1],i[t]-=a,l[t]-=a*l[t-1];for(s[n-1]=l[n-1]/i[n-1],t=n-2;t>=0;--t)s[t]=(l[t]-s[t+1])/i[t];for(i[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function hF(e){return new nE(e)}function bf(e,t){this._context=e,this._t=t}bf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function fF(e){return new bf(e,.5)}function mF(e){return new bf(e,0)}function pF(e){return new bf(e,1)}function ao(e,t){if((l=e.length)>1)for(var n=1,a,s,i=e[t[0]],l,d=i.length;n<l;++n)for(s=i,i=e[t[n]],a=0;a<d;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function zv(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function xF(e,t){return e[t]}function gF(e){const t=[];return t.key=e,t}function yF(){var e=it([]),t=zv,n=ao,a=xF;function s(i){var l=Array.from(e.apply(this,arguments),gF),d,u=l.length,h=-1,p;for(const m of i)for(d=0,++h;d<u;++d)(l[d][h]=[0,+a(m,l[d].key,h,i)]).data=m;for(d=0,p=Pj(t(l));d<u;++d)l[p[d]].index=d;return n(l,p),l}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:it(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:it(+i),s):a},s.order=function(i){return arguments.length?(t=i==null?zv:typeof i=="function"?i:it(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(n=i??ao,s):n},s}function vF(e,t){if((a=e.length)>0){for(var n,a,s=0,i=e[0].length,l;s<i;++s){for(l=n=0;n<a;++n)l+=e[n][s][1]||0;if(l)for(n=0;n<a;++n)e[n][s][1]/=l}ao(e,t)}}function bF(e,t){if((s=e.length)>0){for(var n=0,a=e[t[0]],s,i=a.length;n<i;++n){for(var l=0,d=0;l<s;++l)d+=e[l][n][1]||0;a[n][1]+=a[n][0]=-d/2}ao(e,t)}}function jF(e,t){if(!(!((l=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var n=0,a=1,s,i,l;a<i;++a){for(var d=0,u=0,h=0;d<l;++d){for(var p=e[t[d]],m=p[a][1]||0,x=p[a-1][1]||0,j=(m-x)/2,v=0;v<d;++v){var w=e[t[v]],g=w[a][1]||0,S=w[a-1][1]||0;j+=g-S}u+=m,h+=j*m}s[a-1][1]+=s[a-1][0]=n,u&&(n-=h/u)}s[a-1][1]+=s[a-1][0]=n,ao(e,t)}}function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}var wF=["type","size","sizeType"];function Bv(){return Bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Bv.apply(this,arguments)}function L5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function D5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L5(Object(n),!0).forEach(function(a){NF(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function NF(e,t,n){return t=SF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SF(e){var t=kF(e,"string");return ic(t)=="symbol"?t:t+""}function kF(e,t){if(ic(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(ic(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CF(e,t){if(e==null)return{};var n=AF(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function AF(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var aE={symbolCircle:Oj,symbolCross:V9,symbolDiamond:Y9,symbolSquare:X9,symbolStar:tF,symbolTriangle:rF,symbolWye:aF},PF=Math.PI/180,OF=function(t){var n="symbol".concat(gf(t));return aE[n]||Oj},EF=function(t,n,a){if(n==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*PF;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},_F=function(t,n){aE["symbol".concat(gf(t))]=n},Ej=function(t){var n=t.type,a=n===void 0?"circle":n,s=t.size,i=s===void 0?64:s,l=t.sizeType,d=l===void 0?"area":l,u=CF(t,wF),h=D5(D5({},u),{},{type:a,size:i,sizeType:d}),p=function(){var g=OF(a),S=sF().type(g).size(EF(i,d,a));return S()},m=h.className,x=h.cx,j=h.cy,v=Re(h,!0);return x===+x&&j===+j&&i===+i?X.createElement("path",Bv({},v,{className:ze("recharts-symbols",m),transform:"translate(".concat(x,", ").concat(j,")"),d:p()})):null};Ej.registerSymbol=_F;function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Uv.apply(this,arguments)}function F5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function TF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F5(Object(n),!0).forEach(function(a){oc(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function RF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MF(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,iE(a.key),a)}}function IF(e,t,n){return t&&MF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $F(e,t,n){return t=sh(t),LF(e,sE()?Reflect.construct(t,n||[],sh(e).constructor):t.apply(e,n))}function LF(e,t){if(t&&(so(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DF(e)}function DF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sE=function(){return!!e})()}function sh(e){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sh(e)}function FF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wv(e,t)}function Wv(e,t){return Wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Wv(e,t)}function oc(e,t,n){return t=iE(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iE(e){var t=qF(e,"string");return so(t)=="symbol"?t:t+""}function qF(e,t){if(so(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(so(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wr=32,_j=(function(e){function t(){return RF(this,t),$F(this,t,arguments)}return FF(t,e),IF(t,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,i=Wr/2,l=Wr/6,d=Wr/3,u=a.inactive?s:a.color;if(a.type==="plainline")return X.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:Wr,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return X.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(d,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*d,",").concat(i,`
            H`).concat(Wr,"M").concat(2*d,",").concat(i,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(d,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return X.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Wr/8,"h").concat(Wr,"v").concat(Wr*3/4,"h").concat(-Wr,"z"),className:"recharts-legend-icon"});if(X.isValidElement(a.legendIcon)){var h=TF({},a);return delete h.legendIcon,X.cloneElement(a.legendIcon,h)}return X.createElement(Ej,{fill:u,cx:i,cy:i,size:Wr,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,i=s.payload,l=s.iconSize,d=s.layout,u=s.formatter,h=s.inactiveColor,p={x:0,y:0,width:Wr,height:Wr},m={display:d==="horizontal"?"inline-block":"block",marginRight:10},x={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(j,v){var w=j.formatter||u,g=ze(oc(oc({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",j.inactive));if(j.type==="none")return null;var S=Fe(j.value)?null:j.value;pn(!Fe(j.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var P=j.inactive?h:j.color;return X.createElement("li",Uv({className:g,style:m,key:"legend-item-".concat(v)},Vs(a.props,j,v)),X.createElement($v,{width:l,height:l,viewBox:p,style:x},a.renderIcon(j)),X.createElement("span",{className:"recharts-legend-item-text",style:{color:P}},w?w(S,j,v):S))})}},{key:"render",value:function(){var a=this.props,s=a.payload,i=a.layout,l=a.align;if(!s||!s.length)return null;var d={padding:0,margin:0,textAlign:i==="horizontal"?l:"left"};return X.createElement("ul",{className:"recharts-default-legend",style:d},this.renderItems())}}])})(b.PureComponent);oc(_j,"displayName","Legend");oc(_j,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var pg,q5;function zF(){if(q5)return pg;q5=1;var e=mf();function t(){this.__data__=new e,this.size=0}return pg=t,pg}var xg,z5;function BF(){if(z5)return xg;z5=1;function e(t){var n=this.__data__,a=n.delete(t);return this.size=n.size,a}return xg=e,xg}var gg,B5;function UF(){if(B5)return gg;B5=1;function e(t){return this.__data__.get(t)}return gg=e,gg}var yg,U5;function WF(){if(U5)return yg;U5=1;function e(t){return this.__data__.has(t)}return yg=e,yg}var vg,W5;function HF(){if(W5)return vg;W5=1;var e=mf(),t=jj(),n=wj(),a=200;function s(i,l){var d=this.__data__;if(d instanceof e){var u=d.__data__;if(!t||u.length<a-1)return u.push([i,l]),this.size=++d.size,this;d=this.__data__=new n(u)}return d.set(i,l),this.size=d.size,this}return vg=s,vg}var bg,H5;function oE(){if(H5)return bg;H5=1;var e=mf(),t=zF(),n=BF(),a=UF(),s=WF(),i=HF();function l(d){var u=this.__data__=new e(d);this.size=u.size}return l.prototype.clear=t,l.prototype.delete=n,l.prototype.get=a,l.prototype.has=s,l.prototype.set=i,bg=l,bg}var jg,K5;function KF(){if(K5)return jg;K5=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return jg=t,jg}var wg,G5;function GF(){if(G5)return wg;G5=1;function e(t){return this.__data__.has(t)}return wg=e,wg}var Ng,V5;function lE(){if(V5)return Ng;V5=1;var e=wj(),t=KF(),n=GF();function a(s){var i=-1,l=s==null?0:s.length;for(this.__data__=new e;++i<l;)this.add(s[i])}return a.prototype.add=a.prototype.push=t,a.prototype.has=n,Ng=a,Ng}var Sg,Q5;function cE(){if(Q5)return Sg;Q5=1;function e(t,n){for(var a=-1,s=t==null?0:t.length;++a<s;)if(n(t[a],a,t))return!0;return!1}return Sg=e,Sg}var kg,Y5;function dE(){if(Y5)return kg;Y5=1;function e(t,n){return t.has(n)}return kg=e,kg}var Cg,X5;function uE(){if(X5)return Cg;X5=1;var e=lE(),t=cE(),n=dE(),a=1,s=2;function i(l,d,u,h,p,m){var x=u&a,j=l.length,v=d.length;if(j!=v&&!(x&&v>j))return!1;var w=m.get(l),g=m.get(d);if(w&&g)return w==d&&g==l;var S=-1,P=!0,O=u&s?new e:void 0;for(m.set(l,d),m.set(d,l);++S<j;){var N=l[S],A=d[S];if(h)var C=x?h(A,N,S,d,l,m):h(N,A,S,l,d,m);if(C!==void 0){if(C)continue;P=!1;break}if(O){if(!t(d,function(E,T){if(!n(O,T)&&(N===E||p(N,E,u,h,m)))return O.push(T)})){P=!1;break}}else if(!(N===A||p(N,A,u,h,m))){P=!1;break}}return m.delete(l),m.delete(d),P}return Cg=i,Cg}var Ag,J5;function VF(){if(J5)return Ag;J5=1;var e=Mn(),t=e.Uint8Array;return Ag=t,Ag}var Pg,Z5;function QF(){if(Z5)return Pg;Z5=1;function e(t){var n=-1,a=Array(t.size);return t.forEach(function(s,i){a[++n]=[i,s]}),a}return Pg=e,Pg}var Og,ek;function Tj(){if(ek)return Og;ek=1;function e(t){var n=-1,a=Array(t.size);return t.forEach(function(s){a[++n]=s}),a}return Og=e,Og}var Eg,tk;function YF(){if(tk)return Eg;tk=1;var e=Zc(),t=VF(),n=bj(),a=uE(),s=QF(),i=Tj(),l=1,d=2,u="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Map]",x="[object Number]",j="[object RegExp]",v="[object Set]",w="[object String]",g="[object Symbol]",S="[object ArrayBuffer]",P="[object DataView]",O=e?e.prototype:void 0,N=O?O.valueOf:void 0;function A(C,E,T,R,I,M,$){switch(T){case P:if(C.byteLength!=E.byteLength||C.byteOffset!=E.byteOffset)return!1;C=C.buffer,E=E.buffer;case S:return!(C.byteLength!=E.byteLength||!M(new t(C),new t(E)));case u:case h:case x:return n(+C,+E);case p:return C.name==E.name&&C.message==E.message;case j:case w:return C==E+"";case m:var G=s;case v:var V=R&l;if(G||(G=i),C.size!=E.size&&!V)return!1;var z=$.get(C);if(z)return z==E;R|=d,$.set(C,E);var U=a(G(C),G(E),R,I,M,$);return $.delete(C),U;case g:if(N)return N.call(C)==N.call(E)}return!1}return Eg=A,Eg}var _g,rk;function hE(){if(rk)return _g;rk=1;function e(t,n){for(var a=-1,s=n.length,i=t.length;++a<s;)t[i+a]=n[a];return t}return _g=e,_g}var Tg,nk;function XF(){if(nk)return Tg;nk=1;var e=hE(),t=Sr();function n(a,s,i){var l=s(a);return t(a)?l:e(l,i(a))}return Tg=n,Tg}var Rg,ak;function JF(){if(ak)return Rg;ak=1;function e(t,n){for(var a=-1,s=t==null?0:t.length,i=0,l=[];++a<s;){var d=t[a];n(d,a,t)&&(l[i++]=d)}return l}return Rg=e,Rg}var Mg,sk;function ZF(){if(sk)return Mg;sk=1;function e(){return[]}return Mg=e,Mg}var Ig,ik;function eq(){if(ik)return Ig;ik=1;var e=JF(),t=ZF(),n=Object.prototype,a=n.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(l){return l==null?[]:(l=Object(l),e(s(l),function(d){return a.call(l,d)}))}:t;return Ig=i,Ig}var $g,ok;function tq(){if(ok)return $g;ok=1;function e(t,n){for(var a=-1,s=Array(t);++a<t;)s[a]=n(a);return s}return $g=e,$g}var Lg,lk;function rq(){if(lk)return Lg;lk=1;var e=da(),t=ua(),n="[object Arguments]";function a(s){return t(s)&&e(s)==n}return Lg=a,Lg}var Dg,ck;function Rj(){if(ck)return Dg;ck=1;var e=rq(),t=ua(),n=Object.prototype,a=n.hasOwnProperty,s=n.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(l){return t(l)&&a.call(l,"callee")&&!s.call(l,"callee")};return Dg=i,Dg}var Kl={exports:{}},Fg,dk;function nq(){if(dk)return Fg;dk=1;function e(){return!1}return Fg=e,Fg}Kl.exports;var uk;function fE(){return uk||(uk=1,(function(e,t){var n=Mn(),a=nq(),s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===s,d=l?n.Buffer:void 0,u=d?d.isBuffer:void 0,h=u||a;e.exports=h})(Kl,Kl.exports)),Kl.exports}var qg,hk;function Mj(){if(hk)return qg;hk=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(a,s){var i=typeof a;return s=s??e,!!s&&(i=="number"||i!="symbol"&&t.test(a))&&a>-1&&a%1==0&&a<s}return qg=n,qg}var zg,fk;function Ij(){if(fk)return zg;fk=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return zg=t,zg}var Bg,mk;function aq(){if(mk)return Bg;mk=1;var e=da(),t=Ij(),n=ua(),a="[object Arguments]",s="[object Array]",i="[object Boolean]",l="[object Date]",d="[object Error]",u="[object Function]",h="[object Map]",p="[object Number]",m="[object Object]",x="[object RegExp]",j="[object Set]",v="[object String]",w="[object WeakMap]",g="[object ArrayBuffer]",S="[object DataView]",P="[object Float32Array]",O="[object Float64Array]",N="[object Int8Array]",A="[object Int16Array]",C="[object Int32Array]",E="[object Uint8Array]",T="[object Uint8ClampedArray]",R="[object Uint16Array]",I="[object Uint32Array]",M={};M[P]=M[O]=M[N]=M[A]=M[C]=M[E]=M[T]=M[R]=M[I]=!0,M[a]=M[s]=M[g]=M[i]=M[S]=M[l]=M[d]=M[u]=M[h]=M[p]=M[m]=M[x]=M[j]=M[v]=M[w]=!1;function $(G){return n(G)&&t(G.length)&&!!M[e(G)]}return Bg=$,Bg}var Ug,pk;function mE(){if(pk)return Ug;pk=1;function e(t){return function(n){return t(n)}}return Ug=e,Ug}var Gl={exports:{}};Gl.exports;var xk;function sq(){return xk||(xk=1,(function(e,t){var n=MO(),a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,l=i&&n.process,d=(function(){try{var u=s&&s.require&&s.require("util").types;return u||l&&l.binding&&l.binding("util")}catch{}})();e.exports=d})(Gl,Gl.exports)),Gl.exports}var Wg,gk;function pE(){if(gk)return Wg;gk=1;var e=aq(),t=mE(),n=sq(),a=n&&n.isTypedArray,s=a?t(a):e;return Wg=s,Wg}var Hg,yk;function iq(){if(yk)return Hg;yk=1;var e=tq(),t=Rj(),n=Sr(),a=fE(),s=Mj(),i=pE(),l=Object.prototype,d=l.hasOwnProperty;function u(h,p){var m=n(h),x=!m&&t(h),j=!m&&!x&&a(h),v=!m&&!x&&!j&&i(h),w=m||x||j||v,g=w?e(h.length,String):[],S=g.length;for(var P in h)(p||d.call(h,P))&&!(w&&(P=="length"||j&&(P=="offset"||P=="parent")||v&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||s(P,S)))&&g.push(P);return g}return Hg=u,Hg}var Kg,vk;function oq(){if(vk)return Kg;vk=1;var e=Object.prototype;function t(n){var a=n&&n.constructor,s=typeof a=="function"&&a.prototype||e;return n===s}return Kg=t,Kg}var Gg,bk;function xE(){if(bk)return Gg;bk=1;function e(t,n){return function(a){return t(n(a))}}return Gg=e,Gg}var Vg,jk;function lq(){if(jk)return Vg;jk=1;var e=xE(),t=e(Object.keys,Object);return Vg=t,Vg}var Qg,wk;function cq(){if(wk)return Qg;wk=1;var e=oq(),t=lq(),n=Object.prototype,a=n.hasOwnProperty;function s(i){if(!e(i))return t(i);var l=[];for(var d in Object(i))a.call(i,d)&&d!="constructor"&&l.push(d);return l}return Qg=s,Qg}var Yg,Nk;function td(){if(Nk)return Yg;Nk=1;var e=vj(),t=Ij();function n(a){return a!=null&&t(a.length)&&!e(a)}return Yg=n,Yg}var Xg,Sk;function jf(){if(Sk)return Xg;Sk=1;var e=iq(),t=cq(),n=td();function a(s){return n(s)?e(s):t(s)}return Xg=a,Xg}var Jg,kk;function dq(){if(kk)return Jg;kk=1;var e=XF(),t=eq(),n=jf();function a(s){return e(s,n,t)}return Jg=a,Jg}var Zg,Ck;function uq(){if(Ck)return Zg;Ck=1;var e=dq(),t=1,n=Object.prototype,a=n.hasOwnProperty;function s(i,l,d,u,h,p){var m=d&t,x=e(i),j=x.length,v=e(l),w=v.length;if(j!=w&&!m)return!1;for(var g=j;g--;){var S=x[g];if(!(m?S in l:a.call(l,S)))return!1}var P=p.get(i),O=p.get(l);if(P&&O)return P==l&&O==i;var N=!0;p.set(i,l),p.set(l,i);for(var A=m;++g<j;){S=x[g];var C=i[S],E=l[S];if(u)var T=m?u(E,C,S,l,i,p):u(C,E,S,i,l,p);if(!(T===void 0?C===E||h(C,E,d,u,p):T)){N=!1;break}A||(A=S=="constructor")}if(N&&!A){var R=i.constructor,I=l.constructor;R!=I&&"constructor"in i&&"constructor"in l&&!(typeof R=="function"&&R instanceof R&&typeof I=="function"&&I instanceof I)&&(N=!1)}return p.delete(i),p.delete(l),N}return Zg=s,Zg}var e0,Ak;function hq(){if(Ak)return e0;Ak=1;var e=ei(),t=Mn(),n=e(t,"DataView");return e0=n,e0}var t0,Pk;function fq(){if(Pk)return t0;Pk=1;var e=ei(),t=Mn(),n=e(t,"Promise");return t0=n,t0}var r0,Ok;function gE(){if(Ok)return r0;Ok=1;var e=ei(),t=Mn(),n=e(t,"Set");return r0=n,r0}var n0,Ek;function mq(){if(Ek)return n0;Ek=1;var e=ei(),t=Mn(),n=e(t,"WeakMap");return n0=n,n0}var a0,_k;function pq(){if(_k)return a0;_k=1;var e=hq(),t=jj(),n=fq(),a=gE(),s=mq(),i=da(),l=IO(),d="[object Map]",u="[object Object]",h="[object Promise]",p="[object Set]",m="[object WeakMap]",x="[object DataView]",j=l(e),v=l(t),w=l(n),g=l(a),S=l(s),P=i;return(e&&P(new e(new ArrayBuffer(1)))!=x||t&&P(new t)!=d||n&&P(n.resolve())!=h||a&&P(new a)!=p||s&&P(new s)!=m)&&(P=function(O){var N=i(O),A=N==u?O.constructor:void 0,C=A?l(A):"";if(C)switch(C){case j:return x;case v:return d;case w:return h;case g:return p;case S:return m}return N}),a0=P,a0}var s0,Tk;function xq(){if(Tk)return s0;Tk=1;var e=oE(),t=uE(),n=YF(),a=uq(),s=pq(),i=Sr(),l=fE(),d=pE(),u=1,h="[object Arguments]",p="[object Array]",m="[object Object]",x=Object.prototype,j=x.hasOwnProperty;function v(w,g,S,P,O,N){var A=i(w),C=i(g),E=A?p:s(w),T=C?p:s(g);E=E==h?m:E,T=T==h?m:T;var R=E==m,I=T==m,M=E==T;if(M&&l(w)){if(!l(g))return!1;A=!0,R=!1}if(M&&!R)return N||(N=new e),A||d(w)?t(w,g,S,P,O,N):n(w,g,E,S,P,O,N);if(!(S&u)){var $=R&&j.call(w,"__wrapped__"),G=I&&j.call(g,"__wrapped__");if($||G){var V=$?w.value():w,z=G?g.value():g;return N||(N=new e),O(V,z,S,P,N)}}return M?(N||(N=new e),a(w,g,S,P,O,N)):!1}return s0=v,s0}var i0,Rk;function $j(){if(Rk)return i0;Rk=1;var e=xq(),t=ua();function n(a,s,i,l,d){return a===s?!0:a==null||s==null||!t(a)&&!t(s)?a!==a&&s!==s:e(a,s,i,l,n,d)}return i0=n,i0}var o0,Mk;function gq(){if(Mk)return o0;Mk=1;var e=oE(),t=$j(),n=1,a=2;function s(i,l,d,u){var h=d.length,p=h,m=!u;if(i==null)return!p;for(i=Object(i);h--;){var x=d[h];if(m&&x[2]?x[1]!==i[x[0]]:!(x[0]in i))return!1}for(;++h<p;){x=d[h];var j=x[0],v=i[j],w=x[1];if(m&&x[2]){if(v===void 0&&!(j in i))return!1}else{var g=new e;if(u)var S=u(v,w,j,i,l,g);if(!(S===void 0?t(w,v,n|a,u,g):S))return!1}}return!0}return o0=s,o0}var l0,Ik;function yE(){if(Ik)return l0;Ik=1;var e=ns();function t(n){return n===n&&!e(n)}return l0=t,l0}var c0,$k;function yq(){if($k)return c0;$k=1;var e=yE(),t=jf();function n(a){for(var s=t(a),i=s.length;i--;){var l=s[i],d=a[l];s[i]=[l,d,e(d)]}return s}return c0=n,c0}var d0,Lk;function vE(){if(Lk)return d0;Lk=1;function e(t,n){return function(a){return a==null?!1:a[t]===n&&(n!==void 0||t in Object(a))}}return d0=e,d0}var u0,Dk;function vq(){if(Dk)return u0;Dk=1;var e=gq(),t=yq(),n=vE();function a(s){var i=t(s);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(l){return l===s||e(l,s,i)}}return u0=a,u0}var h0,Fk;function bq(){if(Fk)return h0;Fk=1;function e(t,n){return t!=null&&n in Object(t)}return h0=e,h0}var f0,qk;function jq(){if(qk)return f0;qk=1;var e=DO(),t=Rj(),n=Sr(),a=Mj(),s=Ij(),i=xf();function l(d,u,h){u=e(u,d);for(var p=-1,m=u.length,x=!1;++p<m;){var j=i(u[p]);if(!(x=d!=null&&h(d,j)))break;d=d[j]}return x||++p!=m?x:(m=d==null?0:d.length,!!m&&s(m)&&a(j,m)&&(n(d)||t(d)))}return f0=l,f0}var m0,zk;function wq(){if(zk)return m0;zk=1;var e=bq(),t=jq();function n(a,s){return a!=null&&t(a,s,e)}return m0=n,m0}var p0,Bk;function Nq(){if(Bk)return p0;Bk=1;var e=$j(),t=FO(),n=wq(),a=yj(),s=yE(),i=vE(),l=xf(),d=1,u=2;function h(p,m){return a(p)&&s(m)?i(l(p),m):function(x){var j=t(x,p);return j===void 0&&j===m?n(x,p):e(m,j,d|u)}}return p0=h,p0}var x0,Uk;function Fo(){if(Uk)return x0;Uk=1;function e(t){return t}return x0=e,x0}var g0,Wk;function Sq(){if(Wk)return g0;Wk=1;function e(t){return function(n){return n==null?void 0:n[t]}}return g0=e,g0}var y0,Hk;function kq(){if(Hk)return y0;Hk=1;var e=Sj();function t(n){return function(a){return e(a,n)}}return y0=t,y0}var v0,Kk;function Cq(){if(Kk)return v0;Kk=1;var e=Sq(),t=kq(),n=yj(),a=xf();function s(i){return n(i)?e(a(i)):t(i)}return v0=s,v0}var b0,Gk;function In(){if(Gk)return b0;Gk=1;var e=vq(),t=Nq(),n=Fo(),a=Sr(),s=Cq();function i(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?a(l)?t(l[0],l[1]):e(l):s(l)}return b0=i,b0}var j0,Vk;function bE(){if(Vk)return j0;Vk=1;function e(t,n,a,s){for(var i=t.length,l=a+(s?1:-1);s?l--:++l<i;)if(n(t[l],l,t))return l;return-1}return j0=e,j0}var w0,Qk;function Aq(){if(Qk)return w0;Qk=1;function e(t){return t!==t}return w0=e,w0}var N0,Yk;function Pq(){if(Yk)return N0;Yk=1;function e(t,n,a){for(var s=a-1,i=t.length;++s<i;)if(t[s]===n)return s;return-1}return N0=e,N0}var S0,Xk;function Oq(){if(Xk)return S0;Xk=1;var e=bE(),t=Aq(),n=Pq();function a(s,i,l){return i===i?n(s,i,l):e(s,t,l)}return S0=a,S0}var k0,Jk;function Eq(){if(Jk)return k0;Jk=1;var e=Oq();function t(n,a){var s=n==null?0:n.length;return!!s&&e(n,a,0)>-1}return k0=t,k0}var C0,Zk;function _q(){if(Zk)return C0;Zk=1;function e(t,n,a){for(var s=-1,i=t==null?0:t.length;++s<i;)if(a(n,t[s]))return!0;return!1}return C0=e,C0}var A0,e4;function Tq(){if(e4)return A0;e4=1;function e(){}return A0=e,A0}var P0,t4;function Rq(){if(t4)return P0;t4=1;var e=gE(),t=Tq(),n=Tj(),a=1/0,s=e&&1/n(new e([,-0]))[1]==a?function(i){return new e(i)}:t;return P0=s,P0}var O0,r4;function Mq(){if(r4)return O0;r4=1;var e=lE(),t=Eq(),n=_q(),a=dE(),s=Rq(),i=Tj(),l=200;function d(u,h,p){var m=-1,x=t,j=u.length,v=!0,w=[],g=w;if(p)v=!1,x=n;else if(j>=l){var S=h?null:s(u);if(S)return i(S);v=!1,x=a,g=new e}else g=h?[]:w;e:for(;++m<j;){var P=u[m],O=h?h(P):P;if(P=p||P!==0?P:0,v&&O===O){for(var N=g.length;N--;)if(g[N]===O)continue e;h&&g.push(O),w.push(P)}else x(g,O,p)||(g!==w&&g.push(O),w.push(P))}return w}return O0=d,O0}var E0,n4;function Iq(){if(n4)return E0;n4=1;var e=In(),t=Mq();function n(a,s){return a&&a.length?t(a,e(s,2)):[]}return E0=n,E0}var $q=Iq();const a4=Ze($q);function jE(e,t,n){return t===!0?a4(e,n):Fe(t)?a4(e,t):e}function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}var Lq=["ref"];function s4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s4(Object(n),!0).forEach(function(a){wf(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Dq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i4(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,NE(a.key),a)}}function Fq(e,t,n){return t&&i4(e.prototype,t),n&&i4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qq(e,t,n){return t=ih(t),zq(e,wE()?Reflect.construct(t,n||[],ih(e).constructor):t.apply(e,n))}function zq(e,t){if(t&&(io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bq(e)}function Bq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wE=function(){return!!e})()}function ih(e){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ih(e)}function Uq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hv(e,t)}function Hv(e,t){return Hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Hv(e,t)}function wf(e,t,n){return t=NE(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NE(e){var t=Wq(e,"string");return io(t)=="symbol"?t:t+""}function Wq(e,t){if(io(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(io(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Hq(e,t){if(e==null)return{};var n=Kq(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Kq(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Gq(e){return e.value}function Vq(e,t){if(X.isValidElement(e))return X.cloneElement(e,t);if(typeof e=="function")return X.createElement(e,t);t.ref;var n=Hq(t,Lq);return X.createElement(_j,n)}var o4=1,Xa=(function(e){function t(){var n;Dq(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=qq(this,t,[].concat(s)),wf(n,"lastBoundingBox",{width:-1,height:-1}),n}return Uq(t,e),Fq(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>o4||Math.abs(s.height-this.lastBoundingBox.height)>o4)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Wn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,i=s.layout,l=s.align,d=s.verticalAlign,u=s.margin,h=s.chartWidth,p=s.chartHeight,m,x;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(l==="center"&&i==="vertical"){var j=this.getBBoxSnapshot();m={left:((h||0)-j.width)/2}}else m=l==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(d==="middle"){var v=this.getBBoxSnapshot();x={top:((p||0)-v.height)/2}}else x=d==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Wn(Wn({},m),x)}},{key:"render",value:function(){var a=this,s=this.props,i=s.content,l=s.width,d=s.height,u=s.wrapperStyle,h=s.payloadUniqBy,p=s.payload,m=Wn(Wn({position:"absolute",width:l||"auto",height:d||"auto"},this.getDefaultPosition(u)),u);return X.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(j){a.wrapperNode=j}},Vq(i,Wn(Wn({},this.props),{},{payload:jE(p,h,Gq)})))}}],[{key:"getWithHeight",value:function(a,s){var i=Wn(Wn({},this.defaultProps),a.props),l=i.layout;return l==="vertical"&&ge(a.props.height)?{height:a.props.height}:l==="horizontal"?{width:a.props.width||s}:null}}])})(b.PureComponent);wf(Xa,"displayName","Legend");wf(Xa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _0,l4;function Qq(){if(l4)return _0;l4=1;var e=Zc(),t=Rj(),n=Sr(),a=e?e.isConcatSpreadable:void 0;function s(i){return n(i)||t(i)||!!(a&&i&&i[a])}return _0=s,_0}var T0,c4;function SE(){if(c4)return T0;c4=1;var e=hE(),t=Qq();function n(a,s,i,l,d){var u=-1,h=a.length;for(i||(i=t),d||(d=[]);++u<h;){var p=a[u];s>0&&i(p)?s>1?n(p,s-1,i,l,d):e(d,p):l||(d[d.length]=p)}return d}return T0=n,T0}var R0,d4;function Yq(){if(d4)return R0;d4=1;function e(t){return function(n,a,s){for(var i=-1,l=Object(n),d=s(n),u=d.length;u--;){var h=d[t?u:++i];if(a(l[h],h,l)===!1)break}return n}}return R0=e,R0}var M0,u4;function Xq(){if(u4)return M0;u4=1;var e=Yq(),t=e();return M0=t,M0}var I0,h4;function kE(){if(h4)return I0;h4=1;var e=Xq(),t=jf();function n(a,s){return a&&e(a,s,t)}return I0=n,I0}var $0,f4;function Jq(){if(f4)return $0;f4=1;var e=td();function t(n,a){return function(s,i){if(s==null)return s;if(!e(s))return n(s,i);for(var l=s.length,d=a?l:-1,u=Object(s);(a?d--:++d<l)&&i(u[d],d,u)!==!1;);return s}}return $0=t,$0}var L0,m4;function Lj(){if(m4)return L0;m4=1;var e=kE(),t=Jq(),n=t(e);return L0=n,L0}var D0,p4;function CE(){if(p4)return D0;p4=1;var e=Lj(),t=td();function n(a,s){var i=-1,l=t(a)?Array(a.length):[];return e(a,function(d,u,h){l[++i]=s(d,u,h)}),l}return D0=n,D0}var F0,x4;function Zq(){if(x4)return F0;x4=1;function e(t,n){var a=t.length;for(t.sort(n);a--;)t[a]=t[a].value;return t}return F0=e,F0}var q0,g4;function ez(){if(g4)return q0;g4=1;var e=$o();function t(n,a){if(n!==a){var s=n!==void 0,i=n===null,l=n===n,d=e(n),u=a!==void 0,h=a===null,p=a===a,m=e(a);if(!h&&!m&&!d&&n>a||d&&u&&p&&!h&&!m||i&&u&&p||!s&&p||!l)return 1;if(!i&&!d&&!m&&n<a||m&&s&&l&&!i&&!d||h&&s&&l||!u&&l||!p)return-1}return 0}return q0=t,q0}var z0,y4;function tz(){if(y4)return z0;y4=1;var e=ez();function t(n,a,s){for(var i=-1,l=n.criteria,d=a.criteria,u=l.length,h=s.length;++i<u;){var p=e(l[i],d[i]);if(p){if(i>=h)return p;var m=s[i];return p*(m=="desc"?-1:1)}}return n.index-a.index}return z0=t,z0}var B0,v4;function rz(){if(v4)return B0;v4=1;var e=Nj(),t=Sj(),n=In(),a=CE(),s=Zq(),i=mE(),l=tz(),d=Fo(),u=Sr();function h(p,m,x){m.length?m=e(m,function(w){return u(w)?function(g){return t(g,w.length===1?w[0]:w)}:w}):m=[d];var j=-1;m=e(m,i(n));var v=a(p,function(w,g,S){var P=e(m,function(O){return O(w)});return{criteria:P,index:++j,value:w}});return s(v,function(w,g){return l(w,g,x)})}return B0=h,B0}var U0,b4;function nz(){if(b4)return U0;b4=1;function e(t,n,a){switch(a.length){case 0:return t.call(n);case 1:return t.call(n,a[0]);case 2:return t.call(n,a[0],a[1]);case 3:return t.call(n,a[0],a[1],a[2])}return t.apply(n,a)}return U0=e,U0}var W0,j4;function az(){if(j4)return W0;j4=1;var e=nz(),t=Math.max;function n(a,s,i){return s=t(s===void 0?a.length-1:s,0),function(){for(var l=arguments,d=-1,u=t(l.length-s,0),h=Array(u);++d<u;)h[d]=l[s+d];d=-1;for(var p=Array(s+1);++d<s;)p[d]=l[d];return p[s]=i(h),e(a,this,p)}}return W0=n,W0}var H0,w4;function sz(){if(w4)return H0;w4=1;function e(t){return function(){return t}}return H0=e,H0}var K0,N4;function AE(){if(N4)return K0;N4=1;var e=ei(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return K0=t,K0}var G0,S4;function iz(){if(S4)return G0;S4=1;var e=sz(),t=AE(),n=Fo(),a=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:n;return G0=a,G0}var V0,k4;function oz(){if(k4)return V0;k4=1;var e=800,t=16,n=Date.now;function a(s){var i=0,l=0;return function(){var d=n(),u=t-(d-l);if(l=d,u>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return V0=a,V0}var Q0,C4;function lz(){if(C4)return Q0;C4=1;var e=iz(),t=oz(),n=t(e);return Q0=n,Q0}var Y0,A4;function cz(){if(A4)return Y0;A4=1;var e=Fo(),t=az(),n=lz();function a(s,i){return n(t(s,i,e),s+"")}return Y0=a,Y0}var X0,P4;function Nf(){if(P4)return X0;P4=1;var e=bj(),t=td(),n=Mj(),a=ns();function s(i,l,d){if(!a(d))return!1;var u=typeof l;return(u=="number"?t(d)&&n(l,d.length):u=="string"&&l in d)?e(d[l],i):!1}return X0=s,X0}var J0,O4;function dz(){if(O4)return J0;O4=1;var e=SE(),t=rz(),n=cz(),a=Nf(),s=n(function(i,l){if(i==null)return[];var d=l.length;return d>1&&a(i,l[0],l[1])?l=[]:d>2&&a(l[0],l[1],l[2])&&(l=[l[0]]),t(i,e(l,1),[])});return J0=s,J0}var uz=dz();const Dj=Ze(uz);function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Kv.apply(this,arguments)}function hz(e,t){return xz(e)||pz(e,t)||mz(e,t)||fz()}function fz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mz(e,t){if(e){if(typeof e=="string")return E4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E4(e,t)}}function E4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function pz(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function xz(e){if(Array.isArray(e))return e}function _4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Z0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_4(Object(n),!0).forEach(function(a){gz(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function gz(e,t,n){return t=yz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yz(e){var t=vz(e,"string");return lc(t)=="symbol"?t:t+""}function vz(e,t){if(lc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(lc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bz(e){return Array.isArray(e)&&Dt(e[0])&&Dt(e[1])?e.join(" ~ "):e}var jz=function(t){var n=t.separator,a=n===void 0?" : ":n,s=t.contentStyle,i=s===void 0?{}:s,l=t.itemStyle,d=l===void 0?{}:l,u=t.labelStyle,h=u===void 0?{}:u,p=t.payload,m=t.formatter,x=t.itemSorter,j=t.wrapperClassName,v=t.labelClassName,w=t.label,g=t.labelFormatter,S=t.accessibilityLayer,P=S===void 0?!1:S,O=function(){if(p&&p.length){var $={padding:0,margin:0},G=(x?Dj(p,x):p).map(function(V,z){if(V.type==="none")return null;var U=Z0({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},d),W=V.formatter||m||bz,B=V.value,F=V.name,L=B,q=F;if(W&&L!=null&&q!=null){var K=W(B,F,V,z,p);if(Array.isArray(K)){var Y=hz(K,2);L=Y[0],q=Y[1]}else L=K}return X.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:U},Dt(q)?X.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Dt(q)?X.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,X.createElement("span",{className:"recharts-tooltip-item-value"},L),X.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return X.createElement("ul",{className:"recharts-tooltip-item-list",style:$},G)}return null},N=Z0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),A=Z0({margin:0},h),C=!qe(w),E=C?w:"",T=ze("recharts-default-tooltip",j),R=ze("recharts-tooltip-label",v);C&&g&&p!==void 0&&p!==null&&(E=g(w,p));var I=P?{role:"status","aria-live":"assertive"}:{};return X.createElement("div",Kv({className:T,style:N},I),X.createElement("p",{className:R,style:A},X.isValidElement(E)?E:"".concat(E)),O())};function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function Cu(e,t,n){return t=wz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wz(e){var t=Nz(e,"string");return cc(t)=="symbol"?t:t+""}function Nz(e,t){if(cc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(cc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ml="recharts-tooltip-wrapper",Sz={visibility:"hidden"};function kz(e){var t=e.coordinate,n=e.translateX,a=e.translateY;return ze(Ml,Cu(Cu(Cu(Cu({},"".concat(Ml,"-right"),ge(n)&&t&&ge(t.x)&&n>=t.x),"".concat(Ml,"-left"),ge(n)&&t&&ge(t.x)&&n<t.x),"".concat(Ml,"-bottom"),ge(a)&&t&&ge(t.y)&&a>=t.y),"".concat(Ml,"-top"),ge(a)&&t&&ge(t.y)&&a<t.y))}function T4(e){var t=e.allowEscapeViewBox,n=e.coordinate,a=e.key,s=e.offsetTopLeft,i=e.position,l=e.reverseDirection,d=e.tooltipDimension,u=e.viewBox,h=e.viewBoxDimension;if(i&&ge(i[a]))return i[a];var p=n[a]-d-s,m=n[a]+s;if(t[a])return l[a]?p:m;if(l[a]){var x=p,j=u[a];return x<j?Math.max(m,u[a]):Math.max(p,u[a])}var v=m+d,w=u[a]+h;return v>w?Math.max(p,u[a]):Math.max(m,u[a])}function Cz(e){var t=e.translateX,n=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Az(e){var t=e.allowEscapeViewBox,n=e.coordinate,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipBox,d=e.useTranslate3d,u=e.viewBox,h,p,m;return l.height>0&&l.width>0&&n?(p=T4({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),m=T4({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),h=Cz({translateX:p,translateY:m,useTranslate3d:d})):h=Sz,{cssProperties:h,cssClasses:kz({translateX:p,translateY:m,coordinate:n})}}function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function R4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function M4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R4(Object(n),!0).forEach(function(a){Vv(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Pz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oz(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,OE(a.key),a)}}function Ez(e,t,n){return t&&Oz(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _z(e,t,n){return t=oh(t),Tz(e,PE()?Reflect.construct(t,n||[],oh(e).constructor):t.apply(e,n))}function Tz(e,t){if(t&&(oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rz(e)}function Rz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PE=function(){return!!e})()}function oh(e){return oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oh(e)}function Mz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gv(e,t)}function Gv(e,t){return Gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Gv(e,t)}function Vv(e,t,n){return t=OE(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OE(e){var t=Iz(e,"string");return oo(t)=="symbol"?t:t+""}function Iz(e,t){if(oo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(oo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var I4=1,$z=(function(e){function t(){var n;Pz(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=_z(this,t,[].concat(s)),Vv(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Vv(n,"handleKeyDown",function(l){if(l.key==="Escape"){var d,u,h,p;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(d=(u=n.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&d!==void 0?d:0,y:(h=(p=n.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&h!==void 0?h:0}})}}),n}return Mz(t,e),Ez(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>I4||Math.abs(a.height-this.state.lastBoundingBox.height)>I4)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,d=s.animationDuration,u=s.animationEasing,h=s.children,p=s.coordinate,m=s.hasPayload,x=s.isAnimationActive,j=s.offset,v=s.position,w=s.reverseDirection,g=s.useTranslate3d,S=s.viewBox,P=s.wrapperStyle,O=Az({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:j,position:v,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:S}),N=O.cssClasses,A=O.cssProperties,C=M4(M4({transition:x&&i?"transform ".concat(d,"ms ").concat(u):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},P);return X.createElement("div",{tabIndex:-1,className:N,style:C,ref:function(T){a.wrapperNode=T}},h)}}])})(b.PureComponent),Lz=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ti={isSsr:Lz()};function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function $4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function L4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$4(Object(n),!0).forEach(function(a){Fj(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Dz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fz(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,_E(a.key),a)}}function qz(e,t,n){return t&&Fz(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zz(e,t,n){return t=lh(t),Bz(e,EE()?Reflect.construct(t,n||[],lh(e).constructor):t.apply(e,n))}function Bz(e,t){if(t&&(lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uz(e)}function Uz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EE=function(){return!!e})()}function lh(e){return lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lh(e)}function Wz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qv(e,t)}function Qv(e,t){return Qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Qv(e,t)}function Fj(e,t,n){return t=_E(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _E(e){var t=Hz(e,"string");return lo(t)=="symbol"?t:t+""}function Hz(e,t){if(lo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(lo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Kz(e){return e.dataKey}function Gz(e,t){return X.isValidElement(e)?X.cloneElement(e,t):typeof e=="function"?X.createElement(e,t):X.createElement(jz,t)}var Gr=(function(e){function t(){return Dz(this,t),zz(this,t,arguments)}return Wz(t,e),qz(t,[{key:"render",value:function(){var a=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,d=s.animationDuration,u=s.animationEasing,h=s.content,p=s.coordinate,m=s.filterNull,x=s.isAnimationActive,j=s.offset,v=s.payload,w=s.payloadUniqBy,g=s.position,S=s.reverseDirection,P=s.useTranslate3d,O=s.viewBox,N=s.wrapperStyle,A=v??[];m&&A.length&&(A=jE(v.filter(function(E){return E.value!=null&&(E.hide!==!0||a.props.includeHidden)}),w,Kz));var C=A.length>0;return X.createElement($z,{allowEscapeViewBox:l,animationDuration:d,animationEasing:u,isAnimationActive:x,active:i,coordinate:p,hasPayload:C,offset:j,position:g,reverseDirection:S,useTranslate3d:P,viewBox:O,wrapperStyle:N},Gz(h,L4(L4({},this.props),{},{payload:A})))}}])})(b.PureComponent);Fj(Gr,"displayName","Tooltip");Fj(Gr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ti.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ey,D4;function Vz(){if(D4)return ey;D4=1;var e=Mn(),t=function(){return e.Date.now()};return ey=t,ey}var ty,F4;function Qz(){if(F4)return ty;F4=1;var e=/\s/;function t(n){for(var a=n.length;a--&&e.test(n.charAt(a)););return a}return ty=t,ty}var ry,q4;function Yz(){if(q4)return ry;q4=1;var e=Qz(),t=/^\s+/;function n(a){return a&&a.slice(0,e(a)+1).replace(t,"")}return ry=n,ry}var ny,z4;function TE(){if(z4)return ny;z4=1;var e=Yz(),t=ns(),n=$o(),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt;function u(h){if(typeof h=="number")return h;if(n(h))return a;if(t(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=t(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=e(h);var m=i.test(h);return m||l.test(h)?d(h.slice(2),m?2:8):s.test(h)?a:+h}return ny=u,ny}var ay,B4;function Xz(){if(B4)return ay;B4=1;var e=ns(),t=Vz(),n=TE(),a="Expected a function",s=Math.max,i=Math.min;function l(d,u,h){var p,m,x,j,v,w,g=0,S=!1,P=!1,O=!0;if(typeof d!="function")throw new TypeError(a);u=n(u)||0,e(h)&&(S=!!h.leading,P="maxWait"in h,x=P?s(n(h.maxWait)||0,u):x,O="trailing"in h?!!h.trailing:O);function N(G){var V=p,z=m;return p=m=void 0,g=G,j=d.apply(z,V),j}function A(G){return g=G,v=setTimeout(T,u),S?N(G):j}function C(G){var V=G-w,z=G-g,U=u-V;return P?i(U,x-z):U}function E(G){var V=G-w,z=G-g;return w===void 0||V>=u||V<0||P&&z>=x}function T(){var G=t();if(E(G))return R(G);v=setTimeout(T,C(G))}function R(G){return v=void 0,O&&p?N(G):(p=m=void 0,j)}function I(){v!==void 0&&clearTimeout(v),g=0,p=w=m=v=void 0}function M(){return v===void 0?j:R(t())}function $(){var G=t(),V=E(G);if(p=arguments,m=this,w=G,V){if(v===void 0)return A(w);if(P)return clearTimeout(v),v=setTimeout(T,u),N(w)}return v===void 0&&(v=setTimeout(T,u)),j}return $.cancel=I,$.flush=M,$}return ay=l,ay}var sy,U4;function Jz(){if(U4)return sy;U4=1;var e=Xz(),t=ns(),n="Expected a function";function a(s,i,l){var d=!0,u=!0;if(typeof s!="function")throw new TypeError(n);return t(l)&&(d="leading"in l?!!l.leading:d,u="trailing"in l?!!l.trailing:u),e(s,i,{leading:d,maxWait:i,trailing:u})}return sy=a,sy}var Zz=Jz();const RE=Ze(Zz);function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function W4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W4(Object(n),!0).forEach(function(a){eB(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function eB(e,t,n){return t=tB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tB(e){var t=rB(e,"string");return dc(t)=="symbol"?t:t+""}function rB(e,t){if(dc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(dc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nB(e,t){return oB(e)||iB(e,t)||sB(e,t)||aB()}function aB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sB(e,t){if(e){if(typeof e=="string")return H4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H4(e,t)}}function H4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function iB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function oB(e){if(Array.isArray(e))return e}var qj=b.forwardRef(function(e,t){var n=e.aspect,a=e.initialDimension,s=a===void 0?{width:-1,height:-1}:a,i=e.width,l=i===void 0?"100%":i,d=e.height,u=d===void 0?"100%":d,h=e.minWidth,p=h===void 0?0:h,m=e.minHeight,x=e.maxHeight,j=e.children,v=e.debounce,w=v===void 0?0:v,g=e.id,S=e.className,P=e.onResize,O=e.style,N=O===void 0?{}:O,A=b.useRef(null),C=b.useRef();C.current=P,b.useImperativeHandle(t,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var E=b.useState({containerWidth:s.width,containerHeight:s.height}),T=nB(E,2),R=T[0],I=T[1],M=b.useCallback(function(G,V){I(function(z){var U=Math.round(G),W=Math.round(V);return z.containerWidth===U&&z.containerHeight===W?z:{containerWidth:U,containerHeight:W}})},[]);b.useEffect(function(){var G=function(F){var L,q=F[0].contentRect,K=q.width,Y=q.height;M(K,Y),(L=C.current)===null||L===void 0||L.call(C,K,Y)};w>0&&(G=RE(G,w,{trailing:!0,leading:!1}));var V=new ResizeObserver(G),z=A.current.getBoundingClientRect(),U=z.width,W=z.height;return M(U,W),V.observe(A.current),function(){V.disconnect()}},[M,w]);var $=b.useMemo(function(){var G=R.containerWidth,V=R.containerHeight;if(G<0||V<0)return null;pn(Ps(l)||Ps(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,u),pn(!n||n>0,"The aspect(%s) must be greater than zero.",n);var z=Ps(l)?G:l,U=Ps(u)?V:u;n&&n>0&&(z?U=z/n:U&&(z=U*n),x&&U>x&&(U=x)),pn(z>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,U,l,u,p,m,n);var W=!Array.isArray(j)&&ra(j.type).endsWith("Chart");return X.Children.map(j,function(B){return X.isValidElement(B)?b.cloneElement(B,Au({width:z,height:U},W?{style:Au({height:"100%",width:"100%",maxHeight:U,maxWidth:z},B.props.style)}:{})):B})},[n,j,u,x,m,p,R,l]);return X.createElement("div",{id:g?"".concat(g):void 0,className:ze("recharts-responsive-container",S),style:Au(Au({},N),{},{width:l,height:u,minWidth:p,minHeight:m,maxHeight:x}),ref:A},$)}),Sf=function(t){return null};Sf.displayName="Cell";function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function K4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Yv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K4(Object(n),!0).forEach(function(a){lB(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function lB(e,t,n){return t=cB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cB(e){var t=dB(e,"string");return uc(t)=="symbol"?t:t+""}function dB(e,t){if(uc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(uc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ei={widthCache:{},cacheCount:0},uB=2e3,hB={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},G4="recharts_measurement_span";function fB(e){var t=Yv({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Yl=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ti.isSsr)return{width:0,height:0};var a=fB(n),s=JSON.stringify({text:t,copyStyle:a});if(Ei.widthCache[s])return Ei.widthCache[s];try{var i=document.getElementById(G4);i||(i=document.createElement("span"),i.setAttribute("id",G4),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=Yv(Yv({},hB),a);Object.assign(i.style,l),i.textContent="".concat(t);var d=i.getBoundingClientRect(),u={width:d.width,height:d.height};return Ei.widthCache[s]=u,++Ei.cacheCount>uB&&(Ei.cacheCount=0,Ei.widthCache={}),u}catch{return{width:0,height:0}}},mB=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function ch(e,t){return yB(e)||gB(e,t)||xB(e,t)||pB()}function pB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xB(e,t){if(e){if(typeof e=="string")return V4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V4(e,t)}}function V4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function gB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function yB(e){if(Array.isArray(e))return e}function vB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q4(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,jB(a.key),a)}}function bB(e,t,n){return t&&Q4(e.prototype,t),n&&Q4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jB(e){var t=wB(e,"string");return hc(t)=="symbol"?t:t+""}function wB(e,t){if(hc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(hc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Y4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,X4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NB=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,SB=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ME={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kB=Object.keys(ME),$i="NaN";function CB(e,t){return e*ME[t]}var Pu=(function(){function e(t,n){vB(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!NB.test(n)&&(this.num=NaN,this.unit=""),kB.includes(n)&&(this.num=CB(t,n),this.unit="px")}return bB(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var a,s=(a=SB.exec(n))!==null&&a!==void 0?a:[],i=ch(s,3),l=i[1],d=i[2];return new e(parseFloat(l),d??"")}}])})();function IE(e){if(e.includes($i))return $i;for(var t=e;t.includes("*")||t.includes("/");){var n,a=(n=Y4.exec(t))!==null&&n!==void 0?n:[],s=ch(a,4),i=s[1],l=s[2],d=s[3],u=Pu.parse(i??""),h=Pu.parse(d??""),p=l==="*"?u.multiply(h):u.divide(h);if(p.isNaN())return $i;t=t.replace(Y4,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,x=(m=X4.exec(t))!==null&&m!==void 0?m:[],j=ch(x,4),v=j[1],w=j[2],g=j[3],S=Pu.parse(v??""),P=Pu.parse(g??""),O=w==="+"?S.add(P):S.subtract(P);if(O.isNaN())return $i;t=t.replace(X4,O.toString())}return t}var J4=/\(([^()]*)\)/;function AB(e){for(var t=e;t.includes("(");){var n=J4.exec(t),a=ch(n,2),s=a[1];t=t.replace(J4,IE(s))}return t}function PB(e){var t=e.replace(/\s+/g,"");return t=AB(t),t=IE(t),t}function OB(e){try{return PB(e)}catch{return $i}}function iy(e){var t=OB(e.slice(5,-1));return t===$i?"":t}var EB=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_B=["dx","dy","angle","className","breakAll"];function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Xv.apply(this,arguments)}function Z4(e,t){if(e==null)return{};var n=TB(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function TB(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function eC(e,t){return $B(e)||IB(e,t)||MB(e,t)||RB()}function RB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MB(e,t){if(e){if(typeof e=="string")return tC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tC(e,t)}}function tC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function IB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function $B(e){if(Array.isArray(e))return e}var $E=/[ \f\n\r\t\v\u2028\u2029]+/,LE=function(t){var n=t.children,a=t.breakAll,s=t.style;try{var i=[];qe(n)||(a?i=n.toString().split(""):i=n.toString().split($E));var l=i.map(function(u){return{word:u,width:Yl(u,s).width}}),d=a?0:Yl("",s).width;return{wordsWithComputedWidth:l,spaceWidth:d}}catch{return null}},LB=function(t,n,a,s,i){var l=t.maxLines,d=t.children,u=t.style,h=t.breakAll,p=ge(l),m=d,x=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(U,W){var B=W.word,F=W.width,L=U[U.length-1];if(L&&(s==null||i||L.width+F+a<Number(s)))L.words.push(B),L.width+=F+a;else{var q={words:[B],width:F};U.push(q)}return U},[])},j=x(n),v=function(z){return z.reduce(function(U,W){return U.width>W.width?U:W})};if(!p)return j;for(var w="",g=function(z){var U=m.slice(0,z),W=LE({breakAll:h,style:u,children:U+w}).wordsWithComputedWidth,B=x(W),F=B.length>l||v(B).width>Number(s);return[F,B]},S=0,P=m.length-1,O=0,N;S<=P&&O<=m.length-1;){var A=Math.floor((S+P)/2),C=A-1,E=g(C),T=eC(E,2),R=T[0],I=T[1],M=g(A),$=eC(M,1),G=$[0];if(!R&&!G&&(S=A+1),R&&G&&(P=A-1),!R&&G){N=I;break}O++}return N||j},rC=function(t){var n=qe(t)?[]:t.toString().split($E);return[{words:n}]},DB=function(t){var n=t.width,a=t.scaleToFit,s=t.children,i=t.style,l=t.breakAll,d=t.maxLines;if((n||a)&&!ti.isSsr){var u,h,p=LE({breakAll:l,children:s,style:i});if(p){var m=p.wordsWithComputedWidth,x=p.spaceWidth;u=m,h=x}else return rC(s);return LB({breakAll:l,children:s,maxLines:d,style:i},u,h,n,a)}return rC(s)},nC="#808080",Qs=function(t){var n=t.x,a=n===void 0?0:n,s=t.y,i=s===void 0?0:s,l=t.lineHeight,d=l===void 0?"1em":l,u=t.capHeight,h=u===void 0?"0.71em":u,p=t.scaleToFit,m=p===void 0?!1:p,x=t.textAnchor,j=x===void 0?"start":x,v=t.verticalAnchor,w=v===void 0?"end":v,g=t.fill,S=g===void 0?nC:g,P=Z4(t,EB),O=b.useMemo(function(){return DB({breakAll:P.breakAll,children:P.children,maxLines:P.maxLines,scaleToFit:m,style:P.style,width:P.width})},[P.breakAll,P.children,P.maxLines,m,P.style,P.width]),N=P.dx,A=P.dy,C=P.angle,E=P.className,T=P.breakAll,R=Z4(P,_B);if(!Dt(a)||!Dt(i))return null;var I=a+(ge(N)?N:0),M=i+(ge(A)?A:0),$;switch(w){case"start":$=iy("calc(".concat(h,")"));break;case"middle":$=iy("calc(".concat((O.length-1)/2," * -").concat(d," + (").concat(h," / 2))"));break;default:$=iy("calc(".concat(O.length-1," * -").concat(d,")"));break}var G=[];if(m){var V=O[0].width,z=P.width;G.push("scale(".concat((ge(z)?z/V:1)/V,")"))}return C&&G.push("rotate(".concat(C,", ").concat(I,", ").concat(M,")")),G.length&&(R.transform=G.join(" ")),X.createElement("text",Xv({},Re(R,!0),{x:I,y:M,className:ze("recharts-text",E),textAnchor:j,fill:S.includes("url")?nC:S}),O.map(function(U,W){var B=U.words.join(T?"":" ");return X.createElement("tspan",{x:I,dy:W===0?$:d,key:"".concat(B,"-").concat(W)},B)}))};function Ja(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function FB(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zj(e){let t,n,a;e.length!==2?(t=Ja,n=(d,u)=>Ja(e(d),u),a=(d,u)=>e(d)-u):(t=e===Ja||e===FB?e:qB,n=e,a=e);function s(d,u,h=0,p=d.length){if(h<p){if(t(u,u)!==0)return p;do{const m=h+p>>>1;n(d[m],u)<0?h=m+1:p=m}while(h<p)}return h}function i(d,u,h=0,p=d.length){if(h<p){if(t(u,u)!==0)return p;do{const m=h+p>>>1;n(d[m],u)<=0?h=m+1:p=m}while(h<p)}return h}function l(d,u,h=0,p=d.length){const m=s(d,u,h,p-1);return m>h&&a(d[m-1],u)>-a(d[m],u)?m-1:m}return{left:s,center:l,right:i}}function qB(){return 0}function DE(e){return e===null?NaN:+e}function*zB(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const BB=zj(Ja),rd=BB.right;zj(DE).center;class aC extends Map{constructor(t,n=HB){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(sC(this,t))}has(t){return super.has(sC(this,t))}set(t,n){return super.set(UB(this,t),n)}delete(t){return super.delete(WB(this,t))}}function sC({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):n}function UB({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):(e.set(a,n),n)}function WB({_intern:e,_key:t},n){const a=t(n);return e.has(a)&&(n=e.get(a),e.delete(a)),n}function HB(e){return e!==null&&typeof e=="object"?e.valueOf():e}function KB(e=Ja){if(e===Ja)return FE;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const a=e(t,n);return a||a===0?a:(e(n,n)===0)-(e(t,t)===0)}}function FE(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const GB=Math.sqrt(50),VB=Math.sqrt(10),QB=Math.sqrt(2);function dh(e,t,n){const a=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),l=i>=GB?10:i>=VB?5:i>=QB?2:1;let d,u,h;return s<0?(h=Math.pow(10,-s)/l,d=Math.round(e*h),u=Math.round(t*h),d/h<e&&++d,u/h>t&&--u,h=-h):(h=Math.pow(10,s)*l,d=Math.round(e/h),u=Math.round(t/h),d*h<e&&++d,u*h>t&&--u),u<d&&.5<=n&&n<2?dh(e,t,n*2):[d,u,h]}function Jv(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const a=t<e,[s,i,l]=a?dh(t,e,n):dh(e,t,n);if(!(i>=s))return[];const d=i-s+1,u=new Array(d);if(a)if(l<0)for(let h=0;h<d;++h)u[h]=(i-h)/-l;else for(let h=0;h<d;++h)u[h]=(i-h)*l;else if(l<0)for(let h=0;h<d;++h)u[h]=(s+h)/-l;else for(let h=0;h<d;++h)u[h]=(s+h)*l;return u}function Zv(e,t,n){return t=+t,e=+e,n=+n,dh(e,t,n)[2]}function eb(e,t,n){t=+t,e=+e,n=+n;const a=t<e,s=a?Zv(t,e,n):Zv(e,t,n);return(a?-1:1)*(s<0?1/-s:s)}function iC(e,t){let n;for(const a of e)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function oC(e,t){let n;for(const a of e)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function qE(e,t,n=0,a=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(e.length-1,a)),!(n<=t&&t<=a))return e;for(s=s===void 0?FE:KB(s);a>n;){if(a-n>600){const u=a-n+1,h=t-n+1,p=Math.log(u),m=.5*Math.exp(2*p/3),x=.5*Math.sqrt(p*m*(u-m)/u)*(h-u/2<0?-1:1),j=Math.max(n,Math.floor(t-h*m/u+x)),v=Math.min(a,Math.floor(t+(u-h)*m/u+x));qE(e,t,j,v,s)}const i=e[t];let l=n,d=a;for(Il(e,n,t),s(e[a],i)>0&&Il(e,n,a);l<d;){for(Il(e,l,d),++l,--d;s(e[l],i)<0;)++l;for(;s(e[d],i)>0;)--d}s(e[n],i)===0?Il(e,n,d):(++d,Il(e,d,a)),d<=t&&(n=d+1),t<=d&&(a=d-1)}return e}function Il(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function YB(e,t,n){if(e=Float64Array.from(zB(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return oC(e);if(t>=1)return iC(e);var a,s=(a-1)*t,i=Math.floor(s),l=iC(qE(e,i).subarray(0,i+1)),d=oC(e.subarray(i+1));return l+(d-l)*(s-i)}}function XB(e,t,n=DE){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+n(e[0],0,e);if(t>=1)return+n(e[a-1],a-1,e);var a,s=(a-1)*t,i=Math.floor(s),l=+n(e[i],i,e),d=+n(e[i+1],i+1,e);return l+(d-l)*(s-i)}}function JB(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(s);++a<s;)i[a]=e+a*n;return i}function Jr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ha(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const tb=Symbol("implicit");function Bj(){var e=new aC,t=[],n=[],a=tb;function s(i){let l=e.get(i);if(l===void 0){if(a!==tb)return a;e.set(i,l=t.push(i)-1)}return n[l%n.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new aC;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return Bj(t,n).unknown(a)},Jr.apply(s,arguments),s}function fc(){var e=Bj().unknown(void 0),t=e.domain,n=e.range,a=0,s=1,i,l,d=!1,u=0,h=0,p=.5;delete e.unknown;function m(){var x=t().length,j=s<a,v=j?s:a,w=j?a:s;i=(w-v)/Math.max(1,x-u+h*2),d&&(i=Math.floor(i)),v+=(w-v-i*(x-u))*p,l=i*(1-u),d&&(v=Math.round(v),l=Math.round(l));var g=JB(x).map(function(S){return v+i*S});return n(j?g.reverse():g)}return e.domain=function(x){return arguments.length?(t(x),m()):t()},e.range=function(x){return arguments.length?([a,s]=x,a=+a,s=+s,m()):[a,s]},e.rangeRound=function(x){return[a,s]=x,a=+a,s=+s,d=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(x){return arguments.length?(d=!!x,m()):d},e.padding=function(x){return arguments.length?(u=Math.min(1,h=+x),m()):u},e.paddingInner=function(x){return arguments.length?(u=Math.min(1,x),m()):u},e.paddingOuter=function(x){return arguments.length?(h=+x,m()):h},e.align=function(x){return arguments.length?(p=Math.max(0,Math.min(1,x)),m()):p},e.copy=function(){return fc(t(),[a,s]).round(d).paddingInner(u).paddingOuter(h).align(p)},Jr.apply(m(),arguments)}function zE(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return zE(t())},e}function Xl(){return zE(fc.apply(null,arguments).paddingInner(1))}function Uj(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function BE(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function nd(){}var mc=.7,uh=1/mc,Bi="\\s*([+-]?\\d+)\\s*",pc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",En="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ZB=/^#([0-9a-f]{3,8})$/,eU=new RegExp(`^rgb\\(${Bi},${Bi},${Bi}\\)$`),tU=new RegExp(`^rgb\\(${En},${En},${En}\\)$`),rU=new RegExp(`^rgba\\(${Bi},${Bi},${Bi},${pc}\\)$`),nU=new RegExp(`^rgba\\(${En},${En},${En},${pc}\\)$`),aU=new RegExp(`^hsl\\(${pc},${En},${En}\\)$`),sU=new RegExp(`^hsla\\(${pc},${En},${En},${pc}\\)$`),lC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Uj(nd,xc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cC,formatHex:cC,formatHex8:iU,formatHsl:oU,formatRgb:dC,toString:dC});function cC(){return this.rgb().formatHex()}function iU(){return this.rgb().formatHex8()}function oU(){return UE(this).formatHsl()}function dC(){return this.rgb().formatRgb()}function xc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ZB.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?uC(t):n===3?new jr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ou(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ou(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=eU.exec(e))?new jr(t[1],t[2],t[3],1):(t=tU.exec(e))?new jr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=rU.exec(e))?Ou(t[1],t[2],t[3],t[4]):(t=nU.exec(e))?Ou(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=aU.exec(e))?mC(t[1],t[2]/100,t[3]/100,1):(t=sU.exec(e))?mC(t[1],t[2]/100,t[3]/100,t[4]):lC.hasOwnProperty(e)?uC(lC[e]):e==="transparent"?new jr(NaN,NaN,NaN,0):null}function uC(e){return new jr(e>>16&255,e>>8&255,e&255,1)}function Ou(e,t,n,a){return a<=0&&(e=t=n=NaN),new jr(e,t,n,a)}function lU(e){return e instanceof nd||(e=xc(e)),e?(e=e.rgb(),new jr(e.r,e.g,e.b,e.opacity)):new jr}function rb(e,t,n,a){return arguments.length===1?lU(e):new jr(e,t,n,a??1)}function jr(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}Uj(jr,rb,BE(nd,{brighter(e){return e=e==null?uh:Math.pow(uh,e),new jr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mc:Math.pow(mc,e),new jr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new jr(Bs(this.r),Bs(this.g),Bs(this.b),hh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hC,formatHex:hC,formatHex8:cU,formatRgb:fC,toString:fC}));function hC(){return`#${Os(this.r)}${Os(this.g)}${Os(this.b)}`}function cU(){return`#${Os(this.r)}${Os(this.g)}${Os(this.b)}${Os((isNaN(this.opacity)?1:this.opacity)*255)}`}function fC(){const e=hh(this.opacity);return`${e===1?"rgb(":"rgba("}${Bs(this.r)}, ${Bs(this.g)}, ${Bs(this.b)}${e===1?")":`, ${e})`}`}function hh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Os(e){return e=Bs(e),(e<16?"0":"")+e.toString(16)}function mC(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new mn(e,t,n,a)}function UE(e){if(e instanceof mn)return new mn(e.h,e.s,e.l,e.opacity);if(e instanceof nd||(e=xc(e)),!e)return new mn;if(e instanceof mn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,a=e.b/255,s=Math.min(t,n,a),i=Math.max(t,n,a),l=NaN,d=i-s,u=(i+s)/2;return d?(t===i?l=(n-a)/d+(n<a)*6:n===i?l=(a-t)/d+2:l=(t-n)/d+4,d/=u<.5?i+s:2-i-s,l*=60):d=u>0&&u<1?0:l,new mn(l,d,u,e.opacity)}function dU(e,t,n,a){return arguments.length===1?UE(e):new mn(e,t,n,a??1)}function mn(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}Uj(mn,dU,BE(nd,{brighter(e){return e=e==null?uh:Math.pow(uh,e),new mn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mc:Math.pow(mc,e),new mn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,s=2*n-a;return new jr(oy(e>=240?e-240:e+120,s,a),oy(e,s,a),oy(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new mn(pC(this.h),Eu(this.s),Eu(this.l),hh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hh(this.opacity);return`${e===1?"hsl(":"hsla("}${pC(this.h)}, ${Eu(this.s)*100}%, ${Eu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function pC(e){return e=(e||0)%360,e<0?e+360:e}function Eu(e){return Math.max(0,Math.min(1,e||0))}function oy(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Wj=e=>()=>e;function uU(e,t){return function(n){return e+n*t}}function hU(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}function fU(e){return(e=+e)==1?WE:function(t,n){return n-t?hU(t,n,e):Wj(isNaN(t)?n:t)}}function WE(e,t){var n=t-e;return n?uU(e,n):Wj(isNaN(e)?t:e)}const xC=(function e(t){var n=fU(t);function a(s,i){var l=n((s=rb(s)).r,(i=rb(i)).r),d=n(s.g,i.g),u=n(s.b,i.b),h=WE(s.opacity,i.opacity);return function(p){return s.r=l(p),s.g=d(p),s.b=u(p),s.opacity=h(p),s+""}}return a.gamma=e,a})(1);function mU(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(i){for(s=0;s<n;++s)a[s]=e[s]*(1-i)+t[s]*i;return a}}function pU(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xU(e,t){var n=t?t.length:0,a=e?Math.min(n,e.length):0,s=new Array(a),i=new Array(n),l;for(l=0;l<a;++l)s[l]=qo(e[l],t[l]);for(;l<n;++l)i[l]=t[l];return function(d){for(l=0;l<a;++l)i[l]=s[l](d);return i}}function gU(e,t){var n=new Date;return e=+e,t=+t,function(a){return n.setTime(e*(1-a)+t*a),n}}function fh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function yU(e,t){var n={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=qo(e[s],t[s]):a[s]=t[s];return function(i){for(s in n)a[s]=n[s](i);return a}}var nb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ly=new RegExp(nb.source,"g");function vU(e){return function(){return e}}function bU(e){return function(t){return e(t)+""}}function jU(e,t){var n=nb.lastIndex=ly.lastIndex=0,a,s,i,l=-1,d=[],u=[];for(e=e+"",t=t+"";(a=nb.exec(e))&&(s=ly.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),d[l]?d[l]+=i:d[++l]=i),(a=a[0])===(s=s[0])?d[l]?d[l]+=s:d[++l]=s:(d[++l]=null,u.push({i:l,x:fh(a,s)})),n=ly.lastIndex;return n<t.length&&(i=t.slice(n),d[l]?d[l]+=i:d[++l]=i),d.length<2?u[0]?bU(u[0].x):vU(t):(t=u.length,function(h){for(var p=0,m;p<t;++p)d[(m=u[p]).i]=m.x(h);return d.join("")})}function qo(e,t){var n=typeof t,a;return t==null||n==="boolean"?Wj(t):(n==="number"?fh:n==="string"?(a=xc(t))?(t=a,xC):jU:t instanceof xc?xC:t instanceof Date?gU:pU(t)?mU:Array.isArray(t)?xU:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?yU:fh)(e,t)}function Hj(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function wU(e,t){t===void 0&&(t=e,e=qo);for(var n=0,a=t.length-1,s=t[0],i=new Array(a<0?0:a);n<a;)i[n]=e(s,s=t[++n]);return function(l){var d=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return i[d](l-d)}}function NU(e){return function(){return e}}function mh(e){return+e}var gC=[0,1];function ur(e){return e}function ab(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:NU(isNaN(t)?NaN:.5)}function SU(e,t){var n;return e>t&&(n=e,e=t,t=n),function(a){return Math.max(e,Math.min(t,a))}}function kU(e,t,n){var a=e[0],s=e[1],i=t[0],l=t[1];return s<a?(a=ab(s,a),i=n(l,i)):(a=ab(a,s),i=n(i,l)),function(d){return i(a(d))}}function CU(e,t,n){var a=Math.min(e.length,t.length)-1,s=new Array(a),i=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)s[l]=ab(e[l],e[l+1]),i[l]=n(t[l],t[l+1]);return function(d){var u=rd(e,d,1,a)-1;return i[u](s[u](d))}}function ad(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function kf(){var e=gC,t=gC,n=qo,a,s,i,l=ur,d,u,h;function p(){var x=Math.min(e.length,t.length);return l!==ur&&(l=SU(e[0],e[x-1])),d=x>2?CU:kU,u=h=null,m}function m(x){return x==null||isNaN(x=+x)?i:(u||(u=d(e.map(a),t,n)))(a(l(x)))}return m.invert=function(x){return l(s((h||(h=d(t,e.map(a),fh)))(x)))},m.domain=function(x){return arguments.length?(e=Array.from(x,mh),p()):e.slice()},m.range=function(x){return arguments.length?(t=Array.from(x),p()):t.slice()},m.rangeRound=function(x){return t=Array.from(x),n=Hj,p()},m.clamp=function(x){return arguments.length?(l=x?!0:ur,p()):l!==ur},m.interpolate=function(x){return arguments.length?(n=x,p()):n},m.unknown=function(x){return arguments.length?(i=x,m):i},function(x,j){return a=x,s=j,p()}}function Kj(){return kf()(ur,ur)}function AU(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ph(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function co(e){return e=ph(Math.abs(e)),e?e[1]:NaN}function PU(e,t){return function(n,a){for(var s=n.length,i=[],l=0,d=e[0],u=0;s>0&&d>0&&(u+d+1>a&&(d=Math.max(1,a-u)),i.push(n.substring(s-=d,s+d)),!((u+=d+1)>a));)d=e[l=(l+1)%e.length];return i.reverse().join(t)}}function OU(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var EU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gc(e){if(!(t=EU.exec(e)))throw new Error("invalid format: "+e);var t;return new Gj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}gc.prototype=Gj.prototype;function Gj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Gj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _U(e){e:for(var t=e.length,n=1,a=-1,s;n<t;++n)switch(e[n]){case".":a=s=n;break;case"0":a===0&&(a=n),s=n;break;default:if(!+e[n])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var xh;function TU(e,t){var n=ph(e,t);if(!n)return xh=void 0,e.toPrecision(t);var a=n[0],s=n[1],i=s-(xh=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=a.length;return i===l?a:i>l?a+new Array(i-l+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+ph(e,Math.max(0,t+i-1))[0]}function yC(e,t){var n=ph(e,t);if(!n)return e+"";var a=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const vC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:AU,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yC(e*100,t),r:yC,s:TU,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function bC(e){return e}var jC=Array.prototype.map,wC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function RU(e){var t=e.grouping===void 0||e.thousands===void 0?bC:PU(jC.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?bC:OU(jC.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function h(m,x){m=gc(m);var j=m.fill,v=m.align,w=m.sign,g=m.symbol,S=m.zero,P=m.width,O=m.comma,N=m.precision,A=m.trim,C=m.type;C==="n"?(O=!0,C="g"):vC[C]||(N===void 0&&(N=12),A=!0,C="g"),(S||j==="0"&&v==="=")&&(S=!0,j="0",v="=");var E=(x&&x.prefix!==void 0?x.prefix:"")+(g==="$"?n:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():""),T=(g==="$"?a:/[%p]/.test(C)?l:"")+(x&&x.suffix!==void 0?x.suffix:""),R=vC[C],I=/[defgprs%]/.test(C);N=N===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function M($){var G=E,V=T,z,U,W;if(C==="c")V=R($)+V,$="";else{$=+$;var B=$<0||1/$<0;if($=isNaN($)?u:R(Math.abs($),N),A&&($=_U($)),B&&+$==0&&w!=="+"&&(B=!1),G=(B?w==="("?w:d:w==="-"||w==="("?"":w)+G,V=(C==="s"&&!isNaN($)&&xh!==void 0?wC[8+xh/3]:"")+V+(B&&w==="("?")":""),I){for(z=-1,U=$.length;++z<U;)if(W=$.charCodeAt(z),48>W||W>57){V=(W===46?s+$.slice(z+1):$.slice(z))+V,$=$.slice(0,z);break}}}O&&!S&&($=t($,1/0));var F=G.length+$.length+V.length,L=F<P?new Array(P-F+1).join(j):"";switch(O&&S&&($=t(L+$,L.length?P-V.length:1/0),L=""),v){case"<":$=G+$+V+L;break;case"=":$=G+L+$+V;break;case"^":$=L.slice(0,F=L.length>>1)+G+$+V+L.slice(F);break;default:$=L+G+$+V;break}return i($)}return M.toString=function(){return m+""},M}function p(m,x){var j=Math.max(-8,Math.min(8,Math.floor(co(x)/3)))*3,v=Math.pow(10,-j),w=h((m=gc(m),m.type="f",m),{suffix:wC[8+j/3]});return function(g){return w(v*g)}}return{format:h,formatPrefix:p}}var _u,Vj,HE;MU({thousands:",",grouping:[3],currency:["$",""]});function MU(e){return _u=RU(e),Vj=_u.format,HE=_u.formatPrefix,_u}function IU(e){return Math.max(0,-co(Math.abs(e)))}function $U(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(co(t)/3)))*3-co(Math.abs(e)))}function LU(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,co(t)-co(e))+1}function KE(e,t,n,a){var s=eb(e,t,n),i;switch(a=gc(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=$U(s,l))&&(a.precision=i),HE(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=LU(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=IU(s))&&(a.precision=i-(a.type==="%")*2);break}}return Vj(a)}function as(e){var t=e.domain;return e.ticks=function(n){var a=t();return Jv(a[0],a[a.length-1],n??10)},e.tickFormat=function(n,a){var s=t();return KE(s[0],s[s.length-1],n??10,a)},e.nice=function(n){n==null&&(n=10);var a=t(),s=0,i=a.length-1,l=a[s],d=a[i],u,h,p=10;for(d<l&&(h=l,l=d,d=h,h=s,s=i,i=h);p-- >0;){if(h=Zv(l,d,n),h===u)return a[s]=l,a[i]=d,t(a);if(h>0)l=Math.floor(l/h)*h,d=Math.ceil(d/h)*h;else if(h<0)l=Math.ceil(l*h)/h,d=Math.floor(d*h)/h;else break;u=h}return e},e}function gh(){var e=Kj();return e.copy=function(){return ad(e,gh())},Jr.apply(e,arguments),as(e)}function GE(e){var t;function n(a){return a==null||isNaN(a=+a)?t:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(e=Array.from(a,mh),n):e.slice()},n.unknown=function(a){return arguments.length?(t=a,n):t},n.copy=function(){return GE(e).unknown(t)},e=arguments.length?Array.from(e,mh):[0,1],as(n)}function VE(e,t){e=e.slice();var n=0,a=e.length-1,s=e[n],i=e[a],l;return i<s&&(l=n,n=a,a=l,l=s,s=i,i=l),e[n]=t.floor(s),e[a]=t.ceil(i),e}function NC(e){return Math.log(e)}function SC(e){return Math.exp(e)}function DU(e){return-Math.log(-e)}function FU(e){return-Math.exp(-e)}function qU(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zU(e){return e===10?qU:e===Math.E?Math.exp:t=>Math.pow(e,t)}function BU(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function kC(e){return(t,n)=>-e(-t,n)}function Qj(e){const t=e(NC,SC),n=t.domain;let a=10,s,i;function l(){return s=BU(a),i=zU(a),n()[0]<0?(s=kC(s),i=kC(i),e(DU,FU)):e(NC,SC),t}return t.base=function(d){return arguments.length?(a=+d,l()):a},t.domain=function(d){return arguments.length?(n(d),l()):n()},t.ticks=d=>{const u=n();let h=u[0],p=u[u.length-1];const m=p<h;m&&([h,p]=[p,h]);let x=s(h),j=s(p),v,w;const g=d==null?10:+d;let S=[];if(!(a%1)&&j-x<g){if(x=Math.floor(x),j=Math.ceil(j),h>0){for(;x<=j;++x)for(v=1;v<a;++v)if(w=x<0?v/i(-x):v*i(x),!(w<h)){if(w>p)break;S.push(w)}}else for(;x<=j;++x)for(v=a-1;v>=1;--v)if(w=x>0?v/i(-x):v*i(x),!(w<h)){if(w>p)break;S.push(w)}S.length*2<g&&(S=Jv(h,p,g))}else S=Jv(x,j,Math.min(j-x,g)).map(i);return m?S.reverse():S},t.tickFormat=(d,u)=>{if(d==null&&(d=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=gc(u)).precision==null&&(u.trim=!0),u=Vj(u)),d===1/0)return u;const h=Math.max(1,a*d/t.ticks().length);return p=>{let m=p/i(Math.round(s(p)));return m*a<a-.5&&(m*=a),m<=h?u(p):""}},t.nice=()=>n(VE(n(),{floor:d=>i(Math.floor(s(d))),ceil:d=>i(Math.ceil(s(d)))})),t}function QE(){const e=Qj(kf()).domain([1,10]);return e.copy=()=>ad(e,QE()).base(e.base()),Jr.apply(e,arguments),e}function CC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function AC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Yj(e){var t=1,n=e(CC(t),AC(t));return n.constant=function(a){return arguments.length?e(CC(t=+a),AC(t)):t},as(n)}function YE(){var e=Yj(kf());return e.copy=function(){return ad(e,YE()).constant(e.constant())},Jr.apply(e,arguments)}function PC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function UU(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function WU(e){return e<0?-e*e:e*e}function Xj(e){var t=e(ur,ur),n=1;function a(){return n===1?e(ur,ur):n===.5?e(UU,WU):e(PC(n),PC(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,a()):n},as(t)}function Jj(){var e=Xj(kf());return e.copy=function(){return ad(e,Jj()).exponent(e.exponent())},Jr.apply(e,arguments),e}function HU(){return Jj.apply(null,arguments).exponent(.5)}function OC(e){return Math.sign(e)*e*e}function KU(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function XE(){var e=Kj(),t=[0,1],n=!1,a;function s(i){var l=KU(e(i));return isNaN(l)?a:n?Math.round(l):l}return s.invert=function(i){return e.invert(OC(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,mh)).map(OC)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return XE(e.domain(),t).round(n).clamp(e.clamp()).unknown(a)},Jr.apply(s,arguments),as(s)}function JE(){var e=[],t=[],n=[],a;function s(){var l=0,d=Math.max(1,t.length);for(n=new Array(d-1);++l<d;)n[l-1]=XB(e,l/d);return i}function i(l){return l==null||isNaN(l=+l)?a:t[rd(n,l)]}return i.invertExtent=function(l){var d=t.indexOf(l);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let d of l)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Ja),s()},i.range=function(l){return arguments.length?(t=Array.from(l),s()):t.slice()},i.unknown=function(l){return arguments.length?(a=l,i):a},i.quantiles=function(){return n.slice()},i.copy=function(){return JE().domain(e).range(t).unknown(a)},Jr.apply(i,arguments)}function ZE(){var e=0,t=1,n=1,a=[.5],s=[0,1],i;function l(u){return u!=null&&u<=u?s[rd(a,u,0,n)]:i}function d(){var u=-1;for(a=new Array(n);++u<n;)a[u]=((u+1)*t-(u-n)*e)/(n+1);return l}return l.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,d()):[e,t]},l.range=function(u){return arguments.length?(n=(s=Array.from(u)).length-1,d()):s.slice()},l.invertExtent=function(u){var h=s.indexOf(u);return h<0?[NaN,NaN]:h<1?[e,a[0]]:h>=n?[a[n-1],t]:[a[h-1],a[h]]},l.unknown=function(u){return arguments.length&&(i=u),l},l.thresholds=function(){return a.slice()},l.copy=function(){return ZE().domain([e,t]).range(s).unknown(i)},Jr.apply(as(l),arguments)}function e6(){var e=[.5],t=[0,1],n,a=1;function s(i){return i!=null&&i<=i?t[rd(e,i,0,a)]:n}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return e6().domain(e).range(t).unknown(n)},Jr.apply(s,arguments)}const cy=new Date,dy=new Date;function Ft(e,t,n,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const l=s(i),d=s.ceil(i);return i-l<d-i?l:d},s.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),s.range=(i,l,d)=>{const u=[];if(i=s.ceil(i),d=d==null?1:Math.floor(d),!(i<l)||!(d>0))return u;let h;do u.push(h=new Date(+i)),t(i,d),e(i);while(h<i&&i<l);return u},s.filter=i=>Ft(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;t(l,-1),!i(l););else for(;--d>=0;)for(;t(l,1),!i(l););}),n&&(s.count=(i,l)=>(cy.setTime(+i),dy.setTime(+l),e(cy),e(dy),Math.floor(n(cy,dy))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?l=>a(l)%i===0:l=>s.count(0,l)%i===0):s)),s}const yh=Ft(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);yh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ft(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):yh);yh.range;const Zn=1e3,Yr=Zn*60,ea=Yr*60,ia=ea*24,Zj=ia*7,EC=ia*30,uy=ia*365,Es=Ft(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Zn)},(e,t)=>(t-e)/Zn,e=>e.getUTCSeconds());Es.range;const ew=Ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zn)},(e,t)=>{e.setTime(+e+t*Yr)},(e,t)=>(t-e)/Yr,e=>e.getMinutes());ew.range;const tw=Ft(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Yr)},(e,t)=>(t-e)/Yr,e=>e.getUTCMinutes());tw.range;const rw=Ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zn-e.getMinutes()*Yr)},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getHours());rw.range;const nw=Ft(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getUTCHours());nw.range;const sd=Ft(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Yr)/ia,e=>e.getDate()-1);sd.range;const Cf=Ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ia,e=>e.getUTCDate()-1);Cf.range;const t6=Ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ia,e=>Math.floor(e/ia));t6.range;function ri(e){return Ft(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Yr)/Zj)}const Af=ri(0),vh=ri(1),GU=ri(2),VU=ri(3),uo=ri(4),QU=ri(5),YU=ri(6);Af.range;vh.range;GU.range;VU.range;uo.range;QU.range;YU.range;function ni(e){return Ft(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Zj)}const Pf=ni(0),bh=ni(1),XU=ni(2),JU=ni(3),ho=ni(4),ZU=ni(5),eW=ni(6);Pf.range;bh.range;XU.range;JU.range;ho.range;ZU.range;eW.range;const aw=Ft(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());aw.range;const sw=Ft(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());sw.range;const oa=Ft(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());oa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ft(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});oa.range;const la=Ft(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());la.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ft(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});la.range;function r6(e,t,n,a,s,i){const l=[[Es,1,Zn],[Es,5,5*Zn],[Es,15,15*Zn],[Es,30,30*Zn],[i,1,Yr],[i,5,5*Yr],[i,15,15*Yr],[i,30,30*Yr],[s,1,ea],[s,3,3*ea],[s,6,6*ea],[s,12,12*ea],[a,1,ia],[a,2,2*ia],[n,1,Zj],[t,1,EC],[t,3,3*EC],[e,1,uy]];function d(h,p,m){const x=p<h;x&&([h,p]=[p,h]);const j=m&&typeof m.range=="function"?m:u(h,p,m),v=j?j.range(h,+p+1):[];return x?v.reverse():v}function u(h,p,m){const x=Math.abs(p-h)/m,j=zj(([,,g])=>g).right(l,x);if(j===l.length)return e.every(eb(h/uy,p/uy,m));if(j===0)return yh.every(Math.max(eb(h,p,m),1));const[v,w]=l[x/l[j-1][2]<l[j][2]/x?j-1:j];return v.every(w)}return[d,u]}const[tW,rW]=r6(la,sw,Pf,t6,nw,tw),[nW,aW]=r6(oa,aw,Af,sd,rw,ew);function hy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $l(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function sW(e){var t=e.dateTime,n=e.date,a=e.time,s=e.periods,i=e.days,l=e.shortDays,d=e.months,u=e.shortMonths,h=Ll(s),p=Dl(s),m=Ll(i),x=Dl(i),j=Ll(l),v=Dl(l),w=Ll(d),g=Dl(d),S=Ll(u),P=Dl(u),O={a:W,A:B,b:F,B:L,c:null,d:$C,e:$C,f:PW,g:DW,G:qW,H:kW,I:CW,j:AW,L:n6,m:OW,M:EW,p:q,q:K,Q:FC,s:qC,S:_W,u:TW,U:RW,V:MW,w:IW,W:$W,x:null,X:null,y:LW,Y:FW,Z:zW,"%":DC},N={a:Y,A:H,b:ue,B:he,c:null,d:LC,e:LC,f:HW,g:tH,G:nH,H:BW,I:UW,j:WW,L:s6,m:KW,M:GW,p:oe,q:te,Q:FC,s:qC,S:VW,u:QW,U:YW,V:XW,w:JW,W:ZW,x:null,X:null,y:eH,Y:rH,Z:aH,"%":DC},A={a:I,A:M,b:$,B:G,c:V,d:MC,e:MC,f:jW,g:RC,G:TC,H:IC,I:IC,j:gW,L:bW,m:xW,M:yW,p:R,q:pW,Q:NW,s:SW,S:vW,u:dW,U:uW,V:hW,w:cW,W:fW,x:z,X:U,y:RC,Y:TC,Z:mW,"%":wW};O.x=C(n,O),O.X=C(a,O),O.c=C(t,O),N.x=C(n,N),N.X=C(a,N),N.c=C(t,N);function C(le,ke){return function($e){var re=[],be=-1,je=0,tt=le.length,yt,qt,Zr;for($e instanceof Date||($e=new Date(+$e));++be<tt;)le.charCodeAt(be)===37&&(re.push(le.slice(je,be)),(qt=_C[yt=le.charAt(++be)])!=null?yt=le.charAt(++be):qt=yt==="e"?" ":"0",(Zr=ke[yt])&&(yt=Zr($e,qt)),re.push(yt),je=be+1);return re.push(le.slice(je,be)),re.join("")}}function E(le,ke){return function($e){var re=$l(1900,void 0,1),be=T(re,le,$e+="",0),je,tt;if(be!=$e.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(ke&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(je=fy($l(re.y,0,1)),tt=je.getUTCDay(),je=tt>4||tt===0?bh.ceil(je):bh(je),je=Cf.offset(je,(re.V-1)*7),re.y=je.getUTCFullYear(),re.m=je.getUTCMonth(),re.d=je.getUTCDate()+(re.w+6)%7):(je=hy($l(re.y,0,1)),tt=je.getDay(),je=tt>4||tt===0?vh.ceil(je):vh(je),je=sd.offset(je,(re.V-1)*7),re.y=je.getFullYear(),re.m=je.getMonth(),re.d=je.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),tt="Z"in re?fy($l(re.y,0,1)).getUTCDay():hy($l(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(tt+5)%7:re.w+re.U*7-(tt+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,fy(re)):hy(re)}}function T(le,ke,$e,re){for(var be=0,je=ke.length,tt=$e.length,yt,qt;be<je;){if(re>=tt)return-1;if(yt=ke.charCodeAt(be++),yt===37){if(yt=ke.charAt(be++),qt=A[yt in _C?ke.charAt(be++):yt],!qt||(re=qt(le,$e,re))<0)return-1}else if(yt!=$e.charCodeAt(re++))return-1}return re}function R(le,ke,$e){var re=h.exec(ke.slice($e));return re?(le.p=p.get(re[0].toLowerCase()),$e+re[0].length):-1}function I(le,ke,$e){var re=j.exec(ke.slice($e));return re?(le.w=v.get(re[0].toLowerCase()),$e+re[0].length):-1}function M(le,ke,$e){var re=m.exec(ke.slice($e));return re?(le.w=x.get(re[0].toLowerCase()),$e+re[0].length):-1}function $(le,ke,$e){var re=S.exec(ke.slice($e));return re?(le.m=P.get(re[0].toLowerCase()),$e+re[0].length):-1}function G(le,ke,$e){var re=w.exec(ke.slice($e));return re?(le.m=g.get(re[0].toLowerCase()),$e+re[0].length):-1}function V(le,ke,$e){return T(le,t,ke,$e)}function z(le,ke,$e){return T(le,n,ke,$e)}function U(le,ke,$e){return T(le,a,ke,$e)}function W(le){return l[le.getDay()]}function B(le){return i[le.getDay()]}function F(le){return u[le.getMonth()]}function L(le){return d[le.getMonth()]}function q(le){return s[+(le.getHours()>=12)]}function K(le){return 1+~~(le.getMonth()/3)}function Y(le){return l[le.getUTCDay()]}function H(le){return i[le.getUTCDay()]}function ue(le){return u[le.getUTCMonth()]}function he(le){return d[le.getUTCMonth()]}function oe(le){return s[+(le.getUTCHours()>=12)]}function te(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var ke=C(le+="",O);return ke.toString=function(){return le},ke},parse:function(le){var ke=E(le+="",!1);return ke.toString=function(){return le},ke},utcFormat:function(le){var ke=C(le+="",N);return ke.toString=function(){return le},ke},utcParse:function(le){var ke=E(le+="",!0);return ke.toString=function(){return le},ke}}}var _C={"-":"",_:" ",0:"0"},Gt=/^\s*\d+/,iW=/^%/,oW=/[\\^$*+?|[\]().{}]/g;function Qe(e,t,n){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<n?new Array(n-i+1).join(t)+s:s)}function lW(e){return e.replace(oW,"\\$&")}function Ll(e){return new RegExp("^(?:"+e.map(lW).join("|")+")","i")}function Dl(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function cW(e,t,n){var a=Gt.exec(t.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function dW(e,t,n){var a=Gt.exec(t.slice(n,n+1));return a?(e.u=+a[0],n+a[0].length):-1}function uW(e,t,n){var a=Gt.exec(t.slice(n,n+2));return a?(e.U=+a[0],n+a[0].length):-1}function hW(e,t,n){var a=Gt.exec(t.slice(n,n+2));return a?(e.V=+a[0],n+a[0].length):-1}function fW(e,t,n){var a=Gt.exec(t.slice(n,n+2));return a?(e.W=+a[0],n+a[0].length):-1}function TC(e,t,n){var a=Gt.exec(t.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function RC(e,t,n){var a=Gt.exec(t.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function mW(e,t,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function pW(e,t,n){var a=Gt.exec(t.slice(n,n+1));return a?(e.q=a[0]*3-3,n+a[0].length):-1}function xW(e,t,n){var a=Gt.exec(t.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function MC(e,t,n){var a=Gt.exec(t.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function gW(e,t,n){var a=Gt.exec(t.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function IC(e,t,n){var a=Gt.exec(t.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function yW(e,t,n){var a=Gt.exec(t.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function vW(e,t,n){var a=Gt.exec(t.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function bW(e,t,n){var a=Gt.exec(t.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function jW(e,t,n){var a=Gt.exec(t.slice(n,n+6));return a?(e.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function wW(e,t,n){var a=iW.exec(t.slice(n,n+1));return a?n+a[0].length:-1}function NW(e,t,n){var a=Gt.exec(t.slice(n));return a?(e.Q=+a[0],n+a[0].length):-1}function SW(e,t,n){var a=Gt.exec(t.slice(n));return a?(e.s=+a[0],n+a[0].length):-1}function $C(e,t){return Qe(e.getDate(),t,2)}function kW(e,t){return Qe(e.getHours(),t,2)}function CW(e,t){return Qe(e.getHours()%12||12,t,2)}function AW(e,t){return Qe(1+sd.count(oa(e),e),t,3)}function n6(e,t){return Qe(e.getMilliseconds(),t,3)}function PW(e,t){return n6(e,t)+"000"}function OW(e,t){return Qe(e.getMonth()+1,t,2)}function EW(e,t){return Qe(e.getMinutes(),t,2)}function _W(e,t){return Qe(e.getSeconds(),t,2)}function TW(e){var t=e.getDay();return t===0?7:t}function RW(e,t){return Qe(Af.count(oa(e)-1,e),t,2)}function a6(e){var t=e.getDay();return t>=4||t===0?uo(e):uo.ceil(e)}function MW(e,t){return e=a6(e),Qe(uo.count(oa(e),e)+(oa(e).getDay()===4),t,2)}function IW(e){return e.getDay()}function $W(e,t){return Qe(vh.count(oa(e)-1,e),t,2)}function LW(e,t){return Qe(e.getFullYear()%100,t,2)}function DW(e,t){return e=a6(e),Qe(e.getFullYear()%100,t,2)}function FW(e,t){return Qe(e.getFullYear()%1e4,t,4)}function qW(e,t){var n=e.getDay();return e=n>=4||n===0?uo(e):uo.ceil(e),Qe(e.getFullYear()%1e4,t,4)}function zW(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qe(t/60|0,"0",2)+Qe(t%60,"0",2)}function LC(e,t){return Qe(e.getUTCDate(),t,2)}function BW(e,t){return Qe(e.getUTCHours(),t,2)}function UW(e,t){return Qe(e.getUTCHours()%12||12,t,2)}function WW(e,t){return Qe(1+Cf.count(la(e),e),t,3)}function s6(e,t){return Qe(e.getUTCMilliseconds(),t,3)}function HW(e,t){return s6(e,t)+"000"}function KW(e,t){return Qe(e.getUTCMonth()+1,t,2)}function GW(e,t){return Qe(e.getUTCMinutes(),t,2)}function VW(e,t){return Qe(e.getUTCSeconds(),t,2)}function QW(e){var t=e.getUTCDay();return t===0?7:t}function YW(e,t){return Qe(Pf.count(la(e)-1,e),t,2)}function i6(e){var t=e.getUTCDay();return t>=4||t===0?ho(e):ho.ceil(e)}function XW(e,t){return e=i6(e),Qe(ho.count(la(e),e)+(la(e).getUTCDay()===4),t,2)}function JW(e){return e.getUTCDay()}function ZW(e,t){return Qe(bh.count(la(e)-1,e),t,2)}function eH(e,t){return Qe(e.getUTCFullYear()%100,t,2)}function tH(e,t){return e=i6(e),Qe(e.getUTCFullYear()%100,t,2)}function rH(e,t){return Qe(e.getUTCFullYear()%1e4,t,4)}function nH(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ho(e):ho.ceil(e),Qe(e.getUTCFullYear()%1e4,t,4)}function aH(){return"+0000"}function DC(){return"%"}function FC(e){return+e}function qC(e){return Math.floor(+e/1e3)}var _i,o6,l6;sH({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sH(e){return _i=sW(e),o6=_i.format,_i.parse,l6=_i.utcFormat,_i.utcParse,_i}function iH(e){return new Date(e)}function oH(e){return e instanceof Date?+e:+new Date(+e)}function iw(e,t,n,a,s,i,l,d,u,h){var p=Kj(),m=p.invert,x=p.domain,j=h(".%L"),v=h(":%S"),w=h("%I:%M"),g=h("%I %p"),S=h("%a %d"),P=h("%b %d"),O=h("%B"),N=h("%Y");function A(C){return(u(C)<C?j:d(C)<C?v:l(C)<C?w:i(C)<C?g:a(C)<C?s(C)<C?S:P:n(C)<C?O:N)(C)}return p.invert=function(C){return new Date(m(C))},p.domain=function(C){return arguments.length?x(Array.from(C,oH)):x().map(iH)},p.ticks=function(C){var E=x();return e(E[0],E[E.length-1],C??10)},p.tickFormat=function(C,E){return E==null?A:h(E)},p.nice=function(C){var E=x();return(!C||typeof C.range!="function")&&(C=t(E[0],E[E.length-1],C??10)),C?x(VE(E,C)):p},p.copy=function(){return ad(p,iw(e,t,n,a,s,i,l,d,u,h))},p}function lH(){return Jr.apply(iw(nW,aW,oa,aw,Af,sd,rw,ew,Es,o6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cH(){return Jr.apply(iw(tW,rW,la,sw,Pf,Cf,nw,tw,Es,l6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Of(){var e=0,t=1,n,a,s,i,l=ur,d=!1,u;function h(m){return m==null||isNaN(m=+m)?u:l(s===0?.5:(m=(i(m)-n)*s,d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t]=m,n=i(e=+e),a=i(t=+t),s=n===a?0:1/(a-n),h):[e,t]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(l=m,h):l};function p(m){return function(x){var j,v;return arguments.length?([j,v]=x,l=m(j,v),h):[l(0),l(1)]}}return h.range=p(qo),h.rangeRound=p(Hj),h.unknown=function(m){return arguments.length?(u=m,h):u},function(m){return i=m,n=m(e),a=m(t),s=n===a?0:1/(a-n),h}}function ss(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function c6(){var e=as(Of()(ur));return e.copy=function(){return ss(e,c6())},ha.apply(e,arguments)}function d6(){var e=Qj(Of()).domain([1,10]);return e.copy=function(){return ss(e,d6()).base(e.base())},ha.apply(e,arguments)}function u6(){var e=Yj(Of());return e.copy=function(){return ss(e,u6()).constant(e.constant())},ha.apply(e,arguments)}function ow(){var e=Xj(Of());return e.copy=function(){return ss(e,ow()).exponent(e.exponent())},ha.apply(e,arguments)}function dH(){return ow.apply(null,arguments).exponent(.5)}function h6(){var e=[],t=ur;function n(a){if(a!=null&&!isNaN(a=+a))return t((rd(e,a,1)-1)/(e.length-1))}return n.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ja),n},n.interpolator=function(a){return arguments.length?(t=a,n):t},n.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(s,i)=>YB(e,i/a))},n.copy=function(){return h6(t).domain(e)},ha.apply(n,arguments)}function Ef(){var e=0,t=.5,n=1,a=1,s,i,l,d,u,h=ur,p,m=!1,x;function j(w){return isNaN(w=+w)?x:(w=.5+((w=+p(w))-i)*(a*w<a*i?d:u),h(m?Math.max(0,Math.min(1,w)):w))}j.domain=function(w){return arguments.length?([e,t,n]=w,s=p(e=+e),i=p(t=+t),l=p(n=+n),d=s===i?0:.5/(i-s),u=i===l?0:.5/(l-i),a=i<s?-1:1,j):[e,t,n]},j.clamp=function(w){return arguments.length?(m=!!w,j):m},j.interpolator=function(w){return arguments.length?(h=w,j):h};function v(w){return function(g){var S,P,O;return arguments.length?([S,P,O]=g,h=wU(w,[S,P,O]),j):[h(0),h(.5),h(1)]}}return j.range=v(qo),j.rangeRound=v(Hj),j.unknown=function(w){return arguments.length?(x=w,j):x},function(w){return p=w,s=w(e),i=w(t),l=w(n),d=s===i?0:.5/(i-s),u=i===l?0:.5/(l-i),a=i<s?-1:1,j}}function f6(){var e=as(Ef()(ur));return e.copy=function(){return ss(e,f6())},ha.apply(e,arguments)}function m6(){var e=Qj(Ef()).domain([.1,1,10]);return e.copy=function(){return ss(e,m6()).base(e.base())},ha.apply(e,arguments)}function p6(){var e=Yj(Ef());return e.copy=function(){return ss(e,p6()).constant(e.constant())},ha.apply(e,arguments)}function lw(){var e=Xj(Ef());return e.copy=function(){return ss(e,lw()).exponent(e.exponent())},ha.apply(e,arguments)}function uH(){return lw.apply(null,arguments).exponent(.5)}const zC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:fc,scaleDiverging:f6,scaleDivergingLog:m6,scaleDivergingPow:lw,scaleDivergingSqrt:uH,scaleDivergingSymlog:p6,scaleIdentity:GE,scaleImplicit:tb,scaleLinear:gh,scaleLog:QE,scaleOrdinal:Bj,scalePoint:Xl,scalePow:Jj,scaleQuantile:JE,scaleQuantize:ZE,scaleRadial:XE,scaleSequential:c6,scaleSequentialLog:d6,scaleSequentialPow:ow,scaleSequentialQuantile:h6,scaleSequentialSqrt:dH,scaleSequentialSymlog:u6,scaleSqrt:HU,scaleSymlog:YE,scaleThreshold:e6,scaleTime:lH,scaleUtc:cH,tickFormat:KE},Symbol.toStringTag,{value:"Module"}));var my,BC;function _f(){if(BC)return my;BC=1;var e=$o();function t(n,a,s){for(var i=-1,l=n.length;++i<l;){var d=n[i],u=a(d);if(u!=null&&(h===void 0?u===u&&!e(u):s(u,h)))var h=u,p=d}return p}return my=t,my}var py,UC;function x6(){if(UC)return py;UC=1;function e(t,n){return t>n}return py=e,py}var xy,WC;function hH(){if(WC)return xy;WC=1;var e=_f(),t=x6(),n=Fo();function a(s){return s&&s.length?e(s,n,t):void 0}return xy=a,xy}var fH=hH();const Tf=Ze(fH);var gy,HC;function g6(){if(HC)return gy;HC=1;function e(t,n){return t<n}return gy=e,gy}var yy,KC;function mH(){if(KC)return yy;KC=1;var e=_f(),t=g6(),n=Fo();function a(s){return s&&s.length?e(s,n,t):void 0}return yy=a,yy}var pH=mH();const Rf=Ze(pH);var vy,GC;function xH(){if(GC)return vy;GC=1;var e=Nj(),t=In(),n=CE(),a=Sr();function s(i,l){var d=a(i)?e:n;return d(i,t(l,3))}return vy=s,vy}var by,VC;function gH(){if(VC)return by;VC=1;var e=SE(),t=xH();function n(a,s){return e(t(a,s),1)}return by=n,by}var yH=gH();const vH=Ze(yH);var jy,QC;function bH(){if(QC)return jy;QC=1;var e=$j();function t(n,a){return e(n,a)}return jy=t,jy}var jH=bH();const id=Ze(jH);var zo=1e9,wH={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dw,mt=!0,Xr="[DecimalError] ",Us=Xr+"Invalid argument: ",cw=Xr+"Exponent out of range: ",Bo=Math.floor,Ss=Math.pow,NH=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Rr,Ht=1e7,ut=7,y6=9007199254740991,jh=Bo(y6/ut),Ne={};Ne.absoluteValue=Ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ne.comparedTo=Ne.cmp=function(e){var t,n,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,t=0,n=a<s?a:s;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ut;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ne.dividedBy=Ne.div=function(e){return na(this,new this.constructor(e))};Ne.dividedToIntegerBy=Ne.idiv=function(e){var t=this,n=t.constructor;return nt(na(t,new n(e),0,1),n.precision)};Ne.equals=Ne.eq=function(e){return!this.cmp(e)};Ne.exponent=function(){return Et(this)};Ne.greaterThan=Ne.gt=function(e){return this.cmp(e)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(e){return this.cmp(e)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(e){return this.cmp(e)<0};Ne.lessThanOrEqualTo=Ne.lte=function(e){return this.cmp(e)<1};Ne.logarithm=Ne.log=function(e){var t,n=this,a=n.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Rr))throw Error(Xr+"NaN");if(n.s<1)throw Error(Xr+(n.s?"NaN":"-Infinity"));return n.eq(Rr)?new a(0):(mt=!1,t=na(yc(n,i),yc(e,i),i),mt=!0,nt(t,s))};Ne.minus=Ne.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?j6(t,e):v6(t,(e.s=-e.s,e))};Ne.modulo=Ne.mod=function(e){var t,n=this,a=n.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(Xr+"NaN");return n.s?(mt=!1,t=na(n,e,0,1).times(e),mt=!0,n.minus(t)):nt(new a(n),s)};Ne.naturalExponential=Ne.exp=function(){return b6(this)};Ne.naturalLogarithm=Ne.ln=function(){return yc(this)};Ne.negated=Ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ne.plus=Ne.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v6(t,e):j6(t,(e.s=-e.s,e))};Ne.precision=Ne.sd=function(e){var t,n,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Us+e);if(t=Et(s)+1,a=s.d.length-1,n=a*ut+1,a=s.d[a],a){for(;a%10==0;a/=10)n--;for(a=s.d[0];a>=10;a/=10)n++}return e&&t>n?t:n};Ne.squareRoot=Ne.sqrt=function(){var e,t,n,a,s,i,l,d=this,u=d.constructor;if(d.s<1){if(!d.s)return new u(0);throw Error(Xr+"NaN")}for(e=Et(d),mt=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=On(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Bo((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new u(t)):a=new u(s.toString()),n=u.precision,s=l=n+3;;)if(i=a,a=i.plus(na(d,i,l+2)).times(.5),On(i.d).slice(0,l)===(t=On(a.d)).slice(0,l)){if(t=t.slice(l-3,l+1),s==l&&t=="4999"){if(nt(i,n+1,0),i.times(i).eq(d)){a=i;break}}else if(t!="9999")break;l+=4}return mt=!0,nt(a,n)};Ne.times=Ne.mul=function(e){var t,n,a,s,i,l,d,u,h,p=this,m=p.constructor,x=p.d,j=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,n=p.e+e.e,u=x.length,h=j.length,u<h&&(i=x,x=j,j=i,l=u,u=h,h=l),i=[],l=u+h,a=l;a--;)i.push(0);for(a=h;--a>=0;){for(t=0,s=u+a;s>a;)d=i[s]+j[a]*x[s-a-1]+t,i[s--]=d%Ht|0,t=d/Ht|0;i[s]=(i[s]+t)%Ht|0}for(;!i[--l];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,mt?nt(e,m.precision):e};Ne.toDecimalPlaces=Ne.todp=function(e,t){var n=this,a=n.constructor;return n=new a(n),e===void 0?n:(Tn(e,0,zo),t===void 0?t=a.rounding:Tn(t,0,8),nt(n,e+Et(n)+1,t))};Ne.toExponential=function(e,t){var n,a=this,s=a.constructor;return e===void 0?n=Ys(a,!0):(Tn(e,0,zo),t===void 0?t=s.rounding:Tn(t,0,8),a=nt(new s(a),e+1,t),n=Ys(a,!0,e+1)),n};Ne.toFixed=function(e,t){var n,a,s=this,i=s.constructor;return e===void 0?Ys(s):(Tn(e,0,zo),t===void 0?t=i.rounding:Tn(t,0,8),a=nt(new i(s),e+Et(s)+1,t),n=Ys(a.abs(),!1,e+Et(a)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Ne.toInteger=Ne.toint=function(){var e=this,t=e.constructor;return nt(new t(e),Et(e)+1,t.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(e){var t,n,a,s,i,l,d=this,u=d.constructor,h=12,p=+(e=new u(e));if(!e.s)return new u(Rr);if(d=new u(d),!d.s){if(e.s<1)throw Error(Xr+"Infinity");return d}if(d.eq(Rr))return d;if(a=u.precision,e.eq(Rr))return nt(d,a);if(t=e.e,n=e.d.length-1,l=t>=n,i=d.s,l){if((n=p<0?-p:p)<=y6){for(s=new u(Rr),t=Math.ceil(a/ut+4),mt=!1;n%2&&(s=s.times(d),XC(s.d,t)),n=Bo(n/2),n!==0;)d=d.times(d),XC(d.d,t);return mt=!0,e.s<0?new u(Rr).div(s):nt(s,a)}}else if(i<0)throw Error(Xr+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,d.s=1,mt=!1,s=e.times(yc(d,a+h)),mt=!0,s=b6(s),s.s=i,s};Ne.toPrecision=function(e,t){var n,a,s=this,i=s.constructor;return e===void 0?(n=Et(s),a=Ys(s,n<=i.toExpNeg||n>=i.toExpPos)):(Tn(e,1,zo),t===void 0?t=i.rounding:Tn(t,0,8),s=nt(new i(s),e,t),n=Et(s),a=Ys(s,e<=n||n<=i.toExpNeg,e)),a};Ne.toSignificantDigits=Ne.tosd=function(e,t){var n=this,a=n.constructor;return e===void 0?(e=a.precision,t=a.rounding):(Tn(e,1,zo),t===void 0?t=a.rounding:Tn(t,0,8)),nt(new a(n),e,t)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Et(e),n=e.constructor;return Ys(e,t<=n.toExpNeg||t>=n.toExpPos)};function v6(e,t){var n,a,s,i,l,d,u,h,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),mt?nt(t,m):t;if(u=e.d,h=t.d,l=e.e,s=t.e,u=u.slice(),i=l-s,i){for(i<0?(a=u,i=-i,d=h.length):(a=h,s=l,d=u.length),l=Math.ceil(m/ut),d=l>d?l+1:d+1,i>d&&(i=d,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(d=u.length,i=h.length,d-i<0&&(i=d,a=h,h=u,u=a),n=0;i;)n=(u[--i]=u[i]+h[i]+n)/Ht|0,u[i]%=Ht;for(n&&(u.unshift(n),++s),d=u.length;u[--d]==0;)u.pop();return t.d=u,t.e=s,mt?nt(t,m):t}function Tn(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Us+e)}function On(e){var t,n,a,s=e.length-1,i="",l=e[0];if(s>0){for(i+=l,t=1;t<s;t++)a=e[t]+"",n=ut-a.length,n&&(i+=Ma(n)),i+=a;l=e[t],a=l+"",n=ut-a.length,n&&(i+=Ma(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var na=(function(){function e(a,s){var i,l=0,d=a.length;for(a=a.slice();d--;)i=a[d]*s+l,a[d]=i%Ht|0,l=i/Ht|0;return l&&a.unshift(l),a}function t(a,s,i,l){var d,u;if(i!=l)u=i>l?1:-1;else for(d=u=0;d<i;d++)if(a[d]!=s[d]){u=a[d]>s[d]?1:-1;break}return u}function n(a,s,i){for(var l=0;i--;)a[i]-=l,l=a[i]<s[i]?1:0,a[i]=l*Ht+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,l){var d,u,h,p,m,x,j,v,w,g,S,P,O,N,A,C,E,T,R=a.constructor,I=a.s==s.s?1:-1,M=a.d,$=s.d;if(!a.s)return new R(a);if(!s.s)throw Error(Xr+"Division by zero");for(u=a.e-s.e,E=$.length,A=M.length,j=new R(I),v=j.d=[],h=0;$[h]==(M[h]||0);)++h;if($[h]>(M[h]||0)&&--u,i==null?P=i=R.precision:l?P=i+(Et(a)-Et(s))+1:P=i,P<0)return new R(0);if(P=P/ut+2|0,h=0,E==1)for(p=0,$=$[0],P++;(h<A||p)&&P--;h++)O=p*Ht+(M[h]||0),v[h]=O/$|0,p=O%$|0;else{for(p=Ht/($[0]+1)|0,p>1&&($=e($,p),M=e(M,p),E=$.length,A=M.length),N=E,w=M.slice(0,E),g=w.length;g<E;)w[g++]=0;T=$.slice(),T.unshift(0),C=$[0],$[1]>=Ht/2&&++C;do p=0,d=t($,w,E,g),d<0?(S=w[0],E!=g&&(S=S*Ht+(w[1]||0)),p=S/C|0,p>1?(p>=Ht&&(p=Ht-1),m=e($,p),x=m.length,g=w.length,d=t(m,w,x,g),d==1&&(p--,n(m,E<x?T:$,x))):(p==0&&(d=p=1),m=$.slice()),x=m.length,x<g&&m.unshift(0),n(w,m,g),d==-1&&(g=w.length,d=t($,w,E,g),d<1&&(p++,n(w,E<g?T:$,g))),g=w.length):d===0&&(p++,w=[0]),v[h++]=p,d&&w[0]?w[g++]=M[N]||0:(w=[M[N]],g=1);while((N++<A||w[0]!==void 0)&&P--)}return v[0]||v.shift(),j.e=u,nt(j,l?i+Et(j)+1:i)}})();function b6(e,t){var n,a,s,i,l,d,u=0,h=0,p=e.constructor,m=p.precision;if(Et(e)>16)throw Error(cw+Et(e));if(!e.s)return new p(Rr);for(mt=!1,d=m,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(a=Math.log(Ss(2,h))/Math.LN10*2+5|0,d+=a,n=s=i=new p(Rr),p.precision=d;;){if(s=nt(s.times(e),d),n=n.times(++u),l=i.plus(na(s,n,d)),On(l.d).slice(0,d)===On(i.d).slice(0,d)){for(;h--;)i=nt(i.times(i),d);return p.precision=m,t==null?(mt=!0,nt(i,m)):i}i=l}}function Et(e){for(var t=e.e*ut,n=e.d[0];n>=10;n/=10)t++;return t}function wy(e,t,n){if(t>e.LN10.sd())throw mt=!0,n&&(e.precision=n),Error(Xr+"LN10 precision limit exceeded");return nt(new e(e.LN10),t)}function Ma(e){for(var t="";e--;)t+="0";return t}function yc(e,t){var n,a,s,i,l,d,u,h,p,m=1,x=10,j=e,v=j.d,w=j.constructor,g=w.precision;if(j.s<1)throw Error(Xr+(j.s?"NaN":"-Infinity"));if(j.eq(Rr))return new w(0);if(t==null?(mt=!1,h=g):h=t,j.eq(10))return t==null&&(mt=!0),wy(w,h);if(h+=x,w.precision=h,n=On(v),a=n.charAt(0),i=Et(j),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)j=j.times(e),n=On(j.d),a=n.charAt(0),m++;i=Et(j),a>1?(j=new w("0."+n),i++):j=new w(a+"."+n.slice(1))}else return u=wy(w,h+2,g).times(i+""),j=yc(new w(a+"."+n.slice(1)),h-x).plus(u),w.precision=g,t==null?(mt=!0,nt(j,g)):j;for(d=l=j=na(j.minus(Rr),j.plus(Rr),h),p=nt(j.times(j),h),s=3;;){if(l=nt(l.times(p),h),u=d.plus(na(l,new w(s),h)),On(u.d).slice(0,h)===On(d.d).slice(0,h))return d=d.times(2),i!==0&&(d=d.plus(wy(w,h+2,g).times(i+""))),d=na(d,new w(m),h),w.precision=g,t==null?(mt=!0,nt(d,g)):d;d=u,s+=2}}function YC(e,t){var n,a,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,n=n-a-1,e.e=Bo(n/ut),e.d=[],a=(n+1)%ut,n<0&&(a+=ut),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=ut;a<s;)e.d.push(+t.slice(a,a+=ut));t=t.slice(a),a=ut-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),mt&&(e.e>jh||e.e<-jh))throw Error(cw+n)}else e.s=0,e.e=0,e.d=[0];return e}function nt(e,t,n){var a,s,i,l,d,u,h,p,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(a=t-l,a<0)a+=ut,s=t,h=m[p=0];else{if(p=Math.ceil((a+1)/ut),i=m.length,p>=i)return e;for(h=i=m[p],l=1;i>=10;i/=10)l++;a%=ut,s=a-ut+l}if(n!==void 0&&(i=Ss(10,l-s-1),d=h/i%10|0,u=t<0||m[p+1]!==void 0||h%i,u=n<4?(d||u)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||u||n==6&&(a>0?s>0?h/Ss(10,l-s):0:m[p-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return u?(i=Et(e),m.length=1,t=t-i-1,m[0]=Ss(10,(ut-t%ut)%ut),e.e=Bo(-t/ut)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(a==0?(m.length=p,i=1,p--):(m.length=p+1,i=Ss(10,ut-a),m[p]=s>0?(h/Ss(10,l-s)%Ss(10,s)|0)*i:0),u)for(;;)if(p==0){(m[0]+=i)==Ht&&(m[0]=1,++e.e);break}else{if(m[p]+=i,m[p]!=Ht)break;m[p--]=0,i=1}for(a=m.length;m[--a]===0;)m.pop();if(mt&&(e.e>jh||e.e<-jh))throw Error(cw+Et(e));return e}function j6(e,t){var n,a,s,i,l,d,u,h,p,m,x=e.constructor,j=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),mt?nt(t,j):t;if(u=e.d,m=t.d,a=t.e,h=e.e,u=u.slice(),l=h-a,l){for(p=l<0,p?(n=u,l=-l,d=m.length):(n=m,a=h,d=u.length),s=Math.max(Math.ceil(j/ut),d)+2,l>s&&(l=s,n.length=1),n.reverse(),s=l;s--;)n.push(0);n.reverse()}else{for(s=u.length,d=m.length,p=s<d,p&&(d=s),s=0;s<d;s++)if(u[s]!=m[s]){p=u[s]<m[s];break}l=0}for(p&&(n=u,u=m,m=n,t.s=-t.s),d=u.length,s=m.length-d;s>0;--s)u[d++]=0;for(s=m.length;s>l;){if(u[--s]<m[s]){for(i=s;i&&u[--i]===0;)u[i]=Ht-1;--u[i],u[s]+=Ht}u[s]-=m[s]}for(;u[--d]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(t.d=u,t.e=a,mt?nt(t,j):t):new x(0)}function Ys(e,t,n){var a,s=Et(e),i=On(e.d),l=i.length;return t?(n&&(a=n-l)>0?i=i.charAt(0)+"."+i.slice(1)+Ma(a):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Ma(-s-1)+i,n&&(a=n-l)>0&&(i+=Ma(a))):s>=l?(i+=Ma(s+1-l),n&&(a=n-s-1)>0&&(i=i+"."+Ma(a))):((a=s+1)<l&&(i=i.slice(0,a)+"."+i.slice(a)),n&&(a=n-l)>0&&(s+1===l&&(i+="."),i+=Ma(a))),e.s<0?"-"+i:i}function XC(e,t){if(e.length>t)return e.length=t,!0}function w6(e){var t,n,a;function s(i){var l=this;if(!(l instanceof s))return new s(i);if(l.constructor=s,i instanceof s){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Us+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return YC(l,i.toString())}else if(typeof i!="string")throw Error(Us+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,NH.test(i))YC(l,i);else throw Error(Us+i)}if(s.prototype=Ne,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=w6,s.config=s.set=SH,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(n=a[t++])||(e[n]=this[n]);return s.config(e),s}function SH(e){if(!e||typeof e!="object")throw Error(Xr+"Object expected");var t,n,a,s=["precision",1,zo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[n=s[t]])!==void 0)if(Bo(a)===a&&a>=s[t+1]&&a<=s[t+2])this[n]=a;else throw Error(Us+n+": "+a);if((a=e[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(Us+n+": "+a);return this}var dw=w6(wH);Rr=new dw(1);const rt=dw;function kH(e){return OH(e)||PH(e)||AH(e)||CH()}function CH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AH(e,t){if(e){if(typeof e=="string")return sb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sb(e,t)}}function PH(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function OH(e){if(Array.isArray(e))return sb(e)}function sb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var EH=function(t){return t},N6={},S6=function(t){return t===N6},JC=function(t){return function n(){return arguments.length===0||arguments.length===1&&S6(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},_H=function e(t,n){return t===1?n:JC(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var l=s.filter(function(d){return d!==N6}).length;return l>=t?n.apply(void 0,s):e(t-l,JC(function(){for(var d=arguments.length,u=new Array(d),h=0;h<d;h++)u[h]=arguments[h];var p=s.map(function(m){return S6(m)?u.shift():m});return n.apply(void 0,kH(p).concat(u))}))})},Mf=function(t){return _H(t.length,t)},ib=function(t,n){for(var a=[],s=t;s<n;++s)a[s-t]=s;return a},TH=Mf(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),RH=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(!n.length)return EH;var s=n.reverse(),i=s[0],l=s.slice(1);return function(){return l.reduce(function(d,u){return u(d)},i.apply(void 0,arguments))}},ob=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},k6=function(t){var n=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return n&&i.every(function(d,u){return d===n[u]})||(n=i,a=t.apply(void 0,i)),a}};function MH(e){var t;return e===0?t=1:t=Math.floor(new rt(e).abs().log(10).toNumber())+1,t}function IH(e,t,n){for(var a=new rt(e),s=0,i=[];a.lt(t)&&s<1e5;)i.push(a.toNumber()),a=a.add(n),s++;return i}var $H=Mf(function(e,t,n){var a=+e,s=+t;return a+n*(s-a)}),LH=Mf(function(e,t,n){var a=t-+e;return a=a||1/0,(n-e)/a}),DH=Mf(function(e,t,n){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(n-e)/a))});const If={rangeStep:IH,getDigitCount:MH,interpolateNumber:$H,uninterpolateNumber:LH,uninterpolateTruncation:DH};function lb(e){return zH(e)||qH(e)||C6(e)||FH()}function FH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qH(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function zH(e){if(Array.isArray(e))return cb(e)}function vc(e,t){return WH(e)||UH(e,t)||C6(e,t)||BH()}function BH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C6(e,t){if(e){if(typeof e=="string")return cb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cb(e,t)}}function cb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function UH(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],a=!0,s=!1,i=void 0;try{for(var l=e[Symbol.iterator](),d;!(a=(d=l.next()).done)&&(n.push(d.value),!(t&&n.length===t));a=!0);}catch(u){s=!0,i=u}finally{try{!a&&l.return!=null&&l.return()}finally{if(s)throw i}}return n}}function WH(e){if(Array.isArray(e))return e}function A6(e){var t=vc(e,2),n=t[0],a=t[1],s=n,i=a;return n>a&&(s=a,i=n),[s,i]}function P6(e,t,n){if(e.lte(0))return new rt(0);var a=If.getDigitCount(e.toNumber()),s=new rt(10).pow(a),i=e.div(s),l=a!==1?.05:.1,d=new rt(Math.ceil(i.div(l).toNumber())).add(n).mul(l),u=d.mul(s);return t?u:new rt(Math.ceil(u))}function HH(e,t,n){var a=1,s=new rt(e);if(!s.isint()&&n){var i=Math.abs(e);i<1?(a=new rt(10).pow(If.getDigitCount(e)-1),s=new rt(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new rt(Math.floor(e)))}else e===0?s=new rt(Math.floor((t-1)/2)):n||(s=new rt(Math.floor(e)));var l=Math.floor((t-1)/2),d=RH(TH(function(u){return s.add(new rt(u-l).mul(a)).toNumber()}),ib);return d(0,t)}function O6(e,t,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new rt(0),tickMin:new rt(0),tickMax:new rt(0)};var i=P6(new rt(t).sub(e).div(n-1),a,s),l;e<=0&&t>=0?l=new rt(0):(l=new rt(e).add(t).div(2),l=l.sub(new rt(l).mod(i)));var d=Math.ceil(l.sub(e).div(i).toNumber()),u=Math.ceil(new rt(t).sub(l).div(i).toNumber()),h=d+u+1;return h>n?O6(e,t,n,a,s+1):(h<n&&(u=t>0?u+(n-h):u,d=t>0?d:d+(n-h)),{step:i,tickMin:l.sub(new rt(d).mul(i)),tickMax:l.add(new rt(u).mul(i))})}function KH(e){var t=vc(e,2),n=t[0],a=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(s,2),d=A6([n,a]),u=vc(d,2),h=u[0],p=u[1];if(h===-1/0||p===1/0){var m=p===1/0?[h].concat(lb(ib(0,s-1).map(function(){return 1/0}))):[].concat(lb(ib(0,s-1).map(function(){return-1/0})),[p]);return n>a?ob(m):m}if(h===p)return HH(h,s,i);var x=O6(h,p,l,i),j=x.step,v=x.tickMin,w=x.tickMax,g=If.rangeStep(v,w.add(new rt(.1).mul(j)),j);return n>a?ob(g):g}function GH(e,t){var n=vc(e,2),a=n[0],s=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=A6([a,s]),d=vc(l,2),u=d[0],h=d[1];if(u===-1/0||h===1/0)return[a,s];if(u===h)return[u];var p=Math.max(t,2),m=P6(new rt(h).sub(u).div(p-1),i,0),x=[].concat(lb(If.rangeStep(new rt(u),new rt(h).sub(new rt(.99).mul(m)),m)),[h]);return a>s?ob(x):x}var VH=k6(KH),QH=k6(GH),YH="Invariant failed";function Xs(e,t){throw new Error(YH)}var XH=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function fo(e){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(e)}function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},wh.apply(this,arguments)}function JH(e,t){return rK(e)||tK(e,t)||eK(e,t)||ZH()}function ZH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eK(e,t){if(e){if(typeof e=="string")return ZC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZC(e,t)}}function ZC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function tK(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function rK(e){if(Array.isArray(e))return e}function nK(e,t){if(e==null)return{};var n=aK(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function aK(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function sK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iK(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,T6(a.key),a)}}function oK(e,t,n){return t&&iK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lK(e,t,n){return t=Nh(t),cK(e,E6()?Reflect.construct(t,n||[],Nh(e).constructor):t.apply(e,n))}function cK(e,t){if(t&&(fo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dK(e)}function dK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E6=function(){return!!e})()}function Nh(e){return Nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nh(e)}function uK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&db(e,t)}function db(e,t){return db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},db(e,t)}function _6(e,t,n){return t=T6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T6(e){var t=hK(e,"string");return fo(t)=="symbol"?t:t+""}function hK(e,t){if(fo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(fo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var od=(function(e){function t(){return sK(this,t),lK(this,t,arguments)}return uK(t,e),oK(t,[{key:"render",value:function(){var a=this.props,s=a.offset,i=a.layout,l=a.width,d=a.dataKey,u=a.data,h=a.dataPointFormatter,p=a.xAxis,m=a.yAxis,x=nK(a,XH),j=Re(x,!1);this.props.direction==="x"&&p.type!=="number"&&Xs();var v=u.map(function(w){var g=h(w,d),S=g.x,P=g.y,O=g.value,N=g.errorVal;if(!N)return null;var A=[],C,E;if(Array.isArray(N)){var T=JH(N,2);C=T[0],E=T[1]}else C=E=N;if(i==="vertical"){var R=p.scale,I=P+s,M=I+l,$=I-l,G=R(O-C),V=R(O+E);A.push({x1:V,y1:M,x2:V,y2:$}),A.push({x1:G,y1:I,x2:V,y2:I}),A.push({x1:G,y1:M,x2:G,y2:$})}else if(i==="horizontal"){var z=m.scale,U=S+s,W=U-l,B=U+l,F=z(O-C),L=z(O+E);A.push({x1:W,y1:L,x2:B,y2:L}),A.push({x1:U,y1:F,x2:U,y2:L}),A.push({x1:W,y1:F,x2:B,y2:F})}return X.createElement(Ge,wh({className:"recharts-errorBar",key:"bar-".concat(A.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},j),A.map(function(q){return X.createElement("line",wh({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return X.createElement(Ge,{className:"recharts-errorBars"},v)}}])})(X.Component);_6(od,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_6(od,"displayName","ErrorBar");function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function bs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(a){fK(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function fK(e,t,n){return t=mK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mK(e){var t=pK(e,"string");return bc(t)=="symbol"?t:t+""}function pK(e,t){if(bc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(bc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R6=function(t){var n=t.children,a=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,l=_r(n,Xa);if(!l)return null;var d=Xa.defaultProps,u=d!==void 0?bs(bs({},d),l.props):{},h;return l.props&&l.props.payload?h=l.props&&l.props.payload:i==="children"?h=(a||[]).reduce(function(p,m){var x=m.item,j=m.props,v=j.sectors||j.data||[];return p.concat(v.map(function(w){return{type:l.props.iconType||x.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):h=(a||[]).map(function(p){var m=p.item,x=m.type.defaultProps,j=x!==void 0?bs(bs({},x),m.props):{},v=j.dataKey,w=j.name,g=j.legendType,S=j.hide;return{inactive:S,dataKey:v,type:u.iconType||g||"square",color:uw(m),value:w||v,payload:j}}),bs(bs(bs({},u),Xa.getWithHeight(l,s)),{},{payload:h,item:l})};function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function tA(e){return vK(e)||yK(e)||gK(e)||xK()}function xK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gK(e,t){if(e){if(typeof e=="string")return ub(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ub(e,t)}}function yK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vK(e){if(Array.isArray(e))return ub(e)}function ub(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(a){Ui(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ui(e,t,n){return t=bK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bK(e){var t=jK(e,"string");return jc(t)=="symbol"?t:t+""}function jK(e,t){if(jc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(jc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lt(e,t,n){return qe(e)||qe(t)?n:Dt(t)?Mr(e,t,n):Fe(t)?t(e):n}function Jl(e,t,n,a){var s=vH(e,function(d){return Lt(d,t)});if(n==="number"){var i=s.filter(function(d){return ge(d)||parseFloat(d)});return i.length?[Rf(i),Tf(i)]:[1/0,-1/0]}var l=a?s.filter(function(d){return!qe(d)}):s;return l.map(function(d){return Dt(d)||d instanceof Date?d:""})}var wK=function(t){var n,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=-1,d=(n=a==null?void 0:a.length)!==null&&n!==void 0?n:0;if(d<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var u=i.range,h=0;h<d;h++){var p=h>0?s[h-1].coordinate:s[d-1].coordinate,m=s[h].coordinate,x=h>=d-1?s[0].coordinate:s[h+1].coordinate,j=void 0;if(cr(m-p)!==cr(x-m)){var v=[];if(cr(x-m)===cr(u[1]-u[0])){j=x;var w=m+u[1]-u[0];v[0]=Math.min(w,(w+p)/2),v[1]=Math.max(w,(w+p)/2)}else{j=p;var g=x+u[1]-u[0];v[0]=Math.min(m,(g+m)/2),v[1]=Math.max(m,(g+m)/2)}var S=[Math.min(m,(j+m)/2),Math.max(m,(j+m)/2)];if(t>S[0]&&t<=S[1]||t>=v[0]&&t<=v[1]){l=s[h].index;break}}else{var P=Math.min(p,x),O=Math.max(p,x);if(t>(P+m)/2&&t<=(O+m)/2){l=s[h].index;break}}}else for(var N=0;N<d;N++)if(N===0&&t<=(a[N].coordinate+a[N+1].coordinate)/2||N>0&&N<d-1&&t>(a[N].coordinate+a[N-1].coordinate)/2&&t<=(a[N].coordinate+a[N+1].coordinate)/2||N===d-1&&t>(a[N].coordinate+a[N-1].coordinate)/2){l=a[N].index;break}return l},uw=function(t){var n,a=t,s=a.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?jt(jt({},t.type.defaultProps),t.props):t.props,l=i.stroke,d=i.fill,u;switch(s){case"Line":u=l;break;case"Area":case"Radar":u=l&&l!=="none"?l:d;break;default:u=d;break}return u},NK=function(t){var n=t.barSize,a=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var l={},d=Object.keys(i),u=0,h=d.length;u<h;u++)for(var p=i[d[u]].stackGroups,m=Object.keys(p),x=0,j=m.length;x<j;x++){var v=p[m[x]],w=v.items,g=v.cateAxisId,S=w.filter(function(E){return ra(E.type).indexOf("Bar")>=0});if(S&&S.length){var P=S[0].type.defaultProps,O=P!==void 0?jt(jt({},P),S[0].props):S[0].props,N=O.barSize,A=O[g];l[A]||(l[A]=[]);var C=qe(N)?n:N;l[A].push({item:S[0],stackList:S.slice(1),barSize:qe(C)?void 0:dr(C,a,0)})}}return l},SK=function(t){var n=t.barGap,a=t.barCategoryGap,s=t.bandSize,i=t.sizeList,l=i===void 0?[]:i,d=t.maxBarSize,u=l.length;if(u<1)return null;var h=dr(n,s,0,!0),p,m=[];if(l[0].barSize===+l[0].barSize){var x=!1,j=s/u,v=l.reduce(function(N,A){return N+A.barSize||0},0);v+=(u-1)*h,v>=s&&(v-=(u-1)*h,h=0),v>=s&&j>0&&(x=!0,j*=.9,v=u*j);var w=(s-v)/2>>0,g={offset:w-h,size:0};p=l.reduce(function(N,A){var C={item:A.item,position:{offset:g.offset+g.size+h,size:x?j:A.barSize}},E=[].concat(tA(N),[C]);return g=E[E.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(T){E.push({item:T,position:g})}),E},m)}else{var S=dr(a,s,0,!0);s-2*S-(u-1)*h<=0&&(h=0);var P=(s-2*S-(u-1)*h)/u;P>1&&(P>>=0);var O=d===+d?Math.min(P,d):P;p=l.reduce(function(N,A,C){var E=[].concat(tA(N),[{item:A.item,position:{offset:S+(P+h)*C+(P-O)/2,size:O}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(T){E.push({item:T,position:E[E.length-1].position})}),E},m)}return p},kK=function(t,n,a,s){var i=a.children,l=a.width,d=a.margin,u=l-(d.left||0)-(d.right||0),h=R6({children:i,legendWidth:u});if(h){var p=s||{},m=p.width,x=p.height,j=h.align,v=h.verticalAlign,w=h.layout;if((w==="vertical"||w==="horizontal"&&v==="middle")&&j!=="center"&&ge(t[j]))return jt(jt({},t),{},Ui({},j,t[j]+(m||0)));if((w==="horizontal"||w==="vertical"&&j==="center")&&v!=="middle"&&ge(t[v]))return jt(jt({},t),{},Ui({},v,t[v]+(x||0)))}return t},CK=function(t,n,a){return qe(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||a==="x"?n==="xAxis":a==="y"?n==="yAxis":!0},M6=function(t,n,a,s,i){var l=n.props.children,d=Ir(l,od).filter(function(h){return CK(s,i,h.props.direction)});if(d&&d.length){var u=d.map(function(h){return h.props.dataKey});return t.reduce(function(h,p){var m=Lt(p,a);if(qe(m))return h;var x=Array.isArray(m)?[Rf(m),Tf(m)]:[m,m],j=u.reduce(function(v,w){var g=Lt(p,w,0),S=x[0]-Math.abs(Array.isArray(g)?g[0]:g),P=x[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(S,v[0]),Math.max(P,v[1])]},[1/0,-1/0]);return[Math.min(j[0],h[0]),Math.max(j[1],h[1])]},[1/0,-1/0])}return null},AK=function(t,n,a,s,i){var l=n.map(function(d){return M6(t,d,a,i,s)}).filter(function(d){return!qe(d)});return l&&l.length?l.reduce(function(d,u){return[Math.min(d[0],u[0]),Math.max(d[1],u[1])]},[1/0,-1/0]):null},I6=function(t,n,a,s,i){var l=n.map(function(u){var h=u.props.dataKey;return a==="number"&&h&&M6(t,u,h,s)||Jl(t,h,a,i)});if(a==="number")return l.reduce(function(u,h){return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);var d={};return l.reduce(function(u,h){for(var p=0,m=h.length;p<m;p++)d[h[p]]||(d[h[p]]=!0,u.push(h[p]));return u},[])},$6=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},L6=function(t,n,a,s){if(s)return t.map(function(u){return u.coordinate});var i,l,d=t.map(function(u){return u.coordinate===n&&(i=!0),u.coordinate===a&&(l=!0),u.coordinate});return i||d.push(n),l||d.push(a),d},ta=function(t,n,a){if(!t)return null;var s=t.scale,i=t.duplicateDomain,l=t.type,d=t.range,u=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,h=(n||a)&&l==="category"&&s.bandwidth?s.bandwidth()/u:0;if(h=t.axisType==="angleAxis"&&(d==null?void 0:d.length)>=2?cr(d[0]-d[1])*2*h:h,n&&(t.ticks||t.niceTicks)){var p=(t.ticks||t.niceTicks).map(function(m){var x=i?i.indexOf(m):m;return{coordinate:s(x)+h,value:m,offset:h}});return p.filter(function(m){return!ed(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,x){return{coordinate:s(m)+h,value:m,index:x,offset:h}}):s.ticks&&!a?s.ticks(t.tickCount).map(function(m){return{coordinate:s(m)+h,value:m,offset:h}}):s.domain().map(function(m,x){return{coordinate:s(m)+h,value:i?i[m]:m,index:x,offset:h}})},Ny=new WeakMap,Tu=function(t,n){if(typeof n!="function")return t;Ny.has(t)||Ny.set(t,new WeakMap);var a=Ny.get(t);if(a.has(n))return a.get(n);var s=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return a.set(n,s),s},D6=function(t,n,a){var s=t.scale,i=t.type,l=t.layout,d=t.axisType;if(s==="auto")return l==="radial"&&d==="radiusAxis"?{scale:fc(),realScaleType:"band"}:l==="radial"&&d==="angleAxis"?{scale:gh(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!a)?{scale:Xl(),realScaleType:"point"}:i==="category"?{scale:fc(),realScaleType:"band"}:{scale:gh(),realScaleType:"linear"};if(Gs(s)){var u="scale".concat(gf(s));return{scale:(zC[u]||Xl)(),realScaleType:zC[u]?u:"point"}}return Fe(s)?{scale:s}:{scale:Xl(),realScaleType:"point"}},nA=1e-4,F6=function(t){var n=t.domain();if(!(!n||n.length<=2)){var a=n.length,s=t.range(),i=Math.min(s[0],s[1])-nA,l=Math.max(s[0],s[1])+nA,d=t(n[0]),u=t(n[a-1]);(d<i||d>l||u<i||u>l)&&t.domain([n[0],n[a-1]])}},PK=function(t,n){if(!t)return null;for(var a=0,s=t.length;a<s;a++)if(t[a].item===n)return t[a].position;return null},OK=function(t,n){if(!n||n.length!==2||!ge(n[0])||!ge(n[1]))return t;var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!ge(t[0])||t[0]<a)&&(i[0]=a),(!ge(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},EK=function(t){var n=t.length;if(!(n<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,l=0,d=0;d<n;++d){var u=ed(t[d][a][1])?t[d][a][0]:t[d][a][1];u>=0?(t[d][a][0]=i,t[d][a][1]=i+u,i=t[d][a][1]):(t[d][a][0]=l,t[d][a][1]=l+u,l=t[d][a][1])}},_K=function(t){var n=t.length;if(!(n<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,l=0;l<n;++l){var d=ed(t[l][a][1])?t[l][a][0]:t[l][a][1];d>=0?(t[l][a][0]=i,t[l][a][1]=i+d,i=t[l][a][1]):(t[l][a][0]=0,t[l][a][1]=0)}},TK={sign:EK,expand:vF,none:ao,silhouette:bF,wiggle:jF,positive:_K},RK=function(t,n,a){var s=n.map(function(d){return d.props.dataKey}),i=TK[a],l=yF().keys(s).value(function(d,u){return+Lt(d,u,0)}).order(zv).offset(i);return l(t)},MK=function(t,n,a,s,i,l){if(!t)return null;var d=l?n.reverse():n,u={},h=d.reduce(function(m,x){var j,v=(j=x.type)!==null&&j!==void 0&&j.defaultProps?jt(jt({},x.type.defaultProps),x.props):x.props,w=v.stackId,g=v.hide;if(g)return m;var S=v[a],P=m[S]||{hasStack:!1,stackGroups:{}};if(Dt(w)){var O=P.stackGroups[w]||{numericAxisId:a,cateAxisId:s,items:[]};O.items.push(x),P.hasStack=!0,P.stackGroups[w]=O}else P.stackGroups[Do("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[x]};return jt(jt({},m),{},Ui({},S,P))},u),p={};return Object.keys(h).reduce(function(m,x){var j=h[x];if(j.hasStack){var v={};j.stackGroups=Object.keys(j.stackGroups).reduce(function(w,g){var S=j.stackGroups[g];return jt(jt({},w),{},Ui({},g,{numericAxisId:a,cateAxisId:s,items:S.items,stackedData:RK(t,S.items,i)}))},v)}return jt(jt({},m),{},Ui({},x,j))},p)},q6=function(t,n){var a=n.realScaleType,s=n.type,i=n.tickCount,l=n.originalDomain,d=n.allowDecimals,u=a||n.scale;if(u!=="auto"&&u!=="linear")return null;if(i&&s==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var h=t.domain();if(!h.length)return null;var p=VH(h,i,d);return t.domain([Rf(p),Tf(p)]),{niceTicks:p}}if(i&&s==="number"){var m=t.domain(),x=QH(m,i,d);return{niceTicks:x}}return null};function aA(e){var t=e.axis,n=e.ticks,a=e.bandSize,s=e.entry,i=e.index,l=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!qe(s[t.dataKey])){var d=Ju(n,"value",s[t.dataKey]);if(d)return d.coordinate+a/2}return n[i]?n[i].coordinate+a/2:null}var u=Lt(s,qe(l)?t.dataKey:l);return qe(u)?null:t.scale(u)}var sA=function(t){var n=t.axis,a=t.ticks,s=t.offset,i=t.bandSize,l=t.entry,d=t.index;if(n.type==="category")return a[d]?a[d].coordinate+s:null;var u=Lt(l,n.dataKey,n.domain[d]);return qe(u)?null:n.scale(u)-i/2+s},IK=function(t){var n=t.numericAxis,a=n.scale.domain();if(n.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},$K=function(t,n){var a,s=(a=t.type)!==null&&a!==void 0&&a.defaultProps?jt(jt({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Dt(i)){var l=n[i];if(l){var d=l.items.indexOf(t);return d>=0?l.stackedData[d]:null}}return null},LK=function(t){return t.reduce(function(n,a){return[Rf(a.concat([n[0]]).filter(ge)),Tf(a.concat([n[1]]).filter(ge))]},[1/0,-1/0])},z6=function(t,n,a){return Object.keys(t).reduce(function(s,i){var l=t[i],d=l.stackedData,u=d.reduce(function(h,p){var m=LK(p.slice(n,a+1));return[Math.min(h[0],m[0]),Math.max(h[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],s[0]),Math.max(u[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},iA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hb=function(t,n,a){if(Fe(t))return t(n,a);if(!Array.isArray(t))return n;var s=[];if(ge(t[0]))s[0]=a?t[0]:Math.min(t[0],n[0]);else if(iA.test(t[0])){var i=+iA.exec(t[0])[1];s[0]=n[0]-i}else Fe(t[0])?s[0]=t[0](n[0]):s[0]=n[0];if(ge(t[1]))s[1]=a?t[1]:Math.max(t[1],n[1]);else if(oA.test(t[1])){var l=+oA.exec(t[1])[1];s[1]=n[1]+l}else Fe(t[1])?s[1]=t[1](n[1]):s[1]=n[1];return s},Sh=function(t,n,a){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!a||s>0)return s}if(t&&n&&n.length>=2){for(var i=Dj(n,function(m){return m.coordinate}),l=1/0,d=1,u=i.length;d<u;d++){var h=i[d],p=i[d-1];l=Math.min((h.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return a?void 0:0},lA=function(t,n,a){return!t||!t.length||id(t,Mr(a,"type.defaultProps.domain"))?n:t},B6=function(t,n){var a=t.type.defaultProps?jt(jt({},t.type.defaultProps),t.props):t.props,s=a.dataKey,i=a.name,l=a.unit,d=a.formatter,u=a.tooltipType,h=a.chartType,p=a.hide;return jt(jt({},Re(t,!1)),{},{dataKey:s,unit:l,formatter:d,name:i||s,color:uw(t),value:Lt(n,s),type:u,payload:n,chartType:h,hide:p})};function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function cA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(n),!0).forEach(function(a){U6(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function U6(e,t,n){return t=DK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DK(e){var t=FK(e,"string");return wc(t)=="symbol"?t:t+""}function FK(e,t){if(wc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(wc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qK(e,t){return WK(e)||UK(e,t)||BK(e,t)||zK()}function zK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BK(e,t){if(e){if(typeof e=="string")return dA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dA(e,t)}}function dA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function UK(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function WK(e){if(Array.isArray(e))return e}var kh=Math.PI/180,HK=function(t){return t*180/Math.PI},ot=function(t,n,a,s){return{x:t+Math.cos(-kh*s)*a,y:n+Math.sin(-kh*s)*a}},W6=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},KK=function(t,n,a,s,i){var l=t.width,d=t.height,u=t.startAngle,h=t.endAngle,p=dr(t.cx,l,l/2),m=dr(t.cy,d,d/2),x=W6(l,d,a),j=dr(t.innerRadius,x,0),v=dr(t.outerRadius,x,x*.8),w=Object.keys(n);return w.reduce(function(g,S){var P=n[S],O=P.domain,N=P.reversed,A;if(qe(P.range))s==="angleAxis"?A=[u,h]:s==="radiusAxis"&&(A=[j,v]),N&&(A=[A[1],A[0]]);else{A=P.range;var C=A,E=qK(C,2);u=E[0],h=E[1]}var T=D6(P,i),R=T.realScaleType,I=T.scale;I.domain(O).range(A),F6(I);var M=q6(I,Gn(Gn({},P),{},{realScaleType:R})),$=Gn(Gn(Gn({},P),M),{},{range:A,radius:v,realScaleType:R,scale:I,cx:p,cy:m,innerRadius:j,outerRadius:v,startAngle:u,endAngle:h});return Gn(Gn({},g),{},U6({},S,$))},{})},GK=function(t,n){var a=t.x,s=t.y,i=n.x,l=n.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-l,2))},VK=function(t,n){var a=t.x,s=t.y,i=n.cx,l=n.cy,d=GK({x:a,y:s},{x:i,y:l});if(d<=0)return{radius:d};var u=(a-i)/d,h=Math.acos(u);return s>l&&(h=2*Math.PI-h),{radius:d,angle:HK(h),angleInRadian:h}},QK=function(t){var n=t.startAngle,a=t.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(s,i);return{startAngle:n-l*360,endAngle:a-l*360}},YK=function(t,n){var a=n.startAngle,s=n.endAngle,i=Math.floor(a/360),l=Math.floor(s/360),d=Math.min(i,l);return t+d*360},uA=function(t,n){var a=t.x,s=t.y,i=VK({x:a,y:s},n),l=i.radius,d=i.angle,u=n.innerRadius,h=n.outerRadius;if(l<u||l>h)return!1;if(l===0)return!0;var p=QK(n),m=p.startAngle,x=p.endAngle,j=d,v;if(m<=x){for(;j>x;)j-=360;for(;j<m;)j+=360;v=j>=m&&j<=x}else{for(;j>m;)j-=360;for(;j<x;)j+=360;v=j>=x&&j<=m}return v?Gn(Gn({},n),{},{radius:l,angle:YK(j,n)}):null},H6=function(t){return!b.isValidElement(t)&&!Fe(t)&&typeof t!="boolean"?t.className:""};function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}var XK=["offset"];function JK(e){return rG(e)||tG(e)||eG(e)||ZK()}function ZK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eG(e,t){if(e){if(typeof e=="string")return fb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fb(e,t)}}function tG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rG(e){if(Array.isArray(e))return fb(e)}function fb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function nG(e,t){if(e==null)return{};var n=aG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function aG(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function hA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(n),!0).forEach(function(a){sG(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function sG(e,t,n){return t=iG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iG(e){var t=oG(e,"string");return Nc(t)=="symbol"?t:t+""}function oG(e,t){if(Nc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Nc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Sc.apply(this,arguments)}var lG=function(t){var n=t.value,a=t.formatter,s=qe(t.children)?n:t.children;return Fe(a)?a(s):s},cG=function(t,n){var a=cr(n-t),s=Math.min(Math.abs(n-t),360);return a*s},dG=function(t,n,a){var s=t.position,i=t.viewBox,l=t.offset,d=t.className,u=i,h=u.cx,p=u.cy,m=u.innerRadius,x=u.outerRadius,j=u.startAngle,v=u.endAngle,w=u.clockWise,g=(m+x)/2,S=cG(j,v),P=S>=0?1:-1,O,N;s==="insideStart"?(O=j+P*l,N=w):s==="insideEnd"?(O=v-P*l,N=!w):s==="end"&&(O=v+P*l,N=w),N=S<=0?N:!N;var A=ot(h,p,g,O),C=ot(h,p,g,O+(N?1:-1)*359),E="M".concat(A.x,",").concat(A.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(N?0:1,`,
    `).concat(C.x,",").concat(C.y),T=qe(t.id)?Do("recharts-radial-line-"):t.id;return X.createElement("text",Sc({},a,{dominantBaseline:"central",className:ze("recharts-radial-bar-label",d)}),X.createElement("defs",null,X.createElement("path",{id:T,d:E})),X.createElement("textPath",{xlinkHref:"#".concat(T)},n))},uG=function(t){var n=t.viewBox,a=t.offset,s=t.position,i=n,l=i.cx,d=i.cy,u=i.innerRadius,h=i.outerRadius,p=i.startAngle,m=i.endAngle,x=(p+m)/2;if(s==="outside"){var j=ot(l,d,h+a,x),v=j.x,w=j.y;return{x:v,y:w,textAnchor:v>=l?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:l,y:d,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:l,y:d,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:l,y:d,textAnchor:"middle",verticalAnchor:"end"};var g=(u+h)/2,S=ot(l,d,g,x),P=S.x,O=S.y;return{x:P,y:O,textAnchor:"middle",verticalAnchor:"middle"}},hG=function(t){var n=t.viewBox,a=t.parentViewBox,s=t.offset,i=t.position,l=n,d=l.x,u=l.y,h=l.width,p=l.height,m=p>=0?1:-1,x=m*s,j=m>0?"end":"start",v=m>0?"start":"end",w=h>=0?1:-1,g=w*s,S=w>0?"end":"start",P=w>0?"start":"end";if(i==="top"){var O={x:d+h/2,y:u-m*s,textAnchor:"middle",verticalAnchor:j};return Mt(Mt({},O),a?{height:Math.max(u-a.y,0),width:h}:{})}if(i==="bottom"){var N={x:d+h/2,y:u+p+x,textAnchor:"middle",verticalAnchor:v};return Mt(Mt({},N),a?{height:Math.max(a.y+a.height-(u+p),0),width:h}:{})}if(i==="left"){var A={x:d-g,y:u+p/2,textAnchor:S,verticalAnchor:"middle"};return Mt(Mt({},A),a?{width:Math.max(A.x-a.x,0),height:p}:{})}if(i==="right"){var C={x:d+h+g,y:u+p/2,textAnchor:P,verticalAnchor:"middle"};return Mt(Mt({},C),a?{width:Math.max(a.x+a.width-C.x,0),height:p}:{})}var E=a?{width:h,height:p}:{};return i==="insideLeft"?Mt({x:d+g,y:u+p/2,textAnchor:P,verticalAnchor:"middle"},E):i==="insideRight"?Mt({x:d+h-g,y:u+p/2,textAnchor:S,verticalAnchor:"middle"},E):i==="insideTop"?Mt({x:d+h/2,y:u+x,textAnchor:"middle",verticalAnchor:v},E):i==="insideBottom"?Mt({x:d+h/2,y:u+p-x,textAnchor:"middle",verticalAnchor:j},E):i==="insideTopLeft"?Mt({x:d+g,y:u+x,textAnchor:P,verticalAnchor:v},E):i==="insideTopRight"?Mt({x:d+h-g,y:u+x,textAnchor:S,verticalAnchor:v},E):i==="insideBottomLeft"?Mt({x:d+g,y:u+p-x,textAnchor:P,verticalAnchor:j},E):i==="insideBottomRight"?Mt({x:d+h-g,y:u+p-x,textAnchor:S,verticalAnchor:j},E):Lo(i)&&(ge(i.x)||Ps(i.x))&&(ge(i.y)||Ps(i.y))?Mt({x:d+dr(i.x,h),y:u+dr(i.y,p),textAnchor:"end",verticalAnchor:"end"},E):Mt({x:d+h/2,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},E)},fG=function(t){return"cx"in t&&ge(t.cx)};function Kt(e){var t=e.offset,n=t===void 0?5:t,a=nG(e,XK),s=Mt({offset:n},a),i=s.viewBox,l=s.position,d=s.value,u=s.children,h=s.content,p=s.className,m=p===void 0?"":p,x=s.textBreakAll;if(!i||qe(d)&&qe(u)&&!b.isValidElement(h)&&!Fe(h))return null;if(b.isValidElement(h))return b.cloneElement(h,s);var j;if(Fe(h)){if(j=b.createElement(h,s),b.isValidElement(j))return j}else j=lG(s);var v=fG(i),w=Re(s,!0);if(v&&(l==="insideStart"||l==="insideEnd"||l==="end"))return dG(s,j,w);var g=v?uG(s):hG(s);return X.createElement(Qs,Sc({className:ze("recharts-label",m)},w,g,{breakAll:x}),j)}Kt.displayName="Label";var K6=function(t){var n=t.cx,a=t.cy,s=t.angle,i=t.startAngle,l=t.endAngle,d=t.r,u=t.radius,h=t.innerRadius,p=t.outerRadius,m=t.x,x=t.y,j=t.top,v=t.left,w=t.width,g=t.height,S=t.clockWise,P=t.labelViewBox;if(P)return P;if(ge(w)&&ge(g)){if(ge(m)&&ge(x))return{x:m,y:x,width:w,height:g};if(ge(j)&&ge(v))return{x:j,y:v,width:w,height:g}}return ge(m)&&ge(x)?{x:m,y:x,width:0,height:0}:ge(n)&&ge(a)?{cx:n,cy:a,startAngle:i||s||0,endAngle:l||s||0,innerRadius:h||0,outerRadius:p||u||d||0,clockWise:S}:t.viewBox?t.viewBox:{}},mG=function(t,n){return t?t===!0?X.createElement(Kt,{key:"label-implicit",viewBox:n}):Dt(t)?X.createElement(Kt,{key:"label-implicit",viewBox:n,value:t}):b.isValidElement(t)?t.type===Kt?b.cloneElement(t,{key:"label-implicit",viewBox:n}):X.createElement(Kt,{key:"label-implicit",content:t,viewBox:n}):Fe(t)?X.createElement(Kt,{key:"label-implicit",content:t,viewBox:n}):Lo(t)?X.createElement(Kt,Sc({viewBox:n},t,{key:"label-implicit"})):null:null},pG=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var s=t.children,i=K6(t),l=Ir(s,Kt).map(function(u,h){return b.cloneElement(u,{viewBox:n||i,key:"label-".concat(h)})});if(!a)return l;var d=mG(t.label,n||i);return[d].concat(JK(l))};Kt.parseViewBox=K6;Kt.renderCallByParent=pG;var Sy,fA;function xG(){if(fA)return Sy;fA=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Sy=e,Sy}var gG=xG();const yG=Ze(gG);function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}var vG=["valueAccessor"],bG=["data","dataKey","clockWise","id","textBreakAll"];function jG(e){return kG(e)||SG(e)||NG(e)||wG()}function wG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NG(e,t){if(e){if(typeof e=="string")return mb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mb(e,t)}}function SG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kG(e){if(Array.isArray(e))return mb(e)}function mb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ch.apply(this,arguments)}function mA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function pA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(n),!0).forEach(function(a){CG(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function CG(e,t,n){return t=AG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AG(e){var t=PG(e,"string");return kc(t)=="symbol"?t:t+""}function PG(e,t){if(kc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(kc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xA(e,t){if(e==null)return{};var n=OG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function OG(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var EG=function(t){return Array.isArray(t.value)?yG(t.value):t.value};function aa(e){var t=e.valueAccessor,n=t===void 0?EG:t,a=xA(e,vG),s=a.data,i=a.dataKey,l=a.clockWise,d=a.id,u=a.textBreakAll,h=xA(a,bG);return!s||!s.length?null:X.createElement(Ge,{className:"recharts-label-list"},s.map(function(p,m){var x=qe(i)?n(p,m):Lt(p&&p.payload,i),j=qe(d)?{}:{id:"".concat(d,"-").concat(m)};return X.createElement(Kt,Ch({},Re(p,!0),h,j,{parentViewBox:p.parentViewBox,value:x,textBreakAll:u,viewBox:Kt.parseViewBox(qe(l)?p:pA(pA({},p),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}aa.displayName="LabelList";function _G(e,t){return e?e===!0?X.createElement(aa,{key:"labelList-implicit",data:t}):X.isValidElement(e)||Fe(e)?X.createElement(aa,{key:"labelList-implicit",data:t,content:e}):Lo(e)?X.createElement(aa,Ch({data:t},e,{key:"labelList-implicit"})):null:null}function TG(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=Ir(a,aa).map(function(l,d){return b.cloneElement(l,{data:t,key:"labelList-".concat(d)})});if(!n)return s;var i=_G(e.label,t);return[i].concat(jG(s))}aa.renderCallByParent=TG;function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},pb.apply(this,arguments)}function gA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function yA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(n),!0).forEach(function(a){RG(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function RG(e,t,n){return t=MG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MG(e){var t=IG(e,"string");return Cc(t)=="symbol"?t:t+""}function IG(e,t){if(Cc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Cc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $G=function(t,n){var a=cr(n-t),s=Math.min(Math.abs(n-t),359.999);return a*s},Ru=function(t){var n=t.cx,a=t.cy,s=t.radius,i=t.angle,l=t.sign,d=t.isExternal,u=t.cornerRadius,h=t.cornerIsExternal,p=u*(d?1:-1)+s,m=Math.asin(u/p)/kh,x=h?i:i+l*m,j=ot(n,a,p,x),v=ot(n,a,s,x),w=h?i-l*m:i,g=ot(n,a,p*Math.cos(m*kh),w);return{center:j,circleTangency:v,lineTangency:g,theta:m}},G6=function(t){var n=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.startAngle,d=t.endAngle,u=$G(l,d),h=l+u,p=ot(n,a,i,l),m=ot(n,a,i,h),x="M ".concat(p.x,",").concat(p.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(l>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var j=ot(n,a,s,l),v=ot(n,a,s,h);x+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(l<=h),`,
            `).concat(j.x,",").concat(j.y," Z")}else x+="L ".concat(n,",").concat(a," Z");return x},LG=function(t){var n=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.cornerRadius,d=t.forceCornerRadius,u=t.cornerIsExternal,h=t.startAngle,p=t.endAngle,m=cr(p-h),x=Ru({cx:n,cy:a,radius:i,angle:h,sign:m,cornerRadius:l,cornerIsExternal:u}),j=x.circleTangency,v=x.lineTangency,w=x.theta,g=Ru({cx:n,cy:a,radius:i,angle:p,sign:-m,cornerRadius:l,cornerIsExternal:u}),S=g.circleTangency,P=g.lineTangency,O=g.theta,N=u?Math.abs(h-p):Math.abs(h-p)-w-O;if(N<0)return d?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):G6({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:h,endAngle:p});var A="M ".concat(v.x,",").concat(v.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,`
  `);if(s>0){var C=Ru({cx:n,cy:a,radius:s,angle:h,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),E=C.circleTangency,T=C.lineTangency,R=C.theta,I=Ru({cx:n,cy:a,radius:s,angle:p,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),M=I.circleTangency,$=I.lineTangency,G=I.theta,V=u?Math.abs(h-p):Math.abs(h-p)-R-G;if(V<0&&l===0)return"".concat(A,"L").concat(n,",").concat(a,"Z");A+="L".concat($.x,",").concat($.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(V>180),",").concat(+(m>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,"Z")}else A+="L".concat(n,",").concat(a,"Z");return A},DG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},V6=function(t){var n=yA(yA({},DG),t),a=n.cx,s=n.cy,i=n.innerRadius,l=n.outerRadius,d=n.cornerRadius,u=n.forceCornerRadius,h=n.cornerIsExternal,p=n.startAngle,m=n.endAngle,x=n.className;if(l<i||p===m)return null;var j=ze("recharts-sector",x),v=l-i,w=dr(d,v,0,!0),g;return w>0&&Math.abs(p-m)<360?g=LG({cx:a,cy:s,innerRadius:i,outerRadius:l,cornerRadius:Math.min(w,v/2),forceCornerRadius:u,cornerIsExternal:h,startAngle:p,endAngle:m}):g=G6({cx:a,cy:s,innerRadius:i,outerRadius:l,startAngle:p,endAngle:m}),X.createElement("path",pb({},Re(n,!0),{className:j,d:g,role:"img"}))};function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xb.apply(this,arguments)}function vA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function bA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(n),!0).forEach(function(a){FG(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function FG(e,t,n){return t=qG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qG(e){var t=zG(e,"string");return Ac(t)=="symbol"?t:t+""}function zG(e,t){if(Ac(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Ac(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jA={curveBasisClosed:oF,curveBasisOpen:lF,curveBasis:iF,curveBumpX:K9,curveBumpY:G9,curveLinearClosed:cF,curveLinear:vf,curveMonotoneX:dF,curveMonotoneY:uF,curveNatural:hF,curveStep:fF,curveStepAfter:pF,curveStepBefore:mF},Mu=function(t){return t.x===+t.x&&t.y===+t.y},Fl=function(t){return t.x},ql=function(t){return t.y},BG=function(t,n){if(Fe(t))return t;var a="curve".concat(gf(t));return(a==="curveMonotone"||a==="curveBump")&&n?jA["".concat(a).concat(n==="vertical"?"Y":"X")]:jA[a]||vf},UG=function(t){var n=t.type,a=n===void 0?"linear":n,s=t.points,i=s===void 0?[]:s,l=t.baseLine,d=t.layout,u=t.connectNulls,h=u===void 0?!1:u,p=BG(a,d),m=h?i.filter(function(w){return Mu(w)}):i,x;if(Array.isArray(l)){var j=h?l.filter(function(w){return Mu(w)}):l,v=m.map(function(w,g){return bA(bA({},w),{},{base:j[g]})});return d==="vertical"?x=ku().y(ql).x1(Fl).x0(function(w){return w.base.x}):x=ku().x(Fl).y1(ql).y0(function(w){return w.base.y}),x.defined(Mu).curve(p),x(v)}return d==="vertical"&&ge(l)?x=ku().y(ql).x1(Fl).x0(l):ge(l)?x=ku().x(Fl).y1(ql).y0(l):x=GO().x(Fl).y(ql),x.defined(Mu).curve(p),x(m)},Ah=function(t){var n=t.className,a=t.points,s=t.path,i=t.pathRef;if((!a||!a.length)&&!s)return null;var l=a&&a.length?UG(t):s;return b.createElement("path",xb({},Re(t,!1),Zu(t),{className:ze("recharts-curve",n),d:l,ref:i}))},ky={exports:{}},Cy,wA;function WG(){if(wA)return Cy;wA=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Cy=e,Cy}var Ay,NA;function HG(){if(NA)return Ay;NA=1;var e=WG();function t(){}function n(){}return n.resetWarningCache=t,Ay=function(){function a(l,d,u,h,p,m){if(m!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}a.isRequired=a;function s(){return a}var i={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:s,element:a,elementType:a,instanceOf:s,node:a,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},Ay}var SA;function KG(){return SA||(SA=1,ky.exports=HG()()),ky.exports}var GG=KG();const Xe=Ze(GG),{getOwnPropertyNames:VG,getOwnPropertySymbols:QG}=Object,{hasOwnProperty:YG}=Object.prototype;function Py(e,t){return function(a,s,i){return e(a,s,i)&&t(a,s,i)}}function Iu(e){return function(n,a,s){if(!n||!a||typeof n!="object"||typeof a!="object")return e(n,a,s);const{cache:i}=s,l=i.get(n),d=i.get(a);if(l&&d)return l===a&&d===n;i.set(n,a),i.set(a,n);const u=e(n,a,s);return i.delete(n),i.delete(a),u}}function XG(e){return e!=null?e[Symbol.toStringTag]:void 0}function kA(e){return VG(e).concat(QG(e))}const JG=Object.hasOwn||((e,t)=>YG.call(e,t));function ai(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const ZG="__v",eV="__o",tV="_owner",{getOwnPropertyDescriptor:CA,keys:AA}=Object;function rV(e,t){return e.byteLength===t.byteLength&&Ph(new Uint8Array(e),new Uint8Array(t))}function nV(e,t,n){let a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!n.equals(e[a],t[a],a,a,e,t,n))return!1;return!0}function aV(e,t){return e.byteLength===t.byteLength&&Ph(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function sV(e,t){return ai(e.getTime(),t.getTime())}function iV(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function oV(e,t){return e===t}function PA(e,t,n){const a=e.size;if(a!==t.size)return!1;if(!a)return!0;const s=new Array(a),i=e.entries();let l,d,u=0;for(;(l=i.next())&&!l.done;){const h=t.entries();let p=!1,m=0;for(;(d=h.next())&&!d.done;){if(s[m]){m++;continue}const x=l.value,j=d.value;if(n.equals(x[0],j[0],u,m,e,t,n)&&n.equals(x[1],j[1],x[0],j[0],e,t,n)){p=s[m]=!0;break}m++}if(!p)return!1;u++}return!0}const lV=ai;function cV(e,t,n){const a=AA(e);let s=a.length;if(AA(t).length!==s)return!1;for(;s-- >0;)if(!Q6(e,t,n,a[s]))return!1;return!0}function zl(e,t,n){const a=kA(e);let s=a.length;if(kA(t).length!==s)return!1;let i,l,d;for(;s-- >0;)if(i=a[s],!Q6(e,t,n,i)||(l=CA(e,i),d=CA(t,i),(l||d)&&(!l||!d||l.configurable!==d.configurable||l.enumerable!==d.enumerable||l.writable!==d.writable)))return!1;return!0}function dV(e,t){return ai(e.valueOf(),t.valueOf())}function uV(e,t){return e.source===t.source&&e.flags===t.flags}function OA(e,t,n){const a=e.size;if(a!==t.size)return!1;if(!a)return!0;const s=new Array(a),i=e.values();let l,d;for(;(l=i.next())&&!l.done;){const u=t.values();let h=!1,p=0;for(;(d=u.next())&&!d.done;){if(!s[p]&&n.equals(l.value,d.value,l.value,d.value,e,t,n)){h=s[p]=!0;break}p++}if(!h)return!1}return!0}function Ph(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function hV(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Q6(e,t,n,a){return(a===tV||a===eV||a===ZG)&&(e.$$typeof||t.$$typeof)?!0:JG(t,a)&&n.equals(e[a],t[a],a,a,e,t,n)}const fV="[object ArrayBuffer]",mV="[object Arguments]",pV="[object Boolean]",xV="[object DataView]",gV="[object Date]",yV="[object Error]",vV="[object Map]",bV="[object Number]",jV="[object Object]",wV="[object RegExp]",NV="[object Set]",SV="[object String]",kV={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},CV="[object URL]",AV=Object.prototype.toString;function PV({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:a,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:l,areNumbersEqual:d,areObjectsEqual:u,arePrimitiveWrappersEqual:h,areRegExpsEqual:p,areSetsEqual:m,areTypedArraysEqual:x,areUrlsEqual:j,unknownTagComparators:v}){return function(g,S,P){if(g===S)return!0;if(g==null||S==null)return!1;const O=typeof g;if(O!==typeof S)return!1;if(O!=="object")return O==="number"?d(g,S,P):O==="function"?i(g,S,P):!1;const N=g.constructor;if(N!==S.constructor)return!1;if(N===Object)return u(g,S,P);if(Array.isArray(g))return t(g,S,P);if(N===Date)return a(g,S,P);if(N===RegExp)return p(g,S,P);if(N===Map)return l(g,S,P);if(N===Set)return m(g,S,P);const A=AV.call(g);if(A===gV)return a(g,S,P);if(A===wV)return p(g,S,P);if(A===vV)return l(g,S,P);if(A===NV)return m(g,S,P);if(A===jV)return typeof g.then!="function"&&typeof S.then!="function"&&u(g,S,P);if(A===CV)return j(g,S,P);if(A===yV)return s(g,S,P);if(A===mV)return u(g,S,P);if(kV[A])return x(g,S,P);if(A===fV)return e(g,S,P);if(A===xV)return n(g,S,P);if(A===pV||A===bV||A===SV)return h(g,S,P);if(v){let C=v[A];if(!C){const E=XG(g);E&&(C=v[E])}if(C)return C(g,S,P)}return!1}}function OV({circular:e,createCustomConfig:t,strict:n}){let a={areArrayBuffersEqual:rV,areArraysEqual:n?zl:nV,areDataViewsEqual:aV,areDatesEqual:sV,areErrorsEqual:iV,areFunctionsEqual:oV,areMapsEqual:n?Py(PA,zl):PA,areNumbersEqual:lV,areObjectsEqual:n?zl:cV,arePrimitiveWrappersEqual:dV,areRegExpsEqual:uV,areSetsEqual:n?Py(OA,zl):OA,areTypedArraysEqual:n?Py(Ph,zl):Ph,areUrlsEqual:hV,unknownTagComparators:void 0};if(t&&(a=Object.assign({},a,t(a))),e){const s=Iu(a.areArraysEqual),i=Iu(a.areMapsEqual),l=Iu(a.areObjectsEqual),d=Iu(a.areSetsEqual);a=Object.assign({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:d})}return a}function EV(e){return function(t,n,a,s,i,l,d){return e(t,n,d)}}function _V({circular:e,comparator:t,createState:n,equals:a,strict:s}){if(n)return function(d,u){const{cache:h=e?new WeakMap:void 0,meta:p}=n();return t(d,u,{cache:h,equals:a,meta:p,strict:s})};if(e)return function(d,u){return t(d,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};const i={cache:void 0,equals:a,meta:void 0,strict:s};return function(d,u){return t(d,u,i)}}const TV=is();is({strict:!0});is({circular:!0});is({circular:!0,strict:!0});is({createInternalComparator:()=>ai});is({strict:!0,createInternalComparator:()=>ai});is({circular:!0,createInternalComparator:()=>ai});is({circular:!0,createInternalComparator:()=>ai,strict:!0});function is(e={}){const{circular:t=!1,createInternalComparator:n,createState:a,strict:s=!1}=e,i=OV(e),l=PV(i),d=n?n(l):EV(l);return _V({circular:t,comparator:l,createState:a,equals:d,strict:s})}function RV(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function EA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,a=function s(i){n<0&&(n=i),i-n>t?(e(i),n=-1):RV(s)};requestAnimationFrame(a)}function gb(e){"@babel/helpers - typeof";return gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gb(e)}function MV(e){return DV(e)||LV(e)||$V(e)||IV()}function IV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $V(e,t){if(e){if(typeof e=="string")return _A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _A(e,t)}}function _A(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function LV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DV(e){if(Array.isArray(e))return e}function FV(){var e={},t=function(){return null},n=!1,a=function s(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var l=i,d=MV(l),u=d[0],h=d.slice(1);if(typeof u=="number"){EA(s.bind(null,h),u);return}s(u),EA(s.bind(null,h));return}gb(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,a(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function TA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function RA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(n),!0).forEach(function(a){Y6(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Y6(e,t,n){return t=qV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qV(e){var t=zV(e,"string");return Pc(t)==="symbol"?t:String(t)}function zV(e,t){if(Pc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Pc(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BV=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},UV=function(t){return t},WV=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Zl=function(t,n){return Object.keys(n).reduce(function(a,s){return RA(RA({},a),{},Y6({},s,t(s,n[s])))},{})},MA=function(t,n,a){return t.map(function(s){return"".concat(WV(s)," ").concat(n,"ms ").concat(a)}).join(",")};function HV(e,t){return VV(e)||GV(e,t)||X6(e,t)||KV()}function KV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GV(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function VV(e){if(Array.isArray(e))return e}function QV(e){return JV(e)||XV(e)||X6(e)||YV()}function YV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X6(e,t){if(e){if(typeof e=="string")return yb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yb(e,t)}}function XV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JV(e){if(Array.isArray(e))return yb(e)}function yb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Oh=1e-4,J6=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},Z6=function(t,n){return t.map(function(a,s){return a*Math.pow(n,s)}).reduce(function(a,s){return a+s})},IA=function(t,n){return function(a){var s=J6(t,n);return Z6(s,a)}},ZV=function(t,n){return function(a){var s=J6(t,n),i=[].concat(QV(s.map(function(l,d){return l*d}).slice(1)),[0]);return Z6(i,a)}},$A=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n[0],i=n[1],l=n[2],d=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,i=0,l=1,d=1;break;case"ease":s=.25,i=.1,l=.25,d=1;break;case"ease-in":s=.42,i=0,l=1,d=1;break;case"ease-out":s=.42,i=0,l=.58,d=1;break;case"ease-in-out":s=0,i=0,l=.58,d=1;break;default:{var u=n[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var h=u[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),p=HV(h,4);s=p[0],i=p[1],l=p[2],d=p[3]}}}var m=IA(s,l),x=IA(i,d),j=ZV(s,l),v=function(S){return S>1?1:S<0?0:S},w=function(S){for(var P=S>1?1:S,O=P,N=0;N<8;++N){var A=m(O)-P,C=j(O);if(Math.abs(A-P)<Oh||C<Oh)return x(O);O=v(O-A/C)}return x(O)};return w.isStepper=!1,w},eQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,a=n===void 0?100:n,s=t.damping,i=s===void 0?8:s,l=t.dt,d=l===void 0?17:l,u=function(p,m,x){var j=-(p-m)*a,v=x*i,w=x+(j-v)*d/1e3,g=x*d/1e3+p;return Math.abs(g-m)<Oh&&Math.abs(w)<Oh?[m,0]:[g,w]};return u.isStepper=!0,u.dt=d,u},tQ=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $A(s);case"spring":return eQ();default:if(s.split("(")[0]==="cubic-bezier")return $A(s)}return typeof s=="function"?s:null};function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function LA(e){return aQ(e)||nQ(e)||e_(e)||rQ()}function rQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aQ(e){if(Array.isArray(e))return bb(e)}function DA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(n),!0).forEach(function(a){vb(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function vb(e,t,n){return t=sQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sQ(e){var t=iQ(e,"string");return Oc(t)==="symbol"?t:String(t)}function iQ(e,t){if(Oc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Oc(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oQ(e,t){return dQ(e)||cQ(e,t)||e_(e,t)||lQ()}function lQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e_(e,t){if(e){if(typeof e=="string")return bb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bb(e,t)}}function bb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function cQ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function dQ(e){if(Array.isArray(e))return e}var Eh=function(t,n,a){return t+(n-t)*a},jb=function(t){var n=t.from,a=t.to;return n!==a},uQ=function e(t,n,a){var s=Zl(function(i,l){if(jb(l)){var d=t(l.from,l.to,l.velocity),u=oQ(d,2),h=u[0],p=u[1];return Yt(Yt({},l),{},{from:h,velocity:p})}return l},n);return a<1?Zl(function(i,l){return jb(l)?Yt(Yt({},l),{},{velocity:Eh(l.velocity,s[i].velocity,a),from:Eh(l.from,s[i].from,a)}):l},n):e(t,s,a-1)};const hQ=(function(e,t,n,a,s){var i=BV(e,t),l=i.reduce(function(g,S){return Yt(Yt({},g),{},vb({},S,[e[S],t[S]]))},{}),d=i.reduce(function(g,S){return Yt(Yt({},g),{},vb({},S,{from:e[S],velocity:0,to:t[S]}))},{}),u=-1,h,p,m=function(){return null},x=function(){return Zl(function(S,P){return P.from},d)},j=function(){return!Object.values(d).filter(jb).length},v=function(S){h||(h=S);var P=S-h,O=P/n.dt;d=uQ(n,d,O),s(Yt(Yt(Yt({},e),t),x())),h=S,j()||(u=requestAnimationFrame(m))},w=function(S){p||(p=S);var P=(S-p)/a,O=Zl(function(A,C){return Eh.apply(void 0,LA(C).concat([n(P)]))},l);if(s(Yt(Yt(Yt({},e),t),O)),P<1)u=requestAnimationFrame(m);else{var N=Zl(function(A,C){return Eh.apply(void 0,LA(C).concat([n(1)]))},l);s(Yt(Yt(Yt({},e),t),N))}};return m=n.isStepper?v:w,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(u)}}});function mo(e){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mo(e)}var fQ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function mQ(e,t){if(e==null)return{};var n=pQ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function pQ(e,t){if(e==null)return{};var n={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Oy(e){return vQ(e)||yQ(e)||gQ(e)||xQ()}function xQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gQ(e,t){if(e){if(typeof e=="string")return wb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wb(e,t)}}function yQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vQ(e){if(Array.isArray(e))return wb(e)}function wb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(a){Vl(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Vl(e,t,n){return t=t_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jQ(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,t_(a.key),a)}}function wQ(e,t,n){return t&&jQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t_(e){var t=NQ(e,"string");return mo(t)==="symbol"?t:String(t)}function NQ(e,t){if(mo(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(mo(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nb(e,t)}function Nb(e,t){return Nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Nb(e,t)}function kQ(e){var t=CQ();return function(){var a=_h(e),s;if(t){var i=_h(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return Sb(this,s)}}function Sb(e,t){if(t&&(mo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kb(e)}function kb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _h(e){return _h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_h(e)}var Rn=(function(e){SQ(n,e);var t=kQ(n);function n(a,s){var i;bQ(this,n),i=t.call(this,a,s);var l=i.props,d=l.isActive,u=l.attributeName,h=l.from,p=l.to,m=l.steps,x=l.children,j=l.duration;if(i.handleStyleChange=i.handleStyleChange.bind(kb(i)),i.changeStyle=i.changeStyle.bind(kb(i)),!d||j<=0)return i.state={style:{}},typeof x=="function"&&(i.state={style:p}),Sb(i);if(m&&m.length)i.state={style:m[0].style};else if(h){if(typeof x=="function")return i.state={style:h},Sb(i);i.state={style:u?Vl({},u,h):h}}else i.state={style:{}};return i}return wQ(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,l=s.canBegin;this.mounted=!0,!(!i||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,l=i.isActive,d=i.canBegin,u=i.attributeName,h=i.shouldReAnimate,p=i.to,m=i.from,x=this.state.style;if(d){if(!l){var j={style:u?Vl({},u,p):p};this.state&&x&&(u&&x[u]!==p||!u&&x!==p)&&this.setState(j);return}if(!(TV(s.to,p)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=v||h?m:s.to;if(this.state&&x){var g={style:u?Vl({},u,w):w};(u&&x[u]!==w||!u&&x!==w)&&this.setState(g)}this.runAnimation(cn(cn({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,l=s.from,d=s.to,u=s.duration,h=s.easing,p=s.begin,m=s.onAnimationEnd,x=s.onAnimationStart,j=hQ(l,d,tQ(h),u,this.changeStyle),v=function(){i.stopJSAnimation=j()};this.manager.start([x,p,v,u,m])}},{key:"runStepAnimation",value:function(s){var i=this,l=s.steps,d=s.begin,u=s.onAnimationStart,h=l[0],p=h.style,m=h.duration,x=m===void 0?0:m,j=function(w,g,S){if(S===0)return w;var P=g.duration,O=g.easing,N=O===void 0?"ease":O,A=g.style,C=g.properties,E=g.onAnimationEnd,T=S>0?l[S-1]:g,R=C||Object.keys(A);if(typeof N=="function"||N==="spring")return[].concat(Oy(w),[i.runJSAnimation.bind(i,{from:T.style,to:A,duration:P,easing:N}),P]);var I=MA(R,P,N),M=cn(cn(cn({},T.style),A),{},{transition:I});return[].concat(Oy(w),[M,P,E]).filter(UV)};return this.manager.start([u].concat(Oy(l.reduce(j,[p,Math.max(x,d)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=FV());var i=s.begin,l=s.duration,d=s.attributeName,u=s.to,h=s.easing,p=s.onAnimationStart,m=s.onAnimationEnd,x=s.steps,j=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof h=="function"||typeof j=="function"||h==="spring"){this.runJSAnimation(s);return}if(x.length>1){this.runStepAnimation(s);return}var w=d?Vl({},d,u):u,g=MA(Object.keys(w),l,h);v.start([p,i,cn(cn({},w),{},{transition:g}),l,m])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var l=s.duration;s.attributeName,s.easing;var d=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var u=mQ(s,fQ),h=b.Children.count(i),p=this.state.style;if(typeof i=="function")return i(p);if(!d||h===0||l<=0)return i;var m=function(j){var v=j.props,w=v.style,g=w===void 0?{}:w,S=v.className,P=b.cloneElement(j,cn(cn({},u),{},{style:cn(cn({},g),p),className:S}));return P};return h===1?m(b.Children.only(i)):X.createElement("div",null,b.Children.map(i,function(x){return m(x)}))}}]),n})(b.PureComponent);Rn.displayName="Animate";Rn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Rn.propTypes={from:Xe.oneOfType([Xe.object,Xe.string]),to:Xe.oneOfType([Xe.object,Xe.string]),attributeName:Xe.string,duration:Xe.number,begin:Xe.number,easing:Xe.oneOfType([Xe.string,Xe.func]),steps:Xe.arrayOf(Xe.shape({duration:Xe.number.isRequired,style:Xe.object.isRequired,easing:Xe.oneOfType([Xe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Xe.func]),properties:Xe.arrayOf("string"),onAnimationEnd:Xe.func})),children:Xe.oneOfType([Xe.node,Xe.func]),isActive:Xe.bool,canBegin:Xe.bool,onAnimationEnd:Xe.func,shouldReAnimate:Xe.bool,onAnimationStart:Xe.func,onAnimationReStart:Xe.func};function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function Th(){return Th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Th.apply(this,arguments)}function AQ(e,t){return _Q(e)||EQ(e,t)||OQ(e,t)||PQ()}function PQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OQ(e,t){if(e){if(typeof e=="string")return qA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qA(e,t)}}function qA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function EQ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function _Q(e){if(Array.isArray(e))return e}function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function BA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(a){TQ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function TQ(e,t,n){return t=RQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RQ(e){var t=MQ(e,"string");return Ec(t)=="symbol"?t:t+""}function MQ(e,t){if(Ec(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Ec(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UA=function(t,n,a,s,i){var l=Math.min(Math.abs(a)/2,Math.abs(s)/2),d=s>=0?1:-1,u=a>=0?1:-1,h=s>=0&&a>=0||s<0&&a<0?1:0,p;if(l>0&&i instanceof Array){for(var m=[0,0,0,0],x=0,j=4;x<j;x++)m[x]=i[x]>l?l:i[x];p="M".concat(t,",").concat(n+d*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(t+u*m[0],",").concat(n)),p+="L ".concat(t+a-u*m[1],",").concat(n),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(t+a,",").concat(n+d*m[1])),p+="L ".concat(t+a,",").concat(n+s-d*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(t+a-u*m[2],",").concat(n+s)),p+="L ".concat(t+u*m[3],",").concat(n+s),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(n+s-d*m[3])),p+="Z"}else if(l>0&&i===+i&&i>0){var v=Math.min(l,i);p="M ".concat(t,",").concat(n+d*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(h,",").concat(t+u*v,",").concat(n,`
            L `).concat(t+a-u*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(h,",").concat(t+a,",").concat(n+d*v,`
            L `).concat(t+a,",").concat(n+s-d*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(h,",").concat(t+a-u*v,",").concat(n+s,`
            L `).concat(t+u*v,",").concat(n+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(h,",").concat(t,",").concat(n+s-d*v," Z")}else p="M ".concat(t,",").concat(n," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return p},IQ=function(t,n){if(!t||!n)return!1;var a=t.x,s=t.y,i=n.x,l=n.y,d=n.width,u=n.height;if(Math.abs(d)>0&&Math.abs(u)>0){var h=Math.min(i,i+d),p=Math.max(i,i+d),m=Math.min(l,l+u),x=Math.max(l,l+u);return a>=h&&a<=p&&s>=m&&s<=x}return!1},$Q={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hw=function(t){var n=BA(BA({},$Q),t),a=b.useRef(),s=b.useState(-1),i=AQ(s,2),l=i[0],d=i[1];b.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var N=a.current.getTotalLength();N&&d(N)}catch{}},[]);var u=n.x,h=n.y,p=n.width,m=n.height,x=n.radius,j=n.className,v=n.animationEasing,w=n.animationDuration,g=n.animationBegin,S=n.isAnimationActive,P=n.isUpdateAnimationActive;if(u!==+u||h!==+h||p!==+p||m!==+m||p===0||m===0)return null;var O=ze("recharts-rectangle",j);return P?X.createElement(Rn,{canBegin:l>0,from:{width:p,height:m,x:u,y:h},to:{width:p,height:m,x:u,y:h},duration:w,animationEasing:v,isActive:P},function(N){var A=N.width,C=N.height,E=N.x,T=N.y;return X.createElement(Rn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:w,isActive:S,easing:v},X.createElement("path",Th({},Re(n,!0),{className:O,d:UA(E,T,A,C,x),ref:a})))}):X.createElement("path",Th({},Re(n,!0),{className:O,d:UA(u,h,p,m,x)}))},LQ=["points","className","baseLinePoints","connectNulls"];function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Li.apply(this,arguments)}function DQ(e,t){if(e==null)return{};var n=FQ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function FQ(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function WA(e){return UQ(e)||BQ(e)||zQ(e)||qQ()}function qQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zQ(e,t){if(e){if(typeof e=="string")return Cb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cb(e,t)}}function BQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UQ(e){if(Array.isArray(e))return Cb(e)}function Cb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var HA=function(t){return t&&t.x===+t.x&&t.y===+t.y},WQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(a){HA(a)?n[n.length-1].push(a):n[n.length-1].length>0&&n.push([])}),HA(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},ec=function(t,n){var a=WQ(t);n&&(a=[a.reduce(function(i,l){return[].concat(WA(i),WA(l))},[])]);var s=a.map(function(i){return i.reduce(function(l,d,u){return"".concat(l).concat(u===0?"M":"L").concat(d.x,",").concat(d.y)},"")}).join("");return a.length===1?"".concat(s,"Z"):s},HQ=function(t,n,a){var s=ec(t,a);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(ec(n.reverse(),a).slice(1))},KQ=function(t){var n=t.points,a=t.className,s=t.baseLinePoints,i=t.connectNulls,l=DQ(t,LQ);if(!n||!n.length)return null;var d=ze("recharts-polygon",a);if(s&&s.length){var u=l.stroke&&l.stroke!=="none",h=HQ(n,s,i);return X.createElement("g",{className:d},X.createElement("path",Li({},Re(l,!0),{fill:h.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:h})),u?X.createElement("path",Li({},Re(l,!0),{fill:"none",d:ec(n,i)})):null,u?X.createElement("path",Li({},Re(l,!0),{fill:"none",d:ec(s,i)})):null)}var p=ec(n,i);return X.createElement("path",Li({},Re(l,!0),{fill:p.slice(-1)==="Z"?l.fill:"none",className:d,d:p}))};function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ab.apply(this,arguments)}var $f=function(t){var n=t.cx,a=t.cy,s=t.r,i=t.className,l=ze("recharts-dot",i);return n===+n&&a===+a&&s===+s?b.createElement("circle",Ab({},Re(t,!1),Zu(t),{className:l,cx:n,cy:a,r:s})):null};function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}var GQ=["x","y","top","left","width","height","className"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Pb.apply(this,arguments)}function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function VQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(n),!0).forEach(function(a){QQ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function QQ(e,t,n){return t=YQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YQ(e){var t=XQ(e,"string");return _c(t)=="symbol"?t:t+""}function XQ(e,t){if(_c(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(_c(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JQ(e,t){if(e==null)return{};var n=ZQ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function ZQ(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var eY=function(t,n,a,s,i,l){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(l,",").concat(n,"h").concat(a)},tY=function(t){var n=t.x,a=n===void 0?0:n,s=t.y,i=s===void 0?0:s,l=t.top,d=l===void 0?0:l,u=t.left,h=u===void 0?0:u,p=t.width,m=p===void 0?0:p,x=t.height,j=x===void 0?0:x,v=t.className,w=JQ(t,GQ),g=VQ({x:a,y:i,top:d,left:h,width:m,height:j},w);return!ge(a)||!ge(i)||!ge(m)||!ge(j)||!ge(d)||!ge(h)?null:X.createElement("path",Pb({},Re(g,!0),{className:ze("recharts-cross",v),d:eY(a,i,m,j,d,h)}))},Ey,GA;function rY(){if(GA)return Ey;GA=1;var e=_f(),t=x6(),n=In();function a(s,i){return s&&s.length?e(s,n(i,2),t):void 0}return Ey=a,Ey}var nY=rY();const aY=Ze(nY);var _y,VA;function sY(){if(VA)return _y;VA=1;var e=_f(),t=In(),n=g6();function a(s,i){return s&&s.length?e(s,t(i,2),n):void 0}return _y=a,_y}var iY=sY();const oY=Ze(iY);var lY=["cx","cy","angle","ticks","axisLine"],cY=["ticks","tick","angle","tickFormatter","stroke"];function po(e){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(e)}function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tc.apply(this,arguments)}function QA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function js(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(n),!0).forEach(function(a){Lf(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function YA(e,t){if(e==null)return{};var n=dY(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function dY(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function uY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XA(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,n_(a.key),a)}}function hY(e,t,n){return t&&XA(e.prototype,t),n&&XA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fY(e,t,n){return t=Rh(t),mY(e,r_()?Reflect.construct(t,n||[],Rh(e).constructor):t.apply(e,n))}function mY(e,t){if(t&&(po(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pY(e)}function pY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r_=function(){return!!e})()}function Rh(e){return Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rh(e)}function xY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ob(e,t)}function Ob(e,t){return Ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Ob(e,t)}function Lf(e,t,n){return t=n_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n_(e){var t=gY(e,"string");return po(t)=="symbol"?t:t+""}function gY(e,t){if(po(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(po(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Df=(function(e){function t(){return uY(this,t),fY(this,t,arguments)}return xY(t,e),hY(t,[{key:"getTickValueCoord",value:function(a){var s=a.coordinate,i=this.props,l=i.angle,d=i.cx,u=i.cy;return ot(d,u,s,l)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,s;switch(a){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var a=this.props,s=a.cx,i=a.cy,l=a.angle,d=a.ticks,u=aY(d,function(p){return p.coordinate||0}),h=oY(d,function(p){return p.coordinate||0});return{cx:s,cy:i,startAngle:l,endAngle:l,innerRadius:h.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,l=a.angle,d=a.ticks,u=a.axisLine,h=YA(a,lY),p=d.reduce(function(v,w){return[Math.min(v[0],w.coordinate),Math.max(v[1],w.coordinate)]},[1/0,-1/0]),m=ot(s,i,p[0],l),x=ot(s,i,p[1],l),j=js(js(js({},Re(h,!1)),{},{fill:"none"},Re(u,!1)),{},{x1:m.x,y1:m.y,x2:x.x,y2:x.y});return X.createElement("line",tc({className:"recharts-polar-radius-axis-line"},j))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,l=s.tick,d=s.angle,u=s.tickFormatter,h=s.stroke,p=YA(s,cY),m=this.getTickTextAnchor(),x=Re(p,!1),j=Re(l,!1),v=i.map(function(w,g){var S=a.getTickValueCoord(w),P=js(js(js(js({textAnchor:m,transform:"rotate(".concat(90-d,", ").concat(S.x,", ").concat(S.y,")")},x),{},{stroke:"none",fill:h},j),{},{index:g},S),{},{payload:w});return X.createElement(Ge,tc({className:ze("recharts-polar-radius-axis-tick",H6(l)),key:"tick-".concat(w.coordinate)},Vs(a.props,w,g)),t.renderTickItem(l,P,u?u(w.value,g):w.value))});return X.createElement(Ge,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.axisLine,l=a.tick;return!s||!s.length?null:X.createElement(Ge,{className:ze("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),l&&this.renderTicks(),Kt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,s,i){var l;return X.isValidElement(a)?l=X.cloneElement(a,s):Fe(a)?l=a(s):l=X.createElement(Qs,tc({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),l}}])})(b.PureComponent);Lf(Df,"displayName","PolarRadiusAxis");Lf(Df,"axisType","radiusAxis");Lf(Df,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function xo(e){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(e)}function ks(){return ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ks.apply(this,arguments)}function JA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ws(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(n),!0).forEach(function(a){Ff(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function yY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZA(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,s_(a.key),a)}}function vY(e,t,n){return t&&ZA(e.prototype,t),n&&ZA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bY(e,t,n){return t=Mh(t),jY(e,a_()?Reflect.construct(t,n||[],Mh(e).constructor):t.apply(e,n))}function jY(e,t){if(t&&(xo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wY(e)}function wY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a_=function(){return!!e})()}function Mh(e){return Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mh(e)}function NY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eb(e,t)}function Eb(e,t){return Eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Eb(e,t)}function Ff(e,t,n){return t=s_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s_(e){var t=SY(e,"string");return xo(t)=="symbol"?t:t+""}function SY(e,t){if(xo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(xo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kY=Math.PI/180,e3=1e-5,qf=(function(e){function t(){return yY(this,t),bY(this,t,arguments)}return NY(t,e),vY(t,[{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.cx,l=s.cy,d=s.radius,u=s.orientation,h=s.tickSize,p=h||8,m=ot(i,l,d,a.coordinate),x=ot(i,l,d+(u==="inner"?-1:1)*p,a.coordinate);return{x1:m.x,y1:m.y,x2:x.x,y2:x.y}}},{key:"getTickTextAnchor",value:function(a){var s=this.props.orientation,i=Math.cos(-a.coordinate*kY),l;return i>e3?l=s==="outer"?"start":"end":i<-e3?l=s==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,l=a.radius,d=a.axisLine,u=a.axisLineType,h=ws(ws({},Re(this.props,!1)),{},{fill:"none"},Re(d,!1));if(u==="circle")return X.createElement($f,ks({className:"recharts-polar-angle-axis-line"},h,{cx:s,cy:i,r:l}));var p=this.props.ticks,m=p.map(function(x){return ot(s,i,l,x.coordinate)});return X.createElement(KQ,ks({className:"recharts-polar-angle-axis-line"},h,{points:m}))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,l=s.tick,d=s.tickLine,u=s.tickFormatter,h=s.stroke,p=Re(this.props,!1),m=Re(l,!1),x=ws(ws({},p),{},{fill:"none"},Re(d,!1)),j=i.map(function(v,w){var g=a.getTickLineCoord(v),S=a.getTickTextAnchor(v),P=ws(ws(ws({textAnchor:S},p),{},{stroke:"none",fill:h},m),{},{index:w,payload:v,x:g.x2,y:g.y2});return X.createElement(Ge,ks({className:ze("recharts-polar-angle-axis-tick",H6(l)),key:"tick-".concat(v.coordinate)},Vs(a.props,v,w)),d&&X.createElement("line",ks({className:"recharts-polar-angle-axis-tick-line"},x,g)),l&&t.renderTickItem(l,P,u?u(v.value,w):v.value))});return X.createElement(Ge,{className:"recharts-polar-angle-axis-ticks"},j)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.radius,l=a.axisLine;return i<=0||!s||!s.length?null:X.createElement(Ge,{className:ze("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,s,i){var l;return X.isValidElement(a)?l=X.cloneElement(a,s):Fe(a)?l=a(s):l=X.createElement(Qs,ks({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),l}}])})(b.PureComponent);Ff(qf,"displayName","PolarAngleAxis");Ff(qf,"axisType","angleAxis");Ff(qf,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Ty,t3;function CY(){if(t3)return Ty;t3=1;var e=xE(),t=e(Object.getPrototypeOf,Object);return Ty=t,Ty}var Ry,r3;function AY(){if(r3)return Ry;r3=1;var e=da(),t=CY(),n=ua(),a="[object Object]",s=Function.prototype,i=Object.prototype,l=s.toString,d=i.hasOwnProperty,u=l.call(Object);function h(p){if(!n(p)||e(p)!=a)return!1;var m=t(p);if(m===null)return!0;var x=d.call(m,"constructor")&&m.constructor;return typeof x=="function"&&x instanceof x&&l.call(x)==u}return Ry=h,Ry}var PY=AY();const OY=Ze(PY);var My,n3;function EY(){if(n3)return My;n3=1;var e=da(),t=ua(),n="[object Boolean]";function a(s){return s===!0||s===!1||t(s)&&e(s)==n}return My=a,My}var _Y=EY();const TY=Ze(_Y);function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ih.apply(this,arguments)}function RY(e,t){return LY(e)||$Y(e,t)||IY(e,t)||MY()}function MY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IY(e,t){if(e){if(typeof e=="string")return a3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a3(e,t)}}function a3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function $Y(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function LY(e){if(Array.isArray(e))return e}function s3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function i3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s3(Object(n),!0).forEach(function(a){DY(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function DY(e,t,n){return t=FY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FY(e){var t=qY(e,"string");return Tc(t)=="symbol"?t:t+""}function qY(e,t){if(Tc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Tc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o3=function(t,n,a,s,i){var l=a-s,d;return d="M ".concat(t,",").concat(n),d+="L ".concat(t+a,",").concat(n),d+="L ".concat(t+a-l/2,",").concat(n+i),d+="L ".concat(t+a-l/2-s,",").concat(n+i),d+="L ".concat(t,",").concat(n," Z"),d},zY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BY=function(t){var n=i3(i3({},zY),t),a=b.useRef(),s=b.useState(-1),i=RY(s,2),l=i[0],d=i[1];b.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var O=a.current.getTotalLength();O&&d(O)}catch{}},[]);var u=n.x,h=n.y,p=n.upperWidth,m=n.lowerWidth,x=n.height,j=n.className,v=n.animationEasing,w=n.animationDuration,g=n.animationBegin,S=n.isUpdateAnimationActive;if(u!==+u||h!==+h||p!==+p||m!==+m||x!==+x||p===0&&m===0||x===0)return null;var P=ze("recharts-trapezoid",j);return S?X.createElement(Rn,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:x,x:u,y:h},to:{upperWidth:p,lowerWidth:m,height:x,x:u,y:h},duration:w,animationEasing:v,isActive:S},function(O){var N=O.upperWidth,A=O.lowerWidth,C=O.height,E=O.x,T=O.y;return X.createElement(Rn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:w,easing:v},X.createElement("path",Ih({},Re(n,!0),{className:P,d:o3(E,T,N,A,C),ref:a})))}):X.createElement("g",null,X.createElement("path",Ih({},Re(n,!0),{className:P,d:o3(u,h,p,m,x)})))},UY=["option","shapeType","propTransformer","activeClassName","isActive"];function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function WY(e,t){if(e==null)return{};var n=HY(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function HY(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function l3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function $h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l3(Object(n),!0).forEach(function(a){KY(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function KY(e,t,n){return t=GY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GY(e){var t=VY(e,"string");return Rc(t)=="symbol"?t:t+""}function VY(e,t){if(Rc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Rc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QY(e,t){return $h($h({},t),e)}function YY(e,t){return e==="symbols"}function c3(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return X.createElement(hw,n);case"trapezoid":return X.createElement(BY,n);case"sector":return X.createElement(V6,n);case"symbols":if(YY(t))return X.createElement(Ej,n);break;default:return null}}function XY(e){return b.isValidElement(e)?e.props:e}function i_(e){var t=e.option,n=e.shapeType,a=e.propTransformer,s=a===void 0?QY:a,i=e.activeClassName,l=i===void 0?"recharts-active-shape":i,d=e.isActive,u=WY(e,UY),h;if(b.isValidElement(t))h=b.cloneElement(t,$h($h({},u),XY(t)));else if(Fe(t))h=t(u);else if(OY(t)&&!TY(t)){var p=s(t,u);h=X.createElement(c3,{shapeType:n,elementProps:p})}else{var m=u;h=X.createElement(c3,{shapeType:n,elementProps:m})}return d?X.createElement(Ge,{className:l},h):h}function zf(e,t){return t!=null&&"trapezoids"in e.props}function Bf(e,t){return t!=null&&"sectors"in e.props}function Mc(e,t){return t!=null&&"points"in e.props}function JY(e,t){var n,a,s=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return s&&i}function ZY(e,t){var n=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return n&&a}function eX(e,t){var n=e.x===t.x,a=e.y===t.y,s=e.z===t.z;return n&&a&&s}function tX(e,t){var n;return zf(e,t)?n=JY:Bf(e,t)?n=ZY:Mc(e,t)&&(n=eX),n}function rX(e,t){var n;return zf(e,t)?n="trapezoids":Bf(e,t)?n="sectors":Mc(e,t)&&(n="points"),n}function nX(e,t){if(zf(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Bf(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return Mc(e,t)?t.payload:{}}function aX(e){var t=e.activeTooltipItem,n=e.graphicalItem,a=e.itemData,s=rX(n,t),i=nX(n,t),l=a.filter(function(u,h){var p=id(i,u),m=n.props[s].filter(function(v){var w=tX(n,t);return w(v,t)}),x=n.props[s].indexOf(m[m.length-1]),j=h===x;return p&&j}),d=a.indexOf(l[l.length-1]);return d}var Bu;function go(e){"@babel/helpers - typeof";return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},go(e)}function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Di.apply(this,arguments)}function d3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(n),!0).forEach(function(a){Vr(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function sX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u3(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,l_(a.key),a)}}function iX(e,t,n){return t&&u3(e.prototype,t),n&&u3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oX(e,t,n){return t=Lh(t),lX(e,o_()?Reflect.construct(t,n||[],Lh(e).constructor):t.apply(e,n))}function lX(e,t){if(t&&(go(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cX(e)}function cX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o_=function(){return!!e})()}function Lh(e){return Lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lh(e)}function dX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_b(e,t)}function _b(e,t){return _b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},_b(e,t)}function Vr(e,t,n){return t=l_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l_(e){var t=uX(e,"string");return go(t)=="symbol"?t:t+""}function uX(e,t){if(go(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(go(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fa=(function(e){function t(n){var a;return sX(this,t),a=oX(this,t,[n]),Vr(a,"pieRef",null),Vr(a,"sectorRefs",[]),Vr(a,"id",Do("recharts-pie-")),Vr(a,"handleAnimationEnd",function(){var s=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),Fe(s)&&s()}),Vr(a,"handleAnimationStart",function(){var s=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),Fe(s)&&s()}),a.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},a}return dX(t,e),iX(t,[{key:"isActiveIndex",value:function(a){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(a)!==-1:a===s}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.label,d=i.labelLine,u=i.dataKey,h=i.valueKey,p=Re(this.props,!1),m=Re(l,!1),x=Re(d,!1),j=l&&l.offsetRadius||20,v=a.map(function(w,g){var S=(w.startAngle+w.endAngle)/2,P=ot(w.cx,w.cy,w.outerRadius+j,S),O=st(st(st(st({},p),w),{},{stroke:"none"},m),{},{index:g,textAnchor:t.getTextAnchor(P.x,w.cx)},P),N=st(st(st(st({},p),w),{},{fill:"none",stroke:w.fill},x),{},{index:g,points:[ot(w.cx,w.cy,w.outerRadius,S),P]}),A=u;return qe(u)&&qe(h)?A="value":qe(u)&&(A=h),X.createElement(Ge,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(g)},d&&t.renderLabelLineItem(d,N,"line"),t.renderLabelItem(l,O,Lt(w,A)))});return X.createElement(Ge,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(a){var s=this,i=this.props,l=i.activeShape,d=i.blendStroke,u=i.inactiveShape;return a.map(function(h,p){if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&a.length!==1)return null;var m=s.isActiveIndex(p),x=u&&s.hasActiveIndex()?u:null,j=m?l:x,v=st(st({},h),{},{stroke:d?h.fill:h.stroke,tabIndex:-1});return X.createElement(Ge,Di({ref:function(g){g&&!s.sectorRefs.includes(g)&&s.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Vs(s.props,h,p),{key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(p)}),X.createElement(i_,Di({option:j,isActive:m,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,s=this.props,i=s.sectors,l=s.isAnimationActive,d=s.animationBegin,u=s.animationDuration,h=s.animationEasing,p=s.animationId,m=this.state,x=m.prevSectors,j=m.prevIsAnimationActive;return X.createElement(Rn,{begin:d,duration:u,isActive:l,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(j),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var w=v.t,g=[],S=i&&i[0],P=S.startAngle;return i.forEach(function(O,N){var A=x&&x[N],C=N>0?Mr(O,"paddingAngle",0):0;if(A){var E=Tr(A.endAngle-A.startAngle,O.endAngle-O.startAngle),T=st(st({},O),{},{startAngle:P+C,endAngle:P+E(w)+C});g.push(T),P=T.endAngle}else{var R=O.endAngle,I=O.startAngle,M=Tr(0,R-I),$=M(w),G=st(st({},O),{},{startAngle:P+C,endAngle:P+$+C});g.push(G),P=G.endAngle}}),X.createElement(Ge,null,a.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(a){var s=this;a.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var l=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"ArrowRight":{var d=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[d].focus(),s.setState({sectorToFocus:d});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,s=a.sectors,i=a.isAnimationActive,l=this.state.prevSectors;return i&&s&&s.length&&(!l||!id(l,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,s=this.props,i=s.hide,l=s.sectors,d=s.className,u=s.label,h=s.cx,p=s.cy,m=s.innerRadius,x=s.outerRadius,j=s.isAnimationActive,v=this.state.isAnimationFinished;if(i||!l||!l.length||!ge(h)||!ge(p)||!ge(m)||!ge(x))return null;var w=ze("recharts-pie",d);return X.createElement(Ge,{tabIndex:this.props.rootTabIndex,className:w,ref:function(S){a.pieRef=S}},this.renderSectors(),u&&this.renderLabels(l),Kt.renderCallByParent(this.props,null,!1),(!j||v)&&aa.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return s.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:a.sectors!==s.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,s){return a>s?"start":a<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,s,i){if(X.isValidElement(a))return X.cloneElement(a,s);if(Fe(a))return a(s);var l=ze("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return X.createElement(Ah,Di({},s,{key:i,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(a,s,i){if(X.isValidElement(a))return X.cloneElement(a,s);var l=i;if(Fe(a)&&(l=a(s),X.isValidElement(l)))return l;var d=ze("recharts-pie-label-text",typeof a!="boolean"&&!Fe(a)?a.className:"");return X.createElement(Qs,Di({},s,{alignmentBaseline:"middle",className:d}),l)}}])})(b.PureComponent);Bu=fa;Vr(fa,"displayName","Pie");Vr(fa,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ti.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Vr(fa,"parseDeltaAngle",function(e,t){var n=cr(t-e),a=Math.min(Math.abs(t-e),360);return n*a});Vr(fa,"getRealPieData",function(e){var t=e.data,n=e.children,a=Re(e,!1),s=Ir(n,Sf);return t&&t.length?t.map(function(i,l){return st(st(st({payload:i},a),i),s&&s[l]&&s[l].props)}):s&&s.length?s.map(function(i){return st(st({},a),i.props)}):[]});Vr(fa,"parseCoordinateOfPie",function(e,t){var n=t.top,a=t.left,s=t.width,i=t.height,l=W6(s,i),d=a+dr(e.cx,s,s/2),u=n+dr(e.cy,i,i/2),h=dr(e.innerRadius,l,0),p=dr(e.outerRadius,l,l*.8),m=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:d,cy:u,innerRadius:h,outerRadius:p,maxRadius:m}});Vr(fa,"getComposedData",function(e){var t=e.item,n=e.offset,a=t.type.defaultProps!==void 0?st(st({},t.type.defaultProps),t.props):t.props,s=Bu.getRealPieData(a);if(!s||!s.length)return null;var i=a.cornerRadius,l=a.startAngle,d=a.endAngle,u=a.paddingAngle,h=a.dataKey,p=a.nameKey,m=a.valueKey,x=a.tooltipType,j=Math.abs(a.minAngle),v=Bu.parseCoordinateOfPie(a,n),w=Bu.parseDeltaAngle(l,d),g=Math.abs(w),S=h;qe(h)&&qe(m)?(pn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):qe(h)&&(pn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=m);var P=s.filter(function(T){return Lt(T,S,0)!==0}).length,O=(g>=360?P:P-1)*u,N=g-P*j-O,A=s.reduce(function(T,R){var I=Lt(R,S,0);return T+(ge(I)?I:0)},0),C;if(A>0){var E;C=s.map(function(T,R){var I=Lt(T,S,0),M=Lt(T,p,R),$=(ge(I)?I:0)/A,G;R?G=E.endAngle+cr(w)*u*(I!==0?1:0):G=l;var V=G+cr(w)*((I!==0?j:0)+$*N),z=(G+V)/2,U=(v.innerRadius+v.outerRadius)/2,W=[{name:M,value:I,payload:T,dataKey:S,type:x}],B=ot(v.cx,v.cy,U,z);return E=st(st(st({percent:$,cornerRadius:i,name:M,tooltipPayload:W,midAngle:z,middleRadius:U,tooltipPosition:B},T),v),{},{value:Lt(T,S),startAngle:G,endAngle:V,payload:T,paddingAngle:cr(w)*u}),E})}return st(st({},v),{},{sectors:C,data:s})});var Iy,h3;function hX(){if(h3)return Iy;h3=1;var e=Math.ceil,t=Math.max;function n(a,s,i,l){for(var d=-1,u=t(e((s-a)/(i||1)),0),h=Array(u);u--;)h[l?u:++d]=a,a+=i;return h}return Iy=n,Iy}var $y,f3;function c_(){if(f3)return $y;f3=1;var e=TE(),t=1/0,n=17976931348623157e292;function a(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var i=s<0?-1:1;return i*n}return s===s?s:0}return $y=a,$y}var Ly,m3;function fX(){if(m3)return Ly;m3=1;var e=hX(),t=Nf(),n=c_();function a(s){return function(i,l,d){return d&&typeof d!="number"&&t(i,l,d)&&(l=d=void 0),i=n(i),l===void 0?(l=i,i=0):l=n(l),d=d===void 0?i<l?1:-1:n(d),e(i,l,d,s)}}return Ly=a,Ly}var Dy,p3;function mX(){if(p3)return Dy;p3=1;var e=fX(),t=e();return Dy=t,Dy}var pX=mX();const Dh=Ze(pX);function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function x3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function g3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x3(Object(n),!0).forEach(function(a){d_(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function d_(e,t,n){return t=xX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xX(e){var t=gX(e,"string");return Ic(t)=="symbol"?t:t+""}function gX(e,t){if(Ic(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Ic(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yX=["Webkit","Moz","O","ms"],vX=function(t,n){var a=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=yX.reduce(function(i,l){return g3(g3({},i),{},d_({},l+a,n))},{});return s[t]=n,s};function yo(e){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(e)}function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fh.apply(this,arguments)}function y3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Fy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y3(Object(n),!0).forEach(function(a){Er(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function bX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v3(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,h_(a.key),a)}}function jX(e,t,n){return t&&v3(e.prototype,t),n&&v3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wX(e,t,n){return t=qh(t),NX(e,u_()?Reflect.construct(t,n||[],qh(e).constructor):t.apply(e,n))}function NX(e,t){if(t&&(yo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SX(e)}function SX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u_=function(){return!!e})()}function qh(e){return qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qh(e)}function kX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tb(e,t)}function Tb(e,t){return Tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Tb(e,t)}function Er(e,t,n){return t=h_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h_(e){var t=CX(e,"string");return yo(t)=="symbol"?t:t+""}function CX(e,t){if(yo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(yo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var AX=function(t){var n=t.data,a=t.startIndex,s=t.endIndex,i=t.x,l=t.width,d=t.travellerWidth;if(!n||!n.length)return{};var u=n.length,h=Xl().domain(Dh(0,u)).range([i,i+l-d]),p=h.domain().map(function(m){return h(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(a),endX:h(s),scale:h,scaleValues:p}},b3=function(t){return t.changedTouches&&!!t.changedTouches.length},vo=(function(e){function t(n){var a;return bX(this,t),a=wX(this,t,[n]),Er(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),Er(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),Er(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,i=s.endIndex,l=s.onDragEnd,d=s.startIndex;l==null||l({endIndex:i,startIndex:d})}),a.detachDragEndListener()}),Er(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),Er(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),Er(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),Er(a,"handleSlideDragStart",function(s){var i=b3(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return kX(t,e),jX(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,i=a.endX,l=this.state.scaleValues,d=this.props,u=d.gap,h=d.data,p=h.length-1,m=Math.min(s,i),x=Math.max(s,i),j=t.getIndexInRange(l,m),v=t.getIndexInRange(l,x);return{startIndex:j-j%u,endIndex:v===p?p:v-v%u}}},{key:"getTextOfTick",value:function(a){var s=this.props,i=s.data,l=s.tickFormatter,d=s.dataKey,u=Lt(i[a],d,a);return Fe(l)?l(u,a):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,i=s.slideMoveStartX,l=s.startX,d=s.endX,u=this.props,h=u.x,p=u.width,m=u.travellerWidth,x=u.startIndex,j=u.endIndex,v=u.onChange,w=a.pageX-i;w>0?w=Math.min(w,h+p-m-d,h+p-m-l):w<0&&(w=Math.max(w,h-l,h-d));var g=this.getIndex({startX:l+w,endX:d+w});(g.startIndex!==x||g.endIndex!==j)&&v&&v(g),this.setState({startX:l+w,endX:d+w,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var i=b3(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,i=s.brushMoveStartX,l=s.movingTravellerId,d=s.endX,u=s.startX,h=this.state[l],p=this.props,m=p.x,x=p.width,j=p.travellerWidth,v=p.onChange,w=p.gap,g=p.data,S={startX:this.state.startX,endX:this.state.endX},P=a.pageX-i;P>0?P=Math.min(P,m+x-j-h):P<0&&(P=Math.max(P,m-h)),S[l]=h+P;var O=this.getIndex(S),N=O.startIndex,A=O.endIndex,C=function(){var T=g.length-1;return l==="startX"&&(d>u?N%w===0:A%w===0)||d<u&&A===T||l==="endX"&&(d>u?A%w===0:N%w===0)||d>u&&A===T};this.setState(Er(Er({},l,h+P),"brushMoveStartX",a.pageX),function(){v&&C()&&v(O)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var i=this,l=this.state,d=l.scaleValues,u=l.startX,h=l.endX,p=this.state[s],m=d.indexOf(p);if(m!==-1){var x=m+a;if(!(x===-1||x>=d.length)){var j=d[x];s==="startX"&&j>=h||s==="endX"&&j<=u||this.setState(Er({},s,j),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,d=a.height,u=a.fill,h=a.stroke;return X.createElement("rect",{stroke:h,fill:u,x:s,y:i,width:l,height:d})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,d=a.height,u=a.data,h=a.children,p=a.padding,m=b.Children.only(h);return m?X.cloneElement(m,{x:s,y:i,width:l,height:d,margin:p,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(a,s){var i,l,d=this,u=this.props,h=u.y,p=u.travellerWidth,m=u.height,x=u.traveller,j=u.ariaLabel,v=u.data,w=u.startIndex,g=u.endIndex,S=Math.max(a,this.props.x),P=Fy(Fy({},Re(this.props,!1)),{},{x:S,y:h,width:p,height:m}),O=j||"Min value: ".concat((i=v[w])===null||i===void 0?void 0:i.name,", Max value: ").concat((l=v[g])===null||l===void 0?void 0:l.name);return X.createElement(Ge,{tabIndex:0,role:"slider","aria-label":O,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),d.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,s))},onFocus:function(){d.setState({isTravellerFocused:!0})},onBlur:function(){d.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(x,P))}},{key:"renderSlide",value:function(a,s){var i=this.props,l=i.y,d=i.height,u=i.stroke,h=i.travellerWidth,p=Math.min(a,s)+h,m=Math.max(Math.abs(s-a)-h,0);return X.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:p,y:l,width:m,height:d})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,i=a.endIndex,l=a.y,d=a.height,u=a.travellerWidth,h=a.stroke,p=this.state,m=p.startX,x=p.endX,j=5,v={pointerEvents:"none",fill:h};return X.createElement(Ge,{className:"recharts-brush-texts"},X.createElement(Qs,Fh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,x)-j,y:l+d/2},v),this.getTextOfTick(s)),X.createElement(Qs,Fh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,x)+u+j,y:l+d/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,s=a.data,i=a.className,l=a.children,d=a.x,u=a.y,h=a.width,p=a.height,m=a.alwaysShowText,x=this.state,j=x.startX,v=x.endX,w=x.isTextActive,g=x.isSlideMoving,S=x.isTravellerMoving,P=x.isTravellerFocused;if(!s||!s.length||!ge(d)||!ge(u)||!ge(h)||!ge(p)||h<=0||p<=0)return null;var O=ze("recharts-brush",i),N=X.Children.count(l)===1,A=vX("userSelect","none");return X.createElement(Ge,{className:O,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(j,v),this.renderTravellerLayer(j,"startX"),this.renderTravellerLayer(v,"endX"),(w||g||S||P||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,i=a.y,l=a.width,d=a.height,u=a.stroke,h=Math.floor(i+d/2)-1;return X.createElement(X.Fragment,null,X.createElement("rect",{x:s,y:i,width:l,height:d,fill:u,stroke:"none"}),X.createElement("line",{x1:s+1,y1:h,x2:s+l-1,y2:h,fill:"none",stroke:"#fff"}),X.createElement("line",{x1:s+1,y1:h+2,x2:s+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var i;return X.isValidElement(a)?i=X.cloneElement(a,s):Fe(a)?i=a(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(a,s){var i=a.data,l=a.width,d=a.x,u=a.travellerWidth,h=a.updateId,p=a.startIndex,m=a.endIndex;if(i!==s.prevData||h!==s.prevUpdateId)return Fy({prevData:i,prevTravellerWidth:u,prevUpdateId:h,prevX:d,prevWidth:l},i&&i.length?AX({data:i,width:l,x:d,travellerWidth:u,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(s.scale&&(l!==s.prevWidth||d!==s.prevX||u!==s.prevTravellerWidth)){s.scale.range([d,d+l-u]);var x=s.scale.domain().map(function(j){return s.scale(j)});return{prevData:i,prevTravellerWidth:u,prevUpdateId:h,prevX:d,prevWidth:l,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:x}}return null}},{key:"getIndexInRange",value:function(a,s){for(var i=a.length,l=0,d=i-1;d-l>1;){var u=Math.floor((l+d)/2);a[u]>s?d=u:l=u}return s>=a[d]?d:l}}])})(b.PureComponent);Er(vo,"displayName","Brush");Er(vo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var qy,j3;function PX(){if(j3)return qy;j3=1;var e=Lj();function t(n,a){var s;return e(n,function(i,l,d){return s=a(i,l,d),!s}),!!s}return qy=t,qy}var zy,w3;function OX(){if(w3)return zy;w3=1;var e=cE(),t=In(),n=PX(),a=Sr(),s=Nf();function i(l,d,u){var h=a(l)?e:n;return u&&s(l,d,u)&&(d=void 0),h(l,t(d,3))}return zy=i,zy}var EX=OX();const _X=Ze(EX);var _n=function(t,n){var a=t.alwaysShow,s=t.ifOverflow;return a&&(s="extendDomain"),s===n},By,N3;function TX(){if(N3)return By;N3=1;var e=AE();function t(n,a,s){a=="__proto__"&&e?e(n,a,{configurable:!0,enumerable:!0,value:s,writable:!0}):n[a]=s}return By=t,By}var Uy,S3;function RX(){if(S3)return Uy;S3=1;var e=TX(),t=kE(),n=In();function a(s,i){var l={};return i=n(i,3),t(s,function(d,u,h){e(l,u,i(d,u,h))}),l}return Uy=a,Uy}var MX=RX();const IX=Ze(MX);var Wy,k3;function $X(){if(k3)return Wy;k3=1;function e(t,n){for(var a=-1,s=t==null?0:t.length;++a<s;)if(!n(t[a],a,t))return!1;return!0}return Wy=e,Wy}var Hy,C3;function LX(){if(C3)return Hy;C3=1;var e=Lj();function t(n,a){var s=!0;return e(n,function(i,l,d){return s=!!a(i,l,d),s}),s}return Hy=t,Hy}var Ky,A3;function DX(){if(A3)return Ky;A3=1;var e=$X(),t=LX(),n=In(),a=Sr(),s=Nf();function i(l,d,u){var h=a(l)?e:t;return u&&s(l,d,u)&&(d=void 0),h(l,n(d,3))}return Ky=i,Ky}var FX=DX();const f_=Ze(FX);var qX=["x","y"];function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Rb.apply(this,arguments)}function P3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Bl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P3(Object(n),!0).forEach(function(a){zX(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function zX(e,t,n){return t=BX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BX(e){var t=UX(e,"string");return $c(t)=="symbol"?t:t+""}function UX(e,t){if($c(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if($c(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WX(e,t){if(e==null)return{};var n=HX(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function HX(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function KX(e,t){var n=e.x,a=e.y,s=WX(e,qX),i="".concat(n),l=parseInt(i,10),d="".concat(a),u=parseInt(d,10),h="".concat(t.height||s.height),p=parseInt(h,10),m="".concat(t.width||s.width),x=parseInt(m,10);return Bl(Bl(Bl(Bl(Bl({},t),s),l?{x:l}:{}),u?{y:u}:{}),{},{height:p,width:x,name:t.name,radius:t.radius})}function O3(e){return X.createElement(i_,Rb({shapeType:"rectangle",propTransformer:KX,activeClassName:"recharts-active-bar"},e))}var GX=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof t=="number")return t;var i=ge(a)||f9(a);return i?t(a,s):(i||Xs(),n)}},VX=["value","background"],m_;function bo(e){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(e)}function QX(e,t){if(e==null)return{};var n=YX(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function YX(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},zh.apply(this,arguments)}function E3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E3(Object(n),!0).forEach(function(a){Ga(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function XX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _3(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,x_(a.key),a)}}function JX(e,t,n){return t&&_3(e.prototype,t),n&&_3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZX(e,t,n){return t=Bh(t),eJ(e,p_()?Reflect.construct(t,n||[],Bh(e).constructor):t.apply(e,n))}function eJ(e,t){if(t&&(bo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tJ(e)}function tJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p_=function(){return!!e})()}function Bh(e){return Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bh(e)}function rJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mb(e,t)}function Mb(e,t){return Mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Mb(e,t)}function Ga(e,t,n){return t=x_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x_(e){var t=nJ(e,"string");return bo(t)=="symbol"?t:t+""}function nJ(e,t){if(bo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(bo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Za=(function(e){function t(){var n;XX(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=ZX(this,t,[].concat(s)),Ga(n,"state",{isAnimationFinished:!1}),Ga(n,"id",Do("recharts-bar-")),Ga(n,"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),l&&l()}),Ga(n,"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),l&&l()}),n}return rJ(t,e),JX(t,[{key:"renderRectanglesStatically",value:function(a){var s=this,i=this.props,l=i.shape,d=i.dataKey,u=i.activeIndex,h=i.activeBar,p=Re(this.props,!1);return a&&a.map(function(m,x){var j=x===u,v=j?h:l,w=Ot(Ot(Ot({},p),m),{},{isActive:j,option:v,index:x,dataKey:d,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return X.createElement(Ge,zh({className:"recharts-bar-rectangle"},Vs(s.props,m,x),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(x)}),X.createElement(O3,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,i=s.data,l=s.layout,d=s.isAnimationActive,u=s.animationBegin,h=s.animationDuration,p=s.animationEasing,m=s.animationId,x=this.state.prevData;return X.createElement(Rn,{begin:u,duration:h,isActive:d,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var v=j.t,w=i.map(function(g,S){var P=x&&x[S];if(P){var O=Tr(P.x,g.x),N=Tr(P.y,g.y),A=Tr(P.width,g.width),C=Tr(P.height,g.height);return Ot(Ot({},g),{},{x:O(v),y:N(v),width:A(v),height:C(v)})}if(l==="horizontal"){var E=Tr(0,g.height),T=E(v);return Ot(Ot({},g),{},{y:g.y+g.height-T,height:T})}var R=Tr(0,g.width),I=R(v);return Ot(Ot({},g),{},{width:I})});return X.createElement(Ge,null,a.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,l=this.state.prevData;return i&&s&&s.length&&(!l||!id(l,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,i=s.data,l=s.dataKey,d=s.activeIndex,u=Re(this.props.background,!1);return i.map(function(h,p){h.value;var m=h.background,x=QX(h,VX);if(!m)return null;var j=Ot(Ot(Ot(Ot(Ot({},x),{},{fill:"#eee"},m),u),Vs(a.props,h,p)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return X.createElement(O3,zh({key:"background-bar-".concat(p),option:a.props.background,isActive:p===d},j))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.data,d=i.xAxis,u=i.yAxis,h=i.layout,p=i.children,m=Ir(p,od);if(!m)return null;var x=h==="vertical"?l[0].height/2:l[0].width/2,j=function(g,S){var P=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:P,errorVal:Lt(g,S)}},v={clipPath:a?"url(#clipPath-".concat(s,")"):null};return X.createElement(Ge,v,m.map(function(w){return X.cloneElement(w,{key:"error-bar-".concat(s,"-").concat(w.props.dataKey),data:l,xAxis:d,yAxis:u,layout:h,offset:x,dataPointFormatter:j})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,l=a.className,d=a.xAxis,u=a.yAxis,h=a.left,p=a.top,m=a.width,x=a.height,j=a.isAnimationActive,v=a.background,w=a.id;if(s||!i||!i.length)return null;var g=this.state.isAnimationFinished,S=ze("recharts-bar",l),P=d&&d.allowDataOverflow,O=u&&u.allowDataOverflow,N=P||O,A=qe(w)?this.id:w;return X.createElement(Ge,{className:S},P||O?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(A)},X.createElement("rect",{x:P?h:h-m/2,y:O?p:p-x/2,width:P?m:m*2,height:O?x:x*2}))):null,X.createElement(Ge,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(A,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,A),(!j||g)&&aa.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])})(b.PureComponent);m_=Za;Ga(Za,"displayName","Bar");Ga(Za,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ti.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ga(Za,"getComposedData",function(e){var t=e.props,n=e.item,a=e.barPosition,s=e.bandSize,i=e.xAxis,l=e.yAxis,d=e.xAxisTicks,u=e.yAxisTicks,h=e.stackedData,p=e.dataStartIndex,m=e.displayedData,x=e.offset,j=PK(a,n);if(!j)return null;var v=t.layout,w=n.type.defaultProps,g=w!==void 0?Ot(Ot({},w),n.props):n.props,S=g.dataKey,P=g.children,O=g.minPointSize,N=v==="horizontal"?l:i,A=h?N.scale.domain():null,C=IK({numericAxis:N}),E=Ir(P,Sf),T=m.map(function(R,I){var M,$,G,V,z,U;h?M=OK(h[p+I],A):(M=Lt(R,S),Array.isArray(M)||(M=[C,M]));var W=GX(O,m_.defaultProps.minPointSize)(M[1],I);if(v==="horizontal"){var B,F=[l.scale(M[0]),l.scale(M[1])],L=F[0],q=F[1];$=sA({axis:i,ticks:d,bandSize:s,offset:j.offset,entry:R,index:I}),G=(B=q??L)!==null&&B!==void 0?B:void 0,V=j.size;var K=L-q;if(z=Number.isNaN(K)?0:K,U={x:$,y:l.y,width:V,height:l.height},Math.abs(W)>0&&Math.abs(z)<Math.abs(W)){var Y=cr(z||W)*(Math.abs(W)-Math.abs(z));G-=Y,z+=Y}}else{var H=[i.scale(M[0]),i.scale(M[1])],ue=H[0],he=H[1];if($=ue,G=sA({axis:l,ticks:u,bandSize:s,offset:j.offset,entry:R,index:I}),V=he-ue,z=j.size,U={x:i.x,y:G,width:i.width,height:z},Math.abs(W)>0&&Math.abs(V)<Math.abs(W)){var oe=cr(V||W)*(Math.abs(W)-Math.abs(V));V+=oe}}return Ot(Ot(Ot({},R),{},{x:$,y:G,width:V,height:z,value:h?M:M[1],payload:R,background:U},E&&E[I]&&E[I].props),{},{tooltipPayload:[B6(n,R)],tooltipPosition:{x:$+V/2,y:G+z/2}})});return Ot({data:T,layout:v},x)});function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function aJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T3(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,g_(a.key),a)}}function sJ(e,t,n){return t&&T3(e.prototype,t),n&&T3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function R3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R3(Object(n),!0).forEach(function(a){Uf(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Uf(e,t,n){return t=g_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g_(e){var t=iJ(e,"string");return Lc(t)=="symbol"?t:t+""}function iJ(e,t){if(Lc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Lc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y_=function(t,n,a,s,i){var l=t.width,d=t.height,u=t.layout,h=t.children,p=Object.keys(n),m={left:a.left,leftMirror:a.left,right:l-a.right,rightMirror:l-a.right,top:a.top,topMirror:a.top,bottom:d-a.bottom,bottomMirror:d-a.bottom},x=!!_r(h,Za);return p.reduce(function(j,v){var w=n[v],g=w.orientation,S=w.domain,P=w.padding,O=P===void 0?{}:P,N=w.mirror,A=w.reversed,C="".concat(g).concat(N?"Mirror":""),E,T,R,I,M;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var $=S[1]-S[0],G=1/0,V=w.categoricalDomain.sort(x9);if(V.forEach(function(H,ue){ue>0&&(G=Math.min((H||0)-(V[ue-1]||0),G))}),Number.isFinite(G)){var z=G/$,U=w.layout==="vertical"?a.height:a.width;if(w.padding==="gap"&&(E=z*U/2),w.padding==="no-gap"){var W=dr(t.barCategoryGap,z*U),B=z*U/2;E=B-W-(B-W)/U*W}}}s==="xAxis"?T=[a.left+(O.left||0)+(E||0),a.left+a.width-(O.right||0)-(E||0)]:s==="yAxis"?T=u==="horizontal"?[a.top+a.height-(O.bottom||0),a.top+(O.top||0)]:[a.top+(O.top||0)+(E||0),a.top+a.height-(O.bottom||0)-(E||0)]:T=w.range,A&&(T=[T[1],T[0]]);var F=D6(w,i,x),L=F.scale,q=F.realScaleType;L.domain(S).range(T),F6(L);var K=q6(L,hn(hn({},w),{},{realScaleType:q}));s==="xAxis"?(M=g==="top"&&!N||g==="bottom"&&N,R=a.left,I=m[C]-M*w.height):s==="yAxis"&&(M=g==="left"&&!N||g==="right"&&N,R=m[C]-M*w.width,I=a.top);var Y=hn(hn(hn({},w),K),{},{realScaleType:q,x:R,y:I,scale:L,width:s==="xAxis"?a.width:w.width,height:s==="yAxis"?a.height:w.height});return Y.bandSize=Sh(Y,K),!w.hide&&s==="xAxis"?m[C]+=(M?-1:1)*Y.height:w.hide||(m[C]+=(M?-1:1)*Y.width),hn(hn({},j),{},Uf({},v,Y))},{})},v_=function(t,n){var a=t.x,s=t.y,i=n.x,l=n.y;return{x:Math.min(a,i),y:Math.min(s,l),width:Math.abs(i-a),height:Math.abs(l-s)}},oJ=function(t){var n=t.x1,a=t.y1,s=t.x2,i=t.y2;return v_({x:n,y:a},{x:s,y:i})},b_=(function(){function e(t){aJ(this,e),this.scale=t}return sJ(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}case"end":{var d=this.bandwidth?this.bandwidth():0;return this.scale(n)+d}default:return this.scale(n)}if(s){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+u}return this.scale(n)}}},{key:"isInRange",value:function(n){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?n>=s&&n<=i:n>=i&&n<=s}}],[{key:"create",value:function(n){return new e(n)}}])})();Uf(b_,"EPS",1e-4);var fw=function(t){var n=Object.keys(t).reduce(function(a,s){return hn(hn({},a),{},Uf({},s,b_.create(t[s])))},{});return hn(hn({},n),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.bandAware,d=i.position;return IX(s,function(u,h){return n[h].apply(u,{bandAware:l,position:d})})},isInRange:function(s){return f_(s,function(i,l){return n[l].isInRange(i)})}})};function lJ(e){return(e%180+180)%180}var cJ=function(t){var n=t.width,a=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=lJ(s),l=i*Math.PI/180,d=Math.atan(a/n),u=l>d&&l<Math.PI-d?a/Math.sin(l):n/Math.cos(l);return Math.abs(u)},Gy,M3;function dJ(){if(M3)return Gy;M3=1;var e=In(),t=td(),n=jf();function a(s){return function(i,l,d){var u=Object(i);if(!t(i)){var h=e(l,3);i=n(i),l=function(m){return h(u[m],m,u)}}var p=s(i,l,d);return p>-1?u[h?i[p]:p]:void 0}}return Gy=a,Gy}var Vy,I3;function uJ(){if(I3)return Vy;I3=1;var e=c_();function t(n){var a=e(n),s=a%1;return a===a?s?a-s:a:0}return Vy=t,Vy}var Qy,$3;function hJ(){if($3)return Qy;$3=1;var e=bE(),t=In(),n=uJ(),a=Math.max;function s(i,l,d){var u=i==null?0:i.length;if(!u)return-1;var h=d==null?0:n(d);return h<0&&(h=a(u+h,0)),e(i,t(l,3),h)}return Qy=s,Qy}var Yy,L3;function fJ(){if(L3)return Yy;L3=1;var e=dJ(),t=hJ(),n=e(t);return Yy=n,Yy}var mJ=fJ();const pJ=Ze(mJ);var xJ=$O();const gJ=Ze(xJ);var yJ=gJ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),mw=b.createContext(void 0),pw=b.createContext(void 0),j_=b.createContext(void 0),w_=b.createContext({}),N_=b.createContext(void 0),S_=b.createContext(0),k_=b.createContext(0),D3=function(t){var n=t.state,a=n.xAxisMap,s=n.yAxisMap,i=n.offset,l=t.clipPathId,d=t.children,u=t.width,h=t.height,p=yJ(i);return X.createElement(mw.Provider,{value:a},X.createElement(pw.Provider,{value:s},X.createElement(w_.Provider,{value:i},X.createElement(j_.Provider,{value:p},X.createElement(N_.Provider,{value:l},X.createElement(S_.Provider,{value:h},X.createElement(k_.Provider,{value:u},d)))))))},vJ=function(){return b.useContext(N_)},C_=function(t){var n=b.useContext(mw);n==null&&Xs();var a=n[t];return a==null&&Xs(),a},bJ=function(){var t=b.useContext(mw);return Ia(t)},jJ=function(){var t=b.useContext(pw),n=pJ(t,function(a){return f_(a.domain,Number.isFinite)});return n||Ia(t)},A_=function(t){var n=b.useContext(pw);n==null&&Xs();var a=n[t];return a==null&&Xs(),a},wJ=function(){var t=b.useContext(j_);return t},NJ=function(){return b.useContext(w_)},xw=function(){return b.useContext(k_)},gw=function(){return b.useContext(S_)};function jo(e){"@babel/helpers - typeof";return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jo(e)}function SJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kJ(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,O_(a.key),a)}}function CJ(e,t,n){return t&&kJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AJ(e,t,n){return t=Uh(t),PJ(e,P_()?Reflect.construct(t,n||[],Uh(e).constructor):t.apply(e,n))}function PJ(e,t){if(t&&(jo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OJ(e)}function OJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P_=function(){return!!e})()}function Uh(e){return Uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uh(e)}function EJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ib(e,t)}function Ib(e,t){return Ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Ib(e,t)}function F3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function q3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F3(Object(n),!0).forEach(function(a){yw(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function yw(e,t,n){return t=O_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O_(e){var t=_J(e,"string");return jo(t)=="symbol"?t:t+""}function _J(e,t){if(jo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(jo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function TJ(e,t){return $J(e)||IJ(e,t)||MJ(e,t)||RJ()}function RJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MJ(e,t){if(e){if(typeof e=="string")return z3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z3(e,t)}}function z3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function IJ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function $J(e){if(Array.isArray(e))return e}function $b(){return $b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$b.apply(this,arguments)}var LJ=function(t,n){var a;return X.isValidElement(t)?a=X.cloneElement(t,n):Fe(t)?a=t(n):a=X.createElement("line",$b({},n,{className:"recharts-reference-line-line"})),a},DJ=function(t,n,a,s,i,l,d,u,h){var p=i.x,m=i.y,x=i.width,j=i.height;if(a){var v=h.y,w=t.y.apply(v,{position:l});if(_n(h,"discard")&&!t.y.isInRange(w))return null;var g=[{x:p+x,y:w},{x:p,y:w}];return u==="left"?g.reverse():g}if(n){var S=h.x,P=t.x.apply(S,{position:l});if(_n(h,"discard")&&!t.x.isInRange(P))return null;var O=[{x:P,y:m+j},{x:P,y:m}];return d==="top"?O.reverse():O}if(s){var N=h.segment,A=N.map(function(C){return t.apply(C,{position:l})});return _n(h,"discard")&&_X(A,function(C){return!t.isInRange(C)})?null:A}return null};function FJ(e){var t=e.x,n=e.y,a=e.segment,s=e.xAxisId,i=e.yAxisId,l=e.shape,d=e.className,u=e.alwaysShow,h=vJ(),p=C_(s),m=A_(i),x=wJ();if(!h||!x)return null;pn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var j=fw({x:p.scale,y:m.scale}),v=Dt(t),w=Dt(n),g=a&&a.length===2,S=DJ(j,v,w,g,x,e.position,p.orientation,m.orientation,e);if(!S)return null;var P=TJ(S,2),O=P[0],N=O.x,A=O.y,C=P[1],E=C.x,T=C.y,R=_n(e,"hidden")?"url(#".concat(h,")"):void 0,I=q3(q3({clipPath:R},Re(e,!0)),{},{x1:N,y1:A,x2:E,y2:T});return X.createElement(Ge,{className:ze("recharts-reference-line",d)},LJ(l,I),Kt.renderCallByParent(e,oJ({x1:N,y1:A,x2:E,y2:T})))}var vw=(function(e){function t(){return SJ(this,t),AJ(this,t,arguments)}return EJ(t,e),CJ(t,[{key:"render",value:function(){return X.createElement(FJ,this.props)}}])})(X.Component);yw(vw,"displayName","ReferenceLine");yw(vw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Lb.apply(this,arguments)}function wo(e){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(e)}function B3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function U3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B3(Object(n),!0).forEach(function(a){Wf(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function qJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zJ(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,__(a.key),a)}}function BJ(e,t,n){return t&&zJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UJ(e,t,n){return t=Wh(t),WJ(e,E_()?Reflect.construct(t,n||[],Wh(e).constructor):t.apply(e,n))}function WJ(e,t){if(t&&(wo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HJ(e)}function HJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E_=function(){return!!e})()}function Wh(e){return Wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wh(e)}function KJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Db(e,t)}function Db(e,t){return Db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Db(e,t)}function Wf(e,t,n){return t=__(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function __(e){var t=GJ(e,"string");return wo(t)=="symbol"?t:t+""}function GJ(e,t){if(wo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(wo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var VJ=function(t){var n=t.x,a=t.y,s=t.xAxis,i=t.yAxis,l=fw({x:s.scale,y:i.scale}),d=l.apply({x:n,y:a},{bandAware:!0});return _n(t,"discard")&&!l.isInRange(d)?null:d},Hf=(function(e){function t(){return qJ(this,t),UJ(this,t,arguments)}return KJ(t,e),BJ(t,[{key:"render",value:function(){var a=this.props,s=a.x,i=a.y,l=a.r,d=a.alwaysShow,u=a.clipPathId,h=Dt(s),p=Dt(i);if(pn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!p)return null;var m=VJ(this.props);if(!m)return null;var x=m.x,j=m.y,v=this.props,w=v.shape,g=v.className,S=_n(this.props,"hidden")?"url(#".concat(u,")"):void 0,P=U3(U3({clipPath:S},Re(this.props,!0)),{},{cx:x,cy:j});return X.createElement(Ge,{className:ze("recharts-reference-dot",g)},t.renderDot(w,P),Kt.renderCallByParent(this.props,{x:x-l,y:j-l,width:2*l,height:2*l}))}}])})(X.Component);Wf(Hf,"displayName","ReferenceDot");Wf(Hf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Wf(Hf,"renderDot",function(e,t){var n;return X.isValidElement(e)?n=X.cloneElement(e,t):Fe(e)?n=e(t):n=X.createElement($f,Lb({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fb.apply(this,arguments)}function No(e){"@babel/helpers - typeof";return No=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},No(e)}function W3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function H3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W3(Object(n),!0).forEach(function(a){Kf(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function QJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YJ(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,R_(a.key),a)}}function XJ(e,t,n){return t&&YJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JJ(e,t,n){return t=Hh(t),ZJ(e,T_()?Reflect.construct(t,n||[],Hh(e).constructor):t.apply(e,n))}function ZJ(e,t){if(t&&(No(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eZ(e)}function eZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T_=function(){return!!e})()}function Hh(e){return Hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hh(e)}function tZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qb(e,t)}function qb(e,t){return qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},qb(e,t)}function Kf(e,t,n){return t=R_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R_(e){var t=rZ(e,"string");return No(t)=="symbol"?t:t+""}function rZ(e,t){if(No(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(No(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nZ=function(t,n,a,s,i){var l=i.x1,d=i.x2,u=i.y1,h=i.y2,p=i.xAxis,m=i.yAxis;if(!p||!m)return null;var x=fw({x:p.scale,y:m.scale}),j={x:t?x.x.apply(l,{position:"start"}):x.x.rangeMin,y:a?x.y.apply(u,{position:"start"}):x.y.rangeMin},v={x:n?x.x.apply(d,{position:"end"}):x.x.rangeMax,y:s?x.y.apply(h,{position:"end"}):x.y.rangeMax};return _n(i,"discard")&&(!x.isInRange(j)||!x.isInRange(v))?null:v_(j,v)},Gf=(function(e){function t(){return QJ(this,t),JJ(this,t,arguments)}return tZ(t,e),XJ(t,[{key:"render",value:function(){var a=this.props,s=a.x1,i=a.x2,l=a.y1,d=a.y2,u=a.className,h=a.alwaysShow,p=a.clipPathId;pn(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Dt(s),x=Dt(i),j=Dt(l),v=Dt(d),w=this.props.shape;if(!m&&!x&&!j&&!v&&!w)return null;var g=nZ(m,x,j,v,this.props);if(!g&&!w)return null;var S=_n(this.props,"hidden")?"url(#".concat(p,")"):void 0;return X.createElement(Ge,{className:ze("recharts-reference-area",u)},t.renderRect(w,H3(H3({clipPath:S},Re(this.props,!0)),g)),Kt.renderCallByParent(this.props,g))}}])})(X.Component);Kf(Gf,"displayName","ReferenceArea");Kf(Gf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Kf(Gf,"renderRect",function(e,t){var n;return X.isValidElement(e)?n=X.cloneElement(e,t):Fe(e)?n=e(t):n=X.createElement(hw,Fb({},t,{className:"recharts-reference-area-rect"})),n});function M_(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var a=[],s=0;s<e.length;s+=t)a.push(e[s]);return a}function aZ(e,t,n){var a={width:e.width+t.width,height:e.height+t.height};return cJ(a,n)}function sZ(e,t,n){var a=n==="width",s=e.x,i=e.y,l=e.width,d=e.height;return t===1?{start:a?s:i,end:a?s+l:i+d}:{start:a?s+l:i+d,end:a?s:i}}function Kh(e,t,n,a,s){if(e*t<e*a||e*t>e*s)return!1;var i=n();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-s)<=0}function iZ(e,t){return M_(e,t+1)}function oZ(e,t,n,a,s){for(var i=(a||[]).slice(),l=t.start,d=t.end,u=0,h=1,p=l,m=function(){var v=a==null?void 0:a[u];if(v===void 0)return{v:M_(a,h)};var w=u,g,S=function(){return g===void 0&&(g=n(v,w)),g},P=v.coordinate,O=u===0||Kh(e,P,S,p,d);O||(u=0,p=l,h+=1),O&&(p=P+e*(S()/2+s),u+=h)},x;h<=i.length;)if(x=m(),x)return x.v;return[]}function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function K3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function rr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K3(Object(n),!0).forEach(function(a){lZ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function lZ(e,t,n){return t=cZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cZ(e){var t=dZ(e,"string");return Dc(t)=="symbol"?t:t+""}function dZ(e,t){if(Dc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Dc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uZ(e,t,n,a,s){for(var i=(a||[]).slice(),l=i.length,d=t.start,u=t.end,h=function(x){var j=i[x],v,w=function(){return v===void 0&&(v=n(j,x)),v};if(x===l-1){var g=e*(j.coordinate+e*w()/2-u);i[x]=j=rr(rr({},j),{},{tickCoord:g>0?j.coordinate-g*e:j.coordinate})}else i[x]=j=rr(rr({},j),{},{tickCoord:j.coordinate});var S=Kh(e,j.tickCoord,w,d,u);S&&(u=j.tickCoord-e*(w()/2+s),i[x]=rr(rr({},j),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return i}function hZ(e,t,n,a,s,i){var l=(a||[]).slice(),d=l.length,u=t.start,h=t.end;if(i){var p=a[d-1],m=n(p,d-1),x=e*(p.coordinate+e*m/2-h);l[d-1]=p=rr(rr({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate});var j=Kh(e,p.tickCoord,function(){return m},u,h);j&&(h=p.tickCoord-e*(m/2+s),l[d-1]=rr(rr({},p),{},{isShow:!0}))}for(var v=i?d-1:d,w=function(P){var O=l[P],N,A=function(){return N===void 0&&(N=n(O,P)),N};if(P===0){var C=e*(O.coordinate-e*A()/2-u);l[P]=O=rr(rr({},O),{},{tickCoord:C<0?O.coordinate-C*e:O.coordinate})}else l[P]=O=rr(rr({},O),{},{tickCoord:O.coordinate});var E=Kh(e,O.tickCoord,A,u,h);E&&(u=O.tickCoord+e*(A()/2+s),l[P]=rr(rr({},O),{},{isShow:!0}))},g=0;g<v;g++)w(g);return l}function bw(e,t,n){var a=e.tick,s=e.ticks,i=e.viewBox,l=e.minTickGap,d=e.orientation,u=e.interval,h=e.tickFormatter,p=e.unit,m=e.angle;if(!s||!s.length||!a)return[];if(ge(u)||ti.isSsr)return iZ(s,typeof u=="number"&&ge(u)?u:0);var x=[],j=d==="top"||d==="bottom"?"width":"height",v=p&&j==="width"?Yl(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},w=function(O,N){var A=Fe(h)?h(O.value,N):O.value;return j==="width"?aZ(Yl(A,{fontSize:t,letterSpacing:n}),v,m):Yl(A,{fontSize:t,letterSpacing:n})[j]},g=s.length>=2?cr(s[1].coordinate-s[0].coordinate):1,S=sZ(i,g,j);return u==="equidistantPreserveStart"?oZ(g,S,w,s,l):(u==="preserveStart"||u==="preserveStartEnd"?x=hZ(g,S,w,s,l,u==="preserveStartEnd"):x=uZ(g,S,w,s,l),x.filter(function(P){return P.isShow}))}var fZ=["viewBox"],mZ=["viewBox"],pZ=["ticks"];function So(e){"@babel/helpers - typeof";return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},So(e)}function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fi.apply(this,arguments)}function G3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G3(Object(n),!0).forEach(function(a){jw(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Xy(e,t){if(e==null)return{};var n=xZ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function xZ(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function gZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V3(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,$_(a.key),a)}}function yZ(e,t,n){return t&&V3(e.prototype,t),n&&V3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vZ(e,t,n){return t=Gh(t),bZ(e,I_()?Reflect.construct(t,n||[],Gh(e).constructor):t.apply(e,n))}function bZ(e,t){if(t&&(So(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jZ(e)}function jZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I_=function(){return!!e})()}function Gh(e){return Gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gh(e)}function wZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zb(e,t)}function zb(e,t){return zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},zb(e,t)}function jw(e,t,n){return t=$_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $_(e){var t=NZ(e,"string");return So(t)=="symbol"?t:t+""}function NZ(e,t){if(So(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(So(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Uo=(function(e){function t(n){var a;return gZ(this,t),a=vZ(this,t,[n]),a.state={fontSize:"",letterSpacing:""},a}return wZ(t,e),yZ(t,[{key:"shouldComponentUpdate",value:function(a,s){var i=a.viewBox,l=Xy(a,fZ),d=this.props,u=d.viewBox,h=Xy(d,mZ);return!zi(i,u)||!zi(l,h)||!zi(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.x,l=s.y,d=s.width,u=s.height,h=s.orientation,p=s.tickSize,m=s.mirror,x=s.tickMargin,j,v,w,g,S,P,O=m?-1:1,N=a.tickSize||p,A=ge(a.tickCoord)?a.tickCoord:a.coordinate;switch(h){case"top":j=v=a.coordinate,g=l+ +!m*u,w=g-O*N,P=w-O*x,S=A;break;case"left":w=g=a.coordinate,v=i+ +!m*d,j=v-O*N,S=j-O*x,P=A;break;case"right":w=g=a.coordinate,v=i+ +m*d,j=v+O*N,S=j+O*x,P=A;break;default:j=v=a.coordinate,g=l+ +m*u,w=g+O*N,P=w+O*x,S=A;break}return{line:{x1:j,y1:w,x2:v,y2:g},tick:{x:S,y:P}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,l;switch(s){case"left":l=i?"start":"end";break;case"right":l=i?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,l="end";switch(s){case"left":case"right":l="middle";break;case"top":l=i?"start":"end";break;default:l=i?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,d=a.height,u=a.orientation,h=a.mirror,p=a.axisLine,m=Rt(Rt(Rt({},Re(this.props,!1)),Re(p,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var x=+(u==="top"&&!h||u==="bottom"&&h);m=Rt(Rt({},m),{},{x1:s,y1:i+x*d,x2:s+l,y2:i+x*d})}else{var j=+(u==="left"&&!h||u==="right"&&h);m=Rt(Rt({},m),{},{x1:s+j*l,y1:i,x2:s+j*l,y2:i+d})}return X.createElement("line",Fi({},m,{className:ze("recharts-cartesian-axis-line",Mr(p,"className"))}))}},{key:"renderTicks",value:function(a,s,i){var l=this,d=this.props,u=d.tickLine,h=d.stroke,p=d.tick,m=d.tickFormatter,x=d.unit,j=bw(Rt(Rt({},this.props),{},{ticks:a}),s,i),v=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),g=Re(this.props,!1),S=Re(p,!1),P=Rt(Rt({},g),{},{fill:"none"},Re(u,!1)),O=j.map(function(N,A){var C=l.getTickLineCoord(N),E=C.line,T=C.tick,R=Rt(Rt(Rt(Rt({textAnchor:v,verticalAnchor:w},g),{},{stroke:"none",fill:h},S),T),{},{index:A,payload:N,visibleTicksCount:j.length,tickFormatter:m});return X.createElement(Ge,Fi({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Vs(l.props,N,A)),u&&X.createElement("line",Fi({},P,E,{className:ze("recharts-cartesian-axis-tick-line",Mr(u,"className"))})),p&&t.renderTickItem(p,R,"".concat(Fe(m)?m(N.value,A):N.value).concat(x||"")))});return X.createElement("g",{className:"recharts-cartesian-axis-ticks"},O)}},{key:"render",value:function(){var a=this,s=this.props,i=s.axisLine,l=s.width,d=s.height,u=s.ticksGenerator,h=s.className,p=s.hide;if(p)return null;var m=this.props,x=m.ticks,j=Xy(m,pZ),v=x;return Fe(u)&&(v=x&&x.length>0?u(this.props):u(j)),l<=0||d<=0||!v||!v.length?null:X.createElement(Ge,{className:ze("recharts-cartesian-axis",h),ref:function(g){a.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Kt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,i){var l,d=ze(s.className,"recharts-cartesian-axis-tick-value");return X.isValidElement(a)?l=X.cloneElement(a,Rt(Rt({},s),{},{className:d})):Fe(a)?l=a(Rt(Rt({},s),{},{className:d})):l=X.createElement(Qs,Fi({},s,{className:"recharts-cartesian-axis-tick-value"}),i),l}}])})(b.Component);jw(Uo,"displayName","CartesianAxis");jw(Uo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var SZ=["x1","y1","x2","y2","key"],kZ=["offset"];function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}function Q3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q3(Object(n),!0).forEach(function(a){CZ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function CZ(e,t,n){return t=AZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AZ(e){var t=PZ(e,"string");return Js(t)=="symbol"?t:t+""}function PZ(e,t){if(Js(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Js(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_s.apply(this,arguments)}function Y3(e,t){if(e==null)return{};var n=OZ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function OZ(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var EZ=function(t){var n=t.fill;if(!n||n==="none")return null;var a=t.fillOpacity,s=t.x,i=t.y,l=t.width,d=t.height,u=t.ry;return X.createElement("rect",{x:s,y:i,ry:u,width:l,height:d,stroke:"none",fill:n,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function L_(e,t){var n;if(X.isValidElement(e))n=X.cloneElement(e,t);else if(Fe(e))n=e(t);else{var a=t.x1,s=t.y1,i=t.x2,l=t.y2,d=t.key,u=Y3(t,SZ),h=Re(u,!1);h.offset;var p=Y3(h,kZ);n=X.createElement("line",_s({},p,{x1:a,y1:s,x2:i,y2:l,fill:"none",key:d}))}return n}function _Z(e){var t=e.x,n=e.width,a=e.horizontal,s=a===void 0?!0:a,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(d,u){var h=nr(nr({},e),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(u),index:u});return L_(s,h)});return X.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function TZ(e){var t=e.y,n=e.height,a=e.vertical,s=a===void 0?!0:a,i=e.verticalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(d,u){var h=nr(nr({},e),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(u),index:u});return L_(s,h)});return X.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function RZ(e){var t=e.horizontalFill,n=e.fillOpacity,a=e.x,s=e.y,i=e.width,l=e.height,d=e.horizontalPoints,u=e.horizontal,h=u===void 0?!0:u;if(!h||!t||!t.length)return null;var p=d.map(function(x){return Math.round(x+s-s)}).sort(function(x,j){return x-j});s!==p[0]&&p.unshift(0);var m=p.map(function(x,j){var v=!p[j+1],w=v?s+l-x:p[j+1]-x;if(w<=0)return null;var g=j%t.length;return X.createElement("rect",{key:"react-".concat(j),y:x,x:a,height:w,width:i,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function MZ(e){var t=e.vertical,n=t===void 0?!0:t,a=e.verticalFill,s=e.fillOpacity,i=e.x,l=e.y,d=e.width,u=e.height,h=e.verticalPoints;if(!n||!a||!a.length)return null;var p=h.map(function(x){return Math.round(x+i-i)}).sort(function(x,j){return x-j});i!==p[0]&&p.unshift(0);var m=p.map(function(x,j){var v=!p[j+1],w=v?i+d-x:p[j+1]-x;if(w<=0)return null;var g=j%a.length;return X.createElement("rect",{key:"react-".concat(j),x,y:l,width:w,height:u,stroke:"none",fill:a[g],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var IZ=function(t,n){var a=t.xAxis,s=t.width,i=t.height,l=t.offset;return L6(bw(nr(nr(nr({},Uo.defaultProps),a),{},{ticks:ta(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.left,l.left+l.width,n)},$Z=function(t,n){var a=t.yAxis,s=t.width,i=t.height,l=t.offset;return L6(bw(nr(nr(nr({},Uo.defaultProps),a),{},{ticks:ta(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.top,l.top+l.height,n)},Ti={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ww(e){var t,n,a,s,i,l,d=xw(),u=gw(),h=NJ(),p=nr(nr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ti.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Ti.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:Ti.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Ti.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Ti.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:Ti.verticalFill,x:ge(e.x)?e.x:h.left,y:ge(e.y)?e.y:h.top,width:ge(e.width)?e.width:h.width,height:ge(e.height)?e.height:h.height}),m=p.x,x=p.y,j=p.width,v=p.height,w=p.syncWithTicks,g=p.horizontalValues,S=p.verticalValues,P=bJ(),O=jJ();if(!ge(j)||j<=0||!ge(v)||v<=0||!ge(m)||m!==+m||!ge(x)||x!==+x)return null;var N=p.verticalCoordinatesGenerator||IZ,A=p.horizontalCoordinatesGenerator||$Z,C=p.horizontalPoints,E=p.verticalPoints;if((!C||!C.length)&&Fe(A)){var T=g&&g.length,R=A({yAxis:O?nr(nr({},O),{},{ticks:T?g:O.ticks}):void 0,width:d,height:u,offset:h},T?!0:w);pn(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Js(R),"]")),Array.isArray(R)&&(C=R)}if((!E||!E.length)&&Fe(N)){var I=S&&S.length,M=N({xAxis:P?nr(nr({},P),{},{ticks:I?S:P.ticks}):void 0,width:d,height:u,offset:h},I?!0:w);pn(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Js(M),"]")),Array.isArray(M)&&(E=M)}return X.createElement("g",{className:"recharts-cartesian-grid"},X.createElement(EZ,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),X.createElement(_Z,_s({},p,{offset:h,horizontalPoints:C,xAxis:P,yAxis:O})),X.createElement(TZ,_s({},p,{offset:h,verticalPoints:E,xAxis:P,yAxis:O})),X.createElement(RZ,_s({},p,{horizontalPoints:C})),X.createElement(MZ,_s({},p,{verticalPoints:E})))}ww.displayName="CartesianGrid";var LZ=["type","layout","connectNulls","ref"],DZ=["key"];function ko(e){"@babel/helpers - typeof";return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ko(e)}function X3(e,t){if(e==null)return{};var n=FZ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function FZ(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},rc.apply(this,arguments)}function J3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J3(Object(n),!0).forEach(function(a){fn(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ri(e){return UZ(e)||BZ(e)||zZ(e)||qZ()}function qZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zZ(e,t){if(e){if(typeof e=="string")return Bb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bb(e,t)}}function BZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UZ(e){if(Array.isArray(e))return Bb(e)}function Bb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function WZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z3(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,F_(a.key),a)}}function HZ(e,t,n){return t&&Z3(e.prototype,t),n&&Z3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function KZ(e,t,n){return t=Vh(t),GZ(e,D_()?Reflect.construct(t,n||[],Vh(e).constructor):t.apply(e,n))}function GZ(e,t){if(t&&(ko(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VZ(e)}function VZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D_=function(){return!!e})()}function Vh(e){return Vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vh(e)}function QZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ub(e,t)}function Ub(e,t){return Ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Ub(e,t)}function fn(e,t,n){return t=F_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F_(e){var t=YZ(e,"string");return ko(t)=="symbol"?t:t+""}function YZ(e,t){if(ko(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(ko(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Co=(function(e){function t(){var n;WZ(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=KZ(this,t,[].concat(s)),fn(n,"state",{isAnimationFinished:!0,totalLength:0}),fn(n,"generateSimpleStrokeDasharray",function(l,d){return"".concat(d,"px ").concat(l-d,"px")}),fn(n,"getStrokeDasharray",function(l,d,u){var h=u.reduce(function(S,P){return S+P});if(!h)return n.generateSimpleStrokeDasharray(d,l);for(var p=Math.floor(l/h),m=l%h,x=d-l,j=[],v=0,w=0;v<u.length;w+=u[v],++v)if(w+u[v]>m){j=[].concat(Ri(u.slice(0,v)),[m-w]);break}var g=j.length%2===0?[0,x]:[x];return[].concat(Ri(t.repeat(u,p)),Ri(j),g).map(function(S){return"".concat(S,"px")}).join(", ")}),fn(n,"id",Do("recharts-line-")),fn(n,"pathRef",function(l){n.mainCurve=l}),fn(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),fn(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return QZ(t,e),HZ(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.points,d=i.xAxis,u=i.yAxis,h=i.layout,p=i.children,m=Ir(p,od);if(!m)return null;var x=function(w,g){return{x:w.x,y:w.y,value:w.value,errorVal:Lt(w.payload,g)}},j={clipPath:a?"url(#clipPath-".concat(s,")"):null};return X.createElement(Ge,j,m.map(function(v){return X.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:l,xAxis:d,yAxis:u,layout:h,dataPointFormatter:x})}))}},{key:"renderDots",value:function(a,s,i){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var d=this.props,u=d.dot,h=d.points,p=d.dataKey,m=Re(this.props,!1),x=Re(u,!0),j=h.map(function(w,g){var S=Or(Or(Or({key:"dot-".concat(g),r:3},m),x),{},{index:g,cx:w.x,cy:w.y,value:w.value,dataKey:p,payload:w.payload,points:h});return t.renderDotItem(u,S)}),v={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return X.createElement(Ge,rc({className:"recharts-line-dots",key:"dots"},v),j)}},{key:"renderCurveStatically",value:function(a,s,i,l){var d=this.props,u=d.type,h=d.layout,p=d.connectNulls;d.ref;var m=X3(d,LZ),x=Or(Or(Or({},Re(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:a},l),{},{type:u,layout:h,connectNulls:p});return X.createElement(Ah,rc({},x,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,s){var i=this,l=this.props,d=l.points,u=l.strokeDasharray,h=l.isAnimationActive,p=l.animationBegin,m=l.animationDuration,x=l.animationEasing,j=l.animationId,v=l.animateNewValues,w=l.width,g=l.height,S=this.state,P=S.prevPoints,O=S.totalLength;return X.createElement(Rn,{begin:p,duration:m,isActive:h,easing:x,from:{t:0},to:{t:1},key:"line-".concat(j),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var A=N.t;if(P){var C=P.length/d.length,E=d.map(function($,G){var V=Math.floor(G*C);if(P[V]){var z=P[V],U=Tr(z.x,$.x),W=Tr(z.y,$.y);return Or(Or({},$),{},{x:U(A),y:W(A)})}if(v){var B=Tr(w*2,$.x),F=Tr(g/2,$.y);return Or(Or({},$),{},{x:B(A),y:F(A)})}return Or(Or({},$),{},{x:$.x,y:$.y})});return i.renderCurveStatically(E,a,s)}var T=Tr(0,O),R=T(A),I;if(u){var M="".concat(u).split(/[,\s]+/gim).map(function($){return parseFloat($)});I=i.getStrokeDasharray(R,O,M)}else I=i.generateSimpleStrokeDasharray(O,R);return i.renderCurveStatically(d,a,s,{strokeDasharray:I})})}},{key:"renderCurve",value:function(a,s){var i=this.props,l=i.points,d=i.isAnimationActive,u=this.state,h=u.prevPoints,p=u.totalLength;return d&&l&&l.length&&(!h&&p>0||!id(h,l))?this.renderCurveWithAnimation(a,s):this.renderCurveStatically(l,a,s)}},{key:"render",value:function(){var a,s=this.props,i=s.hide,l=s.dot,d=s.points,u=s.className,h=s.xAxis,p=s.yAxis,m=s.top,x=s.left,j=s.width,v=s.height,w=s.isAnimationActive,g=s.id;if(i||!d||!d.length)return null;var S=this.state.isAnimationFinished,P=d.length===1,O=ze("recharts-line",u),N=h&&h.allowDataOverflow,A=p&&p.allowDataOverflow,C=N||A,E=qe(g)?this.id:g,T=(a=Re(l,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},R=T.r,I=R===void 0?3:R,M=T.strokeWidth,$=M===void 0?2:M,G=k9(l)?l:{},V=G.clipDot,z=V===void 0?!0:V,U=I*2+$;return X.createElement(Ge,{className:O},N||A?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(E)},X.createElement("rect",{x:N?x:x-j/2,y:A?m:m-v/2,width:N?j:j*2,height:A?v:v*2})),!z&&X.createElement("clipPath",{id:"clipPath-dots-".concat(E)},X.createElement("rect",{x:x-U/2,y:m-U/2,width:j+U,height:v+U}))):null,!P&&this.renderCurve(C,E),this.renderErrorBar(C,E),(P||l)&&this.renderDots(C,z,E),(!w||S)&&aa.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:s.curPoints}:a.points!==s.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,s){for(var i=a.length%2!==0?[].concat(Ri(a),[0]):a,l=[],d=0;d<s;++d)l=[].concat(Ri(l),Ri(i));return l}},{key:"renderDotItem",value:function(a,s){var i;if(X.isValidElement(a))i=X.cloneElement(a,s);else if(Fe(a))i=a(s);else{var l=s.key,d=X3(s,DZ),u=ze("recharts-line-dot",typeof a!="boolean"?a.className:"");i=X.createElement($f,rc({key:l},d,{className:u}))}return i}}])})(b.PureComponent);fn(Co,"displayName","Line");fn(Co,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ti.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});fn(Co,"getComposedData",function(e){var t=e.props,n=e.xAxis,a=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,l=e.dataKey,d=e.bandSize,u=e.displayedData,h=e.offset,p=t.layout,m=u.map(function(x,j){var v=Lt(x,l);return p==="horizontal"?{x:aA({axis:n,ticks:s,bandSize:d,entry:x,index:j}),y:qe(v)?null:a.scale(v),value:v,payload:x}:{x:qe(v)?null:n.scale(v),y:aA({axis:a,ticks:i,bandSize:d,entry:x,index:j}),value:v,payload:x}});return Or({points:m,layout:p},h)});function Ao(e){"@babel/helpers - typeof";return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ao(e)}function XZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JZ(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,B_(a.key),a)}}function ZZ(e,t,n){return t&&JZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eee(e,t,n){return t=Qh(t),tee(e,q_()?Reflect.construct(t,n||[],Qh(e).constructor):t.apply(e,n))}function tee(e,t){if(t&&(Ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ree(e)}function ree(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q_=function(){return!!e})()}function Qh(e){return Qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qh(e)}function nee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wb(e,t)}function Wb(e,t){return Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Wb(e,t)}function z_(e,t,n){return t=B_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B_(e){var t=aee(e,"string");return Ao(t)=="symbol"?t:t+""}function aee(e,t){if(Ao(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Ao(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Hb.apply(this,arguments)}function see(e){var t=e.xAxisId,n=xw(),a=gw(),s=C_(t);return s==null?null:b.createElement(Uo,Hb({},s,{className:ze("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return ta(l,!0)}}))}var Wo=(function(e){function t(){return XZ(this,t),eee(this,t,arguments)}return nee(t,e),ZZ(t,[{key:"render",value:function(){return b.createElement(see,this.props)}}])})(b.Component);z_(Wo,"displayName","XAxis");z_(Wo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Po(e){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Po(e)}function iee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oee(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,H_(a.key),a)}}function lee(e,t,n){return t&&oee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cee(e,t,n){return t=Yh(t),dee(e,U_()?Reflect.construct(t,n||[],Yh(e).constructor):t.apply(e,n))}function dee(e,t){if(t&&(Po(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uee(e)}function uee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U_=function(){return!!e})()}function Yh(e){return Yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yh(e)}function hee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kb(e,t)}function Kb(e,t){return Kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Kb(e,t)}function W_(e,t,n){return t=H_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H_(e){var t=fee(e,"string");return Po(t)=="symbol"?t:t+""}function fee(e,t){if(Po(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Po(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Gb.apply(this,arguments)}var mee=function(t){var n=t.yAxisId,a=xw(),s=gw(),i=A_(n);return i==null?null:b.createElement(Uo,Gb({},i,{className:ze("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(d){return ta(d,!0)}}))},Ho=(function(e){function t(){return iee(this,t),cee(this,t,arguments)}return hee(t,e),lee(t,[{key:"render",value:function(){return b.createElement(mee,this.props)}}])})(b.Component);W_(Ho,"displayName","YAxis");W_(Ho,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function eP(e){return yee(e)||gee(e)||xee(e)||pee()}function pee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xee(e,t){if(e){if(typeof e=="string")return Vb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vb(e,t)}}function gee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yee(e){if(Array.isArray(e))return Vb(e)}function Vb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Qb=function(t,n,a,s,i){var l=Ir(t,vw),d=Ir(t,Hf),u=[].concat(eP(l),eP(d)),h=Ir(t,Gf),p="".concat(s,"Id"),m=s[0],x=n;if(u.length&&(x=u.reduce(function(w,g){if(g.props[p]===a&&_n(g.props,"extendDomain")&&ge(g.props[m])){var S=g.props[m];return[Math.min(w[0],S),Math.max(w[1],S)]}return w},x)),h.length){var j="".concat(m,"1"),v="".concat(m,"2");x=h.reduce(function(w,g){if(g.props[p]===a&&_n(g.props,"extendDomain")&&ge(g.props[j])&&ge(g.props[v])){var S=g.props[j],P=g.props[v];return[Math.min(w[0],S,P),Math.max(w[1],S,P)]}return w},x)}return i&&i.length&&(x=i.reduce(function(w,g){return ge(g)?[Math.min(w[0],g),Math.max(w[1],g)]:w},x)),x},Jy={exports:{}},tP;function vee(){return tP||(tP=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function s(u,h,p){this.fn=u,this.context=h,this.once=p||!1}function i(u,h,p,m,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var j=new s(p,m||u,x),v=n?n+h:h;return u._events[v]?u._events[v].fn?u._events[v]=[u._events[v],j]:u._events[v].push(j):(u._events[v]=j,u._eventsCount++),u}function l(u,h){--u._eventsCount===0?u._events=new a:delete u._events[h]}function d(){this._events=new a,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)t.call(p,m)&&h.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=n?n+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var x=0,j=m.length,v=new Array(j);x<j;x++)v[x]=m[x].fn;return v},d.prototype.listenerCount=function(h){var p=n?n+h:h,m=this._events[p];return m?m.fn?1:m.length:0},d.prototype.emit=function(h,p,m,x,j,v){var w=n?n+h:h;if(!this._events[w])return!1;var g=this._events[w],S=arguments.length,P,O;if(g.fn){switch(g.once&&this.removeListener(h,g.fn,void 0,!0),S){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,p),!0;case 3:return g.fn.call(g.context,p,m),!0;case 4:return g.fn.call(g.context,p,m,x),!0;case 5:return g.fn.call(g.context,p,m,x,j),!0;case 6:return g.fn.call(g.context,p,m,x,j,v),!0}for(O=1,P=new Array(S-1);O<S;O++)P[O-1]=arguments[O];g.fn.apply(g.context,P)}else{var N=g.length,A;for(O=0;O<N;O++)switch(g[O].once&&this.removeListener(h,g[O].fn,void 0,!0),S){case 1:g[O].fn.call(g[O].context);break;case 2:g[O].fn.call(g[O].context,p);break;case 3:g[O].fn.call(g[O].context,p,m);break;case 4:g[O].fn.call(g[O].context,p,m,x);break;default:if(!P)for(A=1,P=new Array(S-1);A<S;A++)P[A-1]=arguments[A];g[O].fn.apply(g[O].context,P)}}return!0},d.prototype.on=function(h,p,m){return i(this,h,p,m,!1)},d.prototype.once=function(h,p,m){return i(this,h,p,m,!0)},d.prototype.removeListener=function(h,p,m,x){var j=n?n+h:h;if(!this._events[j])return this;if(!p)return l(this,j),this;var v=this._events[j];if(v.fn)v.fn===p&&(!x||v.once)&&(!m||v.context===m)&&l(this,j);else{for(var w=0,g=[],S=v.length;w<S;w++)(v[w].fn!==p||x&&!v[w].once||m&&v[w].context!==m)&&g.push(v[w]);g.length?this._events[j]=g.length===1?g[0]:g:l(this,j)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d})(Jy)),Jy.exports}var bee=vee();const jee=Ze(bee);var Zy=new jee,ev="recharts.syncMouseEvents";function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function wee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nee(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,K_(a.key),a)}}function See(e,t,n){return t&&Nee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tv(e,t,n){return t=K_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K_(e){var t=kee(e,"string");return Fc(t)=="symbol"?t:t+""}function kee(e,t){if(Fc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Fc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cee=(function(){function e(){wee(this,e),tv(this,"activeIndex",0),tv(this,"coordinateList",[]),tv(this,"layout","horizontal")}return See(e,[{key:"setDetails",value:function(n){var a,s=n.coordinateList,i=s===void 0?null:s,l=n.container,d=l===void 0?null:l,u=n.layout,h=u===void 0?null:u,p=n.offset,m=p===void 0?null:p,x=n.mouseHandlerCallback,j=x===void 0?null:x;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=d??this.container,this.layout=h??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=j??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,l=s.y,d=s.height,u=this.coordinateList[this.activeIndex].coordinate,h=((n=window)===null||n===void 0?void 0:n.scrollX)||0,p=((a=window)===null||a===void 0?void 0:a.scrollY)||0,m=i+u+h,x=l+this.offset.top+d/2+p;this.mouseHandlerCallback({pageX:m,pageY:x})}}}])})();function Aee(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],s=e==null?void 0:e[1];if(a&&s&&ge(a)&&ge(s))return!0}return!1}function Pee(e,t,n,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?a:n.width-1,height:e==="horizontal"?n.height-1:a}}function G_(e){var t=e.cx,n=e.cy,a=e.radius,s=e.startAngle,i=e.endAngle,l=ot(t,n,a,s),d=ot(t,n,a,i);return{points:[l,d],cx:t,cy:n,radius:a,startAngle:s,endAngle:i}}function Oee(e,t,n){var a,s,i,l;if(e==="horizontal")a=t.x,i=a,s=n.top,l=n.top+n.height;else if(e==="vertical")s=t.y,l=s,a=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var d=t.cx,u=t.cy,h=t.innerRadius,p=t.outerRadius,m=t.angle,x=ot(d,u,h,m),j=ot(d,u,p,m);a=x.x,s=x.y,i=j.x,l=j.y}else return G_(t);return[{x:a,y:s},{x:i,y:l}]}function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function rP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function $u(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rP(Object(n),!0).forEach(function(a){Eee(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Eee(e,t,n){return t=_ee(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ee(e){var t=Tee(e,"string");return qc(t)=="symbol"?t:t+""}function Tee(e,t){if(qc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(qc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ree(e){var t,n,a=e.element,s=e.tooltipEventType,i=e.isActive,l=e.activeCoordinate,d=e.activePayload,u=e.offset,h=e.activeTooltipIndex,p=e.tooltipAxisBandSize,m=e.layout,x=e.chartName,j=(t=a.props.cursor)!==null&&t!==void 0?t:(n=a.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!a||!j||!i||!l||x!=="ScatterChart"&&s!=="axis")return null;var v,w=Ah;if(x==="ScatterChart")v=l,w=tY;else if(x==="BarChart")v=Pee(m,l,u,p),w=hw;else if(m==="radial"){var g=G_(l),S=g.cx,P=g.cy,O=g.radius,N=g.startAngle,A=g.endAngle;v={cx:S,cy:P,startAngle:N,endAngle:A,innerRadius:O,outerRadius:O},w=V6}else v={points:Oee(m,l,u)},w=Ah;var C=$u($u($u($u({stroke:"#ccc",pointerEvents:"none"},u),v),Re(j,!1)),{},{payload:d,payloadIndex:h,className:ze("recharts-tooltip-cursor",j.className)});return b.isValidElement(j)?b.cloneElement(j,C):b.createElement(w,C)}var Mee=["item"],Iee=["children","className","width","height","style","compact","title","desc"];function Oo(e){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oo(e)}function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qi.apply(this,arguments)}function nP(e,t){return Dee(e)||Lee(e,t)||Q_(e,t)||$ee()}function $ee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lee(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,d=[],u=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(a=i.call(n)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,s=p}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return d}}function Dee(e){if(Array.isArray(e))return e}function aP(e,t){if(e==null)return{};var n=Fee(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Fee(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function qee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zee(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Y_(a.key),a)}}function Bee(e,t,n){return t&&zee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uee(e,t,n){return t=Xh(t),Wee(e,V_()?Reflect.construct(t,n||[],Xh(e).constructor):t.apply(e,n))}function Wee(e,t){if(t&&(Oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hee(e)}function Hee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V_=function(){return!!e})()}function Xh(e){return Xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xh(e)}function Kee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yb(e,t)}function Yb(e,t){return Yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Yb(e,t)}function Eo(e){return Qee(e)||Vee(e)||Q_(e)||Gee()}function Gee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q_(e,t){if(e){if(typeof e=="string")return Xb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xb(e,t)}}function Vee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qee(e){if(Array.isArray(e))return Xb(e)}function Xb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function sP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(n),!0).forEach(function(a){Ie(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ie(e,t,n){return t=Y_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y_(e){var t=Yee(e,"string");return Oo(t)=="symbol"?t:t+""}function Yee(e,t){if(Oo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Oo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xee={xAxis:["bottom","top"],yAxis:["left","right"]},Jee={width:"100%",height:"100%"},X_={x:0,y:0};function Lu(e){return e}var Zee=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},ete=function(t,n,a,s){var i=n.find(function(p){return p&&p.index===a});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var l=i.coordinate,d=s.radius;return de(de(de({},s),ot(s.cx,s.cy,d,l)),{},{angle:l,radius:d})}var u=i.coordinate,h=s.angle;return de(de(de({},s),ot(s.cx,s.cy,u,h)),{},{angle:h,radius:u})}return X_},Vf=function(t,n){var a=n.graphicalItems,s=n.dataStartIndex,i=n.dataEndIndex,l=(a??[]).reduce(function(d,u){var h=u.props.data;return h&&h.length?[].concat(Eo(d),Eo(h)):d},[]);return l.length>0?l:t&&t.length&&ge(s)&&ge(i)?t.slice(s,i+1):[]};function J_(e){return e==="number"?[0,"auto"]:void 0}var Jb=function(t,n,a,s){var i=t.graphicalItems,l=t.tooltipAxis,d=Vf(n,t);return a<0||!i||!i.length||a>=d.length?null:i.reduce(function(u,h){var p,m=(p=h.props.data)!==null&&p!==void 0?p:n;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var x;if(l.dataKey&&!l.allowDuplicatedCategory){var j=m===void 0?d:m;x=Ju(j,l.dataKey,s)}else x=m&&m[a]||d[a];return x?[].concat(Eo(u),[B6(h,x)]):u},[])},iP=function(t,n,a,s){var i=s||{x:t.chartX,y:t.chartY},l=Zee(i,a),d=t.orderedTooltipTicks,u=t.tooltipAxis,h=t.tooltipTicks,p=wK(l,d,h,u);if(p>=0&&h){var m=h[p]&&h[p].value,x=Jb(t,n,p,m),j=ete(a,d,p,i);return{activeTooltipIndex:p,activeLabel:m,activePayload:x,activeCoordinate:j}}return null},tte=function(t,n){var a=n.axes,s=n.graphicalItems,i=n.axisType,l=n.axisIdKey,d=n.stackGroups,u=n.dataStartIndex,h=n.dataEndIndex,p=t.layout,m=t.children,x=t.stackOffset,j=$6(p,i);return a.reduce(function(v,w){var g,S=w.type.defaultProps!==void 0?de(de({},w.type.defaultProps),w.props):w.props,P=S.type,O=S.dataKey,N=S.allowDataOverflow,A=S.allowDuplicatedCategory,C=S.scale,E=S.ticks,T=S.includeHidden,R=S[l];if(v[R])return v;var I=Vf(t.data,{graphicalItems:s.filter(function(K){var Y,H=l in K.props?K.props[l]:(Y=K.type.defaultProps)===null||Y===void 0?void 0:Y[l];return H===R}),dataStartIndex:u,dataEndIndex:h}),M=I.length,$,G,V;Aee(S.domain,N,P)&&($=hb(S.domain,null,N),j&&(P==="number"||C!=="auto")&&(V=Jl(I,O,"category")));var z=J_(P);if(!$||$.length===0){var U,W=(U=S.domain)!==null&&U!==void 0?U:z;if(O){if($=Jl(I,O,P),P==="category"&&j){var B=p9($);A&&B?(G=$,$=Dh(0,M)):A||($=lA(W,$,w).reduce(function(K,Y){return K.indexOf(Y)>=0?K:[].concat(Eo(K),[Y])},[]))}else if(P==="category")A?$=$.filter(function(K){return K!==""&&!qe(K)}):$=lA(W,$,w).reduce(function(K,Y){return K.indexOf(Y)>=0||Y===""||qe(Y)?K:[].concat(Eo(K),[Y])},[]);else if(P==="number"){var F=AK(I,s.filter(function(K){var Y,H,ue=l in K.props?K.props[l]:(Y=K.type.defaultProps)===null||Y===void 0?void 0:Y[l],he="hide"in K.props?K.props.hide:(H=K.type.defaultProps)===null||H===void 0?void 0:H.hide;return ue===R&&(T||!he)}),O,i,p);F&&($=F)}j&&(P==="number"||C!=="auto")&&(V=Jl(I,O,"category"))}else j?$=Dh(0,M):d&&d[R]&&d[R].hasStack&&P==="number"?$=x==="expand"?[0,1]:z6(d[R].stackGroups,u,h):$=I6(I,s.filter(function(K){var Y=l in K.props?K.props[l]:K.type.defaultProps[l],H="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return Y===R&&(T||!H)}),P,p,!0);if(P==="number")$=Qb(m,$,R,i,E),W&&($=hb(W,$,N));else if(P==="category"&&W){var L=W,q=$.every(function(K){return L.indexOf(K)>=0});q&&($=L)}}return de(de({},v),{},Ie({},R,de(de({},S),{},{axisType:i,domain:$,categoricalDomain:V,duplicateDomain:G,originalDomain:(g=S.domain)!==null&&g!==void 0?g:z,isCategorical:j,layout:p})))},{})},rte=function(t,n){var a=n.graphicalItems,s=n.Axis,i=n.axisType,l=n.axisIdKey,d=n.stackGroups,u=n.dataStartIndex,h=n.dataEndIndex,p=t.layout,m=t.children,x=Vf(t.data,{graphicalItems:a,dataStartIndex:u,dataEndIndex:h}),j=x.length,v=$6(p,i),w=-1;return a.reduce(function(g,S){var P=S.type.defaultProps!==void 0?de(de({},S.type.defaultProps),S.props):S.props,O=P[l],N=J_("number");if(!g[O]){w++;var A;return v?A=Dh(0,j):d&&d[O]&&d[O].hasStack?(A=z6(d[O].stackGroups,u,h),A=Qb(m,A,O,i)):(A=hb(N,I6(x,a.filter(function(C){var E,T,R=l in C.props?C.props[l]:(E=C.type.defaultProps)===null||E===void 0?void 0:E[l],I="hide"in C.props?C.props.hide:(T=C.type.defaultProps)===null||T===void 0?void 0:T.hide;return R===O&&!I}),"number",p),s.defaultProps.allowDataOverflow),A=Qb(m,A,O,i)),de(de({},g),{},Ie({},O,de(de({axisType:i},s.defaultProps),{},{hide:!0,orientation:Mr(Xee,"".concat(i,".").concat(w%2),null),domain:A,originalDomain:N,isCategorical:v,layout:p})))}return g},{})},nte=function(t,n){var a=n.axisType,s=a===void 0?"xAxis":a,i=n.AxisComp,l=n.graphicalItems,d=n.stackGroups,u=n.dataStartIndex,h=n.dataEndIndex,p=t.children,m="".concat(s,"Id"),x=Ir(p,i),j={};return x&&x.length?j=tte(t,{axes:x,graphicalItems:l,axisType:s,axisIdKey:m,stackGroups:d,dataStartIndex:u,dataEndIndex:h}):l&&l.length&&(j=rte(t,{Axis:i,graphicalItems:l,axisType:s,axisIdKey:m,stackGroups:d,dataStartIndex:u,dataEndIndex:h})),j},ate=function(t){var n=Ia(t),a=ta(n,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:Dj(a,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Sh(n,a)}},oP=function(t){var n=t.children,a=t.defaultShowTooltip,s=_r(n,vo),i=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(l=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!a}},ste=function(t){return!t||!t.length?!1:t.some(function(n){var a=ra(n&&n.type);return a&&a.indexOf("Bar")>=0})},lP=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ite=function(t,n){var a=t.props,s=t.graphicalItems,i=t.xAxisMap,l=i===void 0?{}:i,d=t.yAxisMap,u=d===void 0?{}:d,h=a.width,p=a.height,m=a.children,x=a.margin||{},j=_r(m,vo),v=_r(m,Xa),w=Object.keys(u).reduce(function(A,C){var E=u[C],T=E.orientation;return!E.mirror&&!E.hide?de(de({},A),{},Ie({},T,A[T]+E.width)):A},{left:x.left||0,right:x.right||0}),g=Object.keys(l).reduce(function(A,C){var E=l[C],T=E.orientation;return!E.mirror&&!E.hide?de(de({},A),{},Ie({},T,Mr(A,"".concat(T))+E.height)):A},{top:x.top||0,bottom:x.bottom||0}),S=de(de({},g),w),P=S.bottom;j&&(S.bottom+=j.props.height||vo.defaultProps.height),v&&n&&(S=kK(S,s,a,n));var O=h-S.left-S.right,N=p-S.top-S.bottom;return de(de({brushBottom:P},S),{},{width:Math.max(O,0),height:Math.max(N,0)})},ote=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Nw=function(t){var n=t.chartName,a=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,l=t.validateTooltipEventTypes,d=l===void 0?["axis"]:l,u=t.axisComponents,h=t.legendContent,p=t.formatAxisMap,m=t.defaultProps,x=function(S,P){var O=P.graphicalItems,N=P.stackGroups,A=P.offset,C=P.updateId,E=P.dataStartIndex,T=P.dataEndIndex,R=S.barSize,I=S.layout,M=S.barGap,$=S.barCategoryGap,G=S.maxBarSize,V=lP(I),z=V.numericAxisName,U=V.cateAxisName,W=ste(O),B=[];return O.forEach(function(F,L){var q=Vf(S.data,{graphicalItems:[F],dataStartIndex:E,dataEndIndex:T}),K=F.type.defaultProps!==void 0?de(de({},F.type.defaultProps),F.props):F.props,Y=K.dataKey,H=K.maxBarSize,ue=K["".concat(z,"Id")],he=K["".concat(U,"Id")],oe={},te=u.reduce(function(hr,en){var si=P["".concat(en.axisType,"Map")],Ko=K["".concat(en.axisType,"Id")];si&&si[Ko]||en.axisType==="zAxis"||Xs();var Go=si[Ko];return de(de({},hr),{},Ie(Ie({},en.axisType,Go),"".concat(en.axisType,"Ticks"),ta(Go)))},oe),le=te[U],ke=te["".concat(U,"Ticks")],$e=N&&N[ue]&&N[ue].hasStack&&$K(F,N[ue].stackGroups),re=ra(F.type).indexOf("Bar")>=0,be=Sh(le,ke),je=[],tt=W&&NK({barSize:R,stackGroups:N,totalSize:ote(te,U)});if(re){var yt,qt,Zr=qe(H)?G:H,yn=(yt=(qt=Sh(le,ke,!0))!==null&&qt!==void 0?qt:Zr)!==null&&yt!==void 0?yt:0;je=SK({barGap:M,barCategoryGap:$,bandSize:yn!==be?yn:be,sizeList:tt[he],maxBarSize:Zr}),yn!==be&&(je=je.map(function(hr){return de(de({},hr),{},{position:de(de({},hr.position),{},{offset:hr.position.offset-yn/2})})}))}var vn=F&&F.type&&F.type.getComposedData;vn&&B.push({props:de(de({},vn(de(de({},te),{},{displayedData:q,props:S,dataKey:Y,item:F,bandSize:be,barPosition:je,offset:A,stackedData:$e,layout:I,dataStartIndex:E,dataEndIndex:T}))),{},Ie(Ie(Ie({key:F.key||"item-".concat(L)},z,te[z]),U,te[U]),"animationId",C)),childIndex:P9(F,S.children),item:F})}),B},j=function(S,P){var O=S.props,N=S.dataStartIndex,A=S.dataEndIndex,C=S.updateId;if(!w5({props:O}))return null;var E=O.children,T=O.layout,R=O.stackOffset,I=O.data,M=O.reverseStackOrder,$=lP(T),G=$.numericAxisName,V=$.cateAxisName,z=Ir(E,a),U=MK(I,z,"".concat(G,"Id"),"".concat(V,"Id"),R,M),W=u.reduce(function(K,Y){var H="".concat(Y.axisType,"Map");return de(de({},K),{},Ie({},H,nte(O,de(de({},Y),{},{graphicalItems:z,stackGroups:Y.axisType===G&&U,dataStartIndex:N,dataEndIndex:A}))))},{}),B=ite(de(de({},W),{},{props:O,graphicalItems:z}),P==null?void 0:P.legendBBox);Object.keys(W).forEach(function(K){W[K]=p(O,W[K],B,K.replace("Map",""),n)});var F=W["".concat(V,"Map")],L=ate(F),q=x(O,de(de({},W),{},{dataStartIndex:N,dataEndIndex:A,updateId:C,graphicalItems:z,stackGroups:U,offset:B}));return de(de({formattedGraphicalItems:q,graphicalItems:z,offset:B,stackGroups:U},L),W)},v=(function(g){function S(P){var O,N,A;return qee(this,S),A=Uee(this,S,[P]),Ie(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ie(A,"accessibilityManager",new Cee),Ie(A,"handleLegendBBoxUpdate",function(C){if(C){var E=A.state,T=E.dataStartIndex,R=E.dataEndIndex,I=E.updateId;A.setState(de({legendBBox:C},j({props:A.props,dataStartIndex:T,dataEndIndex:R,updateId:I},de(de({},A.state),{},{legendBBox:C}))))}}),Ie(A,"handleReceiveSyncEvent",function(C,E,T){if(A.props.syncId===C){if(T===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(E)}}),Ie(A,"handleBrushChange",function(C){var E=C.startIndex,T=C.endIndex;if(E!==A.state.dataStartIndex||T!==A.state.dataEndIndex){var R=A.state.updateId;A.setState(function(){return de({dataStartIndex:E,dataEndIndex:T},j({props:A.props,dataStartIndex:E,dataEndIndex:T,updateId:R},A.state))}),A.triggerSyncEvent({dataStartIndex:E,dataEndIndex:T})}}),Ie(A,"handleMouseEnter",function(C){var E=A.getMouseInfo(C);if(E){var T=de(de({},E),{},{isTooltipActive:!0});A.setState(T),A.triggerSyncEvent(T);var R=A.props.onMouseEnter;Fe(R)&&R(T,C)}}),Ie(A,"triggeredAfterMouseMove",function(C){var E=A.getMouseInfo(C),T=E?de(de({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(T),A.triggerSyncEvent(T);var R=A.props.onMouseMove;Fe(R)&&R(T,C)}),Ie(A,"handleItemMouseEnter",function(C){A.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Ie(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),Ie(A,"handleMouseMove",function(C){C.persist(),A.throttleTriggeredAfterMouseMove(C)}),Ie(A,"handleMouseLeave",function(C){A.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};A.setState(E),A.triggerSyncEvent(E);var T=A.props.onMouseLeave;Fe(T)&&T(E,C)}),Ie(A,"handleOuterEvent",function(C){var E=A9(C),T=Mr(A.props,"".concat(E));if(E&&Fe(T)){var R,I;/.*touch.*/i.test(E)?I=A.getMouseInfo(C.changedTouches[0]):I=A.getMouseInfo(C),T((R=I)!==null&&R!==void 0?R:{},C)}}),Ie(A,"handleClick",function(C){var E=A.getMouseInfo(C);if(E){var T=de(de({},E),{},{isTooltipActive:!0});A.setState(T),A.triggerSyncEvent(T);var R=A.props.onClick;Fe(R)&&R(T,C)}}),Ie(A,"handleMouseDown",function(C){var E=A.props.onMouseDown;if(Fe(E)){var T=A.getMouseInfo(C);E(T,C)}}),Ie(A,"handleMouseUp",function(C){var E=A.props.onMouseUp;if(Fe(E)){var T=A.getMouseInfo(C);E(T,C)}}),Ie(A,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Ie(A,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&A.handleMouseDown(C.changedTouches[0])}),Ie(A,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&A.handleMouseUp(C.changedTouches[0])}),Ie(A,"handleDoubleClick",function(C){var E=A.props.onDoubleClick;if(Fe(E)){var T=A.getMouseInfo(C);E(T,C)}}),Ie(A,"handleContextMenu",function(C){var E=A.props.onContextMenu;if(Fe(E)){var T=A.getMouseInfo(C);E(T,C)}}),Ie(A,"triggerSyncEvent",function(C){A.props.syncId!==void 0&&Zy.emit(ev,A.props.syncId,C,A.eventEmitterSymbol)}),Ie(A,"applySyncEvent",function(C){var E=A.props,T=E.layout,R=E.syncMethod,I=A.state.updateId,M=C.dataStartIndex,$=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)A.setState(de({dataStartIndex:M,dataEndIndex:$},j({props:A.props,dataStartIndex:M,dataEndIndex:$,updateId:I},A.state)));else if(C.activeTooltipIndex!==void 0){var G=C.chartX,V=C.chartY,z=C.activeTooltipIndex,U=A.state,W=U.offset,B=U.tooltipTicks;if(!W)return;if(typeof R=="function")z=R(B,C);else if(R==="value"){z=-1;for(var F=0;F<B.length;F++)if(B[F].value===C.activeLabel){z=F;break}}var L=de(de({},W),{},{x:W.left,y:W.top}),q=Math.min(G,L.x+L.width),K=Math.min(V,L.y+L.height),Y=B[z]&&B[z].value,H=Jb(A.state,A.props.data,z),ue=B[z]?{x:T==="horizontal"?B[z].coordinate:q,y:T==="horizontal"?K:B[z].coordinate}:X_;A.setState(de(de({},C),{},{activeLabel:Y,activeCoordinate:ue,activePayload:H,activeTooltipIndex:z}))}else A.setState(C)}),Ie(A,"renderCursor",function(C){var E,T=A.state,R=T.isTooltipActive,I=T.activeCoordinate,M=T.activePayload,$=T.offset,G=T.activeTooltipIndex,V=T.tooltipAxisBandSize,z=A.getTooltipEventType(),U=(E=C.props.active)!==null&&E!==void 0?E:R,W=A.props.layout,B=C.key||"_recharts-cursor";return X.createElement(Ree,{key:B,activeCoordinate:I,activePayload:M,activeTooltipIndex:G,chartName:n,element:C,isActive:U,layout:W,offset:$,tooltipAxisBandSize:V,tooltipEventType:z})}),Ie(A,"renderPolarAxis",function(C,E,T){var R=Mr(C,"type.axisType"),I=Mr(A.state,"".concat(R,"Map")),M=C.type.defaultProps,$=M!==void 0?de(de({},M),C.props):C.props,G=I&&I[$["".concat(R,"Id")]];return b.cloneElement(C,de(de({},G),{},{className:ze(R,G.className),key:C.key||"".concat(E,"-").concat(T),ticks:ta(G,!0)}))}),Ie(A,"renderPolarGrid",function(C){var E=C.props,T=E.radialLines,R=E.polarAngles,I=E.polarRadius,M=A.state,$=M.radiusAxisMap,G=M.angleAxisMap,V=Ia($),z=Ia(G),U=z.cx,W=z.cy,B=z.innerRadius,F=z.outerRadius;return b.cloneElement(C,{polarAngles:Array.isArray(R)?R:ta(z,!0).map(function(L){return L.coordinate}),polarRadius:Array.isArray(I)?I:ta(V,!0).map(function(L){return L.coordinate}),cx:U,cy:W,innerRadius:B,outerRadius:F,key:C.key||"polar-grid",radialLines:T})}),Ie(A,"renderLegend",function(){var C=A.state.formattedGraphicalItems,E=A.props,T=E.children,R=E.width,I=E.height,M=A.props.margin||{},$=R-(M.left||0)-(M.right||0),G=R6({children:T,formattedGraphicalItems:C,legendWidth:$,legendContent:h});if(!G)return null;var V=G.item,z=aP(G,Mee);return b.cloneElement(V,de(de({},z),{},{chartWidth:R,chartHeight:I,margin:M,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),Ie(A,"renderTooltip",function(){var C,E=A.props,T=E.children,R=E.accessibilityLayer,I=_r(T,Gr);if(!I)return null;var M=A.state,$=M.isTooltipActive,G=M.activeCoordinate,V=M.activePayload,z=M.activeLabel,U=M.offset,W=(C=I.props.active)!==null&&C!==void 0?C:$;return b.cloneElement(I,{viewBox:de(de({},U),{},{x:U.left,y:U.top}),active:W,label:z,payload:W?V:[],coordinate:G,accessibilityLayer:R})}),Ie(A,"renderBrush",function(C){var E=A.props,T=E.margin,R=E.data,I=A.state,M=I.offset,$=I.dataStartIndex,G=I.dataEndIndex,V=I.updateId;return b.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Tu(A.handleBrushChange,C.props.onChange),data:R,x:ge(C.props.x)?C.props.x:M.left,y:ge(C.props.y)?C.props.y:M.top+M.height+M.brushBottom-(T.bottom||0),width:ge(C.props.width)?C.props.width:M.width,startIndex:$,endIndex:G,updateId:"brush-".concat(V)})}),Ie(A,"renderReferenceElement",function(C,E,T){if(!C)return null;var R=A,I=R.clipPathId,M=A.state,$=M.xAxisMap,G=M.yAxisMap,V=M.offset,z=C.type.defaultProps||{},U=C.props,W=U.xAxisId,B=W===void 0?z.xAxisId:W,F=U.yAxisId,L=F===void 0?z.yAxisId:F;return b.cloneElement(C,{key:C.key||"".concat(E,"-").concat(T),xAxis:$[B],yAxis:G[L],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:I})}),Ie(A,"renderActivePoints",function(C){var E=C.item,T=C.activePoint,R=C.basePoint,I=C.childIndex,M=C.isRange,$=[],G=E.props.key,V=E.item.type.defaultProps!==void 0?de(de({},E.item.type.defaultProps),E.item.props):E.item.props,z=V.activeDot,U=V.dataKey,W=de(de({index:I,dataKey:U,cx:T.x,cy:T.y,r:4,fill:uw(E.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Re(z,!1)),Zu(z));return $.push(S.renderActiveDot(z,W,"".concat(G,"-activePoint-").concat(I))),R?$.push(S.renderActiveDot(z,de(de({},W),{},{cx:R.x,cy:R.y}),"".concat(G,"-basePoint-").concat(I))):M&&$.push(null),$}),Ie(A,"renderGraphicChild",function(C,E,T){var R=A.filterFormatItem(C,E,T);if(!R)return null;var I=A.getTooltipEventType(),M=A.state,$=M.isTooltipActive,G=M.tooltipAxis,V=M.activeTooltipIndex,z=M.activeLabel,U=A.props.children,W=_r(U,Gr),B=R.props,F=B.points,L=B.isRange,q=B.baseLine,K=R.item.type.defaultProps!==void 0?de(de({},R.item.type.defaultProps),R.item.props):R.item.props,Y=K.activeDot,H=K.hide,ue=K.activeBar,he=K.activeShape,oe=!!(!H&&$&&W&&(Y||ue||he)),te={};I!=="axis"&&W&&W.props.trigger==="click"?te={onClick:Tu(A.handleItemMouseEnter,C.props.onClick)}:I!=="axis"&&(te={onMouseLeave:Tu(A.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Tu(A.handleItemMouseEnter,C.props.onMouseEnter)});var le=b.cloneElement(C,de(de({},R.props),te));function ke(en){return typeof G.dataKey=="function"?G.dataKey(en.payload):null}if(oe)if(V>=0){var $e,re;if(G.dataKey&&!G.allowDuplicatedCategory){var be=typeof G.dataKey=="function"?ke:"payload.".concat(G.dataKey.toString());$e=Ju(F,be,z),re=L&&q&&Ju(q,be,z)}else $e=F==null?void 0:F[V],re=L&&q&&q[V];if(he||ue){var je=C.props.activeIndex!==void 0?C.props.activeIndex:V;return[b.cloneElement(C,de(de(de({},R.props),te),{},{activeIndex:je})),null,null]}if(!qe($e))return[le].concat(Eo(A.renderActivePoints({item:R,activePoint:$e,basePoint:re,childIndex:V,isRange:L})))}else{var tt,yt=(tt=A.getItemByXY(A.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:le},qt=yt.graphicalItem,Zr=qt.item,yn=Zr===void 0?C:Zr,vn=qt.childIndex,hr=de(de(de({},R.props),te),{},{activeIndex:vn});return[b.cloneElement(yn,hr),null,null]}return L?[le,null,null]:[le,null]}),Ie(A,"renderCustomized",function(C,E,T){return b.cloneElement(C,de(de({key:"recharts-customized-".concat(T)},A.props),A.state))}),Ie(A,"renderMap",{CartesianGrid:{handler:Lu,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:Lu},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:Lu},YAxis:{handler:Lu},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((O=P.id)!==null&&O!==void 0?O:Do("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=RE(A.triggeredAfterMouseMove,(N=P.throttleDelay)!==null&&N!==void 0?N:1e3/60),A.state={},A}return Kee(S,g),Bee(S,[{key:"componentDidMount",value:function(){var O,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var O=this.props,N=O.children,A=O.data,C=O.height,E=O.layout,T=_r(N,Gr);if(T){var R=T.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,M=Jb(this.state,A,R,I),$=this.state.tooltipTicks[R].coordinate,G=(this.state.offset.top+C)/2,V=E==="horizontal",z=V?{x:$,y:G}:{y:$,x:G},U=this.state.formattedGraphicalItems.find(function(B){var F=B.item;return F.type.name==="Scatter"});U&&(z=de(de({},z),U.props.points[R].tooltipPosition),M=U.props.points[R].tooltipPayload);var W={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:I,activePayload:M,activeCoordinate:z};this.setState(W),this.renderCursor(T),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(O,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==O.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==O.margin){var A,C;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(O){Mv([_r(O.children,Gr)],[_r(this.props.children,Gr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var O=_r(this.props.children,Gr);if(O&&typeof O.props.shared=="boolean"){var N=O.props.shared?"axis":"item";return d.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(O){if(!this.container)return null;var N=this.container,A=N.getBoundingClientRect(),C=mB(A),E={chartX:Math.round(O.pageX-C.left),chartY:Math.round(O.pageY-C.top)},T=A.width/N.offsetWidth||1,R=this.inRange(E.chartX,E.chartY,T);if(!R)return null;var I=this.state,M=I.xAxisMap,$=I.yAxisMap,G=this.getTooltipEventType(),V=iP(this.state,this.props.data,this.props.layout,R);if(G!=="axis"&&M&&$){var z=Ia(M).scale,U=Ia($).scale,W=z&&z.invert?z.invert(E.chartX):null,B=U&&U.invert?U.invert(E.chartY):null;return de(de({},E),{},{xValue:W,yValue:B},V)}return V?de(de({},E),V):null}},{key:"inRange",value:function(O,N){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,E=O/A,T=N/A;if(C==="horizontal"||C==="vertical"){var R=this.state.offset,I=E>=R.left&&E<=R.left+R.width&&T>=R.top&&T<=R.top+R.height;return I?{x:E,y:T}:null}var M=this.state,$=M.angleAxisMap,G=M.radiusAxisMap;if($&&G){var V=Ia($);return uA({x:E,y:T},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var O=this.props.children,N=this.getTooltipEventType(),A=_r(O,Gr),C={};A&&N==="axis"&&(A.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Zu(this.props,this.handleOuterEvent);return de(de({},E),C)}},{key:"addListener",value:function(){Zy.on(ev,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Zy.removeListener(ev,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(O,N,A){for(var C=this.state.formattedGraphicalItems,E=0,T=C.length;E<T;E++){var R=C[E];if(R.item===O||R.props.key===O.key||N===ra(R.item.type)&&A===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var O=this.clipPathId,N=this.state.offset,A=N.left,C=N.top,E=N.height,T=N.width;return X.createElement("defs",null,X.createElement("clipPath",{id:O},X.createElement("rect",{x:A,y:C,height:E,width:T})))}},{key:"getXScales",value:function(){var O=this.state.xAxisMap;return O?Object.entries(O).reduce(function(N,A){var C=nP(A,2),E=C[0],T=C[1];return de(de({},N),{},Ie({},E,T.scale))},{}):null}},{key:"getYScales",value:function(){var O=this.state.yAxisMap;return O?Object.entries(O).reduce(function(N,A){var C=nP(A,2),E=C[0],T=C[1];return de(de({},N),{},Ie({},E,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(O){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[O])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(O){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[O])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(O){var N=this.state,A=N.formattedGraphicalItems,C=N.activeItem;if(A&&A.length)for(var E=0,T=A.length;E<T;E++){var R=A[E],I=R.props,M=R.item,$=M.type.defaultProps!==void 0?de(de({},M.type.defaultProps),M.props):M.props,G=ra(M.type);if(G==="Bar"){var V=(I.data||[]).find(function(B){return IQ(O,B)});if(V)return{graphicalItem:R,payload:V}}else if(G==="RadialBar"){var z=(I.data||[]).find(function(B){return uA(O,B)});if(z)return{graphicalItem:R,payload:z}}else if(zf(R,C)||Bf(R,C)||Mc(R,C)){var U=aX({graphicalItem:R,activeTooltipItem:C,itemData:$.data}),W=$.activeIndex===void 0?U:$.activeIndex;return{graphicalItem:de(de({},R),{},{childIndex:W}),payload:Mc(R,C)?$.data[U]:R.props.data[U]}}}return null}},{key:"render",value:function(){var O=this;if(!w5(this))return null;var N=this.props,A=N.children,C=N.className,E=N.width,T=N.height,R=N.style,I=N.compact,M=N.title,$=N.desc,G=aP(N,Iee),V=Re(G,!1);if(I)return X.createElement(D3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement($v,qi({},V,{width:E,height:T,title:M,desc:$}),this.renderClipPath(),S5(A,this.renderMap)));if(this.props.accessibilityLayer){var z,U;V.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,V.role=(U=this.props.role)!==null&&U!==void 0?U:"application",V.onKeyDown=function(B){O.accessibilityManager.keyboardEvent(B)},V.onFocus=function(){O.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return X.createElement(D3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement("div",qi({className:ze("recharts-wrapper",C),style:de({position:"relative",cursor:"default",width:E,height:T},R)},W,{ref:function(F){O.container=F}}),X.createElement($v,qi({},V,{width:E,height:T,title:M,desc:$,style:Jee}),this.renderClipPath(),S5(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(b.Component);Ie(v,"displayName",n),Ie(v,"defaultProps",de({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ie(v,"getDerivedStateFromProps",function(g,S){var P=g.dataKey,O=g.data,N=g.children,A=g.width,C=g.height,E=g.layout,T=g.stackOffset,R=g.margin,I=S.dataStartIndex,M=S.dataEndIndex;if(S.updateId===void 0){var $=oP(g);return de(de(de({},$),{},{updateId:0},j(de(de({props:g},$),{},{updateId:0}),S)),{},{prevDataKey:P,prevData:O,prevWidth:A,prevHeight:C,prevLayout:E,prevStackOffset:T,prevMargin:R,prevChildren:N})}if(P!==S.prevDataKey||O!==S.prevData||A!==S.prevWidth||C!==S.prevHeight||E!==S.prevLayout||T!==S.prevStackOffset||!zi(R,S.prevMargin)){var G=oP(g),V={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},z=de(de({},iP(S,O,E)),{},{updateId:S.updateId+1}),U=de(de(de({},G),V),z);return de(de(de({},U),j(de({props:g},U),S)),{},{prevDataKey:P,prevData:O,prevWidth:A,prevHeight:C,prevLayout:E,prevStackOffset:T,prevMargin:R,prevChildren:N})}if(!Mv(N,S.prevChildren)){var W,B,F,L,q=_r(N,vo),K=q&&(W=(B=q.props)===null||B===void 0?void 0:B.startIndex)!==null&&W!==void 0?W:I,Y=q&&(F=(L=q.props)===null||L===void 0?void 0:L.endIndex)!==null&&F!==void 0?F:M,H=K!==I||Y!==M,ue=!qe(O),he=ue&&!H?S.updateId:S.updateId+1;return de(de({updateId:he},j(de(de({props:g},S),{},{updateId:he,dataStartIndex:K,dataEndIndex:Y}),S)),{},{prevChildren:N,dataStartIndex:K,dataEndIndex:Y})}return null}),Ie(v,"renderActiveDot",function(g,S,P){var O;return b.isValidElement(g)?O=b.cloneElement(g,S):Fe(g)?O=g(S):O=X.createElement($f,S),X.createElement(Ge,{className:"recharts-active-dot",key:P},O)});var w=b.forwardRef(function(S,P){return X.createElement(v,qi({},S,{ref:P}))});return w.displayName=v.displayName,w},lte=Nw({chartName:"LineChart",GraphicalChild:Co,axisComponents:[{axisType:"xAxis",AxisComp:Wo},{axisType:"yAxis",AxisComp:Ho}],formatAxisMap:y_}),cte=Nw({chartName:"BarChart",GraphicalChild:Za,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Wo},{axisType:"yAxis",AxisComp:Ho}],formatAxisMap:y_}),dte=Nw({chartName:"PieChart",GraphicalChild:fa,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:qf},{axisType:"radiusAxis",AxisComp:Df}],formatAxisMap:KK,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const cP=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316"],ute=[{value:"day",label:"Last 24 Hours"},{value:"week",label:"Last 7 Days"},{value:"month",label:"This Month"}];function hte({metrics:e,loading:t}){const n=[{title:"Total Executions",value:(e==null?void 0:e.totalExecutions)??0,format:a=>a.toLocaleString(),color:"text-blue-600",bgColor:"bg-blue-50"},{title:"Success Rate",value:(e==null?void 0:e.overallSuccessRate)??0,format:a=>`${a}%`,color:((e==null?void 0:e.overallSuccessRate)??0)>=95?"text-green-600":((e==null?void 0:e.overallSuccessRate)??0)>=80?"text-yellow-600":"text-red-600",bgColor:((e==null?void 0:e.overallSuccessRate)??0)>=95?"bg-green-50":((e==null?void 0:e.overallSuccessRate)??0)>=80?"bg-yellow-50":"bg-red-50"},{title:"Avg Latency",value:(e==null?void 0:e.avgLatencyMs)??0,format:a=>`${a}ms`,color:"text-purple-600",bgColor:"bg-purple-50"},{title:"Total Cost",value:(e==null?void 0:e.totalCostCents)??0,format:a=>`$${(a/100).toFixed(2)}`,color:"text-amber-600",bgColor:"bg-amber-50"},{title:"Active Agents",value:(e==null?void 0:e.totalAgents)??0,format:a=>a.toString(),color:"text-teal-600",bgColor:"bg-teal-50"},{title:"Unique Users",value:(e==null?void 0:e.uniqueUsers)??0,format:a=>a.toString(),color:"text-indigo-600",bgColor:"bg-indigo-50"}];return r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:n.map(a=>r.jsxs("div",{className:`${a.bgColor} rounded-lg p-4 ${t?"animate-pulse":""}`,children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:a.title}),r.jsx("p",{className:`text-2xl font-bold ${a.color}`,children:t?"-":a.format(a.value)})]},a.title))})}function fte({data:e,loading:t}){return t?r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Executions Over Time"}),r.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]}):r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Executions Over Time"}),r.jsx(qj,{width:"100%",height:256,children:r.jsxs(lte,{data:e,children:[r.jsx(ww,{strokeDasharray:"3 3"}),r.jsx(Wo,{dataKey:"date",tick:{fontSize:12},tickFormatter:n=>new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),r.jsx(Ho,{tick:{fontSize:12}}),r.jsx(Gr,{labelFormatter:n=>new Date(n).toLocaleDateString(),formatter:(n,a)=>[n.toLocaleString(),a]}),r.jsx(Xa,{}),r.jsx(Co,{type:"monotone",dataKey:"executions",stroke:"#3B82F6",strokeWidth:2,dot:!1,name:"Executions"}),r.jsx(Co,{type:"monotone",dataKey:"successCount",stroke:"#10B981",strokeWidth:2,dot:!1,name:"Successful"})]})})]})}function mte({agents:e,loading:t}){if(t||e.length===0)return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),r.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const n=e.filter(a=>a.totalCostCents>0).slice(0,8).map(a=>({name:a.agentName||a.agentId.slice(0,8),value:a.totalCostCents}));return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),r.jsx(qj,{width:"100%",height:256,children:r.jsxs(dte,{children:[r.jsx(fa,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:({name:a,percent:s})=>`${a} (${(s*100).toFixed(0)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:n.map((a,s)=>r.jsx(Sf,{fill:cP[s%cP.length]},`cell-${s}`))}),r.jsx(Gr,{formatter:a=>[`$${(a/100).toFixed(2)}`,"Cost"]})]})})]})}function pte({agents:e,loading:t}){if(t||e.length===0)return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Latency Distribution"}),r.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const n=e.slice(0,10).map(a=>({name:a.agentName||a.agentId.slice(0,8),avgLatency:a.avgLatencyMs,p95Latency:a.p95LatencyMs}));return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Latency by Agent"}),r.jsx(qj,{width:"100%",height:256,children:r.jsxs(cte,{data:n,children:[r.jsx(ww,{strokeDasharray:"3 3"}),r.jsx(Wo,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:60}),r.jsx(Ho,{tick:{fontSize:12}}),r.jsx(Gr,{formatter:a=>[`${a}ms`,""]}),r.jsx(Xa,{}),r.jsx(Za,{dataKey:"avgLatency",fill:"#8B5CF6",name:"Avg Latency (ms)"}),r.jsx(Za,{dataKey:"p95Latency",fill:"#EC4899",name:"P95 Latency (ms)"})]})})]})}function xte({agents:e,loading:t}){return t?r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Performance"}),r.jsx("div",{className:"space-y-2",children:[...Array(5)].map((n,a)=>r.jsx("div",{className:"h-12 bg-gray-100 animate-pulse rounded"},a))})]}):r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm overflow-x-auto",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Performance"}),r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Agent"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Executions"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Success"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Latency"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cost"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Rating"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(n=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsx("span",{className:"font-medium text-gray-900",children:n.agentName||n.agentId.slice(0,8)})}),r.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:n.totalExecutions.toLocaleString()}),r.jsx("td",{className:"px-4 py-3 text-right",children:r.jsxs("span",{className:`px-2 py-1 rounded text-sm ${n.successRate>=95?"bg-green-100 text-green-800":n.successRate>=80?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[n.successRate,"%"]})}),r.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:[n.avgLatencyMs,"ms"]}),r.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:["$",(n.totalCostCents/100).toFixed(2)]}),r.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:n.avgRating>0?n.avgRating.toFixed(1):"-"})]},n.agentId))})]})]})}function gte({trends:e,loading:t}){if(t||e.length===0)return null;const n=i=>{switch(i){case"up":return"^";case"down":return"v";default:return"-"}},a=i=>{const l=["successRate","totalExecutions","uniqueUsers","avgRating"].includes(i.metric),d=["avgLatencyMs","totalCostCents"].includes(i.metric);return i.direction==="stable"?"text-gray-600 bg-gray-100":i.direction==="up"&&l||i.direction==="down"&&d?"text-green-600 bg-green-100":"text-red-600 bg-red-100"},s=i=>i.replace(/([A-Z])/g," $1").replace(/^./,l=>l.toUpperCase()).replace("Ms"," (ms)").replace("Cents"," ($)");return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trends vs Previous Period"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:e.map(i=>r.jsxs("div",{className:`rounded-lg p-3 ${a(i)}`,children:[r.jsx("p",{className:"text-xs font-medium mb-1",children:s(i.metric)}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-lg font-bold",children:n(i.direction)}),r.jsxs("span",{className:"text-sm",children:[i.changePercent>0?"+":"",i.changePercent.toFixed(1),"%"]})]})]},i.metric))})]})}function yte({entries:e,loading:t}){if(t)return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Leaderboard"}),r.jsx("div",{className:"space-y-2",children:[...Array(5)].map((a,s)=>r.jsx("div",{className:"h-12 bg-gray-100 animate-pulse rounded"},s))})]});const n=a=>{switch(a){case"up":return r.jsx("span",{className:"text-green-500",children:"^"});case"down":return r.jsx("span",{className:"text-red-500",children:"v"});default:return r.jsx("span",{className:"text-gray-400",children:"-"})}};return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Leaderboard"}),r.jsx("div",{className:"space-y-2",children:e.map(a=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`w-8 h-8 flex items-center justify-center rounded-full font-bold ${a.rank===1?"bg-yellow-400 text-yellow-900":a.rank===2?"bg-gray-300 text-gray-700":a.rank===3?"bg-orange-400 text-orange-900":"bg-gray-200 text-gray-600"}`,children:a.rank}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:a.agentName||a.agentId.slice(0,8)}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Score: ",a.score.toFixed(1)," ",n(a.trend)]})]})]}),r.jsxs("div",{className:"text-right text-sm",children:[r.jsxs("p",{className:"text-gray-600",children:[a.executions.toLocaleString()," executions"]}),r.jsxs("p",{className:"text-gray-500",children:[a.successRate,"% success"]})]})]},a.agentId))})]})}function vte({data:e,loading:t}){if(t)return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Execution Heatmap"}),r.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const n=Array.from({length:24},(d,u)=>u),a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=Array.from({length:7},()=>Array(24).fill(0));let i=1;e.forEach(d=>{const h=new Date(d.date).getDay();h>=0&&h<7&&d.hour>=0&&d.hour<24&&(s[h][d.hour]+=d.value,i=Math.max(i,s[h][d.hour]))});const l=d=>{if(d===0)return"bg-gray-100";const u=d/i;return u<.2?"bg-blue-100":u<.4?"bg-blue-200":u<.6?"bg-blue-300":u<.8?"bg-blue-400":"bg-blue-500"};return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Execution Heatmap (by Day/Hour)"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("div",{className:"min-w-max",children:[r.jsx("div",{className:"flex gap-0.5 mb-1 ml-12",children:n.map(d=>r.jsx("div",{className:"w-6 text-xs text-gray-500 text-center",title:`${d}:00`,children:d%3===0?d:""},d))}),a.map((d,u)=>r.jsxs("div",{className:"flex gap-0.5 items-center",children:[r.jsx("span",{className:"w-10 text-xs text-gray-600 text-right pr-2",children:d}),n.map(h=>r.jsx("div",{className:`w-6 h-6 rounded-sm ${l(s[u][h])} cursor-pointer hover:ring-2 hover:ring-blue-400`,title:`${d} ${h}:00 - ${s[u][h]} executions`},h))]},d)),r.jsxs("div",{className:"flex items-center gap-2 mt-4 ml-12",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Less"}),r.jsx("div",{className:"w-4 h-4 bg-gray-100 rounded-sm"}),r.jsx("div",{className:"w-4 h-4 bg-blue-100 rounded-sm"}),r.jsx("div",{className:"w-4 h-4 bg-blue-200 rounded-sm"}),r.jsx("div",{className:"w-4 h-4 bg-blue-300 rounded-sm"}),r.jsx("div",{className:"w-4 h-4 bg-blue-400 rounded-sm"}),r.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-sm"}),r.jsx("span",{className:"text-xs text-gray-500",children:"More"})]})]})})]})}function bte({anomalies:e,loading:t}){return t||e.length===0?null:r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-red-500",children:"!"})," Anomalies Detected"]}),r.jsx("div",{className:"space-y-2",children:e.slice(0,5).map((n,a)=>r.jsx("div",{className:`p-3 rounded-lg border-l-4 ${n.severity==="critical"?"bg-red-50 border-red-500":"bg-yellow-50 border-yellow-500"}`,children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium capitalize",children:n.metric.replace(/([A-Z])/g," $1")}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Value: ",n.value.toLocaleString()," (expected: ~",n.expectedValue.toLocaleString(),")"]})]}),r.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${n.severity==="critical"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[n.deviationPercent>0?"+":"",n.deviationPercent.toFixed(0),"%"]})]})},a))})]})}function jte({onExport:e,loading:t}){const[n,a]=b.useState(!1);return r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>a(!n),disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:t?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin",children:"..."}),"Exporting..."]}):r.jsx(r.Fragment,{children:"Export"})}),n&&!t&&r.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:[r.jsx("button",{onClick:()=>{e("csv"),a(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-100 rounded-t-lg",children:"Export as CSV"}),r.jsx("button",{onClick:()=>{e("pdf"),a(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-100 rounded-b-lg",children:"Export as PDF"})]})]})}function wte(){const[e,t]=b.useState("week"),[n,a]=b.useState(!0),[s,i]=b.useState(!1),[l,d]=b.useState(null),[u,h]=b.useState(!1),[p,m]=b.useState(!0),[x,j]=b.useState(null),[v,w]=b.useState([]),[g,S]=b.useState([]),[P,O]=b.useState([]),[N,A]=b.useState([]),C=b.useCallback(async()=>{var T,R,I,M;a(!0),d(null);try{const[$,G,V,z]=await Promise.all([fetch(`/api/analytics/overview?period=${e}`,{credentials:"include"}),fetch(`/api/analytics/agents?period=${e}`,{credentials:"include"}),fetch(`/api/analytics/leaderboard?period=${e}&limit=10`,{credentials:"include"}),fetch(`/api/analytics/trends?period=${e}`,{credentials:"include"})]);if(Io($)){h(!0);return}if(!$.ok)throw new Error("Failed to fetch overview");if(!G.ok)throw new Error("Failed to fetch agent metrics");if(!V.ok)throw new Error("Failed to fetch leaderboard");if(!z.ok)throw new Error("Failed to fetch trends");const[U,W,B,F]=await Promise.all([$.json(),G.json(),V.json(),z.json()]);j(U.data),w(((T=W.data)==null?void 0:T.agents)||[]),S(((R=B.data)==null?void 0:R.leaderboard)||[]),O(((I=F.data)==null?void 0:I.trends)||[]),A(((M=F.data)==null?void 0:M.anomalies)||[])}catch($){d($ instanceof Error?$.message:"Failed to load analytics"),console.error("Analytics fetch error:",$)}finally{a(!1)}},[e]),E=async T=>{i(!0);try{const R=await fetch("/api/analytics/report",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:"Agent Performance Report",sections:["overview","agents","leaderboard","costs"],format:T,period:e})});if(!R.ok)throw new Error("Export failed");const I=await R.blob(),M=window.URL.createObjectURL(I),$=document.createElement("a");$.href=M,$.download=`analytics-report-${new Date().toISOString().split("T")[0]}.${T}`,document.body.appendChild($),$.click(),document.body.removeChild($),window.URL.revokeObjectURL(M)}catch(R){console.error("Export error:",R),d("Failed to export report")}finally{i(!1)}};return b.useEffect(()=>{C()},[C]),b.useEffect(()=>{if(!p)return;const T=setInterval(C,6e4);return()=>clearInterval(T)},[p,C]),u?r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Agent performance and execution metrics"})]}),r.jsx(Jc,{title:"Analytics Dashboard",description:"The analytics dashboard is currently being set up. This feature will display agent performance metrics, execution trends, and leaderboards once the backend service is activated.",onRetry:C})]}):r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Agent performance and execution metrics"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("select",{value:e,onChange:T=>t(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:ute.map(T=>r.jsx("option",{value:T.value,children:T.label},T.value))}),r.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("input",{type:"checkbox",checked:p,onChange:T=>m(T.target.checked),className:"rounded"}),"Auto-refresh"]}),r.jsx(jte,{onExport:E,loading:s})]})]}),l&&r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:[l,r.jsx("button",{onClick:C,className:"ml-4 underline hover:no-underline",children:"Retry"})]}),r.jsx("div",{className:"mb-6",children:r.jsx(bte,{anomalies:N,loading:n})}),r.jsx("div",{className:"mb-6",children:r.jsx(hte,{metrics:x,loading:n})}),r.jsx("div",{className:"mb-6",children:r.jsx(gte,{trends:P,loading:n})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[r.jsx(fte,{data:(x==null?void 0:x.dailyTrend)||[],loading:n}),r.jsx(mte,{agents:v,loading:n})]}),r.jsx("div",{className:"mb-6",children:r.jsx(pte,{agents:v,loading:n})}),r.jsx("div",{className:"mb-6",children:r.jsx(vte,{data:((x==null?void 0:x.dailyTrend)||[]).flatMap(T=>Array.from({length:24},(R,I)=>({date:T.date,hour:I,value:Math.floor(T.executions*(I>=9&&I<=17?.08:.02))}))),loading:n})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(xte,{agents:v,loading:n}),r.jsx(yte,{entries:g,loading:n})]})]})}const Nte=()=>{const[e,t]=b.useState([]),[n,a]=b.useState(null),[s,i]=b.useState(null),[l,d]=b.useState(null),[u,h]=b.useState(null),[p,m]=b.useState([]),[x,j]=b.useState("monthly"),[v,w]=b.useState(!0),[g,S]=b.useState(null);b.useEffect(()=>{P()},[]);const P=async()=>{try{w(!0),S(null);const[R,I,M,$]=await Promise.all([fetch("/api/billing/plans"),fetch("/api/billing/subscription"),fetch("/api/billing/usage"),fetch("/api/billing/invoices")]);if(!R.ok||!I.ok||!M.ok)throw new Error("Failed to load billing data");const G=await R.json(),V=await I.json(),z=await M.json(),U=await $.json();t(G.plans),a(V.subscription),i(z.usage),d(z.limits),h(z.percentages),m(U.invoices)}catch(R){S(R instanceof Error?R.message:"An error occurred")}finally{w(!1)}},O=async R=>{try{const I=await fetch("/api/billing/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planId:R,billingInterval:x})});if(!I.ok){const $=await I.json();throw new Error($.error||"Failed to create checkout session")}const{url:M}=await I.json();M&&(window.location.href=M)}catch(I){S(I instanceof Error?I.message:"Failed to upgrade")}},N=async()=>{try{const R=await fetch("/api/billing/portal",{method:"POST",headers:{"Content-Type":"application/json"}});if(!R.ok){const M=await R.json();throw new Error(M.error||"Failed to open billing portal")}const{url:I}=await R.json();I&&(window.location.href=I)}catch(R){S(R instanceof Error?R.message:"Failed to open billing portal")}},A=async()=>{if(confirm("Are you sure you want to cancel your subscription?"))try{const R=await fetch("/api/billing/cancel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({immediately:!1})});if(!R.ok){const I=await R.json();throw new Error(I.error||"Failed to cancel subscription")}await P()}catch(R){S(R instanceof Error?R.message:"Failed to cancel")}},C=async()=>{try{const R=await fetch("/api/billing/reactivate",{method:"POST",headers:{"Content-Type":"application/json"}});if(!R.ok){const I=await R.json();throw new Error(I.error||"Failed to reactivate subscription")}await P()}catch(R){S(R instanceof Error?R.message:"Failed to reactivate")}},E=R=>R===-1?"Unlimited":R.toLocaleString(),T=R=>`${(R/1073741824).toFixed(2)} GB`;return v?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Billing & Subscription"}),g&&r.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[g,r.jsx("button",{onClick:()=>S(null),className:"ml-4 text-red-500 hover:text-red-700",children:"Dismiss"})]}),n&&r.jsxs("section",{className:"mb-8 p-6 bg-white rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Current Plan"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.plan.name}),r.jsxs("p",{className:"text-gray-500",children:[n.billingInterval==="yearly"?"Annual":"Monthly"," billing"]}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Current period ends:"," ",new Date(n.currentPeriodEnd).toLocaleDateString()]}),n.cancelAtPeriodEnd&&r.jsx("p",{className:"text-sm text-orange-600 mt-2",children:"Subscription will be canceled at period end"})]}),r.jsxs("div",{className:"flex gap-3",children:[n.hasStripeSubscription&&r.jsx("button",{onClick:N,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Manage Billing"}),n.cancelAtPeriodEnd?r.jsx("button",{onClick:C,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Reactivate"}):n.planId!=="free"?r.jsx("button",{onClick:A,className:"px-4 py-2 text-red-600 border border-red-300 rounded-lg hover:bg-red-50",children:"Cancel Plan"}):null]})]})]}),s&&l&&u&&r.jsxs("section",{className:"mb-8 p-6 bg-white rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Usage"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsx(Ul,{label:"Executions",current:s.executions,limit:l.executionsPerMonth,percentage:u.executions}),r.jsx(Ul,{label:"API Requests (Daily)",current:s.api_requests,limit:l.apiRequestsPerDay,percentage:u.api_requests}),r.jsx(Ul,{label:"Agents",current:s.agents,limit:l.agents,percentage:u.agents}),r.jsx(Ul,{label:"Workflows",current:s.workflows,limit:l.workflows,percentage:u.workflows}),r.jsx(Ul,{label:"Team Members",current:s.team_members,limit:l.teamMembers,percentage:u.team_members}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-gray-600",children:"Storage"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[T(s.storage_bytes)," / ",E(l.storageGb)," GB"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(u.storage_bytes,100)}%`}})})]})]})]}),r.jsxs("section",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Available Plans"}),r.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>j("monthly"),className:`px-4 py-2 rounded-md transition ${x==="monthly"?"bg-white shadow text-blue-600":"text-gray-600"}`,children:"Monthly"}),r.jsxs("button",{onClick:()=>j("yearly"),className:`px-4 py-2 rounded-md transition ${x==="yearly"?"bg-white shadow text-blue-600":"text-gray-600"}`,children:["Yearly",r.jsx("span",{className:"ml-1 text-xs text-green-600",children:"Save 17%"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(R=>r.jsxs("div",{className:`p-6 bg-white rounded-lg shadow relative ${R.popular?"ring-2 ring-blue-500":""}`,children:[R.popular&&r.jsx("span",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white text-xs px-3 py-1 rounded-full",children:"Most Popular"}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:R.name}),r.jsx("p",{className:"text-gray-500 text-sm mb-4",children:R.description}),r.jsxs("div",{className:"mb-6",children:[r.jsx("span",{className:"text-3xl font-bold",children:x==="yearly"?R.pricing.yearly:R.pricing.monthly}),R.pricing.monthlyRaw>0&&r.jsxs("span",{className:"text-gray-500",children:["/",x==="yearly"?"year":"month"]})]}),r.jsxs("ul",{className:"space-y-2 mb-6 text-sm",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," ",E(R.limits.agents)," Agents"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," ",E(R.limits.workflows)," Workflows"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," ",E(R.limits.executionsPerMonth)," Executions/month"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," ",E(R.limits.teamMembers)," Team members"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," ",R.limits.storageGb," GB Storage"]}),R.features.githubIntegration&&r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," GitHub Integration"]}),R.features.advancedAnalytics&&r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," Advanced Analytics"]}),R.features.prioritySupport&&r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," Priority Support"]}),R.features.sso&&r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," SSO"]})]}),(n==null?void 0:n.planId)===R.id?r.jsx("button",{disabled:!0,className:"w-full py-2 bg-gray-100 text-gray-500 rounded-lg cursor-not-allowed",children:"Current Plan"}):R.id==="free"?r.jsx("button",{disabled:!0,className:"w-full py-2 bg-gray-100 text-gray-500 rounded-lg cursor-not-allowed",children:"Free"}):R.pricing.monthlyRaw===-1?r.jsx("a",{href:"mailto:sales@kyndof.com",className:"block w-full py-2 text-center border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50",children:"Contact Sales"}):r.jsxs("button",{onClick:()=>O(R.id),className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[n&&n.planId!=="free"?"Switch to":"Upgrade to"," ",R.name]})]},R.id))})]}),p.length>0&&r.jsxs("section",{className:"p-6 bg-white rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Invoice History"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Period"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Amount"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),r.jsx("tbody",{children:p.map(R=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:new Date(R.createdAt).toLocaleDateString()}),r.jsxs("td",{className:"py-3 px-4",children:[new Date(R.periodStart).toLocaleDateString()," -"," ",new Date(R.periodEnd).toLocaleDateString()]}),r.jsx("td",{className:"py-3 px-4",children:R.amountFormatted}),r.jsx("td",{className:"py-3 px-4",children:r.jsx(Ste,{status:R.status})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex gap-2",children:[R.hostedInvoiceUrl&&r.jsx("a",{href:R.hostedInvoiceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"View"}),R.invoicePdfUrl&&r.jsx("a",{href:R.invoicePdfUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"PDF"})]})})]},R.id))})]})})]})]})},Ul=({label:e,current:t,limit:n,percentage:a})=>{const s=l=>l===-1?"Unlimited":l.toLocaleString(),i=l=>l>=90?"bg-red-500":l>=75?"bg-orange-500":"bg-blue-600";return r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-gray-600",children:e}),r.jsxs("span",{className:"text-sm text-gray-500",children:[t.toLocaleString()," / ",s(n)]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`${i(a)} h-2 rounded-full transition-all`,style:{width:`${Math.min(a,100)}%`}})})]})},Hn=()=>r.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),Ste=({status:e})=>{const t={paid:"bg-green-100 text-green-800",open:"bg-yellow-100 text-yellow-800",draft:"bg-gray-100 text-gray-800",void:"bg-red-100 text-red-800",uncollectible:"bg-red-100 text-red-800"};return r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${t[e]||t.draft}`,children:e.charAt(0).toUpperCase()+e.slice(1)})};function kte(){const[e,t]=b.useState(null),[n,a]=b.useState([]),[s,i]=b.useState(null),[l,d]=b.useState(!0),[u,h]=b.useState(null),[p,m]=b.useState(!1),[x,j]=b.useState("month"),[v,w]=b.useState(""),[g,S]=b.useState(!1),{user:P}=rs();b.useEffect(()=>{O()},[x]);const O=async()=>{try{d(!0),h(null);const[I,M,$]=await Promise.all([fetch(`/api/costs/summary?period=${x}`,{credentials:"include"}),fetch("/api/costs/daily?days=30",{credentials:"include"}),fetch("/api/costs/budget",{credentials:"include"})]);if(Io(I)){m(!0);return}if(!I.ok||!M.ok||!$.ok)throw new Error("Failed to fetch cost data");const[G,V,z]=await Promise.all([I.json(),M.json(),$.json()]);t(G.data),a(V.data.trend),i(z.data),z.data.budgetCents&&w((z.data.budgetCents/100).toString())}catch(I){h(I instanceof Error?I.message:"Unknown error")}finally{d(!1)}},N=async()=>{try{S(!0);const I=v?Math.round(parseFloat(v)*100):null,M=await fetch("/api/costs/budget",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({budgetCents:I})});if(!M.ok){const $=await M.json();throw new Error($.message||"Failed to update budget")}await O()}catch(I){h(I instanceof Error?I.message:"Failed to update budget")}finally{S(!1)}},A=I=>`$${(I/100).toFixed(2)}`,C=I=>I.toLocaleString(),E=I=>{switch(I){case"exceeded":return"bg-red-500";case"critical":return"bg-orange-500";case"warning":return"bg-yellow-500";default:return"bg-green-500"}},T=I=>{switch(I){case"exceeded":return"bg-red-100 text-red-800";case"critical":return"bg-orange-100 text-orange-800";case"warning":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},R=()=>Math.max(...n.map(I=>I.totalCostCents),1);return p?r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cost Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Monitor and manage your AI agent spending."})]}),r.jsx(Jc,{title:"Cost Dashboard",description:"The cost dashboard is currently being set up. This feature will display spending analytics, budget tracking, and cost breakdowns by agent and model once the backend service is activated.",onRetry:O})]}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cost Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Monitor and manage your AI agent spending."})]}),u&&r.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsx("p",{className:"text-red-800",children:u})}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Monthly Budget"}),s&&r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${T(s.status)}`,children:s.status==="exceeded"?"Budget Exceeded":s.status==="critical"?"Critical":s.status==="warning"?"Warning":"On Track"})]}),l?r.jsx("div",{className:"h-20 bg-gray-200 animate-pulse rounded"}):s?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[r.jsx("span",{className:"text-4xl font-bold text-gray-900",children:A(s.spentCents)}),s.budgetCents&&r.jsxs("span",{className:"text-xl text-gray-500",children:["/ ",A(s.budgetCents)]}),r.jsxs("span",{className:"text-lg text-gray-500",children:["(",s.usedPercent,"%)"]})]}),s.budgetCents&&r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-4",children:r.jsx("div",{className:`h-4 rounded-full transition-all ${E(s.status)}`,style:{width:`${Math.min(s.usedPercent,100)}%`}})}),r.jsx("p",{className:"text-gray-600",children:s.budgetCents?`${A(s.remainingCents)} remaining this month`:"No budget limit set"})]}):r.jsx("p",{className:"text-gray-500",children:"No budget data available"}),r.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Set Monthly Budget (USD)"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),r.jsx("input",{type:"number",value:v,onChange:I=>w(I.target.value),placeholder:"500.00",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsx("button",{onClick:N,disabled:g,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:g?"Saving...":"Save"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to remove budget limit. Alerts at 80%, 90%, and 100%."})]})]}),r.jsx("div",{className:"mb-6 flex gap-2",children:["day","week","month"].map(I=>r.jsx("button",{onClick:()=>j(I),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${x===I?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:I==="day"?"Today":I==="week"?"This Week":"This Month"},I))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Cost"}),l?r.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):r.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:A((e==null?void 0:e.totalCostCents)??0)})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Requests"}),l?r.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):r.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:C((e==null?void 0:e.requestCount)??0)})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Input Tokens"}),l?r.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C((e==null?void 0:e.totalInputTokens)??0)})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Output Tokens"}),l?r.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C((e==null?void 0:e.totalOutputTokens)??0)})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cost by Agent"}),l?r.jsx("div",{className:"space-y-4",children:[1,2,3].map(I=>r.jsx("div",{className:"h-12 bg-gray-200 animate-pulse rounded"},I))}):e!=null&&e.byAgent&&e.byAgent.length>0?r.jsx("div",{className:"space-y-4",children:e.byAgent.map(I=>{const M=e.totalCostCents>0?Math.round(I.totalCostCents/e.totalCostCents*100):0;return r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-sm",children:""})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsx("span",{className:"font-medium text-gray-900",children:I.agentName||I.agentId.slice(0,8)}),r.jsxs("span",{className:"text-sm text-gray-600",children:[A(I.totalCostCents)," (",M,"%)"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"h-2 bg-indigo-600 rounded-full transition-all",style:{width:`${M}%`}})}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[C(I.requestCount)," requests"]})]})]},I.agentId)})}):r.jsx("p",{className:"text-gray-500",children:"No agent cost data available"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Daily Cost Trend (Last 30 Days)"}),l?r.jsx("div",{className:"h-48 bg-gray-200 animate-pulse rounded"}):n.length>0?r.jsx("div",{className:"h-48 flex items-end gap-1",children:n.slice(-30).map(I=>{const M=I.totalCostCents>0?Math.max(I.totalCostCents/R()*100,4):2;return r.jsxs("div",{className:"flex-1 group relative",title:`${I.date}: ${A(I.totalCostCents)}`,children:[r.jsx("div",{className:"bg-indigo-500 hover:bg-indigo-600 rounded-t transition-all cursor-pointer",style:{height:`${M}%`}}),r.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:r.jsxs("div",{className:"bg-gray-900 text-white text-xs rounded py-1 px-2 whitespace-nowrap",children:[I.date,": ",A(I.totalCostCents)]})})]},I.date)})}):r.jsx("p",{className:"text-gray-500",children:"No trend data available"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cost by Model"}),l?r.jsx("div",{className:"space-y-2",children:[1,2,3].map(I=>r.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"},I))}):e!=null&&e.byModel&&Object.keys(e.byModel).length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Model"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cost"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Requests"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Avg/Request"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:Object.entries(e.byModel).sort(([,I],[,M])=>M.costCents-I.costCents).map(([I,M])=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:I}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:A(M.costCents)}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:C(M.requests)}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:A(M.requests>0?Math.round(M.costCents/M.requests):0)})]},I))})]})}):r.jsx("p",{className:"text-gray-500",children:"No model cost data available"})]})]})}const Cte=["agents:read","agents:execute","workflows:read","workflows:write","workflows:execute","executions:read","webhooks:manage","organization:read"],Ate=["agent.execution.started","agent.execution.completed","agent.execution.failed","workflow.started","workflow.completed","workflow.failed","approval.requested","approval.completed","approval.rejected","api_key.created","api_key.revoked"],Pte=()=>{const[e,t]=b.useState("keys"),[n,a]=b.useState([]),[s,i]=b.useState([]),[l,d]=b.useState(null),[u,h]=b.useState(!0),[p,m]=b.useState(null),[x,j]=b.useState(!1),[v,w]=b.useState(""),[g,S]=b.useState([]),[P,O]=b.useState("free"),[N,A]=b.useState(null),[C,E]=b.useState(!1),[T,R]=b.useState(""),[I,M]=b.useState([]),[$,G]=b.useState(null),V=b.useCallback(async()=>{h(!0),m(null);try{const[Y,H,ue]=await Promise.all([fetch("/api/organization/api-keys"),fetch("/api/organization/webhooks"),fetch("/api/organization/usage")]);if(Y.ok){const he=await Y.json();a(he.data||[])}if(H.ok){const he=await H.json();i(he.data||[])}if(ue.ok){const he=await ue.json();d(he.data||null)}}catch(Y){m("Failed to load data"),console.error("Error fetching developer portal data:",Y)}finally{h(!1)}},[]);b.useEffect(()=>{V()},[V]);const z=async()=>{try{const Y=await fetch("/api/organization/api-keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:v,scopes:g,rateLimitTier:P})});if(Y.ok){const H=await Y.json();A(H.data.key),a(ue=>[...ue,H.data]),w(""),S([]),O("free")}else{const H=await Y.json();m(H.message||"Failed to create API key")}}catch{m("Failed to create API key")}},U=async Y=>{if(confirm("Are you sure you want to revoke this API key? This action cannot be undone."))try{(await fetch(`/api/organization/api-keys/${Y}`,{method:"DELETE"})).ok&&a(ue=>ue.map(he=>he.id===Y?{...he,status:"revoked"}:he))}catch{m("Failed to revoke API key")}},W=async()=>{try{const Y=await fetch("/api/organization/webhooks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:T,events:I})});if(Y.ok){const H=await Y.json();G(H.data.secret),i(ue=>[...ue,H.data]),R(""),M([])}else{const H=await Y.json();m(H.message||"Failed to create webhook")}}catch{m("Failed to create webhook")}},B=async Y=>{if(confirm("Are you sure you want to delete this webhook?"))try{(await fetch(`/api/organization/webhooks/${Y}`,{method:"DELETE"})).ok&&i(ue=>ue.filter(he=>he.id!==Y))}catch{m("Failed to delete webhook")}},F=async Y=>{try{const ue=await(await fetch(`/api/organization/webhooks/${Y}/test`,{method:"POST"})).json();ue.data.success?alert(`Webhook test successful! Response time: ${ue.data.latencyMs}ms`):alert(`Webhook test failed: ${ue.data.error||"Unknown error"}`)}catch{alert("Failed to test webhook")}},L=Y=>Y?new Date(Y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",q=Y=>{switch(Y){case"enterprise":return"bg-purple-100 text-purple-800";case"pro":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},K=Y=>{switch(Y){case"active":return"bg-green-100 text-green-800";case"revoked":return"bg-red-100 text-red-800";case"expired":return"bg-yellow-100 text-yellow-800";case"disabled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return u?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Developer Portal"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage API keys, webhooks, and access API documentation"})]}),p&&r.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[p,r.jsx("button",{onClick:()=>m(null),className:"ml-2 text-red-500 hover:text-red-700",children:"Dismiss"})]}),l&&r.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Requests"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalRequests.toLocaleString()})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Rate Limit (per minute)"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.rateLimits.minute.remaining," / ",l.rateLimits.minute.limit]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Resets in ",l.rateLimits.minute.resetInSeconds,"s"]})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Rate Limit (per day)"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.rateLimits.day.remaining.toLocaleString()," / ",l.rateLimits.day.limit.toLocaleString()]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Resets in ",Math.floor(l.rateLimits.day.resetInSeconds/3600),"h"]})]})]}),r.jsx("div",{className:"border-b border-gray-200 mb-6",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:["keys","webhooks","docs"].map(Y=>r.jsxs("button",{onClick:()=>t(Y),className:`py-2 px-1 border-b-2 font-medium text-sm ${e===Y?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[Y==="keys"&&"API Keys",Y==="webhooks"&&"Webhooks",Y==="docs"&&"Documentation"]},Y))})}),e==="keys"&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"API Keys"}),r.jsx("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create API Key"})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Key Prefix"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tier"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Used"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Requests"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[n.map(Y=>r.jsxs("tr",{children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:Y.name}),r.jsxs("div",{className:"text-xs text-gray-500",children:[Y.scopes.slice(0,3).join(", "),Y.scopes.length>3&&` +${Y.scopes.length-3} more`]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:[Y.keyPrefix,"..."]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${q(Y.rateLimitTier)}`,children:Y.rateLimitTier})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${K(Y.status)}`,children:Y.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L(Y.lastUsedAt)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Y.totalRequests.toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:Y.status==="active"&&r.jsx("button",{onClick:()=>U(Y.id),className:"text-red-600 hover:text-red-900",children:"Revoke"})})]},Y.id)),n.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"No API keys found. Create one to get started."})})]})]})})]}),e==="webhooks"&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Webhooks"}),r.jsx("button",{onClick:()=>E(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Webhook"})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"URL"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Events"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Delivery"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[s.map(Y=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:Y.url})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-sm text-gray-500",children:[Y.events.slice(0,2).join(", "),Y.events.length>2&&` +${Y.events.length-2} more`]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${K(Y.status)}`,children:Y.status}),Y.failureCount>0&&r.jsxs("span",{className:"ml-2 text-xs text-red-500",children:["(",Y.failureCount," failures)"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Y.lastSuccess?r.jsx("span",{className:"text-green-600",children:L(Y.lastSuccess)}):Y.lastFailure?r.jsx("span",{className:"text-red-600",children:L(Y.lastFailure)}):"Never"}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm space-x-2",children:[r.jsx("button",{onClick:()=>F(Y.id),className:"text-blue-600 hover:text-blue-900",children:"Test"}),r.jsx("button",{onClick:()=>B(Y.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},Y.id)),s.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No webhooks configured. Create one to receive event notifications."})})]})]})})]}),e==="docs"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"API Documentation"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"The Nubabel API allows you to programmatically manage agents, workflows, and executions."}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"Base URL"}),r.jsxs("code",{className:"block mt-1 p-2 bg-gray-100 rounded text-sm",children:[window.location.origin,"/api/v1"]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"Authentication"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Include your API key in the Authorization header:"}),r.jsx("code",{className:"block mt-1 p-2 bg-gray-100 rounded text-sm",children:"Authorization: Bearer YOUR_API_KEY"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"OpenAPI Specification"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Download the full OpenAPI 3.0 specification for API clients:"}),r.jsx("a",{href:"/api/v1/docs/openapi.yaml",className:"inline-block mt-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded text-sm",download:!0,children:"Download OpenAPI Spec"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Available Endpoints"}),r.jsx("div",{className:"space-y-3",children:[{method:"GET",path:"/agents",desc:"List available agents"},{method:"POST",path:"/agents/:id/execute",desc:"Execute an agent"},{method:"GET",path:"/workflows",desc:"List workflows"},{method:"POST",path:"/workflows",desc:"Create a workflow"},{method:"POST",path:"/workflows/:id/execute",desc:"Execute a workflow"},{method:"GET",path:"/executions",desc:"List executions"},{method:"GET",path:"/executions/:id",desc:"Get execution details"},{method:"GET",path:"/webhooks",desc:"List webhooks"},{method:"POST",path:"/webhooks",desc:"Create a webhook"},{method:"GET",path:"/organization",desc:"Get organization info"}].map(Y=>r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("span",{className:`px-2 py-1 rounded text-xs font-mono mr-3 ${Y.method==="GET"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:Y.method}),r.jsx("code",{className:"text-gray-900",children:Y.path}),r.jsx("span",{className:"ml-3 text-gray-500",children:Y.desc})]},Y.path))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Rate Limits by Tier"}),r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-gray-500",children:[r.jsx("th",{className:"pb-2",children:"Tier"}),r.jsx("th",{className:"pb-2",children:"Per Minute"}),r.jsx("th",{className:"pb-2",children:"Per Day"})]})}),r.jsxs("tbody",{className:"text-gray-900",children:[r.jsxs("tr",{children:[r.jsx("td",{className:"py-1",children:"Free"}),r.jsx("td",{children:"60"}),r.jsx("td",{children:"1,000"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-1",children:"Pro"}),r.jsx("td",{children:"300"}),r.jsx("td",{children:"10,000"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-1",children:"Enterprise"}),r.jsx("td",{children:"1,000"}),r.jsx("td",{children:"100,000"})]})]})]})]})]}),x&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:N?r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"API Key Created"}),r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-4",children:[r.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Copy this key now. It won't be shown again!"}),r.jsx("code",{className:"block p-2 bg-white rounded border text-sm break-all",children:N})]}),r.jsx("button",{onClick:()=>{navigator.clipboard.writeText(N),alert("Copied to clipboard!")},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mb-2",children:"Copy to Clipboard"}),r.jsx("button",{onClick:()=>{j(!1),A(null)},className:"w-full px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Done"})]}):r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create API Key"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("input",{type:"text",value:v,onChange:Y=>w(Y.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"My API Key"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tier"}),r.jsxs("select",{value:P,onChange:Y=>O(Y.target.value),className:"w-full px-3 py-2 border rounded-lg",children:[r.jsx("option",{value:"free",children:"Free (60/min, 1K/day)"}),r.jsx("option",{value:"pro",children:"Pro (300/min, 10K/day)"}),r.jsx("option",{value:"enterprise",children:"Enterprise (1K/min, 100K/day)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scopes"}),r.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:Cte.map(Y=>r.jsxs("label",{className:"flex items-center text-sm",children:[r.jsx("input",{type:"checkbox",checked:g.includes(Y),onChange:H=>{H.target.checked?S(ue=>[...ue,Y]):S(ue=>ue.filter(he=>he!==Y))},className:"mr-2"}),Y]},Y))})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:z,disabled:!v||g.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Create"})]})]})})}),C&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:$?r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Webhook Created"}),r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-4",children:[r.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Copy this secret now. It won't be shown again!"}),r.jsx("code",{className:"block p-2 bg-white rounded border text-sm break-all",children:$})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Use this secret to verify webhook signatures. Include it in your webhook handler to validate that requests come from Nubabel."}),r.jsx("button",{onClick:()=>{navigator.clipboard.writeText($),alert("Copied to clipboard!")},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mb-2",children:"Copy to Clipboard"}),r.jsx("button",{onClick:()=>{E(!1),G(null)},className:"w-full px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Done"})]}):r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create Webhook"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),r.jsx("input",{type:"url",value:T,onChange:Y=>R(Y.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"https://example.com/webhook"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Events"}),r.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-48 overflow-y-auto",children:Ate.map(Y=>r.jsxs("label",{className:"flex items-center text-sm",children:[r.jsx("input",{type:"checkbox",checked:I.includes(Y),onChange:H=>{H.target.checked?M(ue=>[...ue,Y]):M(ue=>ue.filter(he=>he!==Y))},className:"mr-2"}),Y]},Y))})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:W,disabled:!T||I.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Create"})]})]})})})]})};function Ote(){const{slug:e}=Zh(),[t,n]=b.useState(null),[a,s]=b.useState([]),[i,l]=b.useState(null),[d,u]=b.useState([]),[h,p]=b.useState([]),[m,x]=b.useState(!1),[j,v]=b.useState(!0),[w,g]=b.useState(!1),[S,P]=b.useState(null),[O,N]=b.useState("overview"),[A,C]=b.useState(null),E=b.useCallback(async()=>{if(e){v(!0);try{const W=await se({url:`/api/marketplace/extensions/${e}`,method:"GET"});n(W.extension)}catch(W){W instanceof Ve&&W.status===404?P("Extension not found"):P("Failed to load extension")}finally{v(!1)}}},[e]),T=b.useCallback(async()=>{if(e)try{const W=await se({url:`/api/marketplace/extensions/${e}/reviews`,method:"GET"});s(W.reviews.items),l(W.summary)}catch(W){console.error("Failed to fetch reviews:",W)}},[e]),R=b.useCallback(async()=>{if(e)try{const W=await se({url:`/api/marketplace/extensions/${e}/versions`,method:"GET"});u(W.versions)}catch(W){console.error("Failed to fetch versions:",W)}},[e]),I=b.useCallback(async()=>{if(e)try{const W=await se({url:`/api/marketplace/extensions/${e}/similar`,method:"GET"});p(W.extensions)}catch(W){console.error("Failed to fetch similar:",W)}},[e]),M=b.useCallback(async()=>{try{const W=await se({url:"/api/marketplace/installed",method:"GET"});x(W.installed.some(B=>B.extension.slug===e))}catch{}},[e]);b.useEffect(()=>{E(),T(),R(),I(),M()},[E,T,R,I,M]);const $=async()=>{if(t){g(!0);try{await se({url:`/api/marketplace/extensions/${t.id}/install`,method:"POST"}),x(!0)}catch(W){const B=W instanceof Ve?W.message:"Install failed";alert(B)}finally{g(!1)}}},G=async()=>{if(!(!t||!confirm("Are you sure you want to uninstall this extension?")))try{await se({url:`/api/marketplace/extensions/${t.id}/uninstall`,method:"POST"}),x(!1)}catch(W){const B=W instanceof Ve?W.message:"Uninstall failed";alert(B)}},V=W=>W>=1e6?`${(W/1e6).toFixed(1)}M`:W>=1e3?`${(W/1e3).toFixed(1)}K`:String(W),z=W=>{if(W.pricing==="free")return"Free";if(!W.price)return"Paid";const B=(W.price.amount/100).toFixed(2),F=W.price.interval?`/${W.price.interval}`:"";return`$${B}${F}`},U=(W,B="sm")=>{const F=[],L=B==="lg"?"text-xl":"text-sm";for(let q=1;q<=5;q++)F.push(r.jsx("span",{className:`${q<=W?"text-yellow-400":"text-gray-300"} ${L}`,children:""},q));return F};return j?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):S||!t?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:S||"Extension not found"}),r.jsx(ft,{to:"/marketplace",className:"text-indigo-600 hover:text-indigo-800",children:" Back to Marketplace"})]}):r.jsxs("div",{children:[r.jsxs("nav",{className:"mb-4 text-sm",children:[r.jsx(ft,{to:"/marketplace",className:"text-indigo-600 hover:text-indigo-800",children:"Marketplace"}),r.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),r.jsx("span",{className:"text-gray-600",children:t.name})]}),r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:r.jsxs("div",{className:"flex gap-6",children:[r.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:t.icon?r.jsx("img",{src:t.icon,alt:"",className:"w-16 h-16 rounded-xl"}):r.jsx("span",{className:"text-4xl",children:""})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),r.jsxs("p",{className:"text-gray-500 flex items-center gap-2 mt-1",children:[r.jsx("span",{children:t.publisherName}),t.publisherVerified&&r.jsx("span",{className:"text-blue-500",title:"Verified Publisher",children:" Verified"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`px-3 py-1.5 rounded-lg text-sm font-medium ${t.pricing==="free"?"bg-green-100 text-green-700":t.pricing==="freemium"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:z(t)}),m?r.jsx("button",{onClick:G,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Uninstall"}):r.jsx("button",{onClick:$,disabled:w,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:w?"Installing...":"Install"})]})]}),r.jsx("p",{className:"text-gray-600 mt-3",children:t.description}),r.jsxs("div",{className:"flex items-center gap-6 mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[U(Math.round(t.stats.rating)),r.jsxs("span",{className:"text-gray-600 ml-1",children:[t.stats.rating.toFixed(1)," (",t.stats.reviewCount," reviews)"]})]}),r.jsx("span",{className:"text-gray-400",children:"|"}),r.jsxs("span",{className:"text-gray-600",children:[V(t.stats.downloads)," downloads"]}),r.jsx("span",{className:"text-gray-400",children:"|"}),r.jsxs("span",{className:"text-gray-600",children:[V(t.stats.activeInstalls)," active installs"]}),r.jsx("span",{className:"text-gray-400",children:"|"}),r.jsxs("span",{className:"text-gray-600",children:["v",t.version]})]}),t.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:t.tags.map(W=>r.jsx(ft,{to:`/marketplace?q=${W}`,className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs hover:bg-gray-200",children:W},W))})]})]})}),r.jsx("div",{className:"border-b border-gray-200 mb-6",children:r.jsx("div",{className:"flex gap-6",children:["overview","reviews","versions"].map(W=>r.jsxs("button",{onClick:()=>N(W),className:`py-3 text-sm font-medium border-b-2 -mb-px ${O===W?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[W==="overview"&&"Overview",W==="reviews"&&`Reviews (${t.stats.reviewCount})`,W==="versions"&&"Version History"]},W))})}),r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsxs("div",{className:"col-span-2",children:[O==="overview"&&r.jsxs("div",{children:[t.screenshots.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Screenshots"}),r.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:t.screenshots.map((W,B)=>r.jsx("img",{src:W,alt:`Screenshot ${B+1}`,onClick:()=>C(W),className:"h-48 rounded-lg border border-gray-200 cursor-pointer hover:opacity-90"},B))})]}),r.jsxs("div",{className:"prose max-w-none",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Description"}),r.jsx("div",{className:"text-gray-600 whitespace-pre-wrap",children:t.longDescription})]})]}),O==="reviews"&&r.jsxs("div",{children:[i&&r.jsx("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:r.jsxs("div",{className:"flex items-center gap-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-gray-900",children:i.average.toFixed(1)}),r.jsx("div",{className:"flex justify-center mt-1",children:U(Math.round(i.average),"lg")}),r.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[i.count," reviews"]})]}),r.jsx("div",{className:"flex-1",children:[5,4,3,2,1].map(W=>r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-sm text-gray-600 w-3",children:W}),r.jsx("span",{className:"text-yellow-400",children:""}),r.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-yellow-400",style:{width:`${i.count>0?i.distribution[W]/i.count*100:0}%`}})}),r.jsx("span",{className:"text-sm text-gray-500 w-8",children:i.distribution[W]||0})]},W))})]})}),a.length===0?r.jsx("div",{className:"text-center py-12 text-gray-500",children:"No reviews yet. Be the first to review!"}):r.jsx("div",{className:"space-y-4",children:a.map(W=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:W.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[U(W.rating),r.jsxs("span",{className:"text-sm text-gray-500",children:["by ",W.userName,"  ",new Date(W.createdAt).toLocaleDateString()]})]})]}),r.jsxs("span",{className:"text-sm text-gray-400",children:[W.helpfulCount," found helpful"]})]}),r.jsx("p",{className:"text-gray-600 mt-2",children:W.body}),W.publisherResponse&&r.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg border-l-4 border-indigo-400",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Publisher Response"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:W.publisherResponse.body})]})]},W.id))})]}),O==="versions"&&r.jsx("div",{className:"space-y-4",children:d.map(W=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"font-medium text-gray-900",children:["v",W.version]}),r.jsx("span",{className:"text-sm text-gray-500",children:W.publishedAt?new Date(W.publishedAt).toLocaleDateString():"Unpublished"})]}),W.changelog&&r.jsx("div",{className:"text-gray-600 text-sm mt-2 whitespace-pre-wrap",children:W.changelog})]},W.id))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Information"}),r.jsxs("dl",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-500",children:"Version"}),r.jsx("dd",{className:"text-gray-900",children:t.version})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-500",children:"Category"}),r.jsx("dd",{className:"text-gray-900",children:t.category})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-500",children:"Min Nubabel"}),r.jsx("dd",{className:"text-gray-900",children:t.requirements.nubabelVersion})]}),t.publishedAt&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-500",children:"Published"}),r.jsx("dd",{className:"text-gray-900",children:new Date(t.publishedAt).toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-500",children:"Updated"}),r.jsx("dd",{className:"text-gray-900",children:new Date(t.updatedAt).toLocaleDateString()})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Links"}),r.jsxs("div",{className:"space-y-2",children:[t.repositoryUrl&&r.jsxs("a",{href:t.repositoryUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[r.jsx("span",{children:""})," Source Code"]}),t.documentationUrl&&r.jsxs("a",{href:t.documentationUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[r.jsx("span",{children:""})," Documentation"]}),t.demoUrl&&r.jsxs("a",{href:t.demoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[r.jsx("span",{children:""})," Live Demo"]})]})]}),t.requirements.permissions.length>0&&r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Permissions"}),r.jsx("ul",{className:"space-y-1 text-sm text-gray-600",children:t.requirements.permissions.map(W=>r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-amber-500",children:""})," ",W]},W))})]}),h.length>0&&r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Similar Extensions"}),r.jsx("div",{className:"space-y-3",children:h.slice(0,4).map(W=>r.jsxs(ft,{to:`/marketplace/${W.slug}`,className:"flex items-center gap-3 hover:bg-gray-50 p-2 -mx-2 rounded-lg",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:W.icon?r.jsx("img",{src:W.icon,alt:"",className:"w-6 h-6 rounded"}):r.jsx("span",{children:""})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:W.name}),r.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[r.jsx("span",{className:"text-yellow-400",children:""})," ",W.stats.rating.toFixed(1)]})]})]},W.id))})]})]})]}),A&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",onClick:()=>C(null),children:r.jsx("img",{src:A,alt:"",className:"max-w-full max-h-full rounded-lg"})})]})}function Ete(){var C;const[e,t]=b.useState(null),[n,a]=b.useState([]),[s,i]=b.useState(null),[l,d]=b.useState(!0),[u,h]=b.useState(null),[p,m]=b.useState(!1),[x,j]=b.useState(null),[v,w]=b.useState(30);b.useEffect(()=>{g()},[v]);const g=async()=>{d(!0),h(null);try{const[E,T]=await Promise.all([fetch(`/api/feedback/analysis?days=${v}`,{credentials:"include"}),fetch("/api/feedback/actions",{credentials:"include"})]);if(Io(E)){m(!0);return}if(!E.ok||!T.ok)throw new Error("Failed to fetch feedback data");const R=await E.json(),I=await T.json();t(R),a(I.actions),i(I.stats)}catch(E){h(E instanceof Error?E.message:"An error occurred")}finally{d(!1)}},S=async E=>{j(E);try{if(!(await fetch(`/api/feedback/actions/${E}/apply`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to apply action");await g()}catch(T){h(T instanceof Error?T.message:"Failed to apply action")}finally{j(null)}},P=async E=>{j(E);try{if(!(await fetch(`/api/feedback/actions/${E}/dismiss`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to dismiss action");await g()}catch(T){h(T instanceof Error?T.message:"Failed to dismiss action")}finally{j(null)}},O=async()=>{try{if(!(await fetch("/api/feedback/process",{method:"POST",credentials:"include"})).ok)throw new Error("Failed to process feedback");await g()}catch(E){h(E instanceof Error?E.message:"Failed to process feedback")}},N=E=>{switch(E){case"positive":return"text-green-600 bg-green-100";case"negative":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},A=E=>{switch(E){case"high":return"text-red-600 bg-red-100";case"medium":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}};return p?r.jsxs("div",{className:"p-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Feedback Insights"}),r.jsx(Jc,{title:"Feedback Analysis",description:"Feedback analysis is currently being set up. This feature will display feedback analytics, sentiment patterns, and improvement recommendations once the backend service is activated.",onRetry:g})]}):l?r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),r.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(E=>r.jsx("div",{className:"h-24 bg-gray-200 rounded"},E))})]})}):r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Feedback Insights"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("select",{value:v,onChange:E=>w(parseInt(E.target.value)),className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[r.jsx("option",{value:7,children:"Last 7 days"}),r.jsx("option",{value:30,children:"Last 30 days"}),r.jsx("option",{value:90,children:"Last 90 days"})]}),r.jsx("button",{onClick:O,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Process Pending"})]})]}),u&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 text-red-700",children:u}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Feedback"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(e==null?void 0:e.totalCount)||0})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pending Actions"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:(s==null?void 0:s.pending)||0})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Applied Actions"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:(s==null?void 0:s.applied)||0})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Success Rate"}),r.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:s?`${(s.successRate*100).toFixed(0)}%`:"N/A"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sentiment Distribution"}),r.jsxs("div",{className:"space-y-3",children:[(e==null?void 0:e.sentimentDistribution)&&Object.entries(e.sentimentDistribution).map(([E,T])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${N(E)}`,children:E}),r.jsx("span",{className:"text-gray-700 font-medium",children:T})]},E)),(!(e!=null&&e.sentimentDistribution)||Object.keys(e.sentimentDistribution).length===0)&&r.jsx("p",{className:"text-gray-500 text-sm",children:"No sentiment data available"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Category Distribution"}),r.jsxs("div",{className:"space-y-3",children:[(e==null?void 0:e.categoryDistribution)&&Object.entries(e.categoryDistribution).sort((E,T)=>T[1]-E[1]).slice(0,5).map(([E,T])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-700",children:E.replace(/_/g," ")}),r.jsx("span",{className:"bg-gray-100 px-3 py-1 rounded-full text-sm font-medium text-gray-700",children:T})]},E)),(!(e!=null&&e.categoryDistribution)||Object.keys(e.categoryDistribution).length===0)&&r.jsx("p",{className:"text-gray-500 text-sm",children:"No category data available"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recommended Actions"})}),r.jsx("div",{className:"divide-y divide-gray-200",children:n.length===0?r.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:"No pending actions"}):n.map(E=>r.jsx("div",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${A(E.priority)}`,children:E.priority}),r.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:E.type.replace(/_/g," ")}),E.autoApplicable&&r.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded",children:"Auto-applicable"})]}),r.jsx("p",{className:"mt-2 text-gray-900",children:E.description}),r.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Est. impact: ",E.estimatedImpact.affectedRequests," requests, +",(E.estimatedImpact.expectedImprovement*100).toFixed(0),"% improvement"]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsx("button",{onClick:()=>S(E.id),disabled:x===E.id,className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700 disabled:opacity-50",children:x===E.id?"...":"Apply"}),r.jsx("button",{onClick:()=>P(E.id),disabled:x===E.id,className:"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 disabled:opacity-50",children:"Dismiss"})]})]})},E.id))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Feedback"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Sentiment"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Request"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[(C=e==null?void 0:e.recentFeedback)==null?void 0:C.slice(0,10).map(E=>{var T;return r.jsxs("tr",{children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[E.type,E.rating&&r.jsxs("span",{className:"ml-1",children:["(",E.rating,"/5)"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.sentiment&&r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${N(E.sentiment)}`,children:E.sentiment})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((T=E.category)==null?void 0:T.replace(/_/g," "))||"-"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:E.originalRequest}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(E.createdAt).toLocaleDateString()})]},E.id)}),(!(e!=null&&e.recentFeedback)||e.recentFeedback.length===0)&&r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No feedback yet"})})]})]})})]})]})}const Mi={person:"#4CAF50",agent:"#2196F3",team:"#9C27B0",project:"#FF9800",task:"#FFEB3B",document:"#795548",goal:"#E91E63",workflow:"#00BCD4"},rv={person:"People",agent:"Agents",team:"Teams",project:"Projects",task:"Tasks",document:"Documents",goal:"Goals",workflow:"Workflows"};function _te(){const[e,t]=b.useState(!1),[n,a]=b.useState(null),[s,i]=b.useState(!1),[l,d]=b.useState(null),[u,h]=b.useState(null),[p,m]=b.useState(null),[x,j]=b.useState([]),[v,w]=b.useState(""),[g,S]=b.useState([]),[P,O]=b.useState([]),[N,A]=b.useState(!1),C=b.useRef(null),E=b.useRef(null),T=b.useCallback(async()=>{try{const z=await fetch("/api/knowledge-graph/stats",{credentials:"include"});if(Io(z)){i(!0);return}if(!z.ok)throw new Error("Failed to fetch stats");const U=await z.json();d(U)}catch(z){console.error("Error fetching stats:",z)}},[]),R=b.useCallback(async z=>{t(!0),a(null);try{let U="/api/knowledge-graph/visualization";z&&z.length>0&&(U=`/api/knowledge-graph/visualization/filtered?nodeTypes=${z.join(",")}`);const W=await fetch(U,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch graph");const B=await W.json();h(B)}catch(U){a(U instanceof Error?U.message:"Unknown error")}finally{t(!1)}},[]),I=async()=>{A(!0),a(null);try{const z=await fetch("/api/knowledge-graph/build",{method:"POST",credentials:"include"});if(!z.ok)throw new Error("Failed to build graph");const U=await z.json();alert(`Graph built: ${U.nodeCount} nodes, ${U.edgeCount} edges`),await Promise.all([T(),R(P)])}catch(z){a(z instanceof Error?z.message:"Failed to build graph")}finally{A(!1)}},M=async()=>{if(!v.trim()){S([]);return}try{const z=await fetch(`/api/knowledge-graph/search?q=${encodeURIComponent(v)}&limit=10`,{credentials:"include"});if(!z.ok)throw new Error("Search failed");const U=await z.json();S(U.nodes||[])}catch(z){console.error("Search error:",z)}},$=async z=>{try{const U=await fetch(`/api/knowledge-graph/related/${z}?depth=2&limit=20`,{credentials:"include"});if(!U.ok)throw new Error("Failed to fetch related nodes");const W=await U.json();j(W.related||[])}catch(U){console.error("Error fetching related:",U)}},G=async z=>{m(z),await $(z.id)},V=z=>{O(U=>U.includes(z)?U.filter(B=>B!==z):[...U,z])};return b.useEffect(()=>{R(P)},[P,R]),b.useEffect(()=>{T(),R()},[T,R]),b.useEffect(()=>{if(!u||!C.current)return;const z=C.current,U=z.getContext("2d");if(!U)return;const W=z.parentElement;W&&(z.width=W.clientWidth,z.height=W.clientHeight),U.fillStyle="#1a1a2e",U.fillRect(0,0,z.width,z.height);const B=u.nodes.map(q=>({...q,x:Math.random()*z.width,y:Math.random()*z.height,vx:0,vy:0})),F=new Map(B.map(q=>[q.id,q]));for(let q=0;q<100;q++){for(let K=0;K<B.length;K++)for(let Y=K+1;Y<B.length;Y++){const H=B[Y].x-B[K].x,ue=B[Y].y-B[K].y,he=Math.sqrt(H*H+ue*ue)||1,oe=1e3/(he*he);B[K].vx-=H/he*oe,B[K].vy-=ue/he*oe,B[Y].vx+=H/he*oe,B[Y].vy+=ue/he*oe}for(const K of u.edges){const Y=F.get(K.from),H=F.get(K.to);if(Y&&H){const ue=H.x-Y.x,he=H.y-Y.y,oe=Math.sqrt(ue*ue+he*he)||1,te=oe*.01;Y.vx+=ue/oe*te,Y.vy+=he/oe*te,H.vx-=ue/oe*te,H.vy-=he/oe*te}}for(const K of B)K.vx+=(z.width/2-K.x)*.001,K.vy+=(z.height/2-K.y)*.001;for(const K of B)K.x+=K.vx*.1,K.y+=K.vy*.1,K.vx*=.9,K.vy*=.9,K.x=Math.max(50,Math.min(z.width-50,K.x)),K.y=Math.max(50,Math.min(z.height-50,K.y))}U.strokeStyle="#4a4a6a",U.lineWidth=1;for(const q of u.edges){const K=F.get(q.from),Y=F.get(q.to);K&&Y&&(U.beginPath(),U.moveTo(K.x,K.y),U.lineTo(Y.x,Y.y),U.stroke())}for(const q of B){const K=Mi[q.group]||"#9E9E9E",Y=q.size||15;U.beginPath(),U.arc(q.x,q.y,Y,0,Math.PI*2),U.fillStyle=K,U.fill(),U.strokeStyle=(p==null?void 0:p.id)===q.id?"#ffffff":"#000000",U.lineWidth=(p==null?void 0:p.id)===q.id?3:1,U.stroke(),U.fillStyle="#ffffff",U.font="11px sans-serif",U.textAlign="center",U.fillText(q.label.slice(0,15),q.x,q.y+Y+12)}E.current=B;const L=q=>{const K=z.getBoundingClientRect(),Y=q.clientX-K.left,H=q.clientY-K.top;for(const ue of B)if(Math.sqrt((Y-ue.x)**2+(H-ue.y)**2)<=(ue.size||15)){G(ue);return}m(null),j([])};return z.addEventListener("click",L),()=>z.removeEventListener("click",L)},[u,p]),s?r.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[r.jsxs("div",{className:"border-b border-gray-800 px-6 py-4",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Knowledge Graph"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Explore relationships between entities in your organization"})]}),r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-12 text-center max-w-lg",children:[r.jsx("svg",{className:"w-12 h-12 mx-auto text-blue-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.42 15.17l-5.28-3.3a.5.5 0 010-.84l5.28-3.3a.5.5 0 01.76.42v6.6a.5.5 0 01-.76.42zM20 7l-8 5 8 5V7z"})}),r.jsx("h3",{className:"text-lg font-semibold text-blue-300 mb-2",children:"Knowledge Graph"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"The knowledge graph is currently being set up. This feature will visualize entity relationships once the backend service is activated."}),r.jsx("button",{onClick:()=>{i(!1),T(),R()},className:"mt-4 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Retry"})]})})]}):r.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[r.jsx("div",{className:"border-b border-gray-800 px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Knowledge Graph"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Explore relationships between entities in your organization"})]}),r.jsx("button",{onClick:I,disabled:N,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Building...":"Rebuild Graph"})]})}),r.jsxs("div",{className:"flex h-[calc(100vh-80px)]",children:[r.jsxs("div",{className:"w-80 border-r border-gray-800 p-4 overflow-y-auto",children:[l&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Statistics"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[r.jsx("div",{className:"text-2xl font-bold",children:l.nodeCount}),r.jsx("div",{className:"text-gray-400",children:"Nodes"})]}),r.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[r.jsx("div",{className:"text-2xl font-bold",children:l.edgeCount}),r.jsx("div",{className:"text-gray-400",children:"Edges"})]}),r.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[r.jsx("div",{className:"text-2xl font-bold",children:l.density.toFixed(3)}),r.jsx("div",{className:"text-gray-400",children:"Density"})]}),r.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[r.jsx("div",{className:"text-2xl font-bold",children:l.averageDegree.toFixed(1)}),r.jsx("div",{className:"text-gray-400",children:"Avg Degree"})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Search"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:v,onChange:z=>w(z.target.value),onKeyDown:z=>z.key==="Enter"&&M(),placeholder:"Search nodes...",className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded text-sm focus:outline-none focus:border-blue-500"}),r.jsx("button",{onClick:M,className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded",children:"Search"})]}),g.length>0&&r.jsx("div",{className:"mt-2 bg-gray-800 rounded max-h-40 overflow-y-auto",children:g.map(z=>r.jsxs("button",{onClick:()=>G(z),className:"w-full px-3 py-2 text-left hover:bg-gray-700 text-sm flex items-center gap-2",children:[r.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Mi[z.group]||"#9E9E9E"}}),z.label]},z.id))})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Filter by Type"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(rv).map(([z,U])=>r.jsx("button",{onClick:()=>V(z),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${P.includes(z)?"opacity-100":P.length>0?"opacity-40":"opacity-100"}`,style:{backgroundColor:P.includes(z)||P.length===0?Mi[z]:"#4a4a6a"},children:U},z))}),P.length>0&&r.jsx("button",{onClick:()=>O([]),className:"mt-2 text-xs text-blue-400 hover:text-blue-300",children:"Clear filters"})]}),p&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Selected Node"}),r.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:Mi[p.group]||"#9E9E9E"}}),r.jsx("span",{className:"font-semibold",children:p.label})]}),r.jsxs("div",{className:"text-xs text-gray-400 mb-3",children:["Type: ",rv[p.group]||p.group]}),x.length>0&&r.jsxs("div",{children:[r.jsxs("div",{className:"text-xs font-semibold text-gray-400 mb-2",children:["Related (",x.length,")"]}),r.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:x.map(z=>r.jsxs("div",{className:"flex items-center gap-2 text-xs p-1 hover:bg-gray-700 rounded cursor-pointer",onClick:()=>G({id:z.node.id,label:z.node.label,group:z.node.type}),children:[r.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Mi[z.node.type]||"#9E9E9E"}}),r.jsx("span",{className:"flex-1 truncate",children:z.node.label}),r.jsx("span",{className:"text-gray-500",children:z.edge.type})]},z.node.id))})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Legend"}),r.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(rv).map(([z,U])=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Mi[z]}}),U]},z))})]})]}),r.jsxs("div",{className:"flex-1 relative",children:[e&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900/80 z-10",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full mx-auto mb-2"}),r.jsx("div",{className:"text-gray-400",children:"Loading graph..."})]})}),n&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-red-400",children:[r.jsx("div",{className:"text-lg mb-2",children:"Error loading graph"}),r.jsx("div",{className:"text-sm",children:n}),r.jsx("button",{onClick:()=>R(P),className:"mt-4 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded",children:"Retry"})]})}),!e&&!n&&u&&u.nodes.length===0&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-gray-400",children:[r.jsx("div",{className:"text-lg mb-2",children:"No graph data"}),r.jsx("div",{className:"text-sm mb-4",children:"Build the graph to visualize entity relationships"}),r.jsx("button",{onClick:I,disabled:N,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded disabled:opacity-50",children:N?"Building...":"Build Graph"})]})}),r.jsx("canvas",{ref:C,className:"w-full h-full cursor-pointer",style:{display:e||n?"none":"block"}})]})]})]})}function Tte(){var K,Y;const[e,t]=ef(),[n,a]=b.useState([]),[s,i]=b.useState([]),[l,d]=b.useState([]),[u,h]=b.useState(null),[p,m]=b.useState(0),[x,j]=b.useState(!0),[v,w]=b.useState(e.get("q")||""),[g,S]=b.useState(e.get("category")||""),[P,O]=b.useState(e.get("pricing")||""),[N,A]=b.useState(e.get("sort")||"popular"),[C,E]=b.useState(1),[T,R]=b.useState([]),[I,M]=b.useState(null),$=b.useCallback(async()=>{j(!0);try{const H=new URLSearchParams;v&&H.set("q",v),g&&H.set("category",g),P&&H.set("pricing",P),H.set("sort",N),H.set("page",String(C)),H.set("limit","20");const he=await se({url:`${v?"/api/marketplace/search":"/api/marketplace/extensions"}?${H.toString()}`,method:"GET"});a(he.extensions||he.items||[]),m(he.total),he.facets&&h(he.facets)}catch(H){console.error("Failed to fetch extensions:",H)}finally{j(!1)}},[v,g,P,N,C]),G=b.useCallback(async()=>{try{const H=await se({url:"/api/marketplace/featured",method:"GET"});i(H.extensions)}catch(H){console.error("Failed to fetch featured:",H)}},[]),V=b.useCallback(async()=>{try{const H=await se({url:"/api/marketplace/categories",method:"GET"});d(H.categories)}catch(H){console.error("Failed to fetch categories:",H)}},[]),z=b.useCallback(async()=>{try{const H=await se({url:"/api/marketplace/suggestions",method:"GET"});R(H.data||[])}catch{}},[]);b.useEffect(()=>{V(),G(),z()},[V,G,z]),b.useEffect(()=>{$()},[$]),b.useEffect(()=>{const H=new URLSearchParams;v&&H.set("q",v),g&&H.set("category",g),P&&H.set("pricing",P),N!=="popular"&&H.set("sort",N),t(H)},[v,g,P,N,t]);const U=H=>{H.preventDefault(),E(1),$()},W=async H=>{M(H);try{await se({url:`/api/marketplace/suggestions/${H}/accept`,method:"POST"}),R(ue=>ue.filter(he=>he.patternId!==H))}catch(ue){console.error("Failed to accept suggestion:",ue)}finally{M(null)}},B=async H=>{try{await se({url:`/api/marketplace/suggestions/${H}/dismiss`,method:"POST"}),R(ue=>ue.filter(he=>he.patternId!==H))}catch(ue){console.error("Failed to dismiss suggestion:",ue)}},F=H=>H>=1e6?`${(H/1e6).toFixed(1)}M`:H>=1e3?`${(H/1e3).toFixed(1)}K`:String(H),L=H=>{if(H.pricing==="free")return"Free";if(!H.price)return"Paid";const ue=(H.price.amount/100).toFixed(2),he=H.price.interval?`/${H.price.interval}`:"";return`$${ue}${he}`},q=H=>{const ue=[];for(let he=1;he<=5;he++)ue.push(r.jsx("span",{className:he<=H?"text-yellow-400":"text-gray-300",children:""},he));return ue};return r.jsxs("div",{className:"min-h-screen",children:[r.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-12 px-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Extension Marketplace"}),r.jsx("p",{className:"text-indigo-100 mb-6",children:"Discover and install extensions to supercharge your workspace"}),r.jsxs("form",{onSubmit:U,className:"flex gap-3 max-w-2xl",children:[r.jsx("input",{type:"text",value:v,onChange:H=>w(H.target.value),placeholder:"Search extensions...",className:"flex-1 px-4 py-3 rounded-lg text-gray-900 focus:ring-2 focus:ring-white"}),r.jsx("button",{type:"submit",className:"px-6 py-3 bg-white text-indigo-600 rounded-lg font-medium hover:bg-indigo-50",children:"Search"})]})]})}),r.jsxs("div",{className:"max-w-6xl mx-auto py-8 px-6",children:[r.jsx("div",{className:"mb-8 bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-xl p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Looking for MCP Servers & External Tools?"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Connect to Smithery, Glama, ComfyUI, CivitAI, and more external ecosystems"})]})]}),r.jsx(ft,{to:"/marketplace-hub",className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 whitespace-nowrap",children:"Browse External Tools"})]})}),!v&&s.length>0&&r.jsxs("div",{className:"mb-10",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Featured Extensions"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.slice(0,3).map(H=>r.jsx(ft,{to:`/marketplace/${H.slug}`,className:"bg-gradient-to-br from-indigo-50 to-purple-50 border border-indigo-100 rounded-xl p-5 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-white rounded-xl flex items-center justify-center shadow-sm",children:H.icon?r.jsx("img",{src:H.icon,alt:"",className:"w-10 h-10 rounded-lg"}):r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:H.name}),r.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs rounded-full",children:"Featured"})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:H.description}),r.jsx("div",{className:"flex items-center gap-3 mt-2 text-sm",children:r.jsxs("span",{className:"flex items-center text-yellow-500",children:[q(Math.round(H.stats.rating)),r.jsxs("span",{className:"text-gray-500 ml-1",children:["(",H.stats.reviewCount,")"]})]})})]})]})},H.id))})]}),T.length>0&&r.jsxs("div",{className:"mb-10",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"AI-Suggested Skills"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Skills automatically detected from your team's usage patterns"})]}),r.jsxs("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:[T.length," suggestion",T.length!==1?"s":""]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map(H=>r.jsxs("div",{className:"bg-white border border-purple-200 rounded-xl p-5 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-lg",children:H.patternType==="composite"?"":H.patternType==="sequence"?"":""})}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"h-2 w-16 bg-gray-200 rounded-full overflow-hidden",title:`${Math.round(H.confidence*100)}% confidence`,children:r.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:`${H.confidence*100}%`}})}),r.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(H.confidence*100),"%"]})]})]}),r.jsx("h3",{className:"font-semibold text-gray-900",children:H.suggestedName}),r.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:H.suggestedDescription}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:H.suggestedTriggers.slice(0,3).map(ue=>r.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:ue},ue))}),r.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Detected ",H.frequency,"x as ",H.patternType," pattern"]}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsx("button",{onClick:()=>W(H.patternId),disabled:I===H.patternId,className:"flex-1 px-3 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 disabled:opacity-50",children:I===H.patternId?"Creating...":"Create Skill"}),r.jsx("button",{onClick:()=>B(H.patternId),className:"px-3 py-2 border border-gray-300 text-gray-600 rounded-lg text-sm hover:bg-gray-50",children:"Dismiss"})]})]},H.patternId))})]}),r.jsxs("div",{className:"flex gap-8",children:[r.jsxs("div",{className:"w-56 flex-shrink-0",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Categories"}),r.jsxs("ul",{className:"space-y-1",children:[r.jsx("li",{children:r.jsx("button",{onClick:()=>{S(""),E(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm ${g?"text-gray-600 hover:bg-gray-100":"bg-indigo-100 text-indigo-700"}`,children:"All Categories"})}),l.map(H=>r.jsx("li",{children:r.jsxs("button",{onClick:()=>{S(H.slug),E(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm flex items-center justify-between ${g===H.slug?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:[r.jsx("span",{children:H.name}),H.extensionCount!==void 0&&r.jsx("span",{className:"text-xs text-gray-400",children:H.extensionCount})]})},H.id))]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Pricing"}),r.jsx("ul",{className:"space-y-1",children:["","free","paid","freemium"].map(H=>r.jsx("li",{children:r.jsx("button",{onClick:()=>{O(H),E(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm ${P===H?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:H===""?"All":H.charAt(0).toUpperCase()+H.slice(1)})},H))})]}),(((K=u==null?void 0:u.tags)==null?void 0:K.length)??0)>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Popular Tags"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:(Y=u==null?void 0:u.tags)==null?void 0:Y.slice(0,10).map(H=>r.jsx("button",{onClick:()=>w(H.name),className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs hover:bg-gray-200",children:H.name},H.name))})]})]}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:[p," extension",p!==1?"s":""," found"]}),r.jsxs("select",{value:N,onChange:H=>{A(H.target.value),E(1)},className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[r.jsx("option",{value:"popular",children:"Most Popular"}),r.jsx("option",{value:"recent",children:"Recently Added"}),r.jsx("option",{value:"rating",children:"Highest Rated"}),r.jsx("option",{value:"trending",children:"Trending"})]})]}),x?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):n.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-4xl mb-4",children:""}),r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No extensions found"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Try adjusting your search or filters"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(H=>r.jsx(ft,{to:`/marketplace/${H.slug}`,className:"bg-white border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center flex-shrink-0",children:H.icon?r.jsx("img",{src:H.icon,alt:"",className:"w-8 h-8 rounded-lg"}):r.jsx("span",{className:"text-xl",children:""})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-medium text-gray-900 truncate",children:H.name}),H.publisherVerified&&r.jsx("span",{className:"text-blue-500",title:"Verified Publisher",children:""})]}),r.jsx("p",{className:"text-sm text-gray-500 truncate",children:H.publisherName}),r.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:H.description}),r.jsxs("div",{className:"flex items-center justify-between mt-3",children:[r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsxs("span",{className:"flex items-center text-yellow-500",children:[" ",H.stats.rating.toFixed(1)]}),r.jsxs("span",{className:"text-gray-400",children:[F(H.stats.downloads)," downloads"]})]}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${H.pricing==="free"?"bg-green-100 text-green-700":H.pricing==="freemium"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:L(H)})]})]})]})},H.id))}),p>20&&r.jsxs("div",{className:"flex items-center justify-center gap-2 mt-8",children:[r.jsx("button",{onClick:()=>E(H=>Math.max(1,H-1)),disabled:C===1,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm disabled:opacity-50",children:"Previous"}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",C," of ",Math.ceil(p/20)]}),r.jsx("button",{onClick:()=>E(H=>H+1),disabled:C>=Math.ceil(p/20),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm disabled:opacity-50",children:"Next"})]})]})]})]})]})}const Ii={smithery:"bg-purple-100 text-purple-800","mcp-registry":"bg-blue-100 text-blue-800",glama:"bg-green-100 text-green-800",comfyui:"bg-orange-100 text-orange-800",civitai:"bg-pink-100 text-pink-800","langchain-hub":"bg-yellow-100 text-yellow-800"},dP={mcp_server:"",workflow:"",prompt:"",skill:"",extension:""};function Rte(){const[e,t]=b.useState(""),[n,a]=b.useState([]),[s,i]=b.useState(""),[l,d]=b.useState([]),[u,h]=b.useState([]),[p,m]=b.useState([]),[x,j]=b.useState(!1),[v,w]=b.useState(null),[g,S]=b.useState(!1),[P,O]=b.useState(!1),[N,A]=b.useState(""),[C,E]=b.useState(!1),[T,R]=b.useState(null),[I,M]=b.useState({}),[$,G]=b.useState({smitheryApiKey:"",civitaiApiKey:"",langchainApiKey:""}),[V,z]=b.useState(!1),U=[{id:"smithery",name:"Smithery",types:["mcp_server"]},{id:"mcp-registry",name:"MCP Registry",types:["mcp_server"]},{id:"glama",name:"Glama",types:["mcp_server"]},{id:"comfyui",name:"ComfyUI",types:["workflow","extension"]},{id:"civitai",name:"CivitAI",types:["workflow"]},{id:"langchain-hub",name:"LangChain Hub",types:["prompt","skill"]}],W=[{id:"",name:"All Types"},{id:"mcp_server",name:"MCP Servers"},{id:"workflow",name:"Workflows"},{id:"prompt",name:"Prompts"},{id:"skill",name:"Skills"}],B=b.useCallback(async()=>{var te;try{const le=await se({url:"/api/marketplace-hub/installed",method:"GET"});h(((te=le.data)==null?void 0:te.items)||[])}catch(le){console.error("Failed to fetch installed:",le)}},[]),F=b.useCallback(async()=>{try{const te=await se({url:"/api/marketplace-hub/settings",method:"GET"});M(te.data||{})}catch(te){console.error("Failed to fetch settings:",te)}},[]);b.useEffect(()=>{B(),F()},[B,F]);const L=async()=>{var te;if(e.trim()){j(!0),R(null);try{const le=new URLSearchParams({q:e});n.length>0&&le.set("sources",n.join(",")),s&&le.set("type",s),le.set("limit","30");const ke=await se({url:`/api/marketplace-hub/search?${le.toString()}`,method:"GET"});d(((te=ke.data)==null?void 0:te.items)||[])}catch(le){R("Search failed. Please try again."),console.error("Search failed:",le)}finally{j(!1)}}},q=async te=>{w(te.id),R(null);try{await se({url:"/api/marketplace-hub/install",method:"POST",data:{source:te.source,itemId:te.id}}),await B(),alert(`Successfully installed: ${te.name}`)}catch(le){R(`Failed to install ${te.name}`),console.error("Install failed:",le)}finally{w(null)}},K=async te=>{try{await se({url:`/api/marketplace-hub/uninstall/${te}`,method:"DELETE"}),await B()}catch(le){R("Failed to uninstall"),console.error("Uninstall failed:",le)}},Y=async()=>{var te;if(N.trim()){E(!0),R(null);try{const le=await se({url:"/api/marketplace-hub/recommend",method:"POST",data:{request:N}});m(((te=le.data)==null?void 0:te.recommendations)||[])}catch(le){R("Recommendation failed. Please try again."),console.error("Recommend failed:",le)}finally{E(!1)}}},H=te=>{a(le=>le.includes(te)?le.filter(ke=>ke!==te):[...le,te])},ue=async()=>{z(!0),R(null);try{const te={};if($.smitheryApiKey&&(te.smitheryApiKey=$.smitheryApiKey),$.civitaiApiKey&&(te.civitaiApiKey=$.civitaiApiKey),$.langchainApiKey&&(te.langchainApiKey=$.langchainApiKey),Object.keys(te).length===0){R("Please enter at least one API key");return}await se({url:"/api/marketplace-hub/settings/api-keys",method:"PUT",data:te}),await F(),G({smitheryApiKey:"",civitaiApiKey:"",langchainApiKey:""}),alert("API keys saved successfully")}catch(te){R("Failed to save API keys"),console.error("Save API keys failed:",te)}finally{z(!1)}},he=async te=>{if(confirm(`Are you sure you want to delete ${te}?`))try{await se({url:`/api/marketplace-hub/settings/api-keys/${te}`,method:"DELETE"}),await F()}catch(le){R(`Failed to delete ${te}`),console.error("Delete API key failed:",le)}},oe=te=>u.some(le=>le.extensionId===te);return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Marketplace Hub"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Connect external AI ecosystems - MCP servers, workflows, prompts, and more"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[r.jsxs("div",{className:"flex gap-4 mb-4",children:[r.jsx("input",{type:"text",placeholder:"Search across all marketplaces...",value:e,onChange:te=>t(te.target.value),onKeyDown:te=>te.key==="Enter"&&L(),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("button",{onClick:L,disabled:x,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:x?"Searching...":"Search"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[r.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"Sources:"}),U.map(te=>r.jsx("button",{onClick:()=>H(te.id),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${n.includes(te.id)||n.length===0?Ii[te.id]||"bg-gray-200 text-gray-800":"bg-gray-100 text-gray-400"}`,children:te.name},te.id))]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"Type:"}),W.map(te=>r.jsx("button",{onClick:()=>i(te.id),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${s===te.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:te.name},te.id))]})]}),T&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:T}),l.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Search Results (",l.length,")"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(te=>r.jsxs("div",{className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xl",children:dP[te.type]||""}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Ii[te.source]||"bg-gray-100 text-gray-800"}`,children:te.source})]}),te.version&&r.jsxs("span",{className:"text-xs text-gray-500",children:["v",te.version]})]}),r.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:te.name}),r.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:te.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex gap-3 text-xs text-gray-500",children:[te.downloads!==void 0&&r.jsxs("span",{children:[" ",te.downloads.toLocaleString()]}),te.stars!==void 0&&r.jsxs("span",{children:[" ",te.stars.toLocaleString()]}),te.rating!==void 0&&r.jsxs("span",{children:["Rating: ",te.rating.toFixed(1)]})]}),r.jsx("button",{onClick:()=>q(te),disabled:v===te.id||oe(te.id),className:`px-3 py-1 rounded text-sm font-medium ${oe(te.id)?"bg-green-100 text-green-700 cursor-default":v===te.id?"bg-gray-100 text-gray-500":"bg-blue-600 text-white hover:bg-blue-700"}`,children:oe(te.id)?"Installed":v===te.id?"Installing...":"Install"})]})]},`${te.source}-${te.id}`))})]}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"AI-Powered Recommendations"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Describe what you want to do, and we'll find the right tools"}),r.jsxs("div",{className:"flex gap-4 mb-4",children:[r.jsx("input",{type:"text",placeholder:"e.g., I need to send messages to Slack channels...",value:N,onChange:te=>A(te.target.value),onKeyDown:te=>te.key==="Enter"&&Y(),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),r.jsx("button",{onClick:Y,disabled:C,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:C?"Finding...":"Get Recommendations"})]}),p.length>0&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map((te,le)=>r.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:dP[te.item.type]||""}),r.jsx("span",{className:"font-semibold",children:te.item.name})]}),r.jsxs("span",{className:"text-xs text-purple-600 font-medium",children:[Math.round(te.confidence*100),"% match"]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:te.reason}),r.jsx("button",{onClick:()=>q(te.item),disabled:v===te.item.id||oe(te.item.id),className:"w-full py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50 text-sm",children:oe(te.item.id)?"Installed":"Install"})]},le))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsxs("button",{onClick:()=>S(!g),className:"w-full px-6 py-4 flex items-center justify-between text-left",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Installed Extensions (",u.length,")"]}),r.jsx("p",{className:"text-sm text-gray-500",children:"External tools installed in your workspace"})]}),r.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${g?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),g&&u.length>0&&r.jsx("div",{className:"px-6 pb-6",children:r.jsx("div",{className:"divide-y divide-gray-100",children:u.map(te=>r.jsxs("div",{className:"py-3 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:te.name}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${Ii[te.source]||"bg-gray-100"}`,children:te.source})]}),r.jsxs("span",{className:"text-xs text-gray-500",children:["v",te.version,"  Installed ",new Date(te.installedAt).toLocaleDateString()]})]}),r.jsx("button",{onClick:()=>K(te.extensionId),className:"text-red-600 hover:text-red-700 text-sm",children:"Uninstall"})]},te.id))})}),g&&u.length===0&&r.jsx("div",{className:"px-6 pb-6 text-center text-gray-500",children:"No external extensions installed yet"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow mt-6",children:[r.jsxs("button",{onClick:()=>O(!P),className:"w-full px-6 py-4 flex items-center justify-between text-left",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"API Key Settings"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Optional: Configure API keys for premium features or higher rate limits"})]}),r.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${P?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),P&&r.jsxs("div",{className:"px-6 pb-6 space-y-4",children:[r.jsxs("p",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:["API keys are ",r.jsx("strong",{children:"optional"}),". External sources work without keys, but keys may unlock premium features or bypass rate limits."]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Ii.smithery}`,children:"Smithery"}),I.smitheryApiKeySet&&r.jsx("span",{className:"text-green-600 text-xs",children:"Configured"})]}),I.smitheryApiKeySet&&r.jsx("button",{onClick:()=>he("smitheryApiKey"),className:"text-red-600 hover:text-red-700 text-xs",children:"Remove"})]}),r.jsx("input",{type:"password",placeholder:I.smitheryApiKeySet?I.smitheryApiKey||"":"Enter Smithery API key",value:$.smitheryApiKey,onChange:te=>G(le=>({...le,smitheryApiKey:te.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For premium MCP servers access"})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Ii.civitai}`,children:"CivitAI"}),I.civitaiApiKeySet&&r.jsx("span",{className:"text-green-600 text-xs",children:"Configured"})]}),I.civitaiApiKeySet&&r.jsx("button",{onClick:()=>he("civitaiApiKey"),className:"text-red-600 hover:text-red-700 text-xs",children:"Remove"})]}),r.jsx("input",{type:"password",placeholder:I.civitaiApiKeySet?I.civitaiApiKey||"":"Enter CivitAI API key",value:$.civitaiApiKey,onChange:te=>G(le=>({...le,civitaiApiKey:te.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-pink-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For higher rate limits and NSFW content access"})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Ii["langchain-hub"]}`,children:"LangChain Hub"}),I.langchainApiKeySet&&r.jsx("span",{className:"text-green-600 text-xs",children:"Configured"})]}),I.langchainApiKeySet&&r.jsx("button",{onClick:()=>he("langchainApiKey"),className:"text-red-600 hover:text-red-700 text-xs",children:"Remove"})]}),r.jsx("input",{type:"password",placeholder:I.langchainApiKeySet?I.langchainApiKey||"":"Enter LangChain Hub API key",value:$.langchainApiKey,onChange:te=>G(le=>({...le,langchainApiKey:te.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-yellow-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For private prompts and chains access"})]}),r.jsx("button",{onClick:ue,disabled:V,className:"w-full py-2 bg-gray-900 text-white rounded-lg font-medium hover:bg-gray-800 disabled:opacity-50",children:V?"Saving...":"Save API Keys"})]})]})]})})}const uP={company_info:{title:"Company Information",titleKo:" ",description:"Tell us about your company",descriptionKo:"  "},google_workspace:{title:"Connect Google Workspace",titleKo:"Google Workspace ",description:"Import team members automatically",descriptionKo:"  "},select_template:{title:"Select Template",titleKo:" ",description:"Choose a template that fits your industry",descriptionKo:"   "},customize_agents:{title:"Customize Agents",titleKo:" ",description:"Configure your AI agents",descriptionKo:"AI  "},connect_slack:{title:"Connect Slack",titleKo:"Slack ",description:"Use agents in Slack",descriptionKo:"Slack  "},invite_team:{title:"Invite Team",titleKo:" ",description:"Invite colleagues to collaborate",descriptionKo:"   "},first_workflow:{title:"Your First Workflow",titleKo:" ",description:"Try running an automated workflow",descriptionKo:"  "},completed:{title:"All Done!",titleKo:"!",description:"You're ready to go",descriptionKo:" "}},nv=["company_info","google_workspace","select_template","customize_agents","connect_slack","invite_team","first_workflow","completed"];function Mte(){var B;const e=Zs(),{user:t}=rs(),[n,a]=b.useState(null),[s,i]=b.useState([]),[l,d]=b.useState(!0),[u,h]=b.useState(!1),[p,m]=b.useState(null),[x,j]=b.useState(""),[v,w]=b.useState(""),[g,S]=b.useState(""),[P,O]=b.useState(null),[N,A]=b.useState([]),[C,E]=b.useState("");b.useEffect(()=>{T(),R()},[]);const T=async()=>{try{const L=await(await fetch("/api/onboarding/state",{credentials:"include"})).json();if(L.data)a(L.data),L.data.data&&(j(L.data.data.companyName||""),w(L.data.data.industry||""),S(L.data.data.teamSize||""),O(L.data.data.templateId||null),A(L.data.data.selectedAgents||[]));else{const K=await(await fetch("/api/onboarding/start",{method:"POST",credentials:"include"})).json();a(K.data)}}catch(F){m(F instanceof Error?F.message:"Failed to load")}finally{d(!1)}},R=async()=>{try{const L=await(await fetch("/api/onboarding/templates",{credentials:"include"})).json();i(L.data||[])}catch(F){console.error("Failed to fetch templates",F)}},I=async(F,L)=>{h(!0),m(null);try{const K=await(await fetch(`/api/onboarding/step/${F}/complete`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({data:L})})).json();if(!K.success)throw new Error(K.error);a(K.data),K.data.isComplete&&e("/dashboard")}catch(q){m(q instanceof Error?q.message:"Failed to complete step")}finally{h(!1)}},M=async F=>{h(!0),m(null);try{const q=await(await fetch(`/api/onboarding/step/${F}/skip`,{method:"POST",credentials:"include"})).json();if(!q.success)throw new Error(q.error);a(q.data)}catch(L){m(L instanceof Error?L.message:"Failed to skip step")}finally{h(!1)}},$=()=>{if(!x.trim()){m("Company name is required");return}I("company_info",{companyName:x,industry:v,teamSize:g})},G=async()=>{if(!P){m("Please select a template");return}h(!0),m(null);try{const L=await(await fetch(`/api/onboarding/templates/${P}/apply`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({customizations:{enabledAgents:N}})})).json();if(!L.success)throw new Error(L.error);await T()}catch(F){m(F instanceof Error?F.message:"Failed to apply template")}finally{h(!1)}},V=()=>{const F=C.split(/[,\n]/).map(L=>L.trim()).filter(L=>L);if(F.length===0){M("invite_team");return}I("invite_team",{invitedEmails:F})},z=(n==null?void 0:n.currentStep)||"company_info",U=uP[z],W=nv.indexOf(z);return l?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):n!=null&&n.isComplete?(e("/dashboard"),null):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"text-sm text-gray-500",children:["Step ",W+1," of ",nv.length-1]}),r.jsxs("span",{className:"text-sm font-medium text-indigo-600",children:[(n==null?void 0:n.progress)||0,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"h-2 bg-indigo-600 rounded-full transition-all",style:{width:`${(n==null?void 0:n.progress)||0}%`}})})]})}),r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:U.titleKo}),r.jsx("p",{className:"text-gray-600",children:U.descriptionKo})]}),p&&r.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsx("p",{className:"text-red-800",children:p})}),z==="company_info"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),r.jsx("input",{type:"text",value:x,onChange:F=>j(F.target.value),placeholder:"Acme Inc.",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industry"}),r.jsxs("select",{value:v,onChange:F=>w(F.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"Select industry"}),r.jsx("option",{value:"technology",children:"Technology"}),r.jsx("option",{value:"agency",children:"Marketing/Design Agency"}),r.jsx("option",{value:"retail",children:"E-Commerce/Retail"}),r.jsx("option",{value:"manufacturing",children:"Manufacturing"}),r.jsx("option",{value:"consulting",children:"Consulting"}),r.jsx("option",{value:"healthcare",children:"Healthcare"}),r.jsx("option",{value:"finance",children:"Finance"}),r.jsx("option",{value:"education",children:"Education"}),r.jsx("option",{value:"other",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Size"}),r.jsxs("select",{value:g,onChange:F=>S(F.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"Select team size"}),r.jsx("option",{value:"1-5",children:"1-5 people"}),r.jsx("option",{value:"6-20",children:"6-20 people"}),r.jsx("option",{value:"21-50",children:"21-50 people"}),r.jsx("option",{value:"51-200",children:"51-200 people"}),r.jsx("option",{value:"200+",children:"200+ people"})]})]}),r.jsx("button",{onClick:$,disabled:u,className:"w-full py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:u?"Saving...":"Continue"})]}),z==="google_workspace"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12.545 10.239v3.821h5.445c-.712 2.315-2.647 3.972-5.445 3.972a6.033 6.033 0 110-12.064c1.498 0 2.866.549 3.921 1.453l2.814-2.814A9.969 9.969 0 0012.545 2C7.021 2 2.543 6.477 2.543 12s4.478 10 10.002 10c8.396 0 10.249-7.85 9.426-11.748l-9.426-.013z"})})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connect Google Workspace"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Import your team members automatically from Google Workspace"}),r.jsxs("a",{href:"/api/google/oauth/install",className:"inline-flex items-center px-6 py-3 bg-white border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50",children:[r.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Connect with Google"]})]}),r.jsx("div",{className:"flex justify-between pt-4",children:r.jsx("button",{onClick:()=>M("google_workspace"),disabled:u,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"Skip for now"})})]}),z==="select_template"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(F=>r.jsxs("button",{onClick:()=>O(F.id),className:`p-6 border-2 rounded-xl text-left transition ${P===F.id?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx("div",{className:"text-3xl mb-2",children:F.icon}),r.jsx("h3",{className:"font-semibold text-gray-900",children:F.nameKo}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:F.descriptionKo}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[F.agents.filter(L=>L.enabled).length," agents,"," ",F.id==="custom"?"configure yourself":"pre-configured"]})]},F.id))}),r.jsx("button",{onClick:G,disabled:u||!P,className:"w-full py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:u?"Applying template...":"Continue"})]}),z==="customize_agents"&&r.jsxs("div",{className:"space-y-6",children:[P&&r.jsx("div",{className:"space-y-4",children:(B=s.find(F=>F.id===P))==null?void 0:B.agents.map(F=>r.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx("input",{type:"checkbox",checked:F.enabled||N.includes(F.id),onChange:L=>{L.target.checked?A([...N,F.id]):A(N.filter(q=>q!==F.id))},className:"h-4 w-4 text-indigo-600 rounded"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("div",{className:"font-medium text-gray-900",children:F.name}),r.jsx("div",{className:"text-sm text-gray-500",children:F.description})]})]},F.id))}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>M("customize_agents"),disabled:u,className:"flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Use defaults"}),r.jsx("button",{onClick:()=>I("customize_agents",{selectedAgents:N}),disabled:u,className:"flex-1 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:u?"Saving...":"Continue"})]})]}),z==="connect_slack"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-10 h-10 text-purple-600",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connect Slack"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Use your AI agents directly in Slack channels"}),r.jsxs("a",{href:"/api/slack/oauth/install",className:"inline-flex items-center px-6 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313z"})}),"Add to Slack"]})]}),r.jsx("div",{className:"flex justify-between pt-4",children:r.jsx("button",{onClick:()=>M("connect_slack"),disabled:u,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"Skip for now"})})]}),z==="invite_team"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Member Emails"}),r.jsx("textarea",{value:C,onChange:F=>E(F.target.value),placeholder:"Enter email addresses (one per line or comma-separated)",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"You can also invite team members later from Settings"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>M("invite_team"),disabled:u,className:"flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Skip for now"}),r.jsx("button",{onClick:V,disabled:u,className:"flex-1 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:u?"Sending...":C.trim()?"Send Invites":"Continue"})]})]}),z==="first_workflow"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Try Your First Workflow"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"We've set up some sample workflows for you. Let's run one to see how it works!"}),r.jsx("button",{onClick:()=>{I("first_workflow",{firstWorkflowCompleted:!0})},className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700",children:"Run Sample Workflow"})]}),r.jsx("div",{className:"flex justify-between pt-4",children:r.jsx("button",{onClick:()=>M("first_workflow"),disabled:u,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"I'll try it later"})})]}),z==="completed"&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx("svg",{className:"w-12 h-12 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"You're all set!"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"Your workspace is ready. Let's start automating your work."}),r.jsx("button",{onClick:()=>e("/dashboard"),className:"px-8 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700",children:"Go to Dashboard"})]})]}),z!=="completed"&&r.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:nv.slice(0,-1).map(F=>{const L=n==null?void 0:n.completedSteps.includes(F),q=n==null?void 0:n.skippedSteps.includes(F),K=F===z;return r.jsx("div",{className:`w-3 h-3 rounded-full ${L?"bg-green-500":q?"bg-gray-300":K?"bg-indigo-600":"bg-gray-200"}`,title:uP[F].title},F)})})]})]})}const Ite=["Data & Analytics","Engineering","Marketing","Operations","Finance","HR","Sales","Customer Success","Product","Design"],Wl={new_agent:{emoji:"",title:"  ",titleEn:"Add New Agent",description:" AI   "},new_team:{emoji:"",title:"  ",titleEn:"Create New Team",description:"   Function "},process_modification:{emoji:"",title:" ",titleEn:"Modify Process",description:" SOP  "},role_change:{emoji:"",title:" ",titleEn:"Change Role",description:"   "}},hP={step:1,changeType:null,teamFunction:"",entityName:"",description:"",selectedSkills:[],selectedTools:[],customSkills:[],customTools:[],permissions:{read:[],write:[],deny:[]},analysis:null};function $te(){var B,F;const e=Zs(),[t,n]=b.useState(hP),[a,s]=b.useState(!1),[i,l]=b.useState(!1),[d,u]=b.useState(null),[h,p]=b.useState(null),[m,x]=b.useState(""),[j,v]=b.useState(""),[w,g]=b.useState(""),[S,P]=b.useState(""),[O,N]=b.useState(""),A=b.useCallback(async()=>{if(!(!t.changeType||!t.teamFunction||!t.entityName||!t.description)){s(!0),u(null);try{const L=await se({url:"/api/org-changes/analyze",method:"POST",data:{changeType:t.changeType,teamFunction:t.teamFunction,entityName:t.entityName,description:t.description}});n(q=>({...q,analysis:L,selectedSkills:L.suggestedSkills,selectedTools:L.suggestedTools}))}catch(L){const q=L instanceof Ve?L.message:"   ";u(q)}finally{s(!1)}}},[t.changeType,t.teamFunction,t.entityName,t.description]);b.useEffect(()=>{t.step===3&&!t.analysis&&A()},[t.step,t.analysis,A]);const C=L=>{n(q=>({...q,changeType:L}))},E=()=>{if(u(null),t.step===1&&!t.changeType){u("  ");return}if(t.step===2){if(!t.teamFunction){u("/Function ");return}if(!t.entityName.trim()){u(" ");return}if(!t.description.trim()){u(" ");return}}n(L=>({...L,step:L.step+1}))},T=()=>{u(null),n(L=>({...L,step:L.step-1}))},R=async()=>{if(!t.analysis){u("  .   .");return}l(!0),u(null);try{const L=await se({url:"/api/org-changes/wizard",method:"POST",data:{changeType:t.changeType,teamFunction:t.teamFunction,entityName:t.entityName,description:t.description,selectedSkills:[...t.selectedSkills,...t.customSkills],selectedTools:[...t.selectedTools,...t.customTools],permissions:t.permissions,analysis:t.analysis}});p({prUrl:L.prUrl,changeId:L.changeId})}catch(L){const q=L instanceof Ve?L.message:"    ";u(q)}finally{l(!1)}},I=L=>{n(q=>({...q,selectedSkills:q.selectedSkills.includes(L)?q.selectedSkills.filter(K=>K!==L):[...q.selectedSkills,L]}))},M=L=>{n(q=>({...q,selectedTools:q.selectedTools.includes(L)?q.selectedTools.filter(K=>K!==L):[...q.selectedTools,L]}))},$=()=>{m.trim()&&!t.customSkills.includes(m.trim())&&(n(L=>({...L,customSkills:[...L.customSkills,m.trim()]})),x(""))},G=()=>{j.trim()&&!t.customTools.includes(j.trim())&&(n(L=>({...L,customTools:[...L.customTools,j.trim()]})),v(""))},V=(L,q,K)=>{q.trim()&&!t.permissions[L].includes(q.trim())&&(n(Y=>({...Y,permissions:{...Y.permissions,[L]:[...Y.permissions[L],q.trim()]}})),K(""))},z=(L,q)=>{n(K=>({...K,permissions:{...K.permissions,[L]:K.permissions[L].filter(Y=>Y!==q)}}))},U=L=>{switch(L){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-red-100 text-red-800"}},W=L=>{switch(L){case"low":return"";case"medium":return"";case"high":return""}};return h?r.jsx("div",{className:"max-w-3xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"  !"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"PR    ."}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Pull Request"}),r.jsx("a",{href:h.prUrl,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 font-medium",children:h.prUrl})]}),r.jsxs("div",{className:"flex gap-4 justify-center",children:[r.jsx("button",{onClick:()=>e("/org-changes"),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"  "}),r.jsx("button",{onClick:()=>{n(hP),p(null)},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"  "})]})]})}):r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  "}),r.jsx("p",{className:"text-gray-600",children:" , ,     "})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4,5].map(L=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium ${L===t.step?"bg-indigo-600 text-white":L<t.step?"bg-indigo-100 text-indigo-600":"bg-gray-200 text-gray-500"}`,children:L<t.step?"":L}),L<5&&r.jsx("div",{className:`w-16 h-1 mx-2 ${L<t.step?"bg-indigo-600":"bg-gray-200"}`})]},L))}),r.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[r.jsx("span",{className:t.step>=1?"text-indigo-600":"text-gray-500",children:" "}),r.jsx("span",{className:t.step>=2?"text-indigo-600":"text-gray-500",children:" "}),r.jsx("span",{className:t.step>=3?"text-indigo-600":"text-gray-500",children:" & "}),r.jsx("span",{className:t.step>=4?"text-indigo-600":"text-gray-500",children:" "}),r.jsx("span",{className:t.step>=5?"text-indigo-600":"text-gray-500",children:" & "})]})]}),d&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:d}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[t.step===1&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"  "}),r.jsx("p",{className:"text-gray-600 mb-6",children:"   ?"}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.keys(Wl).map(L=>{const q=Wl[L],K=t.changeType===L;return r.jsxs("button",{onClick:()=>C(L),className:`p-4 rounded-lg border-2 text-left transition-all ${K?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-indigo-300 hover:bg-gray-50"}`,children:[r.jsx("div",{className:"text-3xl mb-2",children:q.emoji}),r.jsx("div",{className:"font-semibold text-gray-900",children:q.title}),r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:q.titleEn}),r.jsx("div",{className:"text-sm text-gray-600",children:q.description})]},L)})})]}),t.step===2&&r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:[t.changeType&&Wl[t.changeType].emoji," ",t.changeType&&Wl[t.changeType].title," (Step 2/5)"]}),r.jsx("p",{className:"text-gray-600 mb-6",children:"  "}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"/Function"}),r.jsxs("select",{value:t.teamFunction,onChange:L=>n(q=>({...q,teamFunction:L.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:""}),Ite.map(L=>r.jsx("option",{value:L,children:L},L))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.changeType==="new_agent"?" ":t.changeType==="new_team"?" ":" "}),r.jsx("input",{type:"text",value:t.entityName,onChange:L=>n(q=>({...q,entityName:L.target.value})),placeholder:t.changeType==="new_agent"?": data-agent":": Data Analytics Team",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),r.jsx("textarea",{value:t.description,onChange:L=>n(q=>({...q,description:L.target.value})),placeholder:" /    ",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsx("div",{className:"mt-4 p-4 bg-indigo-50 rounded-lg",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("span",{className:"text-xl mr-2",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-indigo-900",children:"AI "}),r.jsxs("div",{className:"text-sm text-indigo-700",children:['  "',t.teamFunction||" ",'"       .']})]})]})})]})]}),t.step===3&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" &   (Step 3/5)"}),a?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"AI     ..."})]}):r.jsxs("div",{className:"space-y-6",children:[t.analysis&&r.jsx("div",{className:"p-4 bg-indigo-50 rounded-lg",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("span",{className:"text-xl mr-2",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-indigo-900 mb-1",children:"AI "}),r.jsxs("div",{className:"text-sm text-indigo-700",children:['"',t.teamFunction,'"     ,    .       .']})]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (Skills)"}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(B=t.analysis)==null?void 0:B.suggestedSkills.map(L=>r.jsx("button",{onClick:()=>I(L),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${t.selectedSkills.includes(L)?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:L},L)),t.customSkills.map(L=>r.jsxs("button",{onClick:()=>n(q=>({...q,customSkills:q.customSkills.filter(K=>K!==L)})),className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700 hover:bg-green-200",children:[L," "]},L))]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:m,onChange:L=>x(L.target.value),onKeyPress:L=>L.key==="Enter"&&$(),placeholder:"  ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("button",{onClick:$,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:""})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"/MCP  (Tools)"}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(F=t.analysis)==null?void 0:F.suggestedTools.map(L=>r.jsx("button",{onClick:()=>M(L),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${t.selectedTools.includes(L)?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:L},L)),t.customTools.map(L=>r.jsxs("button",{onClick:()=>n(q=>({...q,customTools:q.customTools.filter(K=>K!==L)})),className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700 hover:bg-green-200",children:[L," "]},L))]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:j,onChange:L=>v(L.target.value),onKeyPress:L=>L.key==="Enter"&&G(),placeholder:"  ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("button",{onClick:G,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:""})]})]})]})]}),t.step===4&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"  (Step 4/5)"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"     .     ."}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Read)"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.read.map(L=>r.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm flex items-center gap-1",children:[L,r.jsx("button",{onClick:()=>z("read",L),className:"ml-1 hover:text-blue-900",children:""})]},L))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:w,onChange:L=>g(L.target.value),onKeyPress:L=>L.key==="Enter"&&V("read",w,g),placeholder:"/sops/brand/*, /docs/product/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("button",{onClick:()=>V("read",w,g),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 text-sm",children:""})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Write)"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.write.map(L=>r.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm flex items-center gap-1",children:[L,r.jsx("button",{onClick:()=>z("write",L),className:"ml-1 hover:text-green-900",children:""})]},L))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:S,onChange:L=>P(L.target.value),onKeyPress:L=>L.key==="Enter"&&V("write",S,P),placeholder:"/sops/brand/* (PR only)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("button",{onClick:()=>V("write",S,P),className:"px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 text-sm",children:""})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Deny)"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.deny.map(L=>r.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm flex items-center gap-1",children:[L,r.jsx("button",{onClick:()=>z("deny",L),className:"ml-1 hover:text-red-900",children:""})]},L))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:O,onChange:L=>N(L.target.value),onKeyPress:L=>L.key==="Enter"&&V("deny",O,N),placeholder:"/org/hr/*, /docs/finance/confidential/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("button",{onClick:()=>V("deny",O,N),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 text-sm",children:""})]})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"  "}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("li",{children:[r.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/sops/brand/*"})," - brand   "]}),r.jsxs("li",{children:[r.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/docs/**/*"})," - docs    ()"]}),r.jsxs("li",{children:[r.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/config/agents/*.yaml"})," - agents  YAML "]})]})]})]})]}),t.step===5&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" &  (Step 5/5)"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"   ."}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700",children:""}),r.jsxs("div",{className:"p-4 space-y-3",children:[r.jsxs("div",{className:"flex",children:[r.jsx("span",{className:"w-32 text-gray-500",children:" :"}),r.jsx("span",{className:"font-medium",children:t.changeType&&Wl[t.changeType].title})]}),r.jsxs("div",{className:"flex",children:[r.jsx("span",{className:"w-32 text-gray-500",children:"/Function:"}),r.jsx("span",{className:"font-medium",children:t.teamFunction})]}),r.jsxs("div",{className:"flex",children:[r.jsx("span",{className:"w-32 text-gray-500",children:":"}),r.jsx("span",{className:"font-medium",children:t.entityName})]}),r.jsxs("div",{className:"flex",children:[r.jsx("span",{className:"w-32 text-gray-500",children:":"}),r.jsx("span",{className:"text-gray-700",children:t.description})]}),r.jsxs("div",{className:"flex",children:[r.jsx("span",{className:"w-32 text-gray-500",children:":"}),r.jsx("span",{className:"flex flex-wrap gap-1",children:[...t.selectedSkills,...t.customSkills].map(L=>r.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 rounded text-xs",children:L},L))})]}),r.jsxs("div",{className:"flex",children:[r.jsx("span",{className:"w-32 text-gray-500",children:":"}),r.jsx("span",{className:"flex flex-wrap gap-1",children:[...t.selectedTools,...t.customTools].map(L=>r.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 rounded text-xs",children:L},L))})]})]})]}),t.analysis&&r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[r.jsxs("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700 flex items-center gap-2",children:[r.jsx("span",{children:" "}),r.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${U(t.analysis.riskLevel)}`,children:[": ",W(t.analysis.riskLevel)]})]}),r.jsxs("div",{className:"p-4 space-y-3",children:[t.analysis.impactedAgents.length>0&&r.jsxs("div",{className:"flex items-start",children:[r.jsx("span",{className:"text-lg mr-2",children:""}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500 text-sm",children:"  :"}),r.jsx("div",{className:"font-medium",children:t.analysis.impactedAgents.join(", ")})]})]}),t.analysis.impactedSOPs.length>0&&r.jsxs("div",{className:"flex items-start",children:[r.jsx("span",{className:"text-lg mr-2",children:""}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500 text-sm",children:"  SOP:"}),r.jsx("div",{className:"font-medium",children:t.analysis.impactedSOPs.join(", ")})]})]}),t.analysis.recommendations.length>0&&r.jsxs("div",{className:"flex items-start",children:[r.jsx("span",{className:"text-lg mr-2",children:""}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500 text-sm",children:" :"}),r.jsx("ul",{className:"mt-1 space-y-1",children:t.analysis.recommendations.slice(0,3).map((L,q)=>r.jsx("li",{className:"text-sm text-gray-700",children:L},q))})]})]})]})]}),t.analysis&&r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700",children:" PR "}),r.jsxs("div",{className:"p-4 font-mono text-sm",children:[t.analysis.filesCreated.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("span",{className:"text-green-600",children:":"}),t.analysis.filesCreated.map(L=>r.jsxs("div",{className:"ml-4 text-gray-600",children:["+ ",L]},L))]}),t.analysis.filesModified.length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-yellow-600",children:":"}),t.analysis.filesModified.map(L=>r.jsxs("div",{className:"ml-4 text-gray-600",children:["~ ",L]},L))]})]})]})]})]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("button",{onClick:t.step===1?()=>e("/org-changes"):T,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:t.step===1?"":" "}),t.step<5?r.jsx("button",{onClick:E,disabled:a,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:" "}):r.jsx("button",{onClick:R,disabled:i,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?" ...":"  PR "})]})]})}function Lte(){const[e,t]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState(null),[l,d]=b.useState(!1),[u,h]=b.useState("all"),[p,m]=b.useState(!1);b.useEffect(()=>{x()},[u]);const x=async()=>{try{a(!0);const O=new URLSearchParams;u!=="all"&&O.set("type",u),O.set("status","active"),O.set("limit","50");const N=await fetch(`/api/patterns?${O}`,{credentials:"include"});if(Io(N)){d(!0);return}if(!N.ok)throw new Error("Failed to fetch patterns");const A=await N.json();t(A.patterns),i(null)}catch(O){i(O instanceof Error?O.message:"Unknown error")}finally{a(!1)}},j=async()=>{try{if(m(!0),!(await fetch("/api/patterns/analyze",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({lookbackDays:30,generateDrafts:!0})})).ok)throw new Error("Failed to run analysis");await x()}catch(O){i(O instanceof Error?O.message:"Analysis failed")}finally{m(!1)}},v=async O=>{try{if(!(await fetch(`/api/patterns/${O}/dismiss`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to dismiss pattern");t(e.filter(A=>A.id!==O))}catch(N){i(N instanceof Error?N.message:"Failed to dismiss")}},w=async O=>{try{const N=await fetch(`/api/patterns/${O}/generate-sop`,{method:"POST",credentials:"include"});if(!N.ok)throw new Error("Failed to generate SOP");const A=await N.json();window.location.href=`/sop-drafts/${A.draft.id}`}catch(N){i(N instanceof Error?N.message:"Failed to generate SOP")}},g=()=>{const O={sequence:0,cluster:0,time:0};let N=0;for(const A of e)O[A.type]++,N+=A.confidence;return{total:e.length,byType:O,avgConfidence:e.length>0?N/e.length:0}},S=O=>{var A;const N=O.data;switch(O.type){case"sequence":return r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Sequence:"})," ",((A=N.sequence)==null?void 0:A.join("  "))||"N/A"]});case"cluster":return r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Intent:"})," ",N.commonIntent||"Similar requests"]});case"time":return r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Schedule:"})," ",N.description||"Recurring pattern"]});default:return null}},P=g();return l?r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pattern Insights"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Detected patterns that could be automated as SOPs"})]}),r.jsx(Jc,{title:"Pattern Detection",description:"Pattern detection is currently being set up. This feature will analyze user actions and suggest automation opportunities once the backend service is activated.",onRetry:x})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pattern Insights"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Detected patterns that could be automated as SOPs"})]}),r.jsx("button",{onClick:j,disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:p?"Analyzing...":"Run Analysis"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Patterns"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:P.total})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Sequence Patterns"}),r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:P.byType.sequence})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Request Clusters"}),r.jsx("div",{className:"text-2xl font-bold text-green-600",children:P.byType.cluster})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Time Patterns"}),r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:P.byType.time})]})]}),r.jsx("div",{className:"flex gap-2 mb-6",children:["all","sequence","cluster","time"].map(O=>r.jsx("button",{onClick:()=>h(O),className:`px-4 py-2 rounded-lg ${u===O?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:O.charAt(0).toUpperCase()+O.slice(1)},O))}),s&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsx("p",{className:"text-red-700",children:s})}),n?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading patterns..."})]}):e.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[r.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No patterns detected"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Run an analysis to detect automation opportunities from user actions."}),r.jsx("button",{onClick:j,disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Run Analysis Now"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(O=>r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${O.type==="sequence"?"bg-blue-100 text-blue-700":O.type==="cluster"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:O.type}),r.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(O.confidence*100),"% confidence"]})]}),r.jsx("div",{className:"mb-3",children:S(O)}),r.jsxs("div",{className:"flex gap-4 text-sm text-gray-500 mb-4",children:[r.jsxs("span",{children:["Frequency: ",O.frequency]}),r.jsx("span",{children:""}),r.jsx("span",{children:new Date(O.createdAt).toLocaleDateString()})]}),r.jsx("div",{className:"h-2 bg-gray-200 rounded-full mb-4",children:r.jsx("div",{className:`h-full rounded-full ${O.confidence>=.8?"bg-green-500":O.confidence>=.6?"bg-yellow-500":"bg-red-500"}`,style:{width:`${O.confidence*100}%`}})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>w(O.id),className:"flex-1 px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Generate SOP"}),r.jsx("button",{onClick:()=>v(O.id),className:"px-3 py-2 text-gray-600 text-sm border border-gray-300 rounded hover:bg-gray-50",children:"Dismiss"})]})]},O.id))})]})})}function Dte(){const[e,t]=b.useState(null),[n,a]=b.useState([]),[s,i]=b.useState(null),[l,d]=b.useState([]),[u,h]=b.useState(!0),[p,m]=b.useState(!1),[x,j]=b.useState(!1),[v,w]=b.useState("30d"),[g,S]=b.useState("overview"),[P,O]=b.useState({name:"",slug:"",email:"",website:"",description:""}),N=b.useCallback(async()=>{try{const M=await se({url:"/api/marketplace/publishers/me",method:"GET"});return t(M.publisher),!0}catch(M){return M instanceof Ve&&M.status===404&&j(!0),!1}},[]),A=b.useCallback(async()=>{try{const M=await se({url:"/api/marketplace/publishers/me/extensions",method:"GET"});a(M.extensions)}catch(M){console.error("Failed to fetch extensions:",M)}},[]),C=b.useCallback(async()=>{try{const M=await se({url:`/api/marketplace/publishers/me/analytics?period=${v}`,method:"GET"});i(M.analytics)}catch(M){console.error("Failed to fetch analytics:",M)}},[v]),E=b.useCallback(async()=>{try{const M=await se({url:"/api/marketplace/publishers/me/payouts",method:"GET"});d(M.payouts)}catch(M){console.error("Failed to fetch payouts:",M)}},[]);b.useEffect(()=>{(async()=>{h(!0),await N()&&await Promise.all([A(),C(),E()]),h(!1)})()},[N,A,C,E]),b.useEffect(()=>{e&&C()},[v,e,C]);const T=async M=>{M.preventDefault(),m(!0);try{const $=await se({url:"/api/marketplace/publishers/register",method:"POST",data:P});t($.publisher),j(!1)}catch($){const G=$ instanceof Ve?$.message:"Registration failed";alert(G)}finally{m(!1)}},R=M=>M>=1e6?`${(M/1e6).toFixed(1)}M`:M>=1e3?`${(M/1e3).toFixed(1)}K`:String(M),I=M=>`$${(M/100).toFixed(2)}`;return u?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):x?r.jsxs("div",{className:"max-w-xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Become a Publisher"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Create and share extensions with the Nubabel community"})]}),r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:r.jsxs("form",{onSubmit:T,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Publisher Name *"}),r.jsx("input",{type:"text",value:P.name,onChange:M=>O({...P,name:M.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Acme Inc."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Publisher Slug *"}),r.jsx("input",{type:"text",value:P.slug,onChange:M=>O({...P,slug:M.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),required:!0,pattern:"[a-z0-9-]+",className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"acme-inc"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"URL-friendly identifier (lowercase, hyphens only)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email *"}),r.jsx("input",{type:"email",value:P.email,onChange:M=>O({...P,email:M.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"publisher@example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),r.jsx("input",{type:"url",value:P.website,onChange:M=>O({...P,website:M.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"https://example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:P.description,onChange:M=>O({...P,description:M.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",rows:3,placeholder:"Tell us about your organization..."})]}),r.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 font-medium",children:p?"Registering...":"Register as Publisher"})]})})]}):e?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Publisher Dashboard"}),r.jsxs("p",{className:"text-gray-600",children:[e.name,e.verified&&r.jsx("span",{className:"ml-2 text-blue-500",children:" Verified"})]})]}),r.jsx(ft,{to:"/marketplace/submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Submit Extension"})]}),r.jsx("div",{className:"border-b border-gray-200 mb-6",children:r.jsx("div",{className:"flex gap-6",children:["overview","extensions","payouts"].map(M=>r.jsxs("button",{onClick:()=>S(M),className:`py-3 text-sm font-medium border-b-2 -mb-px ${g===M?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[M==="overview"&&"Overview",M==="extensions"&&`Extensions (${n.length})`,M==="payouts"&&"Payouts"]},M))})}),g==="overview"&&s&&r.jsxs("div",{children:[r.jsx("div",{className:"flex justify-end mb-4",children:r.jsxs("select",{value:v,onChange:M=>w(M.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[r.jsx("option",{value:"7d",children:"Last 7 days"}),r.jsx("option",{value:"30d",children:"Last 30 days"}),r.jsx("option",{value:"90d",children:"Last 90 days"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Downloads"}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:R(s.totalDownloads)})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Active Installs"}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:R(s.totalInstalls)})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Revenue"}),r.jsx("div",{className:"text-3xl font-bold text-green-600 mt-1",children:I(s.totalRevenue)})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Extensions"}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:n.length})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Download Trend"}),r.jsx("div",{className:"h-48 flex items-end gap-1",children:s.downloadTrend.slice(-30).map((M,$)=>{const G=Math.max(...s.downloadTrend.map(z=>z.count))||1,V=M.count/G*100;return r.jsx("div",{className:"flex-1 bg-indigo-500 rounded-t hover:bg-indigo-600 transition-colors",style:{height:`${Math.max(V,2)}%`},title:`${M.date}: ${M.count} downloads`},$)})})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Extension Performance"}),r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[r.jsx("th",{className:"pb-3",children:"Extension"}),r.jsx("th",{className:"pb-3 text-right",children:"Downloads"}),r.jsx("th",{className:"pb-3 text-right",children:"Installs"}),r.jsx("th",{className:"pb-3 text-right",children:"Revenue"}),r.jsx("th",{className:"pb-3 text-right",children:"Rating"})]})}),r.jsx("tbody",{children:s.extensionStats.map(M=>r.jsxs("tr",{className:"border-b last:border-b-0",children:[r.jsx("td",{className:"py-3 font-medium text-gray-900",children:M.name}),r.jsx("td",{className:"py-3 text-right text-gray-600",children:R(M.downloads)}),r.jsx("td",{className:"py-3 text-right text-gray-600",children:R(M.installs)}),r.jsx("td",{className:"py-3 text-right text-green-600",children:I(M.revenue)}),r.jsxs("td",{className:"py-3 text-right",children:[r.jsx("span",{className:"text-yellow-500",children:""})," ",M.rating.toFixed(1)]})]},M.extensionId))})]})]})]}),g==="extensions"&&r.jsx("div",{className:"bg-white rounded-xl border border-gray-200",children:n.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-4xl mb-4",children:""}),r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No extensions yet"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Submit your first extension to get started"}),r.jsx(ft,{to:"/marketplace/submit",className:"inline-block mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Submit Extension"})]}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[r.jsx("th",{className:"p-4",children:"Extension"}),r.jsx("th",{className:"p-4",children:"Status"}),r.jsx("th",{className:"p-4 text-right",children:"Downloads"}),r.jsx("th",{className:"p-4 text-right",children:"Rating"}),r.jsx("th",{className:"p-4 text-right",children:"Pricing"})]})}),r.jsx("tbody",{children:n.map(M=>r.jsxs("tr",{className:"border-b last:border-b-0 hover:bg-gray-50",children:[r.jsx("td",{className:"p-4",children:r.jsx(ft,{to:`/marketplace/${M.slug}`,className:"font-medium text-indigo-600 hover:text-indigo-800",children:M.name})}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${M.status==="published"?"bg-green-100 text-green-700":M.status==="review"?"bg-yellow-100 text-yellow-700":M.status==="rejected"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:M.status})}),r.jsx("td",{className:"p-4 text-right text-gray-600",children:R(M.stats.downloads)}),r.jsxs("td",{className:"p-4 text-right",children:[r.jsx("span",{className:"text-yellow-500",children:""})," ",M.stats.rating.toFixed(1),r.jsxs("span",{className:"text-gray-400 text-sm ml-1",children:["(",M.stats.reviewCount,")"]})]}),r.jsx("td",{className:"p-4 text-right",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${M.pricing==="free"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:M.pricing})})]},M.id))})]})}),g==="payouts"&&r.jsxs("div",{children:[!e.payoutEnabled&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-yellow-800",children:"Set up payouts"}),r.jsx("p",{className:"text-sm text-yellow-700",children:"Connect your Stripe account to receive payments from paid extensions."})]}),r.jsx("button",{className:"ml-auto px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 text-sm",children:"Connect Stripe"})]})}),r.jsx("div",{className:"bg-white rounded-xl border border-gray-200",children:l.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-4xl mb-4",children:""}),r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No payouts yet"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Payouts are processed monthly for paid extension revenue"})]}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[r.jsx("th",{className:"p-4",children:"Period"}),r.jsx("th",{className:"p-4",children:"Amount"}),r.jsx("th",{className:"p-4",children:"Status"}),r.jsx("th",{className:"p-4",children:"Paid Date"})]})}),r.jsx("tbody",{children:l.map(M=>r.jsxs("tr",{className:"border-b last:border-b-0",children:[r.jsxs("td",{className:"p-4 text-gray-900",children:[new Date(M.periodStart).toLocaleDateString()," -"," ",new Date(M.periodEnd).toLocaleDateString()]}),r.jsx("td",{className:"p-4 font-medium text-green-600",children:I(M.amount)}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${M.status==="completed"?"bg-green-100 text-green-700":M.status==="processing"?"bg-blue-100 text-blue-700":M.status==="failed"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:M.status})}),r.jsx("td",{className:"p-4 text-gray-600",children:M.paidAt?new Date(M.paidAt).toLocaleDateString():"-"})]},M.id))})]})})]})]}):null}function Fte(){const[e,t]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState(null),[l,d]=b.useState(null),[u,h]=b.useState("all"),[p,m]=b.useState(""),[x,j]=b.useState(!1);b.useEffect(()=>{v()},[u]);const v=async()=>{try{a(!0);const N=new URLSearchParams;u!=="all"&&N.set("status",u),N.set("limit","50");const A=await fetch(`/api/sop-drafts?${N}`,{credentials:"include"});if(!A.ok)throw new Error("Failed to fetch drafts");const C=await A.json();t(C.drafts),i(null)}catch(N){i(N instanceof Error?N.message:"Unknown error")}finally{a(!1)}},w=async N=>{try{if(!(await fetch(`/api/sop-drafts/${N}/approve`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to approve draft");t(e.map(C=>C.id===N?{...C,status:"approved",reviewedAt:new Date().toISOString()}:C)),d(null)}catch(A){i(A instanceof Error?A.message:"Failed to approve")}},g=async N=>{try{if(!(await fetch(`/api/sop-drafts/${N}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:p})})).ok)throw new Error("Failed to reject draft");t(e.map(C=>C.id===N?{...C,status:"rejected",reviewedAt:new Date().toISOString(),rejectionReason:p}:C)),j(!1),m(""),d(null)}catch(A){i(A instanceof Error?A.message:"Failed to reject")}},S=async N=>{try{const A=await fetch(`/api/sop-drafts/${N.id}/yaml`,{credentials:"include"});if(!A.ok)throw new Error("Failed to download YAML");const C=await A.blob(),E=window.URL.createObjectURL(C),T=document.createElement("a");T.href=E,T.download=`${N.name.replace(/\s+/g,"_")}.yaml`,document.body.appendChild(T),T.click(),document.body.removeChild(T),window.URL.revokeObjectURL(E)}catch(A){i(A instanceof Error?A.message:"Failed to download")}},P=N=>{switch(N){case"draft":return"bg-gray-100 text-gray-700";case"pending_review":return"bg-yellow-100 text-yellow-700";case"approved":return"bg-green-100 text-green-700";case"rejected":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},O=N=>{switch(N){case"automated":return"";case"manual":return"";case"approval":return"";default:return""}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"SOP Drafts"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Review and approve auto-generated SOPs"})]}),r.jsx("a",{href:"/patterns",className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"View Patterns"})]}),r.jsx("div",{className:"flex gap-2 mb-6",children:["all","draft","pending_review","approved","rejected"].map(N=>r.jsx("button",{onClick:()=>h(N),className:`px-4 py-2 rounded-lg ${u===N?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:N==="all"?"All":N.replace("_"," ").replace(/\b\w/g,A=>A.toUpperCase())},N))}),s&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsx("p",{className:"text-red-700",children:s})}),r.jsxs("div",{className:"flex gap-6",children:[r.jsx("div",{className:"w-1/3",children:n?r.jsx("div",{className:"text-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):e.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:r.jsx("p",{className:"text-gray-600",children:"No drafts found"})}):r.jsx("div",{className:"space-y-3",children:e.map(N=>r.jsxs("div",{onClick:()=>d(N),className:`bg-white rounded-lg shadow p-4 cursor-pointer hover:shadow-md transition-shadow ${(l==null?void 0:l.id)===N.id?"ring-2 ring-blue-500":""}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:"font-medium text-gray-900 truncate",children:N.name}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${P(N.status)}`,children:N.status.replace("_"," ")})]}),r.jsx("p",{className:"text-sm text-gray-600 truncate",children:N.description}),r.jsxs("div",{className:"flex gap-2 mt-2 text-xs text-gray-500",children:[r.jsx("span",{children:N.function}),r.jsx("span",{children:""}),r.jsxs("span",{children:[N.steps.length," steps"]}),r.jsx("span",{children:""}),r.jsxs("span",{children:[Math.round(N.confidence*100),"%"]})]})]},N.id))})}),r.jsx("div",{className:"flex-1",children:l?r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsxs("div",{className:"p-6 border-b",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:l.name}),r.jsx("p",{className:"text-gray-600 mt-1",children:l.description})]}),r.jsx("span",{className:`px-3 py-1 rounded-full ${P(l.status)}`,children:l.status.replace("_"," ")})]}),r.jsxs("div",{className:"flex gap-4 mt-4 text-sm text-gray-500",children:[r.jsxs("span",{children:["Function: ",l.function]}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Source: ",l.sourceType]}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Confidence: ",Math.round(l.confidence*100),"%"]})]})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Workflow Steps"}),r.jsx("div",{className:"space-y-3",children:l.steps.map((N,A)=>r.jsxs("div",{className:"flex gap-3 items-start",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-sm",children:A+1}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:O(N.type)}),r.jsx("span",{className:"font-medium",children:N.name}),r.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-gray-100 text-gray-600",children:N.type})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:N.description}),N.agentId&&r.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Agent: ",N.agentId]}),N.toolName&&r.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Tool: ",N.toolName]})]})]},N.id))})]}),l.status==="rejected"&&l.rejectionReason&&r.jsx("div",{className:"px-6 pb-6",children:r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-red-700 mb-1",children:"Rejection Reason"}),r.jsx("p",{className:"text-red-600",children:l.rejectionReason})]})}),(l.status==="draft"||l.status==="pending_review")&&r.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>S(l),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-white",children:"Download YAML"}),r.jsx("button",{onClick:()=>{j(!0)},className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50",children:"Reject"}),r.jsx("button",{onClick:()=>w(l.id),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Approve"})]}),l.status==="approved"&&r.jsx("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:r.jsx("button",{onClick:()=>S(l),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Download YAML"})})]}):r.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[r.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),r.jsx("p",{className:"text-gray-600",children:"Select a draft to view details"})]})})]})]}),x&&l&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Reject Draft"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Please provide a reason for rejecting this draft:"}),r.jsx("textarea",{value:p,onChange:N=>m(N.target.value),placeholder:"Enter rejection reason...",className:"w-full border border-gray-300 rounded-lg p-3 mb-4 h-32"}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>{j(!1),m("")},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:()=>g(l.id),disabled:!p.trim(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:"Reject"})]})]})})]})}const qte={automated:{icon:"",label:"Automated",bgColor:"bg-blue-50",borderColor:"border-blue-300",textColor:"text-blue-700",selectedBorder:"border-blue-500"},manual:{icon:"",label:"Manual",bgColor:"bg-amber-50",borderColor:"border-amber-300",textColor:"text-amber-700",selectedBorder:"border-amber-500"},approval_required:{icon:"",label:"Approval",bgColor:"bg-green-50",borderColor:"border-green-300",textColor:"text-green-700",selectedBorder:"border-green-500"}};function zte({step:e,index:t,isSelected:n,isDragging:a,onSelect:s,onDragStart:i,onDragEnd:l}){const d=b.useMemo(()=>qte[e.type],[e.type]);return r.jsxs("div",{draggable:!0,onDragStart:i,onDragEnd:l,onClick:s,className:`
        relative p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
        ${d.bgColor}
        ${n?d.selectedBorder+" ring-2 ring-offset-2 ring-indigo-300":d.borderColor}
        ${a?"opacity-50 scale-95":"opacity-100"}
        hover:shadow-md
        min-w-[180px] max-w-[220px]
      `,children:[r.jsx("div",{className:"absolute -top-2 -left-2 w-6 h-6 rounded-full bg-gray-700 text-white text-xs flex items-center justify-center font-bold",children:t+1}),r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-lg",children:d.icon}),r.jsx("span",{className:`text-xs font-medium ${d.textColor}`,children:d.label})]}),r.jsx("h3",{className:"font-medium text-gray-900 text-sm truncate mb-1",children:e.name}),r.jsxs("div",{className:"text-xs text-gray-500 space-y-0.5",children:[e.agent&&r.jsxs("p",{className:"truncate",children:[r.jsx("span",{className:"text-gray-400",children:"agent:"})," ",e.agent]}),e.tool&&r.jsxs("p",{className:"truncate",children:[r.jsx("span",{className:"text-gray-400",children:"tool:"})," ",e.tool]}),e.assignee&&r.jsxs("p",{className:"truncate",children:[r.jsx("span",{className:"text-gray-400",children:"assignee:"})," ",e.assignee]}),e.approver&&r.jsxs("p",{className:"truncate",children:[r.jsx("span",{className:"text-gray-400",children:"approver:"})," ",e.approver]}),e.timeout&&r.jsxs("p",{className:"truncate",children:[r.jsx("span",{className:"text-gray-400",children:"timeout:"})," ",e.timeout]})]}),e.conditional&&r.jsx("div",{className:"mt-2 px-2 py-1 bg-purple-100 rounded text-xs text-purple-700 truncate",children:" Conditional"}),r.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-4 h-4 rounded-full bg-gray-400 border-2 border-white"})]})}function Bte({steps:e,selectedStepIndex:t,onSelectStep:n,onReorderSteps:a,onAddStep:s}){const[i,l]=b.useState(null),[d,u]=b.useState(null),h=b.useRef(null),p=b.useCallback(w=>g=>{g.dataTransfer.effectAllowed="move",g.dataTransfer.setData("text/plain",String(w)),l(w)},[]),m=b.useCallback(()=>{l(null),u(null)},[]),x=b.useCallback(w=>g=>{g.preventDefault(),g.dataTransfer.dropEffect="move",i!==null&&w!==i&&u(w)},[i]),j=b.useCallback(w=>g=>{g.preventDefault();const S=parseInt(g.dataTransfer.getData("text/plain"),10);!isNaN(S)&&S!==w&&a(S,w),l(null),u(null)},[a]),v=w=>w>=e.length-1?null:r.jsxs("div",{className:"flex justify-center my-2",children:[r.jsx("div",{className:"w-0.5 h-8 bg-gray-300"}),r.jsx("svg",{className:"absolute",style:{marginTop:"20px"},width:"12",height:"12",viewBox:"0 0 12 12",children:r.jsx("polygon",{points:"6,12 0,0 12,0",fill:"#D1D5DB"})})]});return r.jsxs("div",{className:"flex-1 bg-gray-50 overflow-auto",ref:h,children:[r.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add Step:"}),r.jsxs("button",{onClick:()=>s("automated"),className:"flex items-center gap-1 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-sm hover:bg-blue-100 transition-colors",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Automated"})]}),r.jsxs("button",{onClick:()=>s("manual"),className:"flex items-center gap-1 px-3 py-1.5 bg-amber-50 text-amber-700 rounded-lg text-sm hover:bg-amber-100 transition-colors",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Manual"})]}),r.jsxs("button",{onClick:()=>s("approval_required"),className:"flex items-center gap-1 px-3 py-1.5 bg-green-50 text-green-700 rounded-lg text-sm hover:bg-green-100 transition-colors",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Approval"})]})]})}),r.jsx("div",{className:"p-8 min-h-[400px]",children:e.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[r.jsx("div",{className:"text-5xl mb-4",children:""}),r.jsx("p",{className:"text-lg font-medium",children:"No steps yet"}),r.jsx("p",{className:"text-sm",children:"Click the buttons above to add steps to your SOP"})]}):r.jsxs("div",{className:"flex flex-col items-center",children:[e.map((w,g)=>r.jsxs("div",{children:[d===g&&i!==null&&r.jsx("div",{className:"h-16 w-48 border-2 border-dashed border-indigo-400 bg-indigo-50 rounded-lg mb-4 flex items-center justify-center",children:r.jsx("span",{className:"text-sm text-indigo-600",children:"Drop here"})}),r.jsx("div",{onDragOver:x(g),onDrop:j(g),children:r.jsx(zte,{step:w,index:g,isSelected:t===g,isDragging:i===g,onSelect:()=>n(g),onDragStart:p(g),onDragEnd:m})}),v(g)]},w.id+"-"+g)),d===e.length&&i!==null&&r.jsx("div",{className:"h-16 w-48 border-2 border-dashed border-indigo-400 bg-indigo-50 rounded-lg flex items-center justify-center",onDragOver:w=>{w.preventDefault(),u(e.length)},onDrop:j(e.length),children:r.jsx("span",{className:"text-sm text-indigo-600",children:"Drop here"})})]})}),t!==null&&r.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>n(null),style:{pointerEvents:"none"}})]})}function Ute({step:e,onUpdate:t,onDelete:n,onClose:a}){var x,j;const[s,i]=b.useState(e),[l,d]=b.useState("");if(b.useEffect(()=>{i(e)},[e]),!s)return r.jsx("div",{className:"w-80 border-l border-gray-200 bg-gray-50 p-4",children:r.jsx("p",{className:"text-gray-500 text-sm",children:"Select a step to configure"})});const u=(v,w)=>{const g={...s,[v]:w};i(g),t(g)},h=v=>{const w={...s,conditional:{when:v}};i(w),t(w)},p=()=>{if(!l.trim())return;const v=[...s.checklist||[],l.trim()];u("checklist",v),d("")},m=v=>{var g;const w=((g=s.checklist)==null?void 0:g.filter((S,P)=>P!==v))||[];u("checklist",w.length>0?w:void 0)};return r.jsxs("div",{className:"w-80 border-l border-gray-200 bg-white overflow-y-auto",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Step Configuration"}),r.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 text-xl",children:""})]}),r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),r.jsxs("select",{value:s.type,onChange:v=>u("type",v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"automated",children:" Automated"}),r.jsx("option",{value:"manual",children:" Manual"}),r.jsx("option",{value:"approval_required",children:" Approval Required"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),r.jsx("input",{type:"text",value:s.id,onChange:v=>u("id",v.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"step-id"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("input",{type:"text",value:s.name,onChange:v=>u("name",v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Step name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:s.description||"",onChange:v=>u("description",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",rows:2,placeholder:"Optional description"})]}),s.type==="automated"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agent"}),r.jsx("input",{type:"text",value:s.agent||"",onChange:v=>u("agent",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., cs-agent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tool"}),r.jsx("input",{type:"text",value:s.tool||"",onChange:v=>u("tool",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., send_email"})]})]}),s.type==="manual"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignee"}),r.jsx("input",{type:"text",value:s.assignee||"",onChange:v=>u("assignee",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., cs-manager"})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:s.requires_approval||!1,onChange:v=>u("requires_approval",v.target.checked),className:"rounded border-gray-300"}),r.jsx("span",{className:"text-gray-700",children:"Requires Approval"})]})})]}),s.type==="approval_required"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Approver"}),r.jsx("input",{type:"text",value:s.approver||"",onChange:v=>u("approver",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., team-lead"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timeout"}),r.jsxs("select",{value:s.timeout||"",onChange:v=>u("timeout",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"No timeout"}),r.jsx("option",{value:"5m",children:"5 minutes"}),r.jsx("option",{value:"15m",children:"15 minutes"}),r.jsx("option",{value:"30m",children:"30 minutes"}),r.jsx("option",{value:"1h",children:"1 hour"}),r.jsx("option",{value:"2h",children:"2 hours"}),r.jsx("option",{value:"4h",children:"4 hours"}),r.jsx("option",{value:"8h",children:"8 hours"}),r.jsx("option",{value:"24h",children:"24 hours"}),r.jsx("option",{value:"48h",children:"48 hours"}),r.jsx("option",{value:"72h",children:"72 hours"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conditional (when)"}),r.jsx("input",{type:"text",value:((x=s.conditional)==null?void 0:x.when)||"",onChange:v=>v.target.value?h(v.target.value):u("conditional",void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., {{risk_score}} >= 7"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Use ","{{variable}}"," syntax for template variables"]})]}),(s.type==="manual"||s.type==="approval_required")&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Checklist"}),r.jsxs("div",{className:"space-y-2",children:[(j=s.checklist)==null?void 0:j.map((v,w)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"flex-1 text-sm text-gray-600 bg-gray-50 px-2 py-1 rounded",children:v}),r.jsx("button",{onClick:()=>m(w),className:"text-red-500 hover:text-red-700 text-sm",children:""})]},w)),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:l,onChange:v=>d(v.target.value),onKeyDown:v=>v.key==="Enter"&&p(),className:"flex-1 border border-gray-300 rounded px-2 py-1 text-sm",placeholder:"Add checklist item"}),r.jsx("button",{onClick:p,className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"Add"})]})]})]}),r.jsx("div",{className:"pt-4 border-t border-gray-200",children:r.jsx("button",{onClick:n,className:"w-full px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 text-sm font-medium",children:"Delete Step"})})]})]})}function Wte({sopId:e,isOpen:t,onClose:n}){const[a,s]=b.useState("{}"),[i,l]=b.useState(null),[d,u]=b.useState(!1),[h,p]=b.useState(null),[m,x]=b.useState(0),j=async()=>{if(e){u(!0),p(null);try{const g=JSON.parse(a),S=await se({url:`/api/sops/${e}/simulate`,method:"POST",data:{input:g}});l(S.simulation),x(0)}catch(g){g instanceof SyntaxError?p("Invalid JSON in input data"):g instanceof Ve?p(g.message):p("Failed to simulate SOP")}finally{u(!1)}}},v=g=>{if(g<60)return`${g}m`;const S=Math.floor(g/60),P=g%60;if(S<24)return P>0?`${S}h ${P}m`:`${S}h`;const O=Math.floor(S/24),N=S%24;return N>0?`${O}d ${N}h`:`${O}d`},w=g=>{switch(g){case"automated":return{icon:"",color:"bg-blue-100 text-blue-700"};case"manual":return{icon:"",color:"bg-amber-100 text-amber-700"};case"approval_required":return{icon:"",color:"bg-green-100 text-green-700"};default:return{icon:"",color:"bg-gray-100 text-gray-700"}}};return t?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Preview Execution"}),r.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),r.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Data (JSON)"}),r.jsx("textarea",{value:a,onChange:g=>s(g.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 font-mono text-sm h-32 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:'{"customer": {"email": "test@example.com", "company_name": "Acme Inc"}}'}),r.jsx("button",{onClick:j,disabled:d||!e,className:"mt-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 text-sm font-medium",children:d?"Simulating...":"Run Simulation"})]}),h&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:h}),i&&r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6 p-4 bg-indigo-50 rounded-lg",children:[r.jsx("h3",{className:"font-medium text-indigo-900 mb-2",children:i.sopName}),r.jsxs("div",{className:"flex gap-6 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-indigo-600",children:"Total Steps:"})," ",r.jsx("span",{className:"font-medium",children:i.totalSteps})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-indigo-600",children:"Est. Duration:"})," ",r.jsx("span",{className:"font-medium",children:v(i.estimatedTotalDuration)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-indigo-600",children:"Will Execute:"})," ",r.jsxs("span",{className:"font-medium",children:[i.steps.filter(g=>g.willExecute).length," steps"]})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Execution Flow"}),r.jsx("div",{className:"space-y-3",children:i.steps.map((g,S)=>{const P=w(g.type),O=S===m;return r.jsx("div",{onClick:()=>x(S),className:`
                          p-4 rounded-lg border-2 cursor-pointer transition-all
                          ${O?"border-indigo-400 bg-indigo-50":"border-gray-200 hover:border-gray-300"}
                          ${g.willExecute?"":"opacity-50"}
                        `,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${g.willExecute?"bg-gray-700 text-white":"bg-gray-300 text-gray-600"}`,children:S+1}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${P.color}`,children:[P.icon," ",g.type.replace("_"," ")]}),!g.willExecute&&r.jsx("span",{className:"px-2 py-0.5 bg-gray-200 text-gray-600 rounded text-xs",children:"Will Skip"})]}),r.jsx("h5",{className:"font-medium text-gray-900",children:g.name}),g.description&&r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:g.description}),g.skipReason&&r.jsxs("p",{className:"text-sm text-amber-600 mt-1",children:["Reason: ",g.skipReason]}),O&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 space-y-2 text-sm",children:[g.agent&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Agent:"})," ",r.jsx("span",{className:"font-mono",children:g.agent})]}),g.tool&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Tool:"})," ",r.jsx("span",{className:"font-mono",children:g.tool})]}),g.assignee&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Assignee:"})," ",r.jsx("span",{children:g.assignee})]}),g.approver&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Approver:"})," ",r.jsx("span",{children:g.approver})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Est. Duration:"})," ",r.jsx("span",{children:v(g.estimatedDuration)})]}),g.checklist&&g.checklist.length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Checklist:"}),r.jsx("ul",{className:"mt-1 ml-4 list-disc",children:g.checklist.map((N,A)=>r.jsx("li",{className:"text-gray-600",children:N},A))})]}),g.resolvedInput&&Object.keys(g.resolvedInput).length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Resolved Input:"}),r.jsx("pre",{className:"mt-1 p-2 bg-gray-100 rounded text-xs overflow-auto",children:JSON.stringify(g.resolvedInput,null,2)})]})]})]}),r.jsx("div",{className:"text-xs text-gray-500",children:v(g.estimatedDuration)})]})},g.id)})})]}),i.exceptionHandlers.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Exception Handlers"}),r.jsx("div",{className:"space-y-2",children:i.exceptionHandlers.map((g,S)=>r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm flex items-center gap-3",children:[r.jsx("span",{className:"text-amber-500",children:""}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:g.condition}),r.jsx("span",{className:"text-gray-400 mx-2",children:""}),r.jsx("span",{className:"text-indigo-600",children:g.action}),g.target&&r.jsxs("span",{className:"text-gray-500",children:[" (target: ",g.target,")"]})]})]},S))})]})]})]})]})}):null}const Hte=[{value:"brand",label:"Brand"},{value:"finance",label:"Finance"},{value:"ops",label:"Operations"},{value:"cs",label:"Customer Success"},{value:"hr",label:"HR"},{value:"engineering",label:"Engineering"},{value:"product",label:"Product"},{value:"sales",label:"Sales"}];function Kte(){const{id:e}=Zh(),t=Zs(),n=!!e,[a,s]=b.useState([]),[i,l]=b.useState(!0),[d,u]=b.useState({id:"",name:"",function:"ops",owner:"",version:"1.0.0"}),[h,p]=b.useState([{pattern:""}]),[m,x]=b.useState([]),[j,v]=b.useState([]),[w,g]=b.useState(null),[S,P]=b.useState(!1),[O,N]=b.useState(!1),[A,C]=b.useState(null),[E,T]=b.useState(null),[R,I]=b.useState(!1),[M,$]=b.useState(!1),[G,V]=b.useState(""),[z,U]=b.useState("editor"),W=b.useCallback(async()=>{try{const re=await se({url:"/api/sops",method:"GET"});s(re.sops)}catch(re){console.error("Failed to fetch SOP list:",re)}finally{l(!1)}},[]),B=b.useCallback(async re=>{P(!0),C(null);try{const je=(await se({url:`/api/sops/${re}`,method:"GET"})).sop;u(je.metadata),p(je.triggers),x(je.steps),v(je.exception_handling||[])}catch(be){be instanceof Ve?C(be.message):C("Failed to load SOP")}finally{P(!1)}},[]),F=b.useCallback(async()=>{if(e)try{const re=await fetch(`/api/sops/${e}/yaml`,{credentials:"include"});if(re.ok){const be=await re.text();V(be)}}catch(re){console.error("Failed to fetch YAML:",re)}},[e]);b.useEffect(()=>{W()},[W]),b.useEffect(()=>{e?B(e):(u({id:"",name:"",function:"ops",owner:"",version:"1.0.0"}),p([{pattern:""}]),x([]),v([]),g(null))},[e,B]),b.useEffect(()=>{M&&e&&F()},[M,e,F]);const L=re=>{const be={id:`step-${Date.now()}`,name:`New ${re==="automated"?"Automated":re==="manual"?"Manual":"Approval"} Step`,type:re};x([...m,be]),g(m.length)},q=re=>{if(w===null)return;const be=[...m];be[w]=re,x(be)},K=()=>{if(w===null)return;const re=m.filter((be,je)=>je!==w);x(re),g(null)},Y=(re,be)=>{const je=[...m],[tt]=je.splice(re,1);je.splice(be,0,tt),x(je),w===re&&g(be)},H=()=>{p([...h,{pattern:""}])},ue=(re,be)=>{const je=[...h];je[re]={pattern:be},p(je)},he=re=>{h.length<=1||p(h.filter((be,je)=>je!==re))},oe=()=>{v([...j,{condition:"",action:"notify_owner"}])},te=(re,be,je)=>{const tt=[...j];tt[re]={...tt[re],[be]:je},v(tt)},le=re=>{v(j.filter((be,je)=>je!==re))},ke=async()=>{if(!d.id.trim()){C("SOP ID is required");return}if(!d.name.trim()){C("SOP name is required");return}if(!d.owner.trim()){C("Owner is required");return}if(h.every(be=>!be.pattern.trim())){C("At least one trigger pattern is required");return}if(m.length===0){C("At least one step is required");return}N(!0),C(null),T(null);const re={metadata:d,triggers:h.filter(be=>be.pattern.trim()),steps:m,exception_handling:j.filter(be=>be.condition.trim())};try{n?(await se({url:`/api/sops/${e}`,method:"PUT",data:re}),T("SOP updated successfully")):(await se({url:"/api/sops",method:"POST",data:re}),T("SOP created successfully"),t(`/sops/${d.id}`)),W()}catch(be){be instanceof Ve?C(be.message):C("Failed to save SOP")}finally{N(!1)}},$e=async()=>{if(!(!e||!confirm("Are you sure you want to delete this SOP?")))try{await se({url:`/api/sops/${e}`,method:"DELETE"}),t("/sops"),W()}catch(re){re instanceof Ve?C(re.message):C("Failed to delete SOP")}};return S?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading SOP..."})]})}):r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("nav",{className:"text-sm mb-1",children:[r.jsx(ft,{to:"/sops",className:"text-indigo-600 hover:text-indigo-800",children:"SOPs"}),r.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),r.jsx("span",{className:"text-gray-600",children:n?d.name||e:"New SOP"})]}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit SOP":"Create New SOP"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[n&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>$(!M),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 text-sm font-medium",children:M?"Hide YAML":"View YAML"}),r.jsx("button",{onClick:()=>I(!0),className:"px-4 py-2 text-indigo-700 bg-indigo-100 rounded-lg hover:bg-indigo-200 text-sm font-medium",children:"Preview"}),r.jsx("button",{onClick:$e,className:"px-4 py-2 text-red-700 bg-red-50 rounded-lg hover:bg-red-100 text-sm font-medium",children:"Delete"})]}),r.jsx("button",{onClick:ke,disabled:O,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 text-sm font-medium",children:O?"Saving...":n?"Update SOP":"Create SOP"})]})]}),A&&r.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:A}),E&&r.jsx("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:E})]}),r.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[r.jsxs("div",{className:"w-56 border-r border-gray-200 bg-gray-50 overflow-y-auto",children:[r.jsx("div",{className:"p-4",children:r.jsxs(ft,{to:"/sops/new",className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 text-sm font-medium",children:[r.jsx("span",{children:"+"}),r.jsx("span",{children:"New SOP"})]})}),r.jsx("nav",{className:"px-2 pb-4",children:i?r.jsx("p",{className:"text-sm text-gray-500 px-2",children:"Loading..."}):a.length===0?r.jsx("p",{className:"text-sm text-gray-500 px-2",children:"No SOPs yet"}):a.map(re=>r.jsxs(ft,{to:`/sops/${re.id}`,className:`block px-3 py-2 rounded-lg text-sm mb-1 transition-colors ${e===re.id?"bg-indigo-100 text-indigo-700":"text-gray-700 hover:bg-gray-100"}`,children:[r.jsx("div",{className:"font-medium truncate",children:re.name}),r.jsxs("div",{className:"text-xs text-gray-500",children:[re.function,"  ",re.stepCount," steps"]})]},re.id))})]}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx("div",{className:"bg-white border-b border-gray-200 px-6",children:r.jsx("div",{className:"flex gap-6",children:["editor","triggers","exceptions"].map(re=>r.jsxs("button",{onClick:()=>U(re),className:`py-3 text-sm font-medium border-b-2 transition-colors ${z===re?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[re==="editor"&&"Step Editor",re==="triggers"&&"Triggers & Metadata",re==="exceptions"&&"Exception Handlers"]},re))})}),z==="editor"&&r.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[r.jsx(Bte,{steps:m,selectedStepIndex:w,onSelectStep:g,onReorderSteps:Y,onAddStep:L}),r.jsx(Ute,{step:w!==null?m[w]:null,onUpdate:q,onDelete:K,onClose:()=>g(null)})]}),z==="triggers"&&r.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:r.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"SOP Metadata"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SOP ID *"}),r.jsx("input",{type:"text",value:d.id,onChange:re=>u({...d,id:re.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),disabled:n,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm disabled:bg-gray-100",placeholder:"e.g., customer-onboarding"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:d.name,onChange:re=>u({...d,name:re.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"e.g., Customer Onboarding"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Function *"}),r.jsx("select",{value:d.function,onChange:re=>u({...d,function:re.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:Hte.map(re=>r.jsx("option",{value:re.value,children:re.label},re.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner *"}),r.jsx("input",{type:"text",value:d.owner,onChange:re=>u({...d,owner:re.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"e.g., cs-team-lead"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version"}),r.jsx("input",{type:"text",value:d.version,onChange:re=>u({...d,version:re.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"1.0.0"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Triggers"}),r.jsx("button",{onClick:H,className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"+ Add Trigger"})]}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Triggers determine when this SOP is automatically invoked. Add patterns that match user messages or events."}),r.jsx("div",{className:"space-y-3",children:h.map((re,be)=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:re.pattern,onChange:je=>ue(be,je.target.value),className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:'e.g., "  " or "new customer onboarding"'}),h.length>1&&r.jsx("button",{onClick:()=>he(be),className:"px-3 py-2 text-red-500 hover:text-red-700",children:""})]},be))})]})]})}),z==="exceptions"&&r.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:r.jsx("div",{className:"max-w-3xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Exception Handlers"}),r.jsx("button",{onClick:oe,className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"+ Add Handler"})]}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Define how the SOP should respond to errors, timeouts, and other exceptional conditions."}),j.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("p",{children:"No exception handlers defined"}),r.jsx("p",{className:"text-sm",children:'Click "Add Handler" to create one'})]}):r.jsx("div",{className:"space-y-4",children:j.map((re,be)=>r.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Condition"}),r.jsxs("select",{value:re.condition,onChange:je=>te(be,"condition",je.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",children:[r.jsx("option",{value:"",children:"Select condition..."}),r.jsx("option",{value:"step.failed",children:"Step Failed"}),r.jsx("option",{value:"step.timeout",children:"Step Timeout"}),r.jsx("option",{value:"approval.rejected",children:"Approval Rejected"}),r.jsx("option",{value:"approval.timeout",children:"Approval Timeout"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Action"}),r.jsxs("select",{value:re.action,onChange:je=>te(be,"action",je.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",children:[r.jsx("option",{value:"notify_owner",children:"Notify Owner"}),r.jsx("option",{value:"escalate",children:"Escalate"}),r.jsx("option",{value:"retry_with_modification",children:"Retry with Modification"}),r.jsx("option",{value:"halt_and_escalate",children:"Halt and Escalate"}),r.jsx("option",{value:"return_to_step",children:"Return to Step"}),r.jsx("option",{value:"send_reminder",children:"Send Reminder"}),r.jsx("option",{value:"request_revision",children:"Request Revision"}),r.jsx("option",{value:"page_executive",children:"Page Executive"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Target"}),r.jsx("input",{type:"text",value:re.target||"",onChange:je=>te(be,"target",je.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"e.g., team-lead"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Message Template"}),r.jsx("input",{type:"text",value:re.message||"",onChange:je=>te(be,"message",je.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"e.g., SOP failed: {{step.name}}"})]})]}),r.jsx("button",{onClick:()=>le(be),className:"text-red-500 hover:text-red-700 text-lg",children:""})]})},be))})]})})})]})]}),M&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"YAML Configuration"}),r.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),r.jsx("div",{className:"flex-1 overflow-auto p-4",children:r.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg text-sm font-mono whitespace-pre-wrap",children:G||"Loading..."})}),r.jsx("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:r.jsx("button",{onClick:()=>{navigator.clipboard.writeText(G)},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"Copy to Clipboard"})})]})}),r.jsx(Wte,{sopId:e||null,isOpen:R,onClose:()=>I(!1)})]})}function Gte(e){return e>=80?"text-green-600":e>=60?"text-yellow-600":e>=40?"text-orange-600":"text-red-600"}function Vte(e){return e>=80?"bg-green-100":e>=60?"bg-yellow-100":e>=40?"bg-orange-100":"bg-red-100"}function Z_(e){switch(e){case"healthy":return"bg-green-100 text-green-800";case"degraded":return"bg-yellow-100 text-yellow-800";case"unhealthy":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function Qte(e){switch(e){case"critical":return"text-red-600";case"high":return"text-orange-600";case"medium":return"text-yellow-600";default:return"text-blue-600"}}function Sw(e){switch(e){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}}function fP(e){return new Date(e).toLocaleDateString()}function eT(e){return new Date(e).toLocaleString()}function mP(e){switch(e){case"up":return"";case"down":return"";default:return""}}function Yte({score:e,status:t}){return r.jsxs("div",{className:`rounded-lg p-6 ${Vte(e)} text-center`,children:[r.jsx("div",{className:`text-6xl font-bold ${Gte(e)}`,children:e}),r.jsx("div",{className:"text-lg font-medium text-gray-700 mt-2",children:"Health Score"}),r.jsx("div",{className:`inline-block mt-2 px-3 py-1 rounded-full text-sm font-medium ${Z_(t)}`,children:t.charAt(0).toUpperCase()+t.slice(1)})]})}function av({title:e,value:t,subtitle:n}){return r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:e}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t}),n&&r.jsx("div",{className:"text-xs text-gray-400 mt-1",children:n})]})}function Xte({agent:e}){return r.jsxs("div",{className:`bg-white rounded-lg shadow p-4 border-l-4 ${e.status==="healthy"?"border-green-500":e.status==="degraded"?"border-yellow-500":"border-red-500"}`,children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500",children:e.agentId})]}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${Z_(e.status)}`,children:e.status})]}),r.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Executions:"})," ",r.jsx("span",{className:"font-medium",children:e.metrics.totalExecutions}),r.jsx("span",{className:"ml-1 text-gray-400",children:mP(e.trends.executionsTrend)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Success:"})," ",r.jsxs("span",{className:`font-medium ${e.metrics.successRate>=90?"text-green-600":e.metrics.successRate>=70?"text-yellow-600":"text-red-600"}`,children:[e.metrics.successRate.toFixed(1),"%"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Latency:"})," ",r.jsxs("span",{className:"font-medium",children:[e.metrics.avgLatencyMs,"ms"]}),r.jsx("span",{className:"ml-1 text-gray-400",children:mP(e.trends.latencyTrend)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Errors:"})," ",r.jsxs("span",{className:`font-medium ${e.metrics.errorRate<=5?"text-green-600":e.metrics.errorRate<=15?"text-yellow-600":"text-red-600"}`,children:[e.metrics.errorRate.toFixed(1),"%"]})]})]}),e.lastError&&r.jsx("div",{className:"mt-2 p-2 bg-red-50 rounded text-xs text-red-700 truncate",children:e.lastError.message})]})}function Jte({anomaly:e}){return r.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-orange-500",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("div",{className:`text-sm font-medium ${Qte(e.severity)}`,children:e.type.replace(/_/g," ").toUpperCase()}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${Sw(e.severity)}`,children:e.severity})]}),r.jsx("p",{className:"text-gray-700 text-sm mt-2",children:e.description}),r.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Detected: ",eT(e.detectedAt)]})]})}function Zte({gap:e}){return r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:e.title}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${Sw(e.severity)}`,children:e.severity})]}),r.jsx("p",{className:"text-gray-600 text-sm mt-2",children:e.description}),r.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded text-sm text-blue-700",children:[r.jsx("span",{className:"font-medium",children:"Action:"})," ",e.suggestedAction]})]})}function ere({recommendation:e,onAccept:t,onReject:n}){return r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:e.title}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${Sw(e.priority)}`,children:e.priority})]}),r.jsx("p",{className:"text-gray-600 text-sm mt-2",children:e.description}),r.jsxs("div",{className:"mt-2 text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Impact:"})," ",r.jsx("span",{className:"text-gray-700",children:e.impact})]}),r.jsxs("div",{className:"mt-2 p-2 bg-green-50 rounded text-sm text-green-700",children:[r.jsx("span",{className:"font-medium",children:"Action:"})," ",e.suggestedAction]}),r.jsxs("div",{className:"mt-3 flex gap-2",children:[r.jsx("button",{onClick:()=>t(e.id),className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"Accept"}),r.jsx("button",{onClick:()=>n(e.id),className:"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300",children:"Dismiss"})]})]})}function tre(){const[e,t]=b.useState(null),[n,a]=b.useState([]),[s,i]=b.useState([]),[l,d]=b.useState([]),[u,h]=b.useState(!0),[p,m]=b.useState(null),[x,j]=b.useState(!1),[v,w]=b.useState(!0),[g,S]=b.useState("agents"),P=b.useCallback(async()=>{try{const[E,T,R,I]=await Promise.all([fetch("/api/meta-agent/health",{credentials:"include"}),fetch("/api/meta-agent/knowledge/gaps",{credentials:"include"}),fetch("/api/meta-agent/recommendations",{credentials:"include"}),fetch("/api/meta-agent/reports?limit=5",{credentials:"include"})]);if(Io(E)){j(!0),h(!1);return}if(!E.ok)throw new Error("Failed to fetch health data");const M=await E.json();if(t(M.data),T.ok){const $=await T.json();a($.data||[])}if(R.ok){const $=await R.json();i($.data||[])}if(I.ok){const $=await I.json();d($.data||[])}m(null)}catch(E){m(E instanceof Error?E.message:"Unknown error")}finally{h(!1)}},[]);b.useEffect(()=>{P()},[P]),b.useEffect(()=>{if(!v)return;const E=setInterval(P,6e4);return()=>clearInterval(E)},[v,P]);const O=async E=>{try{(await fetch(`/api/meta-agent/recommendations/${E}/accept`,{method:"POST",credentials:"include"})).ok&&i(R=>R.filter(I=>I.id!==E))}catch(T){console.error("Failed to accept recommendation",T)}},N=async E=>{try{(await fetch(`/api/meta-agent/recommendations/${E}/reject`,{method:"POST",credentials:"include"})).ok&&i(R=>R.filter(I=>I.id!==E))}catch(T){console.error("Failed to reject recommendation",T)}},A=async()=>{try{(await fetch("/api/meta-agent/reports/generate",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"daily"})})).ok&&P()}catch(E){console.error("Failed to generate report",E)}},C=async()=>{try{h(!0),(await fetch("/api/meta-agent/system-check",{method:"POST",credentials:"include"})).ok&&P()}catch(E){console.error("Failed to run system check",E)}finally{h(!1)}};return u&&!e?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):x?r.jsx(Jc,{title:"System Health Monitoring",description:"System health monitoring is currently being set up. This feature will display agent status, health scores, and recommendations once the backend service is activated.",onRetry:P}):p&&!e?r.jsxs("div",{className:"bg-red-50 p-4 rounded-lg text-red-700",children:[r.jsx("h3",{className:"font-medium",children:"Error loading system health"}),r.jsx("p",{children:p}),r.jsx("button",{onClick:P,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Retry"})]}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Health"}),r.jsxs("p",{className:"text-gray-500",children:["Last updated: ",e?eT(e.timestamp):"N/A"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:C,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Run System Check"}),r.jsx("button",{onClick:A,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Generate Report"}),r.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 rounded",children:[r.jsx("input",{type:"checkbox",checked:v,onChange:E=>w(E.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Auto-refresh"})]})]})]}),e&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(Yte,{score:e.overallScore,status:e.status}),r.jsx(av,{title:"Total Agents",value:e.summary.totalAgents,subtitle:`${e.summary.healthyAgents} healthy, ${e.summary.degradedAgents} degraded, ${e.summary.unhealthyAgents} unhealthy`}),r.jsx(av,{title:"Executions (24h)",value:e.summary.totalExecutionsLast24h.toLocaleString(),subtitle:`${e.summary.overallSuccessRate.toFixed(1)}% success rate`}),r.jsx(av,{title:"Active Issues",value:e.anomalies.length,subtitle:`${e.anomalies.filter(E=>E.severity==="critical"||E.severity==="high").length} critical/high`})]}),e&&e.anomalies.filter(E=>E.severity==="critical").length>0&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"font-medium text-red-800",children:"Critical Issues Detected"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:e.anomalies.filter(E=>E.severity==="critical").map((E,T)=>r.jsx(Jte,{anomaly:E},T))})]}),r.jsx("div",{className:"border-b border-gray-200 mb-6",children:r.jsx("nav",{className:"flex gap-4",children:["agents","gaps","recommendations","reports"].map(E=>r.jsxs("button",{onClick:()=>S(E),className:`py-2 px-4 border-b-2 font-medium text-sm ${g===E?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[E==="agents"&&`Agents (${(e==null?void 0:e.agents.length)||0})`,E==="gaps"&&`Knowledge Gaps (${n.length})`,E==="recommendations"&&`Recommendations (${s.length})`,E==="reports"&&`Reports (${l.length})`]},E))})}),g==="agents"&&e&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.agents.map(E=>r.jsx(Xte,{agent:E},E.agentId))}),g==="gaps"&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.length===0?r.jsx("p",{className:"text-gray-500 col-span-2",children:"No knowledge gaps detected."}):n.slice(0,10).map((E,T)=>r.jsx(Zte,{gap:E},T))}),g==="recommendations"&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.length===0?r.jsx("p",{className:"text-gray-500 col-span-2",children:"No pending recommendations."}):s.map(E=>r.jsx(ere,{recommendation:E,onAccept:O,onReject:N},E.id))}),g==="reports"&&r.jsx("div",{className:"space-y-4",children:l.length===0?r.jsx("p",{className:"text-gray-500",children:"No reports generated yet."}):l.map(E=>r.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-gray-900",children:[E.type.charAt(0).toUpperCase()+E.type.slice(1)," Report"]}),r.jsxs("p",{className:"text-sm text-gray-500",children:[fP(E.periodStart)," - ",fP(E.periodEnd)]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("a",{href:`/api/meta-agent/reports/${E.id}?format=html`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm rounded hover:bg-blue-200",children:"View HTML"}),r.jsx("a",{href:`/api/meta-agent/reports/${E.id}?format=markdown`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded hover:bg-gray-200",children:"Markdown"})]})]},E.id))})]})}function rre(){const{currentOrganization:e}=rs(),[t,n]=b.useState("experiments"),[a,s]=b.useState([]),[i,l]=b.useState(null),[d,u]=b.useState([]),[h,p]=b.useState(!0),[m,x]=b.useState("");b.useEffect(()=>{j()},[e]);async function j(){p(!0);try{const[g,S,P]=await Promise.all([se({url:"/api/optimization/experiments"}),se({url:"/api/optimization/costs",params:{days:30}}),se({url:"/api/optimization/models"})]);s(g.experiments||[]),l(S.analysis||null),u(P.models||[])}catch(g){console.error("Failed to load optimization data:",g)}finally{p(!1)}}async function v(g){try{await se({method:"POST",url:`/api/optimization/experiments/${g}/start`}),await j()}catch(S){console.error("Failed to start experiment:",S)}}async function w(g){try{await se({method:"POST",url:`/api/optimization/experiments/${g}/stop`}),await j()}catch(S){console.error("Failed to stop experiment:",S)}}return h?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Agent Performance Optimization"}),r.jsx("div",{className:"flex border-b mb-6",children:["experiments","prompts","routing","models","costs"].map(g=>r.jsx("button",{onClick:()=>n(g),className:`px-4 py-2 capitalize ${t===g?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:g},g))}),t==="experiments"&&r.jsx(nre,{experiments:a,onStart:v,onStop:w}),t==="prompts"&&r.jsx(ire,{selectedAgent:m,onAgentChange:x}),t==="routing"&&r.jsx(ore,{selectedAgent:m,onAgentChange:x}),t==="models"&&r.jsx(lre,{models:d}),t==="costs"&&i&&r.jsx(cre,{analysis:i})]})}function nre({experiments:e,onStart:t,onStop:n}){const a=e.filter(i=>i.status==="running"),s=e.filter(i=>i.status==="completed");return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Active Experiments"}),a.length===0?r.jsx("p",{className:"text-gray-500",children:"No active experiments"}):r.jsx("div",{className:"space-y-4",children:a.map(i=>r.jsx(are,{experiment:i,onStart:t,onStop:n},i.id))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Completed Experiments"}),s.length===0?r.jsx("p",{className:"text-gray-500",children:"No completed experiments"}):r.jsx("div",{className:"space-y-4",children:s.map(i=>r.jsx(sre,{experiment:i},i.id))})]})]})}function are({experiment:e,onStart:t,onStop:n}){const a={draft:"bg-gray-100 text-gray-800",running:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"};return r.jsx("div",{className:"border rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:e.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Agent: ",e.agentId," | Type: ",e.type]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Traffic Split: ",(e.trafficSplit*100).toFixed(0),"% treatment"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-1 rounded text-xs ${a[e.status]}`,children:e.status}),e.status==="draft"&&r.jsx("button",{onClick:()=>t(e.id),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Start"}),e.status==="running"&&r.jsx("button",{onClick:()=>n(e.id),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Stop"})]})]})})}function sre({experiment:e}){const t=e.results;return t?r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:e.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Agent: ",e.agentId]})]}),t.isSignificant&&r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs",children:"Significant Result"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[r.jsx("p",{className:"text-sm font-medium",children:"Control"}),r.jsxs("p",{className:"text-lg",children:[(t.controlVariant.successRate*100).toFixed(1),"%"]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["n=",t.controlVariant.sampleSize]})]}),r.jsxs("div",{className:"bg-blue-50 rounded p-3",children:[r.jsx("p",{className:"text-sm font-medium",children:"Treatment"}),r.jsxs("p",{className:"text-lg",children:[(t.treatmentVariant.successRate*100).toFixed(1),"%"]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["n=",t.treatmentVariant.sampleSize]})]})]}),r.jsxs("div",{className:"mt-4 text-sm",children:[r.jsxs("p",{children:["Improvement: ",r.jsxs("strong",{children:[t.improvement.toFixed(1),"%"]})]}),r.jsxs("p",{children:["Confidence: ",r.jsxs("strong",{children:[(t.confidence*100).toFixed(1),"%"]})]}),t.winner&&r.jsxs("p",{className:"text-green-600 mt-2",children:["Winner: ",t.winner===t.treatmentVariant.variantId?"Treatment":"Control"]})]})]}):null}function ire({selectedAgent:e,onAgentChange:t}){const[n,a]=b.useState([]),[s,i]=b.useState(!1);async function l(d){if(d){i(!0);try{const u=await se({url:`/api/optimization/agents/${d}/prompts`});a(u.variants||[])}catch(u){console.error("Failed to load prompts:",u)}finally{i(!1)}}}return b.useEffect(()=>{e&&l(e)},[e]),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Prompt Performance"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Agent"}),r.jsx("input",{type:"text",value:e,onChange:d=>t(d.target.value),placeholder:"Enter agent ID...",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s?r.jsx("p",{className:"text-gray-500",children:"Loading..."}):n.length===0?r.jsx("p",{className:"text-gray-500",children:"No prompt variants found"}):r.jsx("div",{className:"space-y-4",children:n.map(d=>{var u;return r.jsxs("div",{className:`border rounded-lg p-4 ${d.isActive?"border-green-500 bg-green-50":""}`,children:[r.jsx("div",{className:"flex justify-between items-start",children:r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:["Version ",d.version,d.isActive&&r.jsx("span",{className:"ml-2 text-xs bg-green-600 text-white px-2 py-0.5 rounded",children:"Active"})]}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Success Rate: ",(d.successRate*100).toFixed(1),"% | Avg Latency: ",d.avgLatencyMs,"ms | Sample: ",d.sampleSize]})]})}),r.jsxs("div",{className:"mt-2 bg-gray-50 p-2 rounded text-sm font-mono max-h-32 overflow-auto",children:[(u=d.systemPrompt)==null?void 0:u.substring(0,200),"..."]})]},d.id)})})]})}function ore({selectedAgent:e,onAgentChange:t}){var h,p;const[n,a]=b.useState(null),[s,i]=b.useState(null),[l,d]=b.useState(!1);async function u(m){if(m){d(!0);try{const[x,j]=await Promise.all([se({url:`/api/optimization/agents/${m}/routing/analysis`}),se({method:"POST",url:`/api/optimization/agents/${m}/routing/suggestions`})]);a(x.analysis||null),i(j||null)}catch(x){console.error("Failed to load routing:",x)}finally{d(!1)}}}return b.useEffect(()=>{e&&u(e)},[e]),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Routing Analysis"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Agent"}),r.jsx("input",{type:"text",value:e,onChange:m=>t(m.target.value),placeholder:"Enter agent ID...",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l?r.jsx("p",{className:"text-gray-500",children:"Loading..."}):n?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold",children:n.totalMatches}),r.jsx("p",{className:"text-sm text-gray-500",children:"Total Matches"})]}),r.jsxs("div",{className:"bg-green-50 rounded p-4 text-center",children:[r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[(n.correctRate*100).toFixed(1),"%"]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Correct Rate"})]}),r.jsxs("div",{className:"bg-red-50 rounded p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-red-600",children:n.totalMatches-n.correctMatches}),r.jsx("p",{className:"text-sm text-gray-500",children:"Misroutes"})]})]}),n.problematicKeywords.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Problematic Keywords"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n.problematicKeywords.map(m=>r.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm",children:m},m))})]}),s&&r.jsxs(r.Fragment,{children:[((h=s.additions)==null?void 0:h.length)>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Suggested Additions"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:s.additions.slice(0,10).map(m=>r.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-sm",title:m.reason,children:["+ ",m.keyword]},m.keyword))})]}),((p=s.removals)==null?void 0:p.length)>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Suggested Removals"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:s.removals.map(m=>r.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded text-sm",children:["- ",m]},m))})]})]})]}):r.jsx("p",{className:"text-gray-500",children:"Enter an agent ID to see routing analysis"})]})}function lre({models:e}){return r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Available Models"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Model"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Provider"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Capabilities"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cost ($/1K tokens)"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Accuracy"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(t=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-3 whitespace-nowrap font-medium",children:t.name}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-gray-500",children:t.provider}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:t.capabilities.map(n=>r.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-800 rounded text-xs",children:n},n))})}),r.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-gray-500",children:["$",Number(t.inputCostPer1K).toFixed(4)," / $",Number(t.outputCostPer1K).toFixed(4)]}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.benchmarkAccuracy?`${(t.benchmarkAccuracy*100).toFixed(0)}%`:"-"})]},t.name))})]})})]})}function cre({analysis:e}){return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost Summary (30 days)"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[r.jsxs("p",{className:"text-2xl font-bold",children:["$",(e.totalCostCents/100).toFixed(2)]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Total Cost"})]}),r.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold",children:e.totalRequests.toLocaleString()}),r.jsx("p",{className:"text-sm text-gray-500",children:"Total Requests"})]}),r.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[r.jsxs("p",{className:"text-2xl font-bold",children:["$",(e.avgCostPerRequest/100).toFixed(4)]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Avg Cost/Request"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),r.jsx("div",{className:"space-y-2",children:e.byAgent.slice(0,10).map(t=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-32 truncate text-sm",children:t.agentId}),r.jsx("div",{className:"flex-1 mx-4",children:r.jsx("div",{className:"bg-gray-200 rounded-full h-4 overflow-hidden",children:r.jsx("div",{className:"bg-blue-600 h-full",style:{width:`${t.percentOfTotal}%`}})})}),r.jsxs("div",{className:"w-24 text-right text-sm",children:["$",(t.costCents/100).toFixed(2)]}),r.jsxs("div",{className:"w-16 text-right text-sm text-gray-500",children:[t.percentOfTotal.toFixed(1),"%"]})]},t.agentId))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost by Model"}),r.jsx("div",{className:"space-y-2",children:e.byModel.map(t=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-48 truncate text-sm",children:t.model}),r.jsx("div",{className:"flex-1 mx-4",children:r.jsx("div",{className:"bg-gray-200 rounded-full h-4 overflow-hidden",children:r.jsx("div",{className:"bg-green-600 h-full",style:{width:`${t.percentOfTotal}%`}})})}),r.jsxs("div",{className:"w-24 text-right text-sm",children:["$",(t.costCents/100).toFixed(2)]}),r.jsxs("div",{className:"w-16 text-right text-sm text-gray-500",children:[t.percentOfTotal.toFixed(1),"%"]})]},t.model))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Optimization Recommendations"}),e.recommendations.length===0?r.jsx("p",{className:"text-gray-500",children:"No recommendations at this time"}):r.jsx("div",{className:"space-y-4",children:e.recommendations.map((t,n)=>r.jsx("div",{className:"border rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium capitalize",children:t.strategy.replace(/_/g," ")}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.description})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-lg font-bold text-green-600",children:["~",t.estimatedSavingsPercent,"% savings"]}),r.jsxs("div",{className:"flex gap-2 mt-1 justify-end",children:[r.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${t.implementationEffort==="low"?"bg-green-100 text-green-800":t.implementationEffort==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.implementationEffort," effort"]}),r.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${t.qualityImpact==="none"?"bg-green-100 text-green-800":t.qualityImpact==="minor"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.qualityImpact," quality impact"]})]})]})]})},n))})]})]})}function dre({status:e}){const t={active:{color:"bg-green-100 text-green-800",icon:r.jsx(Ql,{className:"w-3 h-3"}),label:"Active"},rate_limited:{color:"bg-yellow-100 text-yellow-800",icon:r.jsx(no,{className:"w-3 h-3"}),label:"Rate Limited"},exhausted:{color:"bg-red-100 text-red-800",icon:r.jsx(no,{className:"w-3 h-3"}),label:"Exhausted"},cooldown:{color:"bg-blue-100 text-blue-800",icon:r.jsx(dL,{className:"w-3 h-3"}),label:"Cooldown"}},{color:n,icon:a,label:s}=t[e]||{color:"bg-gray-100 text-gray-800",icon:null,label:e};return r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${n}`,children:[a,s]})}function ure({percent:e}){const t=e>=90?"bg-red-500":e>=70?"bg-yellow-500":"bg-green-500";return r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${t}`,style:{width:`${Math.min(100,e)}%`}})})}function hre({isOpen:e,onClose:t,onSubmit:n,initialData:a}){const[s,i]=b.useState({nickname:a.nickname,priority:a.priority}),[l,d]=b.useState(!1),[u,h]=b.useState(null);b.useEffect(()=>{i({nickname:a.nickname,priority:a.priority}),h(null)},[a,e]);const p=async m=>{m.preventDefault(),d(!0),h(null);try{await n(s),t()}catch(x){h(x instanceof Error?x.message:"Failed to save account")}finally{d(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Edit Account"}),u&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:u}),r.jsxs("form",{onSubmit:p,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nickname"}),r.jsx("input",{type:"text",value:s.nickname,onChange:m=>i({...s,nickname:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., work, personal, backup-1",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:a.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-200 rounded-md bg-gray-50 text-gray-500"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Email is set when connecting the account"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority (higher = preferred)"}),r.jsx("input",{type:"number",value:s.priority,onChange:m=>i({...s,priority:parseInt(m.target.value)||100}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",min:1,max:1e3})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${a.hasCredentials?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:a.hasCredentials?"Credentials saved":"No credentials"}),!a.hasCredentials&&r.jsx("span",{className:"text-gray-500",children:'Use "Connect Account" to add credentials'})]})}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:l?"Saving...":"Update"})]})]})]})}):null}function fre(){const[e,t]=b.useState([]),[n,a]=b.useState(null),[s,i]=b.useState(!0),[l,d]=b.useState(null),[u,h]=b.useState(!1),[p,m]=b.useState(null),x=b.useCallback(async()=>{try{const{data:S}=await It.get("/api/claude-max-accounts");t(S.accounts),a(S.summary),d(null)}catch(S){d(S instanceof Error?S.message:"Failed to load accounts")}finally{i(!1)}},[]);b.useEffect(()=>{x();const S=setInterval(x,3e4);return()=>clearInterval(S)},[x]),b.useEffect(()=>{const S=P=>{var O;((O=P.data)==null?void 0:O.type)==="claude-connect-success"&&x()};return window.addEventListener("message",S),()=>window.removeEventListener("message",S)},[x]);const j=()=>{const O=(window.screen.width-700)/2,N=(window.screen.height-800)/2;window.open("/claude-connect","claude-connect",`width=700,height=800,left=${O},top=${N},resizable=yes,scrollbars=yes`)},v=async S=>{p&&(await It.patch(`/api/claude-max-accounts/${p.id}`,{nickname:S.nickname,priority:S.priority}),await x())},w=async S=>{confirm("Are you sure you want to delete this account?")&&(await It.delete(`/api/claude-max-accounts/${S}`),await x())},g=async S=>{await It.post(`/api/claude-max-accounts/${S}/reset-status`),await x()};return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Jn,{className:"w-8 h-8 animate-spin text-indigo-600"})}):r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Claude Max Accounts"}),r.jsx("p",{className:"text-gray-600",children:"Manage your Claude Max subscription accounts for AI execution"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:x,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 flex items-center gap-2",children:[r.jsx(Jn,{className:"w-4 h-4"}),"Refresh"]}),r.jsxs("button",{onClick:j,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 flex items-center gap-2",children:[r.jsx(gj,{className:"w-4 h-4"}),"Connect Claude Account"]})]})]}),e.length===0&&r.jsx("div",{className:"mb-6 p-6 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg text-white",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"p-3 bg-white/20 rounded-lg",children:r.jsx(PO,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Get Started with Claude Max"}),r.jsx("p",{className:"text-indigo-100 mb-4",children:"Connect your Claude Max subscription to enable AI-powered workflows. The connection process takes less than a minute."}),r.jsx("button",{onClick:j,className:"px-4 py-2 bg-white text-indigo-600 rounded-md hover:bg-indigo-50 font-medium",children:"Connect Your First Account"})]})]})}),l&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md text-red-700",children:l}),n&&e.length>0&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Accounts"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.total})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[r.jsx(Ql,{className:"w-3 h-3 text-green-500"})," Active"]}),r.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.active})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[r.jsx(no,{className:"w-3 h-3 text-yellow-500"})," Rate Limited"]}),r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:n.rateLimited})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[r.jsx(ML,{className:"w-3 h-3 text-red-500"})," Exhausted"]}),r.jsx("div",{className:"text-2xl font-bold text-red-600",children:n.exhausted})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Avg Usage"}),r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[n.averageUsage.toFixed(1),"%"]})]})]}),e.length>0&&r.jsx("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Active"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(S=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"font-medium text-gray-900",children:S.nickname}),r.jsx("div",{className:"text-sm text-gray-500",children:S.email}),S.hasCredentials&&r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 mt-1",children:"Connected"})]}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsx(dre,{status:S.status}),S.cooldownUntil&&new Date(S.cooldownUntil)>new Date&&r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Until ",new Date(S.cooldownUntil).toLocaleTimeString()]})]}),r.jsx("td",{className:"px-6 py-4 w-40",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ure,{percent:S.estimatedUsagePercent}),r.jsxs("span",{className:"text-sm text-gray-600 w-12",children:[S.estimatedUsagePercent.toFixed(0),"%"]})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-900",children:S.priority}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:S.lastActiveAt?new Date(S.lastActiveAt).toLocaleString():"Never"}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[S.status!=="active"&&r.jsx("button",{onClick:()=>g(S.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Reset Status",children:r.jsx(wL,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>{m(S),h(!0)},className:"p-2 text-gray-600 hover:bg-gray-100 rounded",title:"Edit",children:r.jsx(vL,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>w(S.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Delete",children:r.jsx(PL,{className:"w-4 h-4"})})]})})]},S.id))})]})}),p&&r.jsx(hre,{isOpen:u,onClose:()=>{h(!1),m(null)},onSubmit:v,initialData:p})]})}function mre(){const[e,t]=b.useState("init"),[n,a]=b.useState("quick"),[s,i]=b.useState(null),[l,d]=b.useState(""),[u,h]=b.useState(""),[p,m]=b.useState(null),[x,j]=b.useState(""),[v,w]=b.useState(100),[g,S]=b.useState(null),[P,O]=b.useState(!1),[N,A]=b.useState(0),[C,E]=b.useState(""),[T,R]=b.useState({status:"idle",type:null,error:null});b.useEffect(()=>{n==="manual"&&!s&&I()},[n]);const I=async()=>{try{O(!0),S(null);const{data:B}=await It.post("/api/claude-connect/init");i(B);const{data:F}=await It.get(`/api/claude-connect/bookmarklet/${B.code}`);d(F.bookmarkletCode);const q=`(async()=>{const sk=document.cookie.match(/sessionKey=([^;]+)/);if(!sk){console.error('Not logged in');return;}const r=await fetch('${window.location.origin}/api/claude-connect/receive-token',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({token:sk[1],code:'${B.code}'})});const d=await r.json();console.log(d.success?'Success! Return to Nubabel.':'Error: '+d.error);})();`;h(q),t("instructions")}catch(B){S(B instanceof Error?B.message:"Failed to initialize connection"),t("error")}finally{O(!1)}},M=b.useCallback(async()=>{if(!s)return!1;try{const{data:B}=await It.get(`/api/claude-connect/poll/${s.code}`);return B.status==="received"?(t("naming"),!0):!1}catch{return!1}},[s]);b.useEffect(()=>{if(e!=="waiting"||!s)return;const B=setInterval(async()=>{A(q=>q+1),await M()&&clearInterval(B)},2e3),F=setTimeout(()=>{clearInterval(B),e==="waiting"&&(S("Connection timed out. Please try again."),t("error"))},3e5);return()=>{clearInterval(B),clearTimeout(F)}},[e,s,M]);const $=async B=>{const F=B==="bookmarklet"?l:u;await navigator.clipboard.writeText(F),m(B),setTimeout(()=>m(null),2e3)},G=()=>{A(0),t("waiting")},V=async()=>{var B,F;if(!(!s||!x.trim()))try{O(!0),S(null);const{data:L}=await It.post("/api/claude-connect/complete",{code:s.code,nickname:x.trim(),priority:v});t("success"),window.opener&&window.opener.postMessage({type:"claude-connect-success",accountId:L.id},"*")}catch(L){S(((F=(B=L.response)==null?void 0:B.data)==null?void 0:F.error)||L.message||"Failed to create account")}finally{O(!1)}},z=b.useCallback(async B=>{var q,K;if(!B.trim()){R({status:"idle",type:null,error:null});return}const F=B.startsWith("sk-ant-oat01-"),L=B.startsWith("sk-ant-sid");if(!F&&!L){R({status:"invalid",type:null,error:"This doesn't look like a Claude token. Run `claude get-token` to get a valid token."});return}R({status:"validating",type:null,error:null});try{const{data:Y}=await It.post("/api/claude-connect/validate-token",{token:B});Y.valid?R({status:"valid",type:Y.type,error:null}):R({status:"invalid",type:null,error:Y.error||"Invalid token"})}catch(Y){R({status:"invalid",type:null,error:((K=(q=Y.response)==null?void 0:q.data)==null?void 0:K.error)||"Validation failed. Please try again."})}},[]);b.useEffect(()=>{const B=setTimeout(()=>{C.length>20&&z(C)},500);return()=>clearTimeout(B)},[C,z]);const U=async()=>{var B,F;if(!(!C||T.status!=="valid"||!x.trim()))try{O(!0),S(null);let L=s==null?void 0:s.code;if(!L){const{data:K}=await It.post("/api/claude-connect/init");L=K.code,i(K)}await It.post("/api/claude-connect/receive-token",{token:C,code:L});const{data:q}=await It.post("/api/claude-connect/complete",{code:L,nickname:x.trim(),priority:v});t("success"),window.opener&&window.opener.postMessage({type:"claude-connect-success",accountId:q.id},"*")}catch(L){S(((F=(B=L.response)==null?void 0:B.data)==null?void 0:F.error)||L.message||"Connection failed. Please try again.")}finally{O(!1)}},W=()=>{window.opener?window.close():window.location.href="/admin/claude-max-accounts"};return P&&e==="init"?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Jn,{className:"w-8 h-8 animate-spin text-indigo-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Initializing connection..."})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-indigo-50/30 to-gray-50 py-8 px-4",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2 tracking-tight",children:"Connect Claude Account"}),r.jsx("p",{className:"text-gray-600",children:"Link your Claude subscription to Nubabel for AI-powered workflows"})]}),e!=="success"&&e!=="error"&&r.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[r.jsx("button",{onClick:()=>a("quick"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${n==="quick"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Quick Connect"}),r.jsx("button",{onClick:()=>a("manual"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${n==="manual"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Manual"})]}),e==="error"&&r.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(no,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connection Failed"}),r.jsx("p",{className:"text-gray-600 mb-6",children:g}),r.jsx("button",{onClick:I,className:"px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Try Again"})]})}),n==="quick"&&e!=="success"&&e!=="error"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-indigo-500 to-indigo-600 text-white flex items-center justify-center text-sm font-bold shadow-sm",children:"1"}),"Get Your Token"]}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Run this command in your terminal:"}),r.jsx("div",{className:"relative group",children:r.jsxs("div",{className:"flex items-center bg-gray-900 text-gray-100 rounded-lg px-4 py-3 font-mono text-sm shadow-inner",children:[r.jsx("span",{className:"text-gray-500 mr-2 select-none",children:"$"}),r.jsx("span",{className:"flex-1",children:"claude get-token"}),r.jsx("button",{onClick:()=>{navigator.clipboard.writeText("claude get-token"),m("command"),setTimeout(()=>m(null),2e3)},className:"p-1.5 hover:bg-gray-700 rounded transition-colors",title:"Copy command",children:p==="command"?r.jsx(Ka,{className:"w-4 h-4 text-green-400"}):r.jsx(Xp,{className:"w-4 h-4 text-gray-400 group-hover:text-gray-300"})})]})}),r.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Don't have Claude Code?"," ",r.jsx("a",{href:"https://claude.ai/download",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline font-medium",children:"Install it first"}),", or use the Manual tab."]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-indigo-500 to-indigo-600 text-white flex items-center justify-center text-sm font-bold shadow-sm",children:"2"}),"Paste Your Token"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"password",value:C,onChange:B=>E(B.target.value),placeholder:"sk-ant-oat01-...",className:`w-full px-4 py-3 pr-12 border rounded-lg font-mono text-sm focus:outline-none focus:ring-2 transition-all ${T.status==="valid"?"border-green-500 focus:ring-green-500 bg-green-50/50":T.status==="invalid"?"border-red-500 focus:ring-red-500 bg-red-50/50":"border-gray-300 focus:ring-indigo-500 bg-white"}`,autoComplete:"off"}),T.status==="validating"&&r.jsx(Jn,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 animate-spin"}),T.status==="valid"&&r.jsx(Ql,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-green-500"}),T.status==="invalid"&&r.jsx(no,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-red-500"})]}),T.status==="valid"&&r.jsxs("p",{className:"text-sm text-green-600 mt-2 flex items-center gap-1 animate-in fade-in slide-in-from-top-1 duration-200",children:[r.jsx(Ka,{className:"w-4 h-4"}),"Valid ",T.type==="oauth"?"OAuth":"session"," token detected"]}),T.status==="invalid"&&T.error&&r.jsx("p",{className:"text-sm text-red-600 mt-2 animate-in fade-in slide-in-from-top-1 duration-200",children:T.error})]}),T.status==="valid"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 animate-in fade-in slide-in-from-top-2 duration-300",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-indigo-500 to-indigo-600 text-white flex items-center justify-center text-sm font-bold shadow-sm",children:"3"}),"Name Your Account"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nickname"}),r.jsx("input",{type:"text",value:x,onChange:B=>j(B.target.value),placeholder:"e.g., work-account",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),r.jsx("input",{type:"number",value:v,onChange:B=>w(parseInt(B.target.value)||100),min:1,max:1e3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),r.jsx("button",{onClick:U,disabled:P||!x.trim()||T.status!=="valid",className:"w-full px-4 py-3 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-lg hover:from-indigo-700 hover:to-indigo-800 disabled:opacity-50 disabled:cursor-not-allowed font-medium transition-all shadow-sm hover:shadow-md",children:P?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx(Jn,{className:"w-4 h-4 animate-spin"}),"Connecting..."]}):"Connect Account"}),g&&r.jsx("p",{className:"text-sm text-red-600 mt-2 animate-in fade-in slide-in-from-top-1 duration-200",children:g})]})]}),n==="manual"&&e!=="success"&&e!=="error"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4 text-sm text-indigo-700",children:[r.jsx("strong",{children:"Tip:"})," The Quick Connect tab is faster if you have Claude Code CLI installed."]}),e==="instructions"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-indigo-500 to-indigo-600 text-white flex items-center justify-center text-sm font-bold shadow-sm",children:"1"}),"Open Claude and Log In"]}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Open claude.ai in a new tab and make sure you're logged in to your Claude account."}),r.jsxs("a",{href:"https://claude.ai",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors shadow-sm",children:["Open claude.ai",r.jsx(PO,{className:"w-4 h-4"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-indigo-500 to-indigo-600 text-white flex items-center justify-center text-sm font-bold shadow-sm",children:"2"}),"Extract Your Session (Choose One Method)"]}),r.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[r.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(sL,{className:"w-4 h-4"}),"Option A: Bookmarklet (Recommended)"]}),r.jsxs("ol",{className:"list-decimal list-inside text-sm text-gray-600 space-y-1 mb-3",children:[r.jsx("li",{children:"Copy the code below"}),r.jsx("li",{children:"Create a new bookmark in your browser"}),r.jsx("li",{children:"Paste the code as the URL"}),r.jsx("li",{children:"While on claude.ai, click the bookmark"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{readOnly:!0,value:l,className:"w-full h-20 p-2 text-xs font-mono bg-white border border-gray-300 rounded resize-none"}),r.jsx("button",{onClick:()=>$("bookmarklet"),className:"absolute top-2 right-2 p-1.5 bg-white border border-gray-300 rounded hover:bg-gray-50 transition-colors",title:"Copy to clipboard",children:p==="bookmarklet"?r.jsx(Ka,{className:"w-4 h-4 text-green-500"}):r.jsx(Xp,{className:"w-4 h-4 text-gray-500"})})]})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[r.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(CL,{className:"w-4 h-4"}),"Option B: Browser Console"]}),r.jsxs("ol",{className:"list-decimal list-inside text-sm text-gray-600 space-y-1 mb-3",children:[r.jsx("li",{children:"On claude.ai, open DevTools (F12 or Cmd+Option+I)"}),r.jsx("li",{children:"Go to the Console tab"}),r.jsx("li",{children:"Paste the code below and press Enter"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{readOnly:!0,value:u,className:"w-full h-16 p-2 text-xs font-mono bg-white border border-gray-300 rounded resize-none"}),r.jsx("button",{onClick:()=>$("script"),className:"absolute top-2 right-2 p-1.5 bg-white border border-gray-300 rounded hover:bg-gray-50 transition-colors",title:"Copy to clipboard",children:p==="script"?r.jsx(Ka,{className:"w-4 h-4 text-green-500"}):r.jsx(Xp,{className:"w-4 h-4 text-gray-500"})})]})]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("button",{onClick:G,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-lg hover:from-indigo-700 hover:to-indigo-800 font-medium shadow-sm hover:shadow-md transition-all",children:"I've Extracted My Session - Continue"}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Click after running the bookmarklet or console script"})]})]})]}),e==="waiting"&&n==="manual"&&r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Jn,{className:"w-12 h-12 animate-spin text-indigo-600 mx-auto mb-4"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Waiting for Token..."}),r.jsxs("p",{className:"text-gray-600 mb-4",children:["Run the bookmarklet or console script on claude.ai.",r.jsx("br",{}),"This page will update automatically when we receive your session."]}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Checking... (",N," attempts)"]})]})}),e==="naming"&&n==="manual"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"w-14 h-14 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-4 animate-in zoom-in duration-300",children:r.jsx(Ql,{className:"w-8 h-8 text-green-500"})}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Token Received!"}),r.jsx("p",{className:"text-gray-600",children:"Now give your account a nickname to identify it."})]}),g&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm animate-in fade-in slide-in-from-top-1 duration-200",children:g}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Nickname"}),r.jsx("input",{type:"text",value:x,onChange:B=>j(B.target.value),placeholder:"e.g., work-account, personal, team-shared",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority (higher = preferred)"}),r.jsx("input",{type:"number",value:v,onChange:B=>w(parseInt(B.target.value)||100),min:1,max:1e3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),r.jsx("button",{onClick:V,disabled:P||!x.trim(),className:"w-full px-4 py-3 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-lg hover:from-indigo-700 hover:to-indigo-800 disabled:opacity-50 disabled:cursor-not-allowed font-medium shadow-sm hover:shadow-md transition-all",children:P?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx(Jn,{className:"w-4 h-4 animate-spin"}),"Creating Account..."]}):"Complete Connection"})]})]}),e==="success"&&r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-green-500 rounded-full flex items-center justify-center mx-auto mb-4 animate-in zoom-in duration-500 shadow-lg",children:r.jsx(Ql,{className:"w-12 h-12 text-white"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2 animate-in fade-in slide-in-from-bottom-2 duration-500",children:"Connected Successfully!"}),r.jsxs("p",{className:"text-gray-600 mb-6 animate-in fade-in slide-in-from-bottom-3 duration-500 delay-100",children:['Your Claude account "',x,'" is now linked to Nubabel.']}),r.jsx("button",{onClick:W,className:"px-6 py-2 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-lg hover:from-indigo-700 hover:to-indigo-800 shadow-sm hover:shadow-md transition-all animate-in fade-in slide-in-from-bottom-4 duration-500 delay-200",children:window.opener?"Close Window":"Go to Accounts"})]})}),e!=="success"&&r.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"Security Note"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Your session token is encrypted and stored securely. Nubabel never sees your Claude password. The token is only used to make API calls on your behalf."})]})]})})}const pre=xj((e,t)=>({workflows:[],categories:[],selectedWorkflow:null,executions:[],isLoading:!1,isExecuting:!1,error:null,viewMode:"grid",filters:{category:"",search:"",isActive:null,isSkill:null},pagination:{total:0,limit:50,offset:0},fetchWorkflows:async()=>{const{filters:n,pagination:a}=t();e({isLoading:!0,error:null});try{const s=new URLSearchParams;n.category&&s.set("category",n.category),n.search&&s.set("search",n.search),n.isActive!==null&&s.set("isActive",String(n.isActive)),n.isSkill!==null&&s.set("isSkill",String(n.isSkill)),s.set("limit",String(a.limit)),s.set("offset",String(a.offset));const i=await se({url:`/api/n8n/workflows?${s.toString()}`,method:"GET"});e({workflows:i.data,pagination:i.pagination,isLoading:!1})}catch(s){const i=s instanceof Error?s.message:"Failed to fetch workflows";e({error:i,isLoading:!1})}},fetchCategories:async()=>{try{const n=await se({url:"/api/n8n/categories",method:"GET"});e({categories:n})}catch(n){console.error("Failed to fetch categories:",n)}},fetchWorkflowExecutions:async n=>{try{const a=await se({url:`/api/n8n/workflows/${n}/executions`,method:"GET"});e({executions:a})}catch(a){console.error("Failed to fetch executions:",a)}},createWorkflow:async n=>{e({isLoading:!0,error:null});try{const a=await se({url:"/api/n8n/workflows",method:"POST",data:n});return e(s=>({workflows:[a,...s.workflows],isLoading:!1})),a}catch(a){const s=a instanceof Error?a.message:"Failed to create workflow";throw e({error:s,isLoading:!1}),a}},updateWorkflow:async(n,a)=>{e({isLoading:!0,error:null});try{const s=await se({url:`/api/n8n/workflows/${n}`,method:"PUT",data:a});return e(i=>{var l;return{workflows:i.workflows.map(d=>d.id===n?s:d),selectedWorkflow:((l=i.selectedWorkflow)==null?void 0:l.id)===n?s:i.selectedWorkflow,isLoading:!1}}),s}catch(s){const i=s instanceof Error?s.message:"Failed to update workflow";throw e({error:i,isLoading:!1}),s}},deleteWorkflow:async n=>{e({isLoading:!0,error:null});try{await se({url:`/api/n8n/workflows/${n}`,method:"DELETE"}),e(a=>{var s;return{workflows:a.workflows.filter(i=>i.id!==n),selectedWorkflow:((s=a.selectedWorkflow)==null?void 0:s.id)===n?null:a.selectedWorkflow,isLoading:!1}})}catch(a){const s=a instanceof Error?a.message:"Failed to delete workflow";throw e({error:s,isLoading:!1}),a}},executeWorkflow:async(n,a)=>{e({isExecuting:!0,error:null});try{const s=await se({url:`/api/n8n/workflows/${n}/execute`,method:"POST",data:{inputData:a}});return e(i=>({executions:[s,...i.executions],isExecuting:!1})),s}catch(s){const i=s instanceof Error?s.message:"Failed to execute workflow";throw e({error:i,isExecuting:!1}),s}},activateWorkflow:async n=>{try{const a=await se({url:`/api/n8n/workflows/${n}/activate`,method:"POST"});e(s=>({workflows:s.workflows.map(i=>i.id===n?a:i)}))}catch(a){const s=a instanceof Error?a.message:"Failed to activate workflow";throw e({error:s}),a}},deactivateWorkflow:async n=>{try{const a=await se({url:`/api/n8n/workflows/${n}/deactivate`,method:"POST"});e(s=>({workflows:s.workflows.map(i=>i.id===n?a:i)}))}catch(a){const s=a instanceof Error?a.message:"Failed to deactivate workflow";throw e({error:s}),a}},setFilters:n=>{e(a=>({filters:{...a.filters,...n},pagination:{...a.pagination,offset:0}})),t().fetchWorkflows()},setViewMode:n=>{e({viewMode:n})},setSelectedWorkflow:n=>{e({selectedWorkflow:n,executions:[]}),n&&t().fetchWorkflowExecutions(n.id)},setPage:n=>{e(a=>({pagination:{...a.pagination,offset:n}})),t().fetchWorkflows()},clearError:()=>{e({error:null})}})),pP=JSON.stringify({name:"New Workflow",nodes:[],connections:{},settings:{}},null,2);function xP(e){try{const t=JSON.parse(e);return!t.name||typeof t.name!="string"?{valid:!1,error:"Workflow JSON must have a 'name' field"}:Array.isArray(t.nodes)?typeof t.connections!="object"?{valid:!1,error:"Workflow JSON must have a 'connections' object"}:{valid:!0}:{valid:!1,error:"Workflow JSON must have a 'nodes' array"}}catch{return{valid:!1,error:"Invalid JSON format"}}}function xre({workflow:e,onView:t,onEdit:n,onDelete:a,onExecute:s,onToggleActive:i}){var l;return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:e.description||"No description"})]}),r.jsx("div",{className:"ml-3 flex-shrink-0",children:r.jsx("button",{onClick:i,className:`px-2 py-1 text-xs font-medium rounded-full ${e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:e.isActive?"Active":"Inactive"})})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("span",{className:"px-2 py-1 text-xs bg-indigo-100 text-indigo-800 rounded",children:e.category}),e.isSkill&&r.jsx("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded",children:"Skill"})]}),e.tags.length>0&&r.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.tags.slice(0,3).map(d=>r.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded",children:d},d)),e.tags.length>3&&r.jsxs("span",{className:"px-2 py-0.5 text-xs text-gray-500",children:["+",e.tags.length-3]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[r.jsxs("div",{className:"text-xs text-gray-500",children:[((l=e._count)==null?void 0:l.executions)??0," executions"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-900 text-sm",children:"View"}),r.jsx("button",{onClick:n,className:"text-indigo-600 hover:text-indigo-800 text-sm",children:"Edit"}),r.jsx("button",{onClick:s,className:"px-3 py-1 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700",children:"Run"}),r.jsx("button",{onClick:a,className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]})]})}function gre({workflow:e,onView:t,onEdit:n,onDelete:a,onExecute:s,onToggleActive:i}){var l;return r.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 hover:bg-gray-50 flex items-center gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-medium text-gray-900 truncate",children:e.name}),r.jsx("span",{className:"px-2 py-0.5 text-xs bg-indigo-100 text-indigo-800 rounded",children:e.category}),e.isSkill&&r.jsx("span",{className:"px-2 py-0.5 text-xs bg-purple-100 text-purple-800 rounded",children:"Skill"})]}),r.jsx("p",{className:"text-sm text-gray-500 truncate mt-0.5",children:e.description||"No description"})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[((l=e._count)==null?void 0:l.executions)??0," runs"]}),r.jsx("button",{onClick:i,className:`px-2 py-1 text-xs font-medium rounded-full ${e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:e.isActive?"Active":"Inactive"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-900 text-sm",children:"View"}),r.jsx("button",{onClick:n,className:"text-indigo-600 hover:text-indigo-800 text-sm",children:"Edit"}),r.jsx("button",{onClick:s,className:"px-3 py-1 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700",children:"Run"}),r.jsx("button",{onClick:a,className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]})}function gP({isOpen:e,onClose:t,onSubmit:n,initialData:a,title:s,isLoading:i}){const[l,d]=b.useState({name:"",description:"",category:"uncategorized",tags:"",workflowJson:pP,isActive:!1}),[u,h]=b.useState(null);b.useEffect(()=>{d(a?{name:a.name,description:a.description||"",category:a.category,tags:a.tags.join(", "),workflowJson:JSON.stringify(a.workflowJson,null,2),isActive:a.isActive}:{name:"",description:"",category:"uncategorized",tags:"",workflowJson:pP,isActive:!1}),h(null)},[a,e]);const p=x=>{d(v=>({...v,workflowJson:x}));const j=xP(x);h(j.valid?null:j.error??null)},m=()=>{const x=xP(l.workflowJson);if(!x.valid){h(x.error??"Invalid JSON");return}n(l)};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:x=>x.stopPropagation(),children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s})}),r.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:l.name,onChange:x=>d(j=>({...j,name:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"My Workflow"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:l.description,onChange:x=>d(j=>({...j,description:x.target.value})),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Describe what this workflow does..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),r.jsx("input",{type:"text",value:l.category,onChange:x=>d(j=>({...j,category:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"uncategorized"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma-separated)"}),r.jsx("input",{type:"text",value:l.tags,onChange:x=>d(j=>({...j,tags:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"slack, notifications"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:l.isActive,onChange:x=>d(j=>({...j,isActive:x.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),r.jsx("label",{htmlFor:"isActive",className:"text-sm text-gray-700",children:"Active (workflow can be triggered)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Workflow JSON *"}),r.jsx("textarea",{value:l.workflowJson,onChange:x=>p(x.target.value),rows:12,className:`w-full px-3 py-2 border rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${u?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Enter workflow JSON..."}),u&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:u})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),r.jsx("button",{onClick:m,disabled:i||!l.name||!!u,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":a?"Update":"Create"})]})]})}):null}function yre({isOpen:e,onClose:t,onExecute:n,workflowName:a,isExecuting:s}){const[i,l]=b.useState("{}"),[d,u]=b.useState(null),h=m=>{l(m);try{JSON.parse(m),u(null)}catch{u("Invalid JSON")}},p=()=>{try{const m=JSON.parse(i);n(m)}catch{u("Invalid JSON")}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full",onClick:m=>m.stopPropagation(),children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Execute: ",a]})}),r.jsxs("div",{className:"p-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Input Data (JSON)"}),r.jsx("textarea",{value:i,onChange:m=>h(m.target.value),rows:6,className:`w-full px-3 py-2 border rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500 ${d?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"{}"}),d&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:d})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),r.jsx("button",{onClick:p,disabled:s||!!d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Executing...":"Execute"})]})]})}):null}function vre({isOpen:e,onClose:t,onConfirm:n,workflowName:a,isLoading:s}){return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",onClick:i=>i.stopPropagation(),children:[r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Delete Workflow"}),r.jsxs("p",{className:"text-gray-600",children:["Are you sure you want to delete ",r.jsx("strong",{children:a}),"? This action cannot be undone."]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),r.jsx("button",{onClick:n,disabled:s,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:s?"Deleting...":"Delete"})]})]})}):null}function bre({workflow:e,executions:t,onClose:n}){const a=s=>{switch(s){case"success":return"bg-green-100 text-green-800";case"error":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";case"waiting":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs("div",{className:"fixed inset-y-0 right-0 w-96 bg-white shadow-xl z-40 flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Execution History"}),r.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:"Close"})]}),r.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[r.jsx("h3",{className:"font-medium text-gray-900",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500",children:e.category})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:t.length===0?r.jsx("div",{className:"p-4 text-center text-gray-500",children:"No executions yet"}):r.jsx("div",{className:"divide-y divide-gray-200",children:t.slice(0,10).map(s=>r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${a(s.status)}`,children:s.status}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(s.startedAt).toLocaleString()})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",s.id.slice(0,8),"..."]})]},s.id))})})]})}function jre(){const{workflows:e,categories:t,executions:n,isLoading:a,isExecuting:s,error:i,viewMode:l,filters:d,pagination:u,fetchWorkflows:h,fetchCategories:p,createWorkflow:m,updateWorkflow:x,deleteWorkflow:j,executeWorkflow:v,activateWorkflow:w,deactivateWorkflow:g,setFilters:S,setViewMode:P,setSelectedWorkflow:O,setPage:N,clearError:A}=pre(),[C,E]=b.useState(!1),[T,R]=b.useState(null),[I,M]=b.useState(null),[$,G]=b.useState(null),[V,z]=b.useState(null);b.useEffect(()=>{h(),p()},[h,p]);const U=b.useCallback(async H=>{const ue={name:H.name,description:H.description||void 0,category:H.category,tags:H.tags.split(",").map(he=>he.trim()).filter(Boolean),workflowJson:JSON.parse(H.workflowJson),isActive:H.isActive};await m(ue),E(!1)},[m]),W=b.useCallback(async H=>{if(!T)return;const ue={name:H.name,description:H.description||void 0,category:H.category,tags:H.tags.split(",").map(he=>he.trim()).filter(Boolean),workflowJson:JSON.parse(H.workflowJson),isActive:H.isActive};await x(T.id,ue),R(null)},[T,x]),B=b.useCallback(async()=>{$&&(await j($.id),G(null))},[$,j]),F=b.useCallback(async H=>{I&&(await v(I.id,H),M(null))},[I,v]),L=b.useCallback(async H=>{H.isActive?await g(H.id):await w(H.id)},[w,g]),q=b.useCallback(H=>{O(H),z(H)},[O]),K=Math.ceil(u.total/u.limit),Y=Math.floor(u.offset/u.limit)+1;return r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"n8n Workflows"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your n8n automation workflows"})]}),r.jsxs("button",{onClick:()=>E(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:"+"}),"Create Workflow"]})]}),i&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg flex items-center justify-between",children:[r.jsx("span",{children:i}),r.jsx("button",{onClick:A,className:"text-red-600 hover:text-red-800",children:"Dismiss"})]}),r.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[r.jsx("input",{type:"text",value:d.search,onChange:H=>S({search:H.target.value}),placeholder:"Search workflows...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsxs("select",{value:d.category,onChange:H=>S({category:H.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"All Categories"}),t.map(H=>r.jsxs("option",{value:H.name,children:[H.name," (",H.count,")"]},H.name))]}),r.jsxs("select",{value:d.isActive===null?"":String(d.isActive),onChange:H=>S({isActive:H.target.value===""?null:H.target.value==="true"}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"true",children:"Active"}),r.jsx("option",{value:"false",children:"Inactive"})]}),r.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[r.jsx("button",{onClick:()=>P("grid"),className:`px-3 py-2 ${l==="grid"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Grid"}),r.jsx("button",{onClick:()=>P("list"),className:`px-3 py-2 ${l==="list"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"List"})]})]}),a?r.jsx("div",{className:"flex items-center justify-center min-h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflows..."})]})}):e.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"No workflows found"}),r.jsx("p",{className:"text-gray-600 mb-4",children:d.search||d.category||d.isActive!==null?"Try adjusting your filters":"Create your first n8n workflow to get started"}),!d.search&&!d.category&&d.isActive===null&&r.jsx("button",{onClick:()=>E(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create Workflow"})]})}):l==="grid"?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(H=>r.jsx(xre,{workflow:H,onView:()=>q(H),onEdit:()=>R(H),onDelete:()=>G(H),onExecute:()=>M(H),onToggleActive:()=>L(H)},H.id))}):r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.map(H=>r.jsx(gre,{workflow:H,onView:()=>q(H),onEdit:()=>R(H),onDelete:()=>G(H),onExecute:()=>M(H),onToggleActive:()=>L(H)},H.id))}),K>1&&r.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",u.offset+1,"-",Math.min(u.offset+u.limit,u.total)," of ",u.total]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>N(Math.max(0,u.offset-u.limit)),disabled:u.offset===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),r.jsxs("span",{className:"px-3 py-1 text-gray-700",children:["Page ",Y," of ",K]}),r.jsx("button",{onClick:()=>N(u.offset+u.limit),disabled:Y>=K,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),r.jsx(gP,{isOpen:C,onClose:()=>E(!1),onSubmit:U,title:"Create Workflow",isLoading:a}),r.jsx(gP,{isOpen:!!T,onClose:()=>R(null),onSubmit:W,initialData:T??void 0,title:"Edit Workflow",isLoading:a}),r.jsx(yre,{isOpen:!!I,onClose:()=>M(null),onExecute:F,workflowName:(I==null?void 0:I.name)??"",isExecuting:s}),r.jsx(vre,{isOpen:!!$,onClose:()=>G(null),onConfirm:B,workflowName:($==null?void 0:$.name)??"",isLoading:a}),V&&r.jsx(bre,{workflow:V,executions:n,onClose:()=>{z(null),O(null)}})]})}function wre(){const[e,t]=b.useState({active:0,queued:0,completedToday:0,failedToday:0}),[n,a]=b.useState([]),[s,i]=b.useState([]),[l,d]=b.useState([]),[u,h]=b.useState(null),[p,m]=b.useState(!1),[x,j]=b.useState(null),v=b.useCallback(async()=>{try{j(null);const[T,R,I,M]=await Promise.all([se({url:"/api/code-operations/stats",method:"GET"}),se({url:"/api/code-operations/active",method:"GET"}),se({url:"/api/code-operations/pending-approval",method:"GET"}),se({url:"/api/code-operations/history?limit=20",method:"GET"})]);t(T),a(R),i(I),d(M)}catch(T){console.error("Failed to fetch agent operations:",T),j("Failed to fetch data. Please try again.")}},[]);b.useEffect(()=>{v();const T=setInterval(v,5e3);return()=>clearInterval(T)},[v]);const w=async()=>{m(!0),await v(),setTimeout(()=>m(!1),500)},g=async T=>{try{await se({url:`/api/code-operations/${T}/approve`,method:"POST"}),i(R=>R.filter(I=>I.id!==T)),v()}catch(R){console.error("Failed to approve:",R)}},S=async T=>{try{await se({url:`/api/code-operations/${T}/reject`,method:"POST",data:{reason:"Rejected via UI"}}),i(R=>R.filter(I=>I.id!==T)),v()}catch(R){console.error("Failed to reject:",R)}},P=async T=>{try{await se({url:`/api/code-operations/${T}/cancel`,method:"POST"}),a(R=>R.filter(I=>I.id!==T)),v()}catch(R){console.error("Failed to cancel:",R)}},O=T=>{const R=Math.floor(T/1e3),I=Math.floor(R/60);return I>0?`${I}m ${R%60}s`:`${R}s`},N=T=>O(Date.now()-new Date(T).getTime()),A=T=>{const R={debug:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",implement:"bg-purple-500/10 text-purple-400 border-purple-500/30",fix:"bg-orange-500/10 text-orange-400 border-orange-500/30",refactor:"bg-blue-500/10 text-blue-400 border-blue-500/30",test:"bg-green-500/10 text-green-400 border-green-500/30"};return R[T]||R.debug},C=T=>{const R={queued:r.jsx("span",{className:"px-2.5 py-1 rounded-md text-xs font-mono bg-slate-700 text-slate-300 border border-slate-600",children:"QUEUED"}),analyzing:r.jsx("span",{className:"px-2.5 py-1 rounded-md text-xs font-mono bg-blue-500/20 text-blue-300 border border-blue-500/50 animate-pulse",children:"ANALYZING"}),executing:r.jsx("span",{className:"px-2.5 py-1 rounded-md text-xs font-mono bg-blue-500/20 text-blue-300 border border-blue-500/50 animate-pulse",children:"EXECUTING"}),testing:r.jsx("span",{className:"px-2.5 py-1 rounded-md text-xs font-mono bg-yellow-500/20 text-yellow-300 border border-yellow-500/50 animate-pulse",children:"TESTING"}),committing:r.jsx("span",{className:"px-2.5 py-1 rounded-md text-xs font-mono bg-purple-500/20 text-purple-300 border border-purple-500/50 animate-pulse",children:"COMMITTING"}),completed:r.jsx("span",{className:"px-2.5 py-1 rounded-md text-xs font-mono bg-green-500/20 text-green-300 border border-green-500/50",children:"COMPLETE"}),failed:r.jsx("span",{className:"px-2.5 py-1 rounded-md text-xs font-mono bg-red-500/20 text-red-300 border border-red-500/50",children:"FAILED"}),cancelled:r.jsx("span",{className:"px-2.5 py-1 rounded-md text-xs font-mono bg-slate-500/20 text-slate-300 border border-slate-500/50",children:"CANCELLED"})};return R[T]||R.queued},E=T=>["analyzing","executing","testing","committing"].includes(T);return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:[r.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#1e293b_1px,transparent_1px),linear-gradient(to_bottom,#1e293b_1px,transparent_1px)] bg-[size:4rem_4rem] opacity-20"}),r.jsxs("div",{className:"relative max-w-[1800px] mx-auto px-8 py-10",children:[r.jsxs("div",{className:"mb-10",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[r.jsx("h1",{className:"text-4xl font-black text-white tracking-tight",children:"AGENT OPERATIONS"}),r.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400 animate-pulse shadow-lg shadow-green-400/50"})]}),r.jsx("p",{className:"text-slate-400 text-lg font-mono",children:"Monitor and manage autonomous code changes in real-time"})]}),r.jsxs("button",{onClick:w,disabled:p,className:"px-5 py-2.5 bg-slate-800 hover:bg-slate-700 text-white rounded-lg border border-slate-700 transition-all disabled:opacity-50 font-mono text-sm flex items-center gap-2",children:[r.jsx("svg",{className:`w-4 h-4 ${p?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),p?"REFRESHING...":"REFRESH"]})]}),x&&r.jsx("div",{className:"mt-4 px-4 py-2 bg-red-900/30 border border-red-700 rounded-lg text-red-300 text-sm font-mono",children:x})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-10",children:[r.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 border border-slate-700 rounded-xl p-6 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-slate-400 font-mono text-sm uppercase tracking-wider",children:"Active"}),r.jsx("div",{className:"h-8 w-8 rounded-lg bg-blue-500/20 flex items-center justify-center",children:r.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-400 animate-pulse"})})]}),r.jsx("div",{className:"text-5xl font-black text-white mb-1",children:e.active}),r.jsx("div",{className:"text-xs text-slate-500 font-mono",children:"operations running"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 border border-slate-700 rounded-xl p-6 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-slate-400 font-mono text-sm uppercase tracking-wider",children:"Queued"}),r.jsx("div",{className:"h-8 w-8 rounded-lg bg-slate-700 flex items-center justify-center",children:r.jsxs("svg",{className:"w-5 h-5 text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:[r.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),r.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})})]}),r.jsx("div",{className:"text-5xl font-black text-white mb-1",children:e.queued}),r.jsx("div",{className:"text-xs text-slate-500 font-mono",children:"waiting to execute"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 border border-slate-700 rounded-xl p-6 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-slate-400 font-mono text-sm uppercase tracking-wider",children:"Completed"}),r.jsx("div",{className:"h-8 w-8 rounded-lg bg-green-500/20 flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]}),r.jsx("div",{className:"text-5xl font-black text-white mb-1",children:e.completedToday}),r.jsx("div",{className:"text-xs text-slate-500 font-mono",children:"today"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 border border-slate-700 rounded-xl p-6 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-slate-400 font-mono text-sm uppercase tracking-wider",children:"Failed"}),r.jsx("div",{className:"h-8 w-8 rounded-lg bg-red-500/20 flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]}),r.jsx("div",{className:"text-5xl font-black text-white mb-1",children:e.failedToday}),r.jsx("div",{className:"text-xs text-slate-500 font-mono",children:"today"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"xl:col-span-2",children:[r.jsxs("div",{className:"bg-slate-900/50 backdrop-blur border border-slate-700 rounded-xl shadow-2xl overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-slate-700 bg-slate-900/80",children:r.jsx("h2",{className:"text-xl font-bold text-white font-mono uppercase tracking-wide",children:"Active Operations"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-slate-800 bg-slate-900/50",children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Operation ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Description"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Elapsed"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-800",children:n.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:r.jsx("div",{className:"text-slate-500 font-mono text-sm",children:"No active operations"})})}):n.map(T=>r.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"font-mono text-sm text-slate-300",children:T.id.slice(0,8)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2.5 py-1 rounded-md text-xs font-mono uppercase border ${A(T.operationType)}`,children:T.operationType})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-slate-200 max-w-md",children:T.description})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C(T.status)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm font-mono text-slate-400",children:T.startedAt?N(T.startedAt):N(T.createdAt)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"px-3 py-1.5 text-xs font-mono bg-slate-800 hover:bg-slate-700 text-slate-300 rounded border border-slate-600 transition-colors",children:"View"}),E(T.status)&&r.jsx("button",{onClick:()=>P(T.id),className:"px-3 py-1.5 text-xs font-mono bg-red-900/30 hover:bg-red-900/50 text-red-300 rounded border border-red-700 transition-colors",children:"Cancel"})]})})]},T.id))})]})})]}),r.jsxs("div",{className:"mt-8 bg-slate-900/50 backdrop-blur border border-slate-700 rounded-xl shadow-2xl overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-slate-700 bg-slate-900/80",children:r.jsx("h2",{className:"text-xl font-bold text-white font-mono uppercase tracking-wide",children:"Recent History"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-slate-800 bg-slate-900/50",children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Description"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Files"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Result"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"PR"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-800",children:l.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:r.jsx("div",{className:"text-slate-500 font-mono text-sm",children:"No operations yet"})})}):l.map(T=>{var R;return r.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"font-mono text-sm text-slate-300",children:T.id.slice(0,8)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2.5 py-1 rounded-md text-xs font-mono uppercase border ${A(T.operationType)}`,children:T.operationType})}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"text-sm text-slate-200 max-w-md",children:T.description}),T.errorMessage&&r.jsx("div",{className:"text-xs text-red-400 mt-1 font-mono",children:T.errorMessage})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm font-mono text-slate-400",children:((R=T.filesModified)==null?void 0:R.length)||0})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C(T.status)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.prUrl?r.jsx("a",{href:T.prUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-sm font-mono underline",children:"View PR"}):r.jsx("span",{className:"text-slate-600",children:"-"})})]},T.id)})})]})})]})]}),r.jsx("div",{className:"xl:col-span-1",children:r.jsxs("div",{className:"bg-slate-900/50 backdrop-blur border border-slate-700 rounded-xl shadow-2xl overflow-hidden sticky top-6",children:[r.jsx("div",{className:"px-6 py-4 border-b border-slate-700 bg-slate-900/80",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-white font-mono uppercase tracking-wide",children:"Approval Queue"}),r.jsxs("span",{className:"px-2.5 py-1 bg-amber-500/20 text-amber-300 border border-amber-500/50 rounded-md text-xs font-mono font-semibold",children:[s.length," PENDING"]})]})}),r.jsx("div",{className:"p-6 space-y-4 max-h-[800px] overflow-y-auto",children:s.length===0?r.jsx("div",{className:"text-center py-12 text-slate-500 font-mono text-sm",children:"No pending approvals"}):s.map(T=>{var R;return r.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-5 hover:border-slate-600 transition-colors",children:[r.jsx("div",{className:"mb-3",children:T.prUrl?r.jsxs("a",{href:T.prUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 font-mono text-sm font-semibold underline",children:["PR #",T.prUrl.split("/").pop()]}):r.jsxs("span",{className:"font-mono text-sm font-semibold text-slate-300",children:["Operation ",T.id.slice(0,8)]})}),r.jsx("div",{className:"text-sm text-slate-200 mb-4",children:T.description}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[r.jsxs("div",{className:"bg-slate-900/50 rounded px-3 py-2 border border-slate-700",children:[r.jsx("div",{className:"text-xs text-slate-400 font-mono mb-1",children:"Files"}),r.jsx("div",{className:"text-lg font-bold text-white",children:((R=T.filesModified)==null?void 0:R.length)||0})]}),r.jsxs("div",{className:"bg-slate-900/50 rounded px-3 py-2 border border-slate-700",children:[r.jsx("div",{className:"text-xs text-slate-400 font-mono mb-1",children:"Iterations"}),r.jsx("div",{className:"text-lg font-bold text-white",children:T.iterations||0})]})]}),T.filesModified&&T.filesModified.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("button",{onClick:()=>h(u===T.id?null:T.id),className:"text-xs text-slate-400 hover:text-slate-200 font-mono mb-2 flex items-center gap-1",children:[r.jsx("svg",{className:`w-3 h-3 transition-transform ${u===T.id?"rotate-90":""}`,fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),u===T.id?"Hide":"Show"," files (",T.filesModified.length,")"]}),u===T.id&&r.jsx("ul",{className:"bg-slate-950 border border-slate-700 rounded p-3 text-xs font-mono text-slate-300",children:T.filesModified.map((I,M)=>r.jsx("li",{className:"py-0.5",children:I},M))})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>g(T.id),className:"flex-1 px-4 py-2.5 bg-green-600 hover:bg-green-500 text-white rounded-lg font-mono text-sm font-semibold transition-colors",children:"APPROVE"}),r.jsx("button",{onClick:()=>S(T.id),className:"px-4 py-2.5 bg-slate-800 hover:bg-slate-700 text-slate-300 border border-slate-600 rounded-lg font-mono text-sm transition-colors",children:"REJECT"})]})]},T.id)})})]})})]})]})]})}const Nre=xj((e,t)=>({instances:[],availableOrgs:[],isLoading:!1,error:null,fetchInstances:async()=>{e({isLoading:!0,error:null});try{const n=await se({url:"/api/admin/n8n-instances",method:"GET"});e({instances:n.data,isLoading:!1})}catch(n){e({error:n.message,isLoading:!1})}},fetchAvailableOrgs:async()=>{try{const n=await se({url:"/api/admin/n8n-instances/organizations/available",method:"GET"});e({availableOrgs:n.data})}catch(n){console.error("Failed to fetch available orgs:",n)}},provisionInstance:async n=>{try{return await se({url:"/api/admin/n8n-instances",method:"POST",data:{organizationId:n}}),await t().fetchInstances(),await t().fetchAvailableOrgs(),!0}catch(a){return e({error:a.message}),!1}},performHealthCheck:async n=>{try{const a=await se({url:`/api/admin/n8n-instances/${n}/health-check`,method:"POST"});return await t().fetchInstances(),a.healthy}catch(a){return e({error:a.message}),!1}},stopInstance:async n=>{try{return await se({url:`/api/admin/n8n-instances/${n}/stop`,method:"POST"}),await t().fetchInstances(),!0}catch(a){return e({error:a.message}),!1}},deleteInstance:async n=>{try{return await se({url:`/api/admin/n8n-instances/${n}`,method:"DELETE"}),await t().fetchInstances(),await t().fetchAvailableOrgs(),!0}catch(a){return e({error:a.message}),!1}}}));function Sre(){const{instances:e,availableOrgs:t,isLoading:n,error:a,fetchInstances:s,fetchAvailableOrgs:i,provisionInstance:l,performHealthCheck:d,stopInstance:u,deleteInstance:h}=Nre(),[p,m]=b.useState(!1),[x,j]=b.useState(""),[v,w]=b.useState(!1);b.useEffect(()=>{s(),i()},[s,i]);const g=async()=>{if(!x)return;w(!0);const C=await l(x);w(!1),C&&(m(!1),j(""))},S=async(C,E)=>{const T=await d(C);alert(T?`Health check passed for ${E}`:`Health check failed for ${E}`)},P=async(C,E)=>{if(!confirm(`Are you sure you want to stop the n8n instance for ${E}?`))return;await u(C)&&alert(`Successfully stopped instance for ${E}`)},O=async(C,E)=>{if(!confirm(`Are you sure you want to DELETE the n8n instance for ${E}? This will remove all workflows and cannot be undone.`))return;await h(C)&&alert(`Successfully deleted instance for ${E}`)},N=C=>{switch(C.toLowerCase()){case"active":case"running":return"bg-green-100 text-green-800";case"stopped":return"bg-gray-100 text-gray-800";case"failed":case"error":return"bg-red-100 text-red-800";case"provisioning":return"bg-blue-100 text-blue-800";default:return"bg-yellow-100 text-yellow-800"}},A=C=>C?new Date(C).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never";return a?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"text-red-600 text-lg mb-4",children:"Error"}),r.jsx("p",{className:"text-gray-600",children:a}),r.jsx("button",{onClick:s,className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Retry"})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"N8n Instances"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Manage n8n workflow automation instances"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-sm text-gray-500",children:[e.length," instances"]}),r.jsx("button",{onClick:()=>m(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 font-medium",children:"Provision New Instance"})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Organization"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Container URL"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Workflows"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Health Check"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})})})}):e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"No n8n instances found. Provision a new instance to get started."})}):e.map(C=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:C.organization.name}),r.jsx("div",{className:"text-sm text-gray-500",children:C.organization.slug})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("a",{href:C.containerUrl,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-900 hover:underline text-sm break-all",children:C.containerUrl})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${N(C.status)}`,children:C.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C._count.workflows}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A(C.lastHealthCheck)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:r.jsxs("div",{className:"flex items-center justify-end gap-3",children:[r.jsx("button",{onClick:()=>S(C.id,C.organization.name),className:"text-blue-600 hover:text-blue-900 font-medium",children:"Health Check"}),r.jsx("button",{onClick:()=>P(C.id,C.organization.name),className:"text-yellow-600 hover:text-yellow-900 font-medium",children:"Stop"}),r.jsx("button",{onClick:()=>O(C.id,C.organization.name),className:"text-red-600 hover:text-red-900 font-medium",children:"Delete"})]})})]},C.id))})]})})}),p&&r.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Provision New N8n Instance"}),t.length===0?r.jsx("div",{className:"text-gray-600 mb-6",children:"All organizations already have n8n instances provisioned."}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"org-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Organization"}),r.jsxs("select",{id:"org-select",value:x,onChange:C=>j(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Choose an organization..."}),t.map(C=>r.jsxs("option",{value:C.id,children:[C.name," (",C.slug,")"]},C.id))]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3",children:[r.jsx("button",{onClick:()=>{m(!1),j("")},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:v,children:"Cancel"}),r.jsx("button",{onClick:g,disabled:!x||v,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Provisioning...":"Provision"})]})]}),t.length===0&&r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Close"})})]})})]})}const kre={blue:"bg-blue-50 border-blue-200 text-blue-600",green:"bg-green-50 border-green-200 text-green-600",yellow:"bg-yellow-50 border-yellow-200 text-yellow-600",red:"bg-red-50 border-red-200 text-red-600",purple:"bg-purple-50 border-purple-200 text-purple-600",gray:"bg-gray-50 border-gray-200 text-gray-600"},Cre={blue:"text-blue-500",green:"text-green-500",yellow:"text-yellow-500",red:"text-red-500",purple:"text-purple-500",gray:"text-gray-500"};function Va({title:e,value:t,icon:n,description:a,trend:s="neutral",change:i,color:l="blue",onClick:d}){const[u,h]=b.useState(0);b.useEffect(()=>{if(typeof t!="number")return;const x=800,j=Date.now(),v=()=>{const w=Date.now()-j,g=Math.min(w/x,1),S=1-Math.pow(1-g,3);h(Math.round(S*t)),g<1&&requestAnimationFrame(v)};v()},[t]);const p={up:"text-green-600",down:"text-red-600",neutral:"text-gray-500"},m={up:"",down:"",neutral:""};return r.jsx("div",{className:`
        bg-white rounded-xl shadow-sm border p-5
        transition-all duration-200
        ${d?"cursor-pointer hover:shadow-md hover:scale-[1.02]":""}
      `,onClick:d,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:typeof t=="number"?u.toLocaleString():t}),a&&r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:a}),i!==void 0&&r.jsxs("p",{className:`text-sm mt-2 ${p[s]}`,children:[m[s]," ",i>0?"+":"",i,"% from last period"]})]}),r.jsx("div",{className:`p-3 rounded-lg ${kre[l]}`,children:r.jsx("span",{className:Cre[l],children:n})})]})})}function Are(e){return e>=.9?{label:"Critical",color:"bg-red-500",bgColor:"bg-red-100"}:e>=.8?{label:"High",color:"bg-orange-500",bgColor:"bg-orange-100"}:e>=.6?{label:"Normal",color:"bg-green-500",bgColor:"bg-green-100"}:e>=.3?{label:"Low",color:"bg-blue-500",bgColor:"bg-blue-100"}:{label:"Idle",color:"bg-gray-400",bgColor:"bg-gray-100"}}const Pre={sm:"h-1.5",md:"h-2.5",lg:"h-4"};function zc({workload:e,size:t="md",showPercentage:n=!1,showStatus:a=!1}){const s=Are(e),i=Math.round(e*100);return r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`flex-1 ${s.bgColor} rounded-full overflow-hidden ${Pre[t]}`,children:r.jsx("div",{className:`${s.color} h-full rounded-full transition-all duration-500`,style:{width:`${i}%`}})}),n&&r.jsxs("span",{className:"text-sm font-medium text-gray-600 w-12 text-right",children:[i,"%"]})]}),a&&r.jsx("span",{className:`text-xs mt-1 inline-block ${s.label==="Critical"?"text-red-600":s.label==="High"?"text-orange-600":s.label==="Normal"?"text-green-600":s.label==="Low"?"text-blue-600":"text-gray-500"}`,children:s.label})]})}const Ore={critical:{bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800",iconColor:"text-red-500",icon:"",label:"Critical"},high:{bgColor:"bg-orange-50",borderColor:"border-orange-200",textColor:"text-orange-800",iconColor:"text-orange-500",icon:"",label:"High"},medium:{bgColor:"bg-yellow-50",borderColor:"border-yellow-200",textColor:"text-yellow-800",iconColor:"text-yellow-500",icon:"",label:"Medium"},low:{bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-800",iconColor:"text-blue-500",icon:"",label:"Low"}};function Ere({issue:e,onAction:t,compact:n=!1}){const a=Ore[e.severity];return n?r.jsxs("div",{className:`
          flex items-center gap-2 px-3 py-2 rounded-lg border
          ${a.bgColor} ${a.borderColor}
        `,children:[r.jsx("span",{children:a.icon}),r.jsx("span",{className:`text-sm font-medium ${a.textColor}`,children:e.title})]}):r.jsx("div",{className:`
        rounded-lg border p-4
        ${a.bgColor} ${a.borderColor}
      `,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-xl",children:a.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:`text-xs font-semibold uppercase ${a.iconColor}`,children:a.label}),r.jsx("span",{className:"text-xs text-gray-400",children:new Date(e.detectedAt).toLocaleString()})]}),r.jsx("h4",{className:`font-semibold ${a.textColor}`,children:e.title}),r.jsx("p",{className:`text-sm mt-1 ${a.textColor} opacity-80`,children:e.description}),e.affectedAgents.length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Affected: "}),r.jsx("span",{className:"text-xs font-medium",children:e.affectedAgents.join(", ")})]}),e.suggestedActions.length>0&&r.jsxs("div",{className:"mt-3 space-y-1",children:[r.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Suggested Actions:"}),r.jsx("ul",{className:"space-y-1",children:e.suggestedActions.map((s,i)=>r.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{className:t?"cursor-pointer hover:underline":"",onClick:()=>t==null?void 0:t(s),children:s})]},i))})]})]})]})})}const _re={critical:{bgColor:"bg-red-50",borderColor:"border-red-200",badgeColor:"bg-red-100 text-red-700",icon:""},high:{bgColor:"bg-orange-50",borderColor:"border-orange-200",badgeColor:"bg-orange-100 text-orange-700",icon:""},medium:{bgColor:"bg-yellow-50",borderColor:"border-yellow-200",badgeColor:"bg-yellow-100 text-yellow-700",icon:""},low:{bgColor:"bg-blue-50",borderColor:"border-blue-200",badgeColor:"bg-blue-100 text-blue-700",icon:""}},Tre={template:"Template",team_composition:"Team",position:"Position",skill_development:"Skills",resource_allocation:"Resources",structure_optimization:"Structure"};function Rre({recommendation:e,onAction:t}){const n=_re[e.priority];return r.jsx("div",{className:`
        rounded-lg border p-4
        ${n.bgColor} ${n.borderColor}
      `,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-xl",children:n.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded ${n.badgeColor}`,children:e.priority.toUpperCase()}),r.jsx("span",{className:"text-xs text-gray-500 px-2 py-0.5 bg-white rounded",children:Tre[e.type]||e.type})]}),r.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:e.title}),r.jsx("p",{className:"text-sm text-gray-600",children:e.description}),e.estimatedImpact&&r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Expected Impact: ",e.estimatedImpact]}),e.actions.length>0&&r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:e.actions.map((a,s)=>r.jsx("button",{onClick:()=>t==null?void 0:t(a.action,a.params),className:`
                    px-3 py-1.5 text-sm font-medium rounded-md
                    bg-white border border-gray-200 text-gray-700
                    hover:bg-gray-50 hover:border-gray-300
                    transition-colors
                  `,children:a.label},s))})]})]})})}function kw(e){return At({queryKey:["ar","departments",e],queryFn:async()=>{const t=new URLSearchParams;return e!=null&&e.status&&t.set("status",e.status),e!=null&&e.search&&t.set("search",e.search),e!=null&&e.page&&t.set("page",String(e.page)),e!=null&&e.pageSize&&t.set("pageSize",String(e.pageSize)),se({url:`/api/ar/departments?${t.toString()}`,method:"GET"})}})}function Mre(){const e=lt();return pt({mutationFn:async t=>se({url:"/api/ar/departments",method:"POST",data:t}),onSuccess:()=>{e.invalidateQueries({queryKey:["ar","departments"]})}})}function Ire(){const e=lt();return pt({mutationFn:async({id:t,...n})=>se({url:`/api/ar/departments/${t}`,method:"PATCH",data:n}),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["ar","departments"]}),e.invalidateQueries({queryKey:["ar","departments",n.id]})}})}function $re(){const e=lt();return pt({mutationFn:async t=>se({url:`/api/ar/departments/${t}`,method:"DELETE"}),onSuccess:()=>{e.invalidateQueries({queryKey:["ar","departments"]})}})}function Lre(){const e=lt();return pt({mutationFn:async({id:t,budgetCents:n})=>se({url:`/api/ar/departments/${t}/budget`,method:"PATCH",data:{budgetCents:n}}),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["ar","departments"]}),e.invalidateQueries({queryKey:["ar","departments",n.id]})}})}function Cw(e){return At({queryKey:["ar","positions",e],queryFn:async()=>{const t=new URLSearchParams;return e!=null&&e.status&&t.set("status",e.status),e!=null&&e.departmentId&&t.set("departmentId",e.departmentId),e!=null&&e.search&&t.set("search",e.search),e!=null&&e.page&&t.set("page",String(e.page)),e!=null&&e.pageSize&&t.set("pageSize",String(e.pageSize)),se({url:`/api/ar/positions?${t.toString()}`,method:"GET"})}})}function Dre(){const e=lt();return pt({mutationFn:async t=>se({url:"/api/ar/positions",method:"POST",data:t}),onSuccess:()=>{e.invalidateQueries({queryKey:["ar","positions"]})}})}function Fre(){const e=lt();return pt({mutationFn:async({id:t,...n})=>se({url:`/api/ar/positions/${t}`,method:"PATCH",data:n}),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["ar","positions"]}),e.invalidateQueries({queryKey:["ar","positions",n.id]})}})}function qre(){const e=lt();return pt({mutationFn:async t=>se({url:`/api/ar/positions/${t}`,method:"DELETE"}),onSuccess:()=>{e.invalidateQueries({queryKey:["ar","positions"]})}})}function tT(e){return At({queryKey:["ar","assignments",e],queryFn:async()=>{const t=new URLSearchParams;return e!=null&&e.status&&t.set("status",e.status),e!=null&&e.departmentId&&t.set("departmentId",e.departmentId),e!=null&&e.positionId&&t.set("positionId",e.positionId),e!=null&&e.agentId&&t.set("agentId",e.agentId),e!=null&&e.page&&t.set("page",String(e.page)),e!=null&&e.pageSize&&t.set("pageSize",String(e.pageSize)),se({url:`/api/ar/assignments?${t.toString()}`,method:"GET"})}})}function zre(){const e=lt();return pt({mutationFn:async t=>se({url:"/api/ar/assignments",method:"POST",data:t}),onSuccess:()=>{e.invalidateQueries({queryKey:["ar","assignments"]}),e.invalidateQueries({queryKey:["ar","positions"]})}})}function Bre(){const e=lt();return pt({mutationFn:async({id:t,status:n})=>se({url:`/api/ar/assignments/${t}/status`,method:"PATCH",data:{status:n}}),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["ar","assignments"]}),e.invalidateQueries({queryKey:["ar","assignments",n.id]})}})}function Ure(){const e=lt();return pt({mutationFn:async({id:t,reason:n})=>se({url:`/api/ar/assignments/${t}/terminate`,method:"POST",data:{reason:n}}),onSuccess:()=>{e.invalidateQueries({queryKey:["ar","assignments"]}),e.invalidateQueries({queryKey:["ar","positions"]})}})}function Wre(e){return At({queryKey:["ar","approvals",e],queryFn:async()=>{const t=new URLSearchParams;return e!=null&&e.status&&t.set("status",e.status),e!=null&&e.requestType&&t.set("requestType",e.requestType),e!=null&&e.level&&t.set("level",String(e.level)),e!=null&&e.page&&t.set("page",String(e.page)),e!=null&&e.pageSize&&t.set("pageSize",String(e.pageSize)),se({url:`/api/ar/approvals?${t.toString()}`,method:"GET"})}})}function Hre(){return At({queryKey:["ar","approvals","pending"],queryFn:async()=>se({url:"/api/ar/approvals?status=pending",method:"GET"})})}function Kre(){const e=lt();return pt({mutationFn:async({id:t,note:n})=>se({url:`/api/ar/approvals/${t}/approve`,method:"POST",data:{note:n}}),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["ar","approvals"]}),e.invalidateQueries({queryKey:["ar","approvals",n.id]})}})}function Gre(){const e=lt();return pt({mutationFn:async({id:t,note:n})=>se({url:`/api/ar/approvals/${t}/reject`,method:"POST",data:{note:n}}),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["ar","approvals"]}),e.invalidateQueries({queryKey:["ar","approvals",n.id]})}})}function Vre(){const e=lt();return pt({mutationFn:async({id:t,reason:n})=>se({url:`/api/ar/approvals/${t}/escalate`,method:"POST",data:{reason:n}}),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["ar","approvals"]}),e.invalidateQueries({queryKey:["ar","approvals",n.id]})}})}function rT(){return At({queryKey:["ar","workload"],queryFn:async()=>se({url:"/api/ar/coordination/workload",method:"GET"}),refetchInterval:3e4})}function Qre(){return At({queryKey:["ar","workload","proposals"],queryFn:async()=>se({url:"/api/ar/coordination/workload/proposals",method:"GET"})})}function Yre(){const e=lt();return pt({mutationFn:async(t="manual")=>se({url:"/api/ar/coordination/workload/rebalance",method:"POST",data:{trigger:t}}),onSuccess:()=>{e.invalidateQueries({queryKey:["ar","workload","proposals"]})}})}function Xre(){const e=lt();return pt({mutationFn:async({proposalId:t,partial:n,changeIds:a})=>se({url:"/api/ar/coordination/workload/apply",method:"POST",data:{proposalId:t,partial:n,changeIds:a}}),onSuccess:()=>{e.invalidateQueries({queryKey:["ar","workload"]}),e.invalidateQueries({queryKey:["ar","workload","proposals"]}),e.invalidateQueries({queryKey:["ar","assignments"]})}})}function Jre(e=30){return At({queryKey:["ar","analytics","report",e],queryFn:async()=>se({url:`/api/ar/analytics/report?periodDays=${e}`,method:"GET"})})}function Zre(){return At({queryKey:["ar","analytics","health"],queryFn:async()=>se({url:"/api/ar/analytics/ops/health",method:"GET"}),refetchInterval:6e4})}function ene(){return At({queryKey:["ar","analytics","coaching"],queryFn:async()=>se({url:"/api/ar/analytics/coaching/needs",method:"GET"})})}function tne(){return At({queryKey:["ar","analytics","recommendations"],queryFn:async()=>se({url:"/api/ar/analytics/recommendations",method:"GET"})})}function rne(){return At({queryKey:["ar","issues"],queryFn:async()=>se({url:"/api/ar/coordination/issues",method:"GET"}),refetchInterval:3e4})}function nne(){var w,g,S,P,O,N,A,C,E,T;const{data:e,isLoading:t}=kw({status:"active"}),{data:n,isLoading:a}=Cw({status:"active"}),{data:s,isLoading:i}=tT({status:"active"}),{data:l,isLoading:d}=Hre(),{data:u,isLoading:h}=rT(),{data:p,isLoading:m}=rne(),{data:x,isLoading:j}=tne(),v=t||a||i||d;return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"AR Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Agent Resource Management Overview"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:v?r.jsxs(r.Fragment,{children:[r.jsx(Qr,{}),r.jsx(Qr,{}),r.jsx(Qr,{}),r.jsx(Qr,{})]}):r.jsxs(r.Fragment,{children:[r.jsx(ft,{to:"/ar/departments",children:r.jsx(Va,{title:"Departments",value:((w=e==null?void 0:e.departments)==null?void 0:w.length)??0,icon:r.jsx(oI,{className:"h-6 w-6"}),color:"blue",description:"Active departments"})}),r.jsx(ft,{to:"/ar/positions",children:r.jsx(Va,{title:"Positions",value:((g=n==null?void 0:n.positions)==null?void 0:g.length)??0,icon:r.jsx(Sv,{className:"h-6 w-6"}),color:"green",description:"Total positions"})}),r.jsx(ft,{to:"/ar/assignments",children:r.jsx(Va,{title:"Assignments",value:((S=s==null?void 0:s.assignments)==null?void 0:S.length)??0,icon:r.jsx(Qu,{className:"h-6 w-6"}),color:"purple",description:"Active assignments"})}),r.jsx(ft,{to:"/ar/approvals",children:r.jsx(Va,{title:"Pending Approvals",value:((P=l==null?void 0:l.requests)==null?void 0:P.length)??0,icon:r.jsx(kv,{className:"h-6 w-6"}),color:(O=l==null?void 0:l.requests)!=null&&O.length?"yellow":"gray",description:"Awaiting action"})})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Workload Distribution"}),r.jsxs(ft,{to:"/ar/workload",className:"text-sm text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:["View All ",r.jsx(rI,{className:"h-4 w-4"})]})]}),h?r.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(R=>r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),r.jsx("div",{className:"h-2.5 bg-gray-100 rounded w-full"})]},R))}):(N=u==null?void 0:u.snapshots)!=null&&N.length?r.jsxs("div",{className:"space-y-4",children:[u.snapshots.slice(0,6).map(R=>r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:R.agentName}),r.jsx("span",{className:`text-xs font-medium ${R.status==="overloaded"?"text-red-600":R.status==="underutilized"?"text-yellow-600":"text-green-600"}`,children:R.status})]}),r.jsx(zc,{workload:R.currentWorkload,showPercentage:!0})]},R.agentId)),u.stats&&r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Math.round(u.stats.avgWorkload*100),"%"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Avg Workload"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-red-600",children:u.stats.overloaded}),r.jsx("p",{className:"text-xs text-gray-500",children:"Overloaded"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:u.stats.underutilized}),r.jsx("p",{className:"text-xs text-gray-500",children:"Underutilized"})]})]})})]}):r.jsx("p",{className:"text-gray-500 text-sm",children:"No workload data available"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Issues"}),(((A=p==null?void 0:p.summary)==null?void 0:A.total)??0)>0&&r.jsx("span",{className:"bg-red-100 text-red-700 text-xs font-medium px-2 py-0.5 rounded-full",children:(C=p==null?void 0:p.summary)==null?void 0:C.total})]})}),m?r.jsx("div",{className:"space-y-4",children:[1,2,3].map(R=>r.jsxs("div",{className:"animate-pulse bg-gray-100 rounded-lg p-4",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-2"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]},R))}):(E=p==null?void 0:p.issues)!=null&&E.length?r.jsx("div",{className:"space-y-3",children:p.issues.slice(0,4).map(R=>r.jsx(Ere,{issue:R,compact:!0},R.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(jI,{className:"h-12 w-12 text-green-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"No issues detected"}),r.jsx("p",{className:"text-xs text-gray-400",children:"All systems operating normally"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recommendations"})}),j?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2].map(R=>r.jsxs("div",{className:"animate-pulse bg-gray-100 rounded-lg p-4",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-1"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]},R))}):(T=x==null?void 0:x.recommendations)!=null&&T.length?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.recommendations.slice(0,4).map(R=>r.jsx(Rre,{recommendation:R,onAction:(I,M)=>{console.log("Action triggered:",I,M)}},R.id))}):r.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No recommendations at this time"})]})]})}function ane({departments:e,onClose:t,onSuccess:n}){const[a,s]=b.useState(""),[i,l]=b.useState(""),[d,u]=b.useState(""),[h,p]=b.useState("active"),[m,x]=b.useState(0),[j,v]=b.useState(null),w=Mre(),g=async S=>{if(S.preventDefault(),v(null),!a.trim()){v("Department name is required");return}try{await w.mutateAsync({name:a.trim(),description:i.trim()||void 0,parentId:d||void 0,budgetCents:m,status:h}),n()}catch(P){v(P instanceof Error?P.message:"Failed to create department")}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Create Department"}),r.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded-lg",children:r.jsx(rf,{className:"h-5 w-5 text-gray-500"})})]}),r.jsxs("form",{onSubmit:g,className:"p-4 space-y-4",children:[j&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-2 rounded-lg text-sm",children:j}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:a,onChange:S=>s(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Engineering",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:i,onChange:S=>l(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Product development department",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent Department"}),r.jsxs("select",{value:d,onChange:S=>u(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"None (Top Level)"}),e.map(S=>r.jsx("option",{value:S.id,children:S.name},S.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:h,onChange:S=>p(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"}),r.jsx("option",{value:"archived",children:"Archived"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),r.jsx("input",{type:"number",value:m/100,onChange:S=>x(Math.round(parseFloat(S.target.value||"0")*100)),className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"0.00",min:"0",step:"0.01"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:w.isPending,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:w.isPending?"Creating...":"Create Department"})]})]})]})})}function sne({department:e,departments:t,onClose:n,onSuccess:a}){const[s,i]=b.useState(e.name),[l,d]=b.useState(e.description||""),[u,h]=b.useState(e.parentId||""),[p,m]=b.useState(e.status),[x,j]=b.useState(e.budgetCents),[v,w]=b.useState(null),g=Ire(),S=Lre(),P=async C=>{if(C.preventDefault(),w(null),!s.trim()){w("Department name is required");return}try{await g.mutateAsync({id:e.id,name:s.trim(),description:l.trim()||null,parentId:u||null,status:p}),x!==e.budgetCents&&await S.mutateAsync({id:e.id,budgetCents:x}),a()}catch(E){w(E instanceof Error?E.message:"Failed to update department")}},O=C=>{const E=t.filter(T=>T.parentId===C);return[C,...E.flatMap(T=>O(T.id))]},N=new Set(O(e.id)),A=t.filter(C=>!N.has(C.id));return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Edit Department"}),r.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded-lg",children:r.jsx(rf,{className:"h-5 w-5 text-gray-500"})})]}),r.jsxs("form",{onSubmit:P,className:"p-4 space-y-4",children:[v&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-2 rounded-lg text-sm",children:v}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:s,onChange:C=>i(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:l,onChange:C=>d(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent Department"}),r.jsxs("select",{value:u,onChange:C=>h(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"None (Top Level)"}),A.map(C=>r.jsx("option",{value:C.id,children:C.name},C.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:p,onChange:C=>m(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"}),r.jsx("option",{value:"archived",children:"Archived"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),r.jsx("input",{type:"number",value:x/100,onChange:C=>j(Math.round(parseFloat(C.target.value||"0")*100)),className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",min:"0",step:"0.01"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:g.isPending||S.isPending,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:g.isPending||S.isPending?"Saving...":"Save Changes"})]})]})]})})}function nT({department:e,allDepartments:t,level:n,selectedId:a,onSelect:s,onEdit:i,onDelete:l}){const[d,u]=b.useState(!0),h=t.filter(x=>x.parentId===e.id),p=h.length>0,m=a===e.id;return r.jsxs("div",{children:[r.jsxs("div",{className:`
          flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer
          transition-colors group
          ${m?"bg-indigo-50 border border-indigo-200":"hover:bg-gray-50"}
        `,style:{paddingLeft:`${n*20+12}px`},onClick:()=>s(e.id),children:[p?r.jsx("button",{onClick:x=>{x.stopPropagation(),u(!d)},className:"p-0.5 hover:bg-gray-200 rounded",children:d?r.jsx(fI,{className:"h-4 w-4 text-gray-500"}):r.jsx(pI,{className:"h-4 w-4 text-gray-500"})}):r.jsx("span",{className:"w-5"}),d?r.jsx(NI,{className:"h-5 w-5 text-indigo-500"}):r.jsx(Cv,{className:"h-5 w-5 text-gray-400"}),r.jsx("span",{className:`flex-1 font-medium ${m?"text-indigo-700":"text-gray-700"}`,children:e.name}),r.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${e.status==="active"?"bg-green-100 text-green-700":e.status==="inactive"?"bg-gray-100 text-gray-600":"bg-yellow-100 text-yellow-700"}`,children:e.status}),r.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex items-center gap-1",children:[r.jsx("button",{onClick:x=>{x.stopPropagation(),i(e)},className:"p-1 hover:bg-gray-200 rounded",title:"Edit",children:r.jsx(Gu,{className:"h-4 w-4 text-gray-500"})}),r.jsx("button",{onClick:x=>{x.stopPropagation(),confirm(`Delete ${e.name}?`)&&l(e.id)},className:"p-1 hover:bg-red-100 rounded",title:"Delete",children:r.jsx(Vu,{className:"h-4 w-4 text-red-500"})})]})]}),d&&p&&r.jsx("div",{children:h.map(x=>r.jsx(nT,{department:x,allDepartments:t,level:n+1,selectedId:a,onSelect:s,onEdit:i,onDelete:l},x.id))})]})}function ine(){const[e,t]=b.useState(""),[n,a]=b.useState("all"),[s,i]=b.useState(null),[l,d]=b.useState(!1),[u,h]=b.useState(null),{data:p,isLoading:m,refetch:x}=kw({status:n==="all"?void 0:n,search:e||void 0}),j=$re(),v=(p==null?void 0:p.departments)??[],w=v.filter(O=>!O.parentId),g=v.find(O=>O.id===s),S=async O=>{try{await j.mutateAsync(O),s===O&&i(null)}catch(N){console.error("Failed to delete department:",N)}},P=O=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(O/100);return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Departments"}),r.jsx("p",{className:"text-gray-600",children:"Manage your organization's department structure"})]}),r.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[r.jsx(tf,{className:"h-5 w-5"}),"Add Department"]})]}),r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(uj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search departments...",value:e,onChange:O=>t(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("select",{value:n,onChange:O=>a(O.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"}),r.jsx("option",{value:"archived",children:"Archived"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border p-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Department Tree"}),m?r.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(O=>r.jsxs("div",{className:"animate-pulse flex items-center gap-2 p-2",children:[r.jsx("div",{className:"h-5 w-5 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},O))}):w.length>0?r.jsx("div",{className:"space-y-1",children:w.map(O=>r.jsx(nT,{department:O,allDepartments:v,level:0,selectedId:s,onSelect:i,onEdit:h,onDelete:S},O.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Cv,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"No departments found"}),r.jsx("button",{onClick:()=>d(!0),className:"mt-2 text-indigo-600 hover:text-indigo-800 text-sm",children:"Create your first department"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Details"}),g?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),r.jsx("p",{className:"text-gray-900 font-medium",children:g.name})]}),g.description&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),r.jsx("p",{className:"text-gray-700 text-sm",children:g.description})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("p",{className:`inline-block px-2 py-0.5 rounded text-sm font-medium ${g.status==="active"?"bg-green-100 text-green-700":g.status==="inactive"?"bg-gray-100 text-gray-600":"bg-yellow-100 text-yellow-700"}`,children:g.status})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),r.jsx("p",{className:"text-gray-900 font-medium",children:P(g.budgetCents)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sub-departments"}),r.jsx("p",{className:"text-gray-700",children:v.filter(O=>O.parentId===g.id).length})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),r.jsx("p",{className:"text-gray-700 text-sm",children:new Date(g.createdAt).toLocaleDateString()})]}),r.jsxs("div",{className:"pt-4 flex gap-2",children:[r.jsxs("button",{onClick:()=>h(g),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(Gu,{className:"h-4 w-4"}),"Edit"]}),r.jsx("button",{onClick:()=>{confirm(`Delete ${g.name}?`)&&S(g.id)},className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50",children:r.jsx(Vu,{className:"h-4 w-4"})})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Cv,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Select a department to view details"})]})]})]}),l&&r.jsx(ane,{departments:v,onClose:()=>d(!1),onSuccess:()=>{d(!1),x()}}),u&&r.jsx(sne,{department:u,departments:v.filter(O=>O.id!==u.id),onClose:()=>h(null),onSuccess:()=>{h(null),x()}})]})}const yP={beginner:"bg-gray-100 text-gray-700",intermediate:"bg-blue-100 text-blue-700",advanced:"bg-purple-100 text-purple-700",expert:"bg-orange-100 text-orange-700"};function one(){const[e,t]=b.useState(""),[n,a]=b.useState("all"),[s,i]=b.useState("all"),[l,d]=b.useState(null),[u,h]=b.useState(!1),[p,m]=b.useState(null),[x,j]=b.useState({title:"",departmentId:"",description:"",requiredSkills:[],minExperience:0,maxCapacity:1,status:"active"}),[v,w]=b.useState({name:"",level:"intermediate",weight:50}),[g,S]=b.useState(null),{data:P}=kw({status:"active"}),O=Dre(),N=Fre(),{data:A,isLoading:C}=Cw({status:n==="all"?void 0:n,departmentId:s==="all"?void 0:s,search:e||void 0}),E=qre(),T=(A==null?void 0:A.positions)??[],R=(P==null?void 0:P.departments)??[],I=T.find(F=>F.id===l),M=F=>{var L;return((L=R.find(q=>q.id===F))==null?void 0:L.name)??"Unknown"},$=async F=>{try{await E.mutateAsync(F),l===F&&d(null)}catch(L){console.error("Failed to delete position:",L)}},G=()=>{j({title:"",departmentId:"",description:"",requiredSkills:[],minExperience:0,maxCapacity:1,status:"active"}),w({name:"",level:"intermediate",weight:50}),S(null)},V=()=>{G(),h(!0)},z=F=>{j({title:F.title,departmentId:F.departmentId,description:F.description||"",requiredSkills:F.requiredSkills,minExperience:F.minExperience,maxCapacity:F.maxCapacity,status:F.status,reportsTo:F.reportsTo||void 0}),m(F)},U=()=>{v.name.trim()&&(j(F=>({...F,requiredSkills:[...F.requiredSkills||[],v]})),w({name:"",level:"intermediate",weight:50}))},W=F=>{j(L=>({...L,requiredSkills:(L.requiredSkills||[]).filter((q,K)=>K!==F)}))},B=async F=>{if(F.preventDefault(),S(null),!x.title.trim()){S("Title is required");return}if(!x.departmentId){S("Department is required");return}try{p?(await N.mutateAsync({id:p.id,...x}),m(null)):(await O.mutateAsync(x),h(!1)),G()}catch(L){S(L instanceof Error?L.message:"Failed to save position")}};return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Positions"}),r.jsx("p",{className:"text-gray-600",children:"Define roles and skill requirements for agents"})]}),r.jsxs("button",{onClick:V,className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[r.jsx(tf,{className:"h-5 w-5"}),"Add Position"]})]}),r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(uj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search positions...",value:e,onChange:F=>t(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("select",{value:s,onChange:F=>i(F.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Departments"}),R.map(F=>r.jsx("option",{value:F.id,children:F.name},F.id))]}),r.jsxs("select",{value:n,onChange:F=>a(F.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"}),r.jsx("option",{value:"archived",children:"Archived"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capacity"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C?Array.from({length:5}).map((F,L)=>r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-4",children:r.jsx("div",{className:"animate-pulse h-4 bg-gray-200 rounded w-full"})})},L)):T.length===0?r.jsx("tr",{children:r.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center",children:[r.jsx(Sv,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"No positions found"}),r.jsx("button",{onClick:V,className:"mt-2 text-indigo-600 hover:text-indigo-800 text-sm",children:"Create your first position"})]})}):T.map(F=>r.jsxs("tr",{onClick:()=>d(F.id),className:`cursor-pointer hover:bg-gray-50 ${l===F.id?"bg-indigo-50":""}`,children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"font-medium text-gray-900",children:F.title}),r.jsxs("div",{className:"text-sm text-gray-500",children:[F.requiredSkills.length," skills required"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M(F.departmentId)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`text-sm font-medium ${F.currentCount>=F.maxCapacity?"text-green-600":"text-gray-600"}`,children:[F.currentCount,"/",F.maxCapacity]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${F.status==="active"?"bg-green-100 text-green-700":F.status==="inactive"?"bg-gray-100 text-gray-600":"bg-yellow-100 text-yellow-700"}`,children:F.status})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[r.jsx("button",{onClick:L=>{L.stopPropagation(),z(F)},className:"text-indigo-600 hover:text-indigo-900 mr-3",children:r.jsx(Gu,{className:"h-4 w-4"})}),r.jsx("button",{onClick:L=>{L.stopPropagation(),confirm(`Delete ${F.title}?`)&&$(F.id)},className:"text-red-600 hover:text-red-900",children:r.jsx(Vu,{className:"h-4 w-4"})})]})]},F.id))})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Details"}),I?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),r.jsx("p",{className:"text-gray-900 font-medium",children:I.title})]}),I.description&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),r.jsx("p",{className:"text-gray-700 text-sm",children:I.description})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),r.jsx("p",{className:"text-gray-700",children:M(I.departmentId)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Min Experience"}),r.jsxs("p",{className:"text-gray-700",children:[I.minExperience," years"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required Skills"}),r.jsx("div",{className:"mt-1 space-y-2",children:I.requiredSkills.length===0?r.jsx("p",{className:"text-gray-500 text-sm",children:"No skills defined"}):I.requiredSkills.map((F,L)=>r.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[r.jsx("span",{className:"text-sm font-medium",children:F.name}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${yP[F.level]}`,children:F.level}),r.jsxs("span",{className:"text-xs text-gray-400",children:["(",F.weight,"%)"]})]})]},L))})]}),r.jsxs("div",{className:"pt-4 flex gap-2",children:[r.jsxs("button",{onClick:()=>z(I),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(Gu,{className:"h-4 w-4"}),"Edit"]}),r.jsx("button",{onClick:()=>{confirm(`Delete ${I.title}?`)&&$(I.id)},className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50",children:r.jsx(Vu,{className:"h-4 w-4"})})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Sv,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Select a position to view details"})]})]})]}),(u||p)&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full mx-4 p-6 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:p?`Edit Position: ${p.title}`:"Create Position"}),r.jsx("button",{onClick:()=>{h(!1),m(null),G()},className:"text-gray-400 hover:text-gray-600",children:""})]}),g&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:g}),r.jsxs("form",{onSubmit:B,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Title ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:x.title,onChange:F=>j(L=>({...L,title:F.target.value})),placeholder:"e.g., Senior Developer",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:x.departmentId,onChange:F=>j(L=>({...L,departmentId:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[r.jsx("option",{value:"",children:"Select department..."}),R.map(F=>r.jsx("option",{value:F.id,children:F.name},F.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:x.description||"",onChange:F=>j(L=>({...L,description:F.target.value})),placeholder:"Position responsibilities...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Experience (years)"}),r.jsx("input",{type:"number",min:"0",value:x.minExperience||0,onChange:F=>j(L=>({...L,minExperience:parseInt(F.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Capacity"}),r.jsx("input",{type:"number",min:"1",value:x.maxCapacity||1,onChange:F=>j(L=>({...L,maxCapacity:parseInt(F.target.value)||1})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:x.status||"active",onChange:F=>j(L=>({...L,status:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"}),r.jsx("option",{value:"archived",children:"Archived"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Required Skills"}),x.requiredSkills&&x.requiredSkills.length>0&&r.jsx("div",{className:"space-y-2 mb-3",children:x.requiredSkills.map((F,L)=>r.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[r.jsx("span",{className:"text-sm font-medium",children:F.name}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${yP[F.level]}`,children:F.level}),r.jsxs("span",{className:"text-xs text-gray-400",children:["(",F.weight,"%)"]}),r.jsx("button",{type:"button",onClick:()=>W(L),className:"text-red-500 hover:text-red-700",children:""})]})]},L))}),r.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[r.jsx("input",{type:"text",value:v.name,onChange:F=>w(L=>({...L,name:F.target.value})),placeholder:"Skill name",className:"col-span-2 px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-indigo-500"}),r.jsxs("select",{value:v.level,onChange:F=>w(L=>({...L,level:F.target.value})),className:"px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-indigo-500",children:[r.jsx("option",{value:"beginner",children:"Beginner"}),r.jsx("option",{value:"intermediate",children:"Intermediate"}),r.jsx("option",{value:"advanced",children:"Advanced"}),r.jsx("option",{value:"expert",children:"Expert"})]}),r.jsx("button",{type:"button",onClick:U,className:"px-2 py-1 text-sm bg-indigo-100 text-indigo-700 rounded hover:bg-indigo-200",children:"Add"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{h(!1),m(null),G()},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:O.isPending||N.isPending,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:O.isPending||N.isPending?"Saving...":p?"Update Position":"Create Position"})]})]})]})})]})}const lne={healthy:{color:"bg-green-500",bgColor:"bg-green-100",textColor:"text-green-700",label:"Healthy",icon:""},warning:{color:"bg-yellow-500",bgColor:"bg-yellow-100",textColor:"text-yellow-700",label:"Warning",icon:""},critical:{color:"bg-red-500",bgColor:"bg-red-100",textColor:"text-red-700",label:"Critical",icon:""}};function Aw({status:e,size:t="md"}){const n=lne[e],a={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm"};return r.jsxs("span",{className:`
        inline-flex items-center gap-1 rounded-full font-medium
        ${n.bgColor} ${n.textColor} ${a[t]}
      `,children:[r.jsx("span",{className:`${n.color} h-1.5 w-1.5 rounded-full`}),n.label]})}function cne(){return At({queryKey:["agents"],queryFn:async()=>se({url:"/api/v1/agents",method:"GET"})})}const dne={active:"bg-green-100 text-green-700",on_leave:"bg-yellow-100 text-yellow-700",suspended:"bg-orange-100 text-orange-700",terminated:"bg-red-100 text-red-700"},vP={permanent:"Permanent",temporary:"Temporary",acting:"Acting"};function une(){var B;const[e,t]=b.useState(""),[n,a]=b.useState("all"),[s,i]=b.useState("all"),[l,d]=b.useState(null),[u,h]=b.useState(!1),{data:p}=Cw({status:"active"}),{data:m}=cne(),{data:x,isLoading:j,refetch:v}=tT({status:n==="all"?void 0:n,search:e||void 0}),w=Bre(),g=Ure(),S=zre(),[P,O]=b.useState({agentId:"",positionId:"",humanSupervisor:"",assignmentType:"permanent",workload:0,status:"active"}),[N,A]=b.useState(null),C=(x==null?void 0:x.assignments)??[],E=(p==null?void 0:p.positions)??[],T=(m==null?void 0:m.agents)??[],R=C.find(F=>F.id===l),I=()=>{O({agentId:"",positionId:"",humanSupervisor:"",assignmentType:"permanent",workload:0,status:"active"}),A(null)},M=()=>{I(),h(!0)},$=async F=>{if(F.preventDefault(),A(null),!P.agentId){A("Please select an agent");return}if(!P.positionId){A("Please select a position");return}try{await S.mutateAsync(P),h(!1),I(),v()}catch(L){A(L instanceof Error?L.message:"Failed to create assignment")}},G=F=>{var L;return((L=E.find(q=>q.id===F))==null?void 0:L.title)??"Unknown Position"},V=async(F,L)=>{try{await w.mutateAsync({id:F,status:L}),v()}catch(q){console.error("Failed to update status:",q)}},z=async F=>{const L=prompt("Reason for termination (optional):");try{await g.mutateAsync({id:F,reason:L||void 0}),l===F&&d(null),v()}catch(q){console.error("Failed to terminate:",q)}},U=F=>F>=.9?"critical":F>=.8?"warning":"healthy",W=s==="all"?C:C.filter(F=>F.assignmentType===s);return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Assignments"}),r.jsx("p",{className:"text-gray-600",children:"Manage agent-position relationships"})]}),r.jsxs("button",{onClick:M,className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[r.jsx(tf,{className:"h-5 w-5"}),"Add Assignment"]})]}),r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(uj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search agents...",value:e,onChange:F=>t(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("select",{value:n,onChange:F=>a(F.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"on_leave",children:"On Leave"}),r.jsx("option",{value:"suspended",children:"Suspended"}),r.jsx("option",{value:"terminated",children:"Terminated"})]}),r.jsxs("select",{value:s,onChange:F=>i(F.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"permanent",children:"Permanent"}),r.jsx("option",{value:"temporary",children:"Temporary"}),r.jsx("option",{value:"acting",children:"Acting"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Workload"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j?Array.from({length:5}).map((F,L)=>r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-4",children:r.jsx("div",{className:"animate-pulse h-4 bg-gray-200 rounded w-full"})})},L)):W.length===0?r.jsx("tr",{children:r.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center",children:[r.jsx(Qu,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"No assignments found"})]})}):W.map(F=>{var L,q,K;return r.jsxs("tr",{onClick:()=>d(F.id),className:`cursor-pointer hover:bg-gray-50 ${l===F.id?"bg-indigo-50":""}`,children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-indigo-600 text-sm font-medium",children:((q=(L=F.agent)==null?void 0:L.name)==null?void 0:q[0])??"A"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:((K=F.agent)==null?void 0:K.name)??F.agentId}),r.jsx("div",{className:"text-xs text-gray-500",children:vP[F.assignmentType]})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G(F.positionId)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"w-24",children:r.jsx(zc,{workload:F.workload,size:"sm",showPercentage:!0})})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${dne[F.status]}`,children:F.status.replace("_"," ")})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[r.jsx("button",{onClick:Y=>{Y.stopPropagation(),alert("Reassign modal coming soon")},className:"text-indigo-600 hover:text-indigo-900 mr-3",title:"Reassign",children:r.jsx(Nv,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Y=>{Y.stopPropagation(),confirm("Terminate this assignment?")&&z(F.id)},className:"text-red-600 hover:text-red-900",title:"Terminate",children:r.jsx(Yu,{className:"h-4 w-4"})})]})]},F.id)})})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Details"}),R?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),r.jsx("p",{className:"text-gray-900 font-medium",children:((B=R.agent)==null?void 0:B.name)??R.agentId})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),r.jsx("p",{className:"text-gray-700",children:G(R.positionId)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("p",{className:"text-gray-700",children:vP[R.assignmentType]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Workload"}),r.jsx("div",{className:"mt-1",children:r.jsx(zc,{workload:R.workload,showPercentage:!0,showStatus:!0})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Health"}),r.jsx("div",{className:"mt-1",children:r.jsx(Aw,{status:U(R.workload)})})]}),R.performanceScore!==null&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance"}),r.jsxs("p",{className:"text-gray-900 font-medium",children:[R.performanceScore,"/100"]})]}),R.humanSupervisor&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supervisor"}),r.jsx("p",{className:"text-gray-700",children:R.humanSupervisor})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Date"}),r.jsx("p",{className:"text-gray-700 text-sm",children:R.startDate?new Date(R.startDate).toLocaleDateString():"Not set"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("div",{className:"mt-1",children:r.jsxs("select",{value:R.status,onChange:F=>V(R.id,F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"on_leave",children:"On Leave"}),r.jsx("option",{value:"suspended",children:"Suspended"})]})})]}),r.jsx("div",{className:"pt-4",children:r.jsxs("button",{onClick:()=>{confirm("Terminate this assignment?")&&z(R.id)},className:"w-full flex items-center justify-center gap-2 px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50",children:[r.jsx(Yu,{className:"h-4 w-4"}),"Terminate Assignment"]})})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Qu,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Select an assignment to view details"})]})]})]}),u&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Create Assignment"}),r.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(rf,{className:"h-5 w-5"})})]}),r.jsxs("form",{onSubmit:$,className:"p-4 space-y-4",children:[N&&r.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm",children:N}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Agent ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:P.agentId,onChange:F=>O({...P,agentId:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[r.jsx("option",{value:"",children:"Select an agent..."}),T.map(F=>r.jsxs("option",{value:F.id,children:[F.displayName||F.name," (",F.type,")"]},F.id))]}),T.length===0&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No agents available. Create agents first."})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Position ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:P.positionId,onChange:F=>O({...P,positionId:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[r.jsx("option",{value:"",children:"Select a position..."}),E.map(F=>r.jsx("option",{value:F.id,children:F.title},F.id))]}),E.length===0&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No positions available. Create positions first."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignment Type"}),r.jsxs("select",{value:P.assignmentType,onChange:F=>O({...P,assignmentType:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"permanent",children:"Permanent"}),r.jsx("option",{value:"temporary",children:"Temporary"}),r.jsx("option",{value:"acting",children:"Acting"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Human Supervisor (optional)"}),r.jsx("input",{type:"text",value:P.humanSupervisor||"",onChange:F=>O({...P,humanSupervisor:F.target.value}),placeholder:"Enter supervisor name or ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Initial Workload: ",Math.round((P.workload||0)*100),"%"]}),r.jsx("input",{type:"range",min:"0",max:"100",value:(P.workload||0)*100,onChange:F=>O({...P,workload:parseInt(F.target.value)/100}),className:"w-full"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsx("span",{children:"0%"}),r.jsx("span",{children:"50%"}),r.jsx("span",{children:"100%"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date (optional)"}),r.jsx("input",{type:"date",value:P.startDate||"",onChange:F=>O({...P,startDate:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),P.assignmentType!=="permanent"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),r.jsx("input",{type:"date",value:P.endDate||"",onChange:F=>O({...P,endDate:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Initial Status"}),r.jsxs("select",{value:P.status,onChange:F=>O({...P,status:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"on_leave",children:"On Leave"}),r.jsx("option",{value:"suspended",children:"Suspended"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:S.isPending,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:S.isPending?"Creating...":"Create Assignment"})]})]})]})})]})}const hne={pending:"bg-yellow-100 text-yellow-700",approved:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700",expired:"bg-gray-100 text-gray-600",escalated:"bg-purple-100 text-purple-700"},fne={pending:"",approved:"",rejected:"",expired:"",escalated:""},bP={1:"Task",2:"Process",3:"Project",4:"Function",5:"Objective"};function mne(){const[e,t]=b.useState("pending"),[n,a]=b.useState("all"),[s,i]=b.useState("all"),[l,d]=b.useState(null),{data:u,isLoading:h,refetch:p}=Wre({status:e==="all"?void 0:e,requestType:n==="all"?void 0:n,level:s==="all"?void 0:parseInt(s)}),m=Kre(),x=Gre(),j=Vre(),v=(u==null?void 0:u.requests)??[],w=v.find(N=>N.id===l),g=async N=>{const A=prompt("Add a note (optional):");try{await m.mutateAsync({id:N,note:A||void 0}),p()}catch(C){console.error("Failed to approve:",C)}},S=async N=>{const A=prompt("Reason for rejection:");if(!A){alert("Rejection reason is required");return}try{await x.mutateAsync({id:N,note:A}),p()}catch(C){console.error("Failed to reject:",C)}},P=async N=>{const A=prompt("Reason for escalation:");try{await j.mutateAsync({id:N,reason:A||void 0}),p()}catch(C){console.error("Failed to escalate:",C)}},O=N=>new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"AR Approvals"}),r.jsx("p",{className:"text-gray-600",children:"Manage approval requests for agent resources"})]}),r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsxs("select",{value:e,onChange:N=>t(N.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"}),r.jsx("option",{value:"escalated",children:"Escalated"}),r.jsx("option",{value:"expired",children:"Expired"})]}),r.jsxs("select",{value:n,onChange:N=>a(N.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"task",children:"Task"}),r.jsx("option",{value:"budget",children:"Budget"}),r.jsx("option",{value:"assignment",children:"Assignment"}),r.jsx("option",{value:"schedule",children:"Schedule"}),r.jsx("option",{value:"leave",children:"Leave"}),r.jsx("option",{value:"policy",children:"Policy"})]}),r.jsxs("select",{value:s,onChange:N=>i(N.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Levels"}),r.jsx("option",{value:"1",children:"Level 1 (Task)"}),r.jsx("option",{value:"2",children:"Level 2 (Process)"}),r.jsx("option",{value:"3",children:"Level 3 (Project)"}),r.jsx("option",{value:"4",children:"Level 4 (Function)"}),r.jsx("option",{value:"5",children:"Level 5 (Objective)"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Request"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type / Level"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h?Array.from({length:5}).map((N,A)=>r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-4",children:r.jsx("div",{className:"animate-pulse h-4 bg-gray-200 rounded w-full"})})},A)):v.length===0?r.jsx("tr",{children:r.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center",children:[r.jsx(kv,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"No approval requests found"})]})}):v.map(N=>r.jsxs("tr",{onClick:()=>d(N.id),className:`cursor-pointer hover:bg-gray-50 ${l===N.id?"bg-indigo-50":""}`,children:[r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"font-medium text-gray-900",children:N.title}),r.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:N.description})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm",children:r.jsx("span",{className:"px-2 py-0.5 bg-gray-100 rounded text-gray-700 text-xs",children:N.requestType})}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Level ",N.level," (",bP[N.level],")"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full font-medium ${hne[N.status]}`,children:[fne[N.status]," ",N.status]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O(N.expiresAt)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:N.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:A=>{A.stopPropagation(),g(N.id)},className:"text-green-600 hover:text-green-900 mr-2",title:"Approve",children:r.jsx(Ku,{className:"h-5 w-5"})}),r.jsx("button",{onClick:A=>{A.stopPropagation(),S(N.id)},className:"text-red-600 hover:text-red-900 mr-2",title:"Reject",children:r.jsx(Yu,{className:"h-5 w-5"})}),r.jsx("button",{onClick:A=>{A.stopPropagation(),P(N.id)},className:"text-purple-600 hover:text-purple-900",title:"Escalate",children:r.jsx(aI,{className:"h-5 w-5"})})]})})]},N.id))})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Details"}),w?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),r.jsx("p",{className:"text-gray-900 font-medium",children:w.title})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),r.jsx("p",{className:"text-gray-700 text-sm",children:w.description})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("p",{className:"text-gray-700 capitalize",children:w.requestType})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),r.jsxs("p",{className:"text-gray-700",children:[w.level," (",bP[w.level],")"]})]})]}),w.impactScope&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Impact Scope"}),r.jsx("p",{className:"text-gray-700 capitalize",children:w.impactScope})]}),w.estimatedValue&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estimated Value"}),r.jsxs("p",{className:"text-gray-700",children:["$",w.estimatedValue.toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-2 block",children:"Approval Chain"}),r.jsx("div",{className:"space-y-2",children:w.approverChain.map((N,A)=>{const C=w.responses.find(T=>T.level===N.level),E=N.level===w.currentLevel&&w.status==="pending";return r.jsxs("div",{className:`flex items-center gap-2 p-2 rounded ${E?"bg-yellow-50 border border-yellow-200":"bg-gray-50"}`,children:[r.jsx("span",{className:"text-lg",children:(C==null?void 0:C.decision)==="approved"?"":(C==null?void 0:C.decision)==="rejected"?"":E?"":""}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"text-sm font-medium",children:["Level ",N.level]}),r.jsx("p",{className:"text-xs text-gray-500",children:N.roleTitle||N.approverId})]}),C&&r.jsx("span",{className:"text-xs text-gray-400",children:O(C.timestamp)})]},A)})})]}),w.status==="pending"&&r.jsxs("div",{className:"pt-4 flex gap-2",children:[r.jsxs("button",{onClick:()=>g(w.id),disabled:m.isPending,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[r.jsx(Ku,{className:"h-4 w-4"}),"Approve"]}),r.jsxs("button",{onClick:()=>S(w.id),disabled:x.isPending,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:[r.jsx(Yu,{className:"h-4 w-4"}),"Reject"]})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(kv,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Select a request to view details"})]})]})]})]})}function pne(){var u,h,p,m,x,j,v,w,g,S,P,O;const[e,t]=b.useState(30),{data:n,isLoading:a}=Jre(e),{data:s,isLoading:i}=Zre(),{data:l,isLoading:d}=ene();return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"AR Analytics"}),r.jsx("p",{className:"text-gray-600",children:"Performance metrics and insights"})]}),r.jsxs("select",{value:e,onChange:N=>t(parseInt(N.target.value)),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"7",children:"Last 7 days"}),r.jsx("option",{value:"30",children:"Last 30 days"}),r.jsx("option",{value:"90",children:"Last 90 days"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:a?r.jsxs(r.Fragment,{children:[r.jsx(Qr,{}),r.jsx(Qr,{}),r.jsx(Qr,{}),r.jsx(Qr,{})]}):r.jsxs(r.Fragment,{children:[r.jsx(Va,{title:"Tasks Completed",value:((u=n==null?void 0:n.metrics)==null?void 0:u.completedTasks)??0,icon:r.jsx(Ku,{className:"h-6 w-6"}),color:"green",trend:(h=n==null?void 0:n.trends)!=null&&h.completion&&n.trends.completion>0?"up":"down",change:((p=n==null?void 0:n.trends)==null?void 0:p.completion)??0}),r.jsx(Va,{title:"Avg Performance",value:`${Math.round(((m=n==null?void 0:n.metrics)==null?void 0:m.avgPerformance)??0)}%`,icon:r.jsx(eO,{className:"h-6 w-6"}),color:"blue",trend:(x=n==null?void 0:n.trends)!=null&&x.performance&&n.trends.performance>0?"up":"down",change:((j=n==null?void 0:n.trends)==null?void 0:j.performance)??0}),r.jsx(Va,{title:"Total Cost",value:`$${(((v=n==null?void 0:n.metrics)==null?void 0:v.totalCost)??0).toLocaleString()}`,icon:r.jsx(tO,{className:"h-6 w-6"}),color:"purple",trend:(w=n==null?void 0:n.trends)!=null&&w.cost&&n.trends.cost<0?"up":"down",change:((g=n==null?void 0:n.trends)==null?void 0:g.cost)??0}),r.jsx(Va,{title:"Cost/Task",value:`$${(((S=n==null?void 0:n.metrics)==null?void 0:S.costPerTask)??0).toFixed(2)}`,icon:r.jsx(Qu,{className:"h-6 w-6"}),color:"gray"})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Agent Health Status"}),i?r.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(N=>r.jsxs("div",{className:"animate-pulse flex items-center gap-4",children:[r.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),r.jsx("div",{className:"h-2 bg-gray-100 rounded w-full"})]})]},N))}):(P=s==null?void 0:s.agents)!=null&&P.length?r.jsx("div",{className:"space-y-4",children:s.agents.map(N=>r.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-indigo-600 font-medium",children:N.agentName[0]})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"font-medium text-gray-900",children:N.agentName}),r.jsx(Aw,{status:N.status,size:"sm"})]}),r.jsx(zc,{workload:N.workload,size:"sm",showPercentage:!0})]})]},N.agentId))}):r.jsx("p",{className:"text-gray-500 text-center py-4",children:"No health data available"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Coaching Needs"}),d?r.jsx("div",{className:"space-y-4",children:[1,2,3].map(N=>r.jsxs("div",{className:"animate-pulse bg-gray-100 rounded-lg p-4",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-2"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]},N))}):(O=l==null?void 0:l.agents)!=null&&O.length?r.jsx("div",{className:"space-y-3",children:l.agents.map(N=>r.jsxs("div",{className:`p-4 rounded-lg border ${N.priority==="high"?"bg-red-50 border-red-200":N.priority==="medium"?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-medium text-gray-900",children:N.agentName}),r.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${N.priority==="high"?"bg-red-100 text-red-700":N.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:N.priority})]}),r.jsx("ul",{className:"space-y-1",children:N.needs.map((A,C)=>r.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[r.jsx("span",{className:"text-gray-400",children:""}),A]},C))})]},N.agentId))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ku,{className:"h-12 w-12 text-green-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"All agents performing well"}),r.jsx("p",{className:"text-xs text-gray-400",children:"No coaching needs identified"})]})]})]})]})}function xne(){var v,w;const[e,t]=b.useState(null),{data:n,isLoading:a}=rT(),{data:s,isLoading:i,refetch:l}=Qre(),d=Yre(),u=Xre(),h=async()=>{try{const g=await d.mutateAsync("manual");t(g.proposal.id),l()}catch(g){console.error("Failed to create proposal:",g)}},p=async g=>{try{await u.mutateAsync({proposalId:g}),t(null),l()}catch(S){console.error("Failed to apply proposal:",S)}},m=g=>g>=.9?"critical":g>=.8?"warning":"healthy",x=((v=s==null?void 0:s.proposals)==null?void 0:v.filter(g=>g.status==="pending"))??[],j=x.find(g=>g.id===e);return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Workload Distribution"}),r.jsx("p",{className:"text-gray-600",children:"Monitor and optimize agent workloads"})]}),r.jsxs("button",{onClick:h,disabled:d.isPending,className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:[r.jsx(Nv,{className:`h-5 w-5 ${d.isPending?"animate-spin":""}`}),"Generate Rebalancing"]})]}),(n==null?void 0:n.stats)&&r.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6 mb-6",children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[Math.round(n.stats.avgWorkload*100),"%"]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Average Workload"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[Math.round(n.stats.stdDeviation*100),"%"]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Std Deviation"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-green-600",children:n.stats.balanced}),r.jsx("p",{className:"text-sm text-gray-500",children:"Balanced"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-red-600",children:n.stats.overloaded}),r.jsx("p",{className:"text-sm text-gray-500",children:"Overloaded"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:n.stats.underutilized}),r.jsx("p",{className:"text-sm text-gray-500",children:"Underutilized"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Agent Workloads"}),a?r.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(g=>r.jsxs("div",{className:"animate-pulse flex items-center gap-4",children:[r.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),r.jsx("div",{className:"h-3 bg-gray-100 rounded w-full"})]})]},g))}):(w=n==null?void 0:n.snapshots)!=null&&w.length?r.jsx("div",{className:"space-y-4",children:n.snapshots.map(g=>r.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border ${g.status==="overloaded"?"bg-red-50 border-red-200":g.status==="underutilized"?"bg-yellow-50 border-yellow-200":"bg-gray-50 border-gray-200"}`,children:[r.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-indigo-600 font-bold",children:g.agentName[0]})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-medium text-gray-900",children:g.agentName}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm text-gray-500",children:[g.taskCount," tasks"]}),r.jsx(Aw,{status:m(g.currentWorkload),size:"sm"})]})]}),r.jsx(zc,{workload:g.currentWorkload,showPercentage:!0,showStatus:!0})]})]},g.agentId))}):r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No workload data available"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rebalancing Proposals"}),i?r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"h-20 bg-gray-100 rounded"}),r.jsx("div",{className:"h-20 bg-gray-100 rounded"})]}):x.length>0?r.jsx("div",{className:"space-y-4",children:x.map(g=>r.jsxs("div",{className:`p-4 rounded-lg border cursor-pointer transition-colors ${e===g.id?"bg-indigo-50 border-indigo-200":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,onClick:()=>t(g.id),children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Proposal #",g.id.slice(0,8)]}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(g.createdAt).toLocaleDateString()})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[g.proposedChanges.length," changes, ~",Math.round(g.estimatedImprovement),"% improvement"]})]},g.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Nv,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"No pending proposals"}),r.jsx("button",{onClick:h,className:"mt-2 text-indigo-600 hover:text-indigo-800 text-sm",children:"Generate one"})]}),j&&r.jsxs("div",{className:"mt-6 pt-6 border-t",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Proposed Changes"}),r.jsx("div",{className:"space-y-3",children:j.proposedChanges.map(g=>r.jsxs("div",{className:"bg-white border rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"font-medium",children:g.fromAgentId}),r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{className:"font-medium",children:g.toAgentId})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[g.taskIds.length," task(s)"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 text-xs",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"From: "}),r.jsxs("span",{className:"text-red-600",children:[Math.round(g.estimatedImpact.fromWorkload.before*100),"%"]}),r.jsx("span",{className:"text-gray-400",children:"  "}),r.jsxs("span",{className:"text-green-600",children:[Math.round(g.estimatedImpact.fromWorkload.after*100),"%"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"To: "}),r.jsxs("span",{children:[Math.round(g.estimatedImpact.toWorkload.before*100),"%"]}),r.jsx("span",{className:"text-gray-400",children:"  "}),r.jsxs("span",{children:[Math.round(g.estimatedImpact.toWorkload.after*100),"%"]})]})]})]},g.id))}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsxs("button",{onClick:()=>p(j.id),disabled:u.isPending,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[r.jsx(uI,{className:"h-4 w-4"}),"Apply"]}),r.jsx("button",{onClick:()=>t(null),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:r.jsx(rf,{className:"h-4 w-4"})})]})]})]})]})]})}function gne(){const[e,t]=b.useState(!1),{currentOrganization:n,organizations:a,switchOrganization:s}=rs();if(!n||a.length<=1)return null;const i=async l=>{t(!1),await s(l)};return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>t(!e),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:n.name}),r.jsx("svg",{className:`w-4 h-4 text-gray-600 transition-transform ${e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>t(!1)}),r.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-20",children:r.jsxs("div",{className:"p-2",children:[r.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase",children:"Switch Organization"}),a.map(l=>r.jsxs("button",{onClick:()=>i(l.id),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${l.id===n.id?"bg-indigo-50 text-indigo-700":"hover:bg-gray-100 text-gray-700"}`,children:[r.jsx("div",{className:"font-medium",children:l.name}),r.jsx("div",{className:"text-xs text-gray-500",children:l.domain})]},l.id))]})})]})]})}function yne({user:e,onLogout:t}){return r.jsx("header",{className:"h-16 bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-50",children:r.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("h1",{className:"text-2xl font-bold text-indigo-600",children:"Nubabel"})}),r.jsx(gne,{}),e&&r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[e.picture?r.jsx("img",{src:e.picture,alt:e.name,className:"w-8 h-8 rounded-full"}):r.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-medium",children:(e.name||e.email||"?").charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.name}),r.jsx("span",{className:"text-xs text-gray-500",children:e.email})]})]}),r.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Logout"})]})]})})}const vne=[{name:"Dashboard",path:"/dashboard",icon:""},{name:"OKRs",path:"/okr",icon:""},{name:"Workflows",path:"/workflows",icon:""},{name:"Executions",path:"/executions",icon:""},{name:"Activity",path:"/activity",icon:""},{name:"Search",path:"/search",icon:""},{name:"Conversations",path:"/conversations",icon:""},{name:"Settings",path:"/settings",icon:""}],bne=[{name:"Members",path:"/settings/members",icon:""},{name:"Approvals",path:"/approvals",icon:""},{name:"Changes",path:"/org-changes",icon:""}],jne=[{name:"AR Dashboard",path:"/ar",icon:""},{name:"Departments",path:"/ar/departments",icon:""},{name:"Positions",path:"/ar/positions",icon:""},{name:"Assignments",path:"/ar/assignments",icon:""},{name:"AR Approvals",path:"/ar/approvals",icon:""},{name:"AR Analytics",path:"/ar/analytics",icon:""},{name:"Workload",path:"/ar/workload",icon:""}],wne=[{name:"Notion Settings",path:"/settings/notion",icon:""},{name:"Slack Settings",path:"/settings/slack",icon:""}],Nne=[{name:"Analytics",path:"/analytics",icon:""},{name:"Costs",path:"/costs",icon:""},{name:"Patterns",path:"/patterns",icon:""},{name:"Feedback",path:"/feedback",icon:""},{name:"System Health",path:"/system-health",icon:""}],Sne=[{name:"Knowledge Graph",path:"/knowledge-graph",icon:""},{name:"SOP Drafts",path:"/sops/drafts",icon:""},{name:"SOP Editor",path:"/sops/editor",icon:""}],kne=[{name:"Marketplace",path:"/marketplace",icon:""},{name:"External Tools",path:"/marketplace-hub",icon:""},{name:"Developer Portal",path:"/developer",icon:""}],Cne=[{name:"Admin Dashboard",path:"/admin",icon:""},{name:"Agents",path:"/admin/agents",icon:""},{name:"Agent Monitor",path:"/admin/agent-monitor",icon:""},{name:"Skills",path:"/admin/skills",icon:""},{name:"Claude Max",path:"/admin/claude-max-accounts",icon:""},{name:"N8n Instances",path:"/admin/n8n-instances",icon:""},{name:"Optimization",path:"/admin/optimization",icon:""},{name:"Organizations",path:"/admin/organizations",icon:""},{name:"Billing",path:"/billing",icon:""}];function Ane(){const e=ts(),t=n=>n.map(a=>{const i=e.pathname===a.path?"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-indigo-600 text-white":"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-700 hover:bg-gray-200";return r.jsx("li",{children:r.jsxs(ft,{to:a.path,className:i,children:[r.jsx("span",{className:"text-xl",children:a.icon}),r.jsx("span",{className:"font-medium",children:a.name})]})},a.path)});return r.jsx("aside",{className:"w-64 bg-gray-50 fixed left-0 top-16 bottom-0 border-r border-gray-200 overflow-y-auto",children:r.jsx("nav",{className:"p-4",children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{children:r.jsx("ul",{className:"space-y-2",children:t(vne)})}),r.jsxs("div",{children:[r.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Organization"}),r.jsx("ul",{className:"space-y-2",children:t(bne)})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Agent Resources"}),r.jsx("ul",{className:"space-y-2",children:t(jne)})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Integrations"}),r.jsx("ul",{className:"space-y-2",children:t(wne)})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Analytics"}),r.jsx("ul",{className:"space-y-2",children:t(Nne)})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Knowledge"}),r.jsx("ul",{className:"space-y-2",children:t(Sne)})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Marketplace"}),r.jsx("ul",{className:"space-y-2",children:t(kne)})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Admin"}),r.jsx("ul",{className:"space-y-2",children:t(Cne)})]})]})})})}function Me({children:e}){const{user:t,logout:n}=rs();return r.jsxs("div",{className:"min-h-screen bg-gray-100",children:[r.jsx(yne,{user:t||void 0,onLogout:n}),r.jsx(Ane,{}),r.jsx("main",{className:"ml-64 mt-16 p-8",children:e})]})}function Te({children:e}){const{user:t,isLoading:n,fetchUser:a}=rs(),s=ts();if(b.useEffect(()=>{a()},[a]),n)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});if(!t){const i=encodeURIComponent(s.pathname+s.search);return r.jsx(ZP,{to:`/login?returnUrl=${i}`,replace:!0})}return r.jsx(r.Fragment,{children:e})}function Pne(){return r.jsx(VM,{children:r.jsxs(qM,{children:[r.jsx(Oe,{path:"/login",element:r.jsx(ZM,{})}),r.jsx(Oe,{path:"/dashboard",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(w7,{})})})}),r.jsx(Oe,{path:"/okr",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(sD,{})})})}),r.jsx(Oe,{path:"/workflows",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(C7,{})})})}),r.jsx(Oe,{path:"/workflows/:id",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(A7,{})})})}),r.jsx(Oe,{path:"/executions",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(P7,{})})})}),r.jsx(Oe,{path:"/executions/:id",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(O7,{})})})}),r.jsx(Oe,{path:"/settings",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(R7,{})})})}),r.jsx(Oe,{path:"/settings/notion",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(M7,{})})})}),r.jsx(Oe,{path:"/settings/slack",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(I7,{})})})}),r.jsx(Oe,{path:"/settings/google-calendar",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx($7,{})})})}),r.jsx(Oe,{path:"/settings/identities",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(W7,{})})})}),r.jsx(Oe,{path:"/settings/members",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(HL,{})})})}),r.jsx(Oe,{path:"/approvals",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(KL,{})})})}),r.jsx(Oe,{path:"/activity",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(tD,{})})})}),r.jsx(Oe,{path:"/metrics/agents",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(rD,{})})})}),r.jsx(Oe,{path:"/org-changes",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(nD,{})})})}),r.jsx(Oe,{path:"/admin/agents",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(cD,{})})})}),r.jsx(Oe,{path:"/admin/skills",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(fD,{})})})}),r.jsx(Oe,{path:"/admin",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(vD,{})})})}),r.jsx(Oe,{path:"/admin/organizations",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(wD,{})})})}),r.jsx(Oe,{path:"/admin/identities",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(ND,{})})})}),r.jsx(Oe,{path:"/admin/optimization",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(rre,{})})})}),r.jsx(Oe,{path:"/admin/claude-max-accounts",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(fre,{})})})}),r.jsx(Oe,{path:"/admin/agent-monitor",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(wre,{})})})}),r.jsx(Oe,{path:"/admin/n8n-instances",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Sre,{})})})}),r.jsx(Oe,{path:"/conversations",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(mD,{})})})}),r.jsx(Oe,{path:"/search",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(yD,{})})})}),r.jsx(Oe,{path:"/analytics",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(wte,{})})})}),r.jsx(Oe,{path:"/costs",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(kte,{})})})}),r.jsx(Oe,{path:"/billing",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Nte,{})})})}),r.jsx(Oe,{path:"/knowledge-graph",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(_te,{})})})}),r.jsx(Oe,{path:"/patterns",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Lte,{})})})}),r.jsx(Oe,{path:"/feedback",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Ete,{})})})}),r.jsx(Oe,{path:"/system-health",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(tre,{})})})}),r.jsx(Oe,{path:"/marketplace",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Tte,{})})})}),r.jsx(Oe,{path:"/marketplace-hub",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Rte,{})})})}),r.jsx(Oe,{path:"/marketplace/:extensionId",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Ote,{})})})}),r.jsx(Oe,{path:"/developer",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Pte,{})})})}),r.jsx(Oe,{path:"/developer/publisher",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Dte,{})})})}),r.jsx(Oe,{path:"/sops/drafts",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Fte,{})})})}),r.jsx(Oe,{path:"/sops/editor/:id?",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Kte,{})})})}),r.jsx(Oe,{path:"/onboarding",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(Mte,{})})})}),r.jsx(Oe,{path:"/org-change-wizard",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx($te,{})})})}),r.jsx(Oe,{path:"/n8n/workflows",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(jre,{})})})}),r.jsx(Oe,{path:"/claude-connect",element:r.jsx(Te,{children:r.jsx(mre,{})})}),r.jsx(Oe,{path:"/ar",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(nne,{})})})}),r.jsx(Oe,{path:"/ar/departments",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(ine,{})})})}),r.jsx(Oe,{path:"/ar/positions",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(one,{})})})}),r.jsx(Oe,{path:"/ar/assignments",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(une,{})})})}),r.jsx(Oe,{path:"/ar/approvals",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(mne,{})})})}),r.jsx(Oe,{path:"/ar/analytics",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(pne,{})})})}),r.jsx(Oe,{path:"/ar/workload",element:r.jsx(Te,{children:r.jsx(Me,{children:r.jsx(xne,{})})})}),r.jsx(Oe,{path:"/",element:r.jsx(ZP,{to:"/dashboard",replace:!0})})]})})}class One extends X.Component{constructor(){super(...arguments);xu(this,"state",{hasError:!1,errorMessage:null})}static getDerivedStateFromError(n){return{hasError:!0,errorMessage:n instanceof Error?n.message:String(n)}}componentDidCatch(n){const a=n instanceof Error?n.message:String(n);console.error("UI error:",a)}render(){return this.state.hasError?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:r.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Something went wrong"}),this.state.errorMessage?r.jsx("p",{className:"mt-2 text-sm text-gray-600 break-words",children:this.state.errorMessage}):null,r.jsx("button",{type:"button",className:"mt-4 inline-flex items-center justify-center rounded-md bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800",onClick:()=>window.location.reload(),children:"Reload"})]})}):this.props.children}}const Ene=new $R;hR.createRoot(document.getElementById("root")).render(r.jsx(X.StrictMode,{children:r.jsx(One,{children:r.jsx(LR,{client:Ene,children:r.jsx(Pne,{})})})}));
