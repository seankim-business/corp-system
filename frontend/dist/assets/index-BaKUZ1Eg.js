var Z8=Object.defineProperty;var fN=e=>{throw TypeError(e)};var eR=(e,t,n)=>t in e?Z8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var md=(e,t,n)=>eR(e,typeof t!="symbol"?t+"":t,n),Lp=(e,t,n)=>t.has(e)||fN("Cannot "+n);var Q=(e,t,n)=>(Lp(e,t,"read from private field"),n?n.call(e):t.get(e)),Pe=(e,t,n)=>t.has(e)?fN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ye=(e,t,n,a)=>(Lp(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n),qe=(e,t,n)=>(Lp(e,t,"access private method"),n);var pd=(e,t,n,a)=>({set _(s){ye(e,t,s,n)},get _(){return Q(e,t,a)}});function tR(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ze(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dp={exports:{}},El={},Fp={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mN;function rR(){if(mN)return Ue;mN=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function g(F){return F===null||typeof F!="object"?null:(F=m&&F[m]||F["@@iterator"],typeof F=="function"?F:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function x(F,D,K){this.props=F,this.context=D,this.refs=w,this.updater=K||j}x.prototype.isReactComponent={},x.prototype.setState=function(F,D){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,D,"setState")},x.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function S(){}S.prototype=x.prototype;function O(F,D,K){this.props=F,this.context=D,this.refs=w,this.updater=K||j}var P=O.prototype=new S;P.constructor=O,v(P,x.prototype),P.isPureReactComponent=!0;var N=Array.isArray,C=Object.prototype.hasOwnProperty,A={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function M(F,D,K){var te,de={},xe=null,ie=null;if(D!=null)for(te in D.ref!==void 0&&(ie=D.ref),D.key!==void 0&&(xe=""+D.key),D)C.call(D,te)&&!E.hasOwnProperty(te)&&(de[te]=D[te]);var ee=arguments.length-2;if(ee===1)de.children=K;else if(1<ee){for(var oe=Array(ee),ke=0;ke<ee;ke++)oe[ke]=arguments[ke+2];de.children=oe}if(F&&F.defaultProps)for(te in ee=F.defaultProps,ee)de[te]===void 0&&(de[te]=ee[te]);return{$$typeof:e,type:F,key:xe,ref:ie,props:de,_owner:A.current}}function R(F,D){return{$$typeof:e,type:F.type,key:D,ref:F.ref,props:F.props,_owner:F._owner}}function I(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function T(F){var D={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(K){return D[K]})}var $=/\/+/g;function W(F,D){return typeof F=="object"&&F!==null&&F.key!=null?T(""+F.key):D.toString(36)}function X(F,D,K,te,de){var xe=typeof F;(xe==="undefined"||xe==="boolean")&&(F=null);var ie=!1;if(F===null)ie=!0;else switch(xe){case"string":case"number":ie=!0;break;case"object":switch(F.$$typeof){case e:case t:ie=!0}}if(ie)return ie=F,de=de(ie),F=te===""?"."+W(ie,0):te,N(de)?(K="",F!=null&&(K=F.replace($,"$&/")+"/"),X(de,D,K,"",function(ke){return ke})):de!=null&&(I(de)&&(de=R(de,K+(!de.key||ie&&ie.key===de.key?"":(""+de.key).replace($,"$&/")+"/")+F)),D.push(de)),1;if(ie=0,te=te===""?".":te+":",N(F))for(var ee=0;ee<F.length;ee++){xe=F[ee];var oe=te+W(xe,ee);ie+=X(xe,D,K,oe,de)}else if(oe=g(F),typeof oe=="function")for(F=oe.call(F),ee=0;!(xe=F.next()).done;)xe=xe.value,oe=te+W(xe,ee++),ie+=X(xe,D,K,oe,de);else if(xe==="object")throw D=String(F),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return ie}function B(F,D,K){if(F==null)return F;var te=[],de=0;return X(F,te,"","",function(xe){return D.call(K,xe,de++)}),te}function q(F){if(F._status===-1){var D=F._result;D=D(),D.then(function(K){(F._status===0||F._status===-1)&&(F._status=1,F._result=K)},function(K){(F._status===0||F._status===-1)&&(F._status=2,F._result=K)}),F._status===-1&&(F._status=0,F._result=D)}if(F._status===1)return F._result.default;throw F._result}var U={current:null},G={transition:null},Y={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:G,ReactCurrentOwner:A};function z(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:B,forEach:function(F,D,K){B(F,function(){D.apply(this,arguments)},K)},count:function(F){var D=0;return B(F,function(){D++}),D},toArray:function(F){return B(F,function(D){return D})||[]},only:function(F){if(!I(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ue.Component=x,Ue.Fragment=n,Ue.Profiler=s,Ue.PureComponent=O,Ue.StrictMode=a,Ue.Suspense=d,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Ue.act=z,Ue.cloneElement=function(F,D,K){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var te=v({},F.props),de=F.key,xe=F.ref,ie=F._owner;if(D!=null){if(D.ref!==void 0&&(xe=D.ref,ie=A.current),D.key!==void 0&&(de=""+D.key),F.type&&F.type.defaultProps)var ee=F.type.defaultProps;for(oe in D)C.call(D,oe)&&!E.hasOwnProperty(oe)&&(te[oe]=D[oe]===void 0&&ee!==void 0?ee[oe]:D[oe])}var oe=arguments.length-2;if(oe===1)te.children=K;else if(1<oe){ee=Array(oe);for(var ke=0;ke<oe;ke++)ee[ke]=arguments[ke+2];te.children=ee}return{$$typeof:e,type:F.type,key:de,ref:xe,props:te,_owner:ie}},Ue.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:i,_context:F},F.Consumer=F},Ue.createElement=M,Ue.createFactory=function(F){var D=M.bind(null,F);return D.type=F,D},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(F){return{$$typeof:u,render:F}},Ue.isValidElement=I,Ue.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:q}},Ue.memo=function(F,D){return{$$typeof:h,type:F,compare:D===void 0?null:D}},Ue.startTransition=function(F){var D=G.transition;G.transition={};try{F()}finally{G.transition=D}},Ue.unstable_act=z,Ue.useCallback=function(F,D){return U.current.useCallback(F,D)},Ue.useContext=function(F){return U.current.useContext(F)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(F){return U.current.useDeferredValue(F)},Ue.useEffect=function(F,D){return U.current.useEffect(F,D)},Ue.useId=function(){return U.current.useId()},Ue.useImperativeHandle=function(F,D,K){return U.current.useImperativeHandle(F,D,K)},Ue.useInsertionEffect=function(F,D){return U.current.useInsertionEffect(F,D)},Ue.useLayoutEffect=function(F,D){return U.current.useLayoutEffect(F,D)},Ue.useMemo=function(F,D){return U.current.useMemo(F,D)},Ue.useReducer=function(F,D,K){return U.current.useReducer(F,D,K)},Ue.useRef=function(F){return U.current.useRef(F)},Ue.useState=function(F){return U.current.useState(F)},Ue.useSyncExternalStore=function(F,D,K){return U.current.useSyncExternalStore(F,D,K)},Ue.useTransition=function(){return U.current.useTransition()},Ue.version="18.3.1",Ue}var pN;function Jb(){return pN||(pN=1,Fp.exports=rR()),Fp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xN;function nR(){if(xN)return El;xN=1;var e=Jb(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,h){var p,m={},g=null,j=null;h!==void 0&&(g=""+h),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(j=d.ref);for(p in d)a.call(d,p)&&!i.hasOwnProperty(p)&&(m[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:t,type:u,key:g,ref:j,props:m,_owner:s.current}}return El.Fragment=n,El.jsx=l,El.jsxs=l,El}var gN;function aR(){return gN||(gN=1,Dp.exports=nR()),Dp.exports}var r=aR(),b=Jb();const V=Ze(b),sR=tR({__proto__:null,default:V},[b]);var gd={},zp={exports:{}},gr={},Bp={exports:{}},qp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yN;function iR(){return yN||(yN=1,(function(e){function t(G,Y){var z=G.length;G.push(Y);e:for(;0<z;){var F=z-1>>>1,D=G[F];if(0<s(D,Y))G[F]=Y,G[z]=D,z=F;else break e}}function n(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var Y=G[0],z=G.pop();if(z!==Y){G[0]=z;e:for(var F=0,D=G.length,K=D>>>1;F<K;){var te=2*(F+1)-1,de=G[te],xe=te+1,ie=G[xe];if(0>s(de,z))xe<D&&0>s(ie,de)?(G[F]=ie,G[xe]=z,F=xe):(G[F]=de,G[te]=z,F=te);else if(xe<D&&0>s(ie,z))G[F]=ie,G[xe]=z,F=xe;else break e}}return Y}function s(G,Y){var z=G.sortIndex-Y.sortIndex;return z!==0?z:G.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],h=[],p=1,m=null,g=3,j=!1,v=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(G){for(var Y=n(h);Y!==null;){if(Y.callback===null)a(h);else if(Y.startTime<=G)a(h),Y.sortIndex=Y.expirationTime,t(d,Y);else break;Y=n(h)}}function N(G){if(w=!1,P(G),!v)if(n(d)!==null)v=!0,q(C);else{var Y=n(h);Y!==null&&U(N,Y.startTime-G)}}function C(G,Y){v=!1,w&&(w=!1,S(M),M=-1),j=!0;var z=g;try{for(P(Y),m=n(d);m!==null&&(!(m.expirationTime>Y)||G&&!T());){var F=m.callback;if(typeof F=="function"){m.callback=null,g=m.priorityLevel;var D=F(m.expirationTime<=Y);Y=e.unstable_now(),typeof D=="function"?m.callback=D:m===n(d)&&a(d),P(Y)}else a(d);m=n(d)}if(m!==null)var K=!0;else{var te=n(h);te!==null&&U(N,te.startTime-Y),K=!1}return K}finally{m=null,g=z,j=!1}}var A=!1,E=null,M=-1,R=5,I=-1;function T(){return!(e.unstable_now()-I<R)}function $(){if(E!==null){var G=e.unstable_now();I=G;var Y=!0;try{Y=E(!0,G)}finally{Y?W():(A=!1,E=null)}}else A=!1}var W;if(typeof O=="function")W=function(){O($)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,B=X.port2;X.port1.onmessage=$,W=function(){B.postMessage(null)}}else W=function(){x($,0)};function q(G){E=G,A||(A=!0,W())}function U(G,Y){M=x(function(){G(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){v||j||(v=!0,q(C))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(G){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var z=g;g=Y;try{return G()}finally{g=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var z=g;g=G;try{return Y()}finally{g=z}},e.unstable_scheduleCallback=function(G,Y,z){var F=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?F+z:F):z=F,G){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=z+D,G={id:p++,callback:Y,priorityLevel:G,startTime:z,expirationTime:D,sortIndex:-1},z>F?(G.sortIndex=z,t(h,G),n(d)===null&&G===n(h)&&(w?(S(M),M=-1):w=!0,U(N,z-F))):(G.sortIndex=D,t(d,G),v||j||(v=!0,q(C))),G},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(G){var Y=g;return function(){var z=g;g=Y;try{return G.apply(this,arguments)}finally{g=z}}}})(qp)),qp}var vN;function oR(){return vN||(vN=1,Bp.exports=iR()),Bp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bN;function lR(){if(bN)return gr;bN=1;var e=Jb(),t=oR();function n(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function i(o,c){l(o,c),l(o+"Capture",c)}function l(o,c){for(s[o]=c,o=0;o<c.length;o++)a.add(c[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function g(o){return d.call(m,o)?!0:d.call(p,o)?!1:h.test(o)?m[o]=!0:(p[o]=!0,!1)}function j(o,c,f,y){if(f!==null&&f.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return y?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function v(o,c,f,y){if(c===null||typeof c>"u"||j(o,c,f,y))return!0;if(y)return!1;if(f!==null)switch(f.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(o,c,f,y,k,_,L){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=y,this.attributeNamespace=k,this.mustUseProperty=f,this.propertyName=o,this.type=c,this.sanitizeURL=_,this.removeEmptyString=L}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){x[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];x[c]=new w(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){x[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){x[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){x[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){x[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){x[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){x[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){x[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function O(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(S,O);x[c]=new w(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(S,O);x[c]=new w(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(S,O);x[c]=new w(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){x[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),x.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){x[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function P(o,c,f,y){var k=x.hasOwnProperty(c)?x[c]:null;(k!==null?k.type!==0:y||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(v(c,f,k,y)&&(f=null),y||k===null?g(c)&&(f===null?o.removeAttribute(c):o.setAttribute(c,""+f)):k.mustUseProperty?o[k.propertyName]=f===null?k.type===3?!1:"":f:(c=k.attributeName,y=k.attributeNamespace,f===null?o.removeAttribute(c):(k=k.type,f=k===3||k===4&&f===!0?"":""+f,y?o.setAttributeNS(y,c,f):o.setAttribute(c,f))))}var N=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),A=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),G=Symbol.iterator;function Y(o){return o===null||typeof o!="object"?null:(o=G&&o[G]||o["@@iterator"],typeof o=="function"?o:null)}var z=Object.assign,F;function D(o){if(F===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);F=c&&c[1]||""}return`
`+F+o}var K=!1;function te(o,c){if(!o||K)return"";K=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(se){var y=se}Reflect.construct(o,[],c)}else{try{c.call()}catch(se){y=se}o.call(c.prototype)}else{try{throw Error()}catch(se){y=se}o()}}catch(se){if(se&&y&&typeof se.stack=="string"){for(var k=se.stack.split(`
`),_=y.stack.split(`
`),L=k.length-1,H=_.length-1;1<=L&&0<=H&&k[L]!==_[H];)H--;for(;1<=L&&0<=H;L--,H--)if(k[L]!==_[H]){if(L!==1||H!==1)do if(L--,H--,0>H||k[L]!==_[H]){var J=`
`+k[L].replace(" at new "," at ");return o.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",o.displayName)),J}while(1<=L&&0<=H);break}}}finally{K=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?D(o):""}function de(o){switch(o.tag){case 5:return D(o.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return o=te(o.type,!1),o;case 11:return o=te(o.type.render,!1),o;case 1:return o=te(o.type,!0),o;default:return""}}function xe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case A:return"Portal";case R:return"Profiler";case M:return"StrictMode";case W:return"Suspense";case X:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case T:return(o.displayName||"Context")+".Consumer";case I:return(o._context.displayName||"Context")+".Provider";case $:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case B:return c=o.displayName||null,c!==null?c:xe(o.type)||"Memo";case q:c=o._payload,o=o._init;try{return xe(o(c))}catch{}}return null}function ie(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(c);case 8:return c===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function ee(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function oe(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ke(o){var c=oe(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),y=""+o[c];if(!o.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var k=f.get,_=f.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return k.call(this)},set:function(L){y=""+L,_.call(this,L)}}),Object.defineProperty(o,c,{enumerable:f.enumerable}),{getValue:function(){return y},setValue:function(L){y=""+L},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function $e(o){o._valueTracker||(o._valueTracker=ke(o))}function re(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),y="";return o&&(y=oe(o)?o.checked?"true":"false":o.value),o=y,o!==f?(c.setValue(o),!0):!1}function be(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function je(o,c){var f=c.checked;return z({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function tt(o,c){var f=c.defaultValue==null?"":c.defaultValue,y=c.checked!=null?c.checked:c.defaultChecked;f=ee(c.value!=null?c.value:f),o._wrapperState={initialChecked:y,initialValue:f,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function gt(o,c){c=c.checked,c!=null&&P(o,"checked",c,!1)}function Ft(o,c){gt(o,c);var f=ee(c.value),y=c.type;if(f!=null)y==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?yn(o,c.type,f):c.hasOwnProperty("defaultValue")&&yn(o,c.type,ee(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function Zr(o,c,f){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var y=c.type;if(!(y!=="submit"&&y!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,f||c===o.value||(o.value=c),o.defaultValue=c}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function yn(o,c,f){(c!=="number"||be(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var vn=Array.isArray;function dr(o,c,f,y){if(o=o.options,c){c={};for(var k=0;k<f.length;k++)c["$"+f[k]]=!0;for(f=0;f<o.length;f++)k=c.hasOwnProperty("$"+o[f].value),o[f].selected!==k&&(o[f].selected=k),k&&y&&(o[f].defaultSelected=!0)}else{for(f=""+ee(f),c=null,k=0;k<o.length;k++){if(o[k].value===f){o[k].selected=!0,y&&(o[k].defaultSelected=!0);return}c!==null||o[k].disabled||(c=o[k])}c!==null&&(c.selected=!0)}}function en(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return z({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function ai(o,c){var f=c.value;if(f==null){if(f=c.children,c=c.defaultValue,f!=null){if(c!=null)throw Error(n(92));if(vn(f)){if(1<f.length)throw Error(n(93));f=f[0]}c=f}c==null&&(c=""),f=c}o._wrapperState={initialValue:ee(f)}}function Wo(o,c){var f=ee(c.value),y=ee(c.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),c.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),y!=null&&(o.defaultValue=""+y)}function Ho(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function Cw(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vf(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?Cw(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var iu,Aw=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,f,y,k){MSApp.execUnsafeLocalFunction(function(){return o(c,f,y,k)})}:o})(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(iu=iu||document.createElement("div"),iu.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=iu.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function Ko(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var Go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nT=["Webkit","ms","Moz","O"];Object.keys(Go).forEach(function(o){nT.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),Go[c]=Go[o]})});function Pw(o,c,f){return c==null||typeof c=="boolean"||c===""?"":f||typeof c!="number"||c===0||Go.hasOwnProperty(o)&&Go[o]?(""+c).trim():c+"px"}function Ow(o,c){o=o.style;for(var f in c)if(c.hasOwnProperty(f)){var y=f.indexOf("--")===0,k=Pw(f,c[f],y);f==="float"&&(f="cssFloat"),y?o.setProperty(f,k):o[f]=k}}var aT=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qf(o,c){if(c){if(aT[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function Yf(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xf=null;function Jf(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Zf=null,si=null,ii=null;function Ew(o){if(o=pl(o)){if(typeof Zf!="function")throw Error(n(280));var c=o.stateNode;c&&(c=Ou(c),Zf(o.stateNode,o.type,c))}}function _w(o){si?ii?ii.push(o):ii=[o]:si=o}function Tw(){if(si){var o=si,c=ii;if(ii=si=null,Ew(o),c)for(o=0;o<c.length;o++)Ew(c[o])}}function Rw(o,c){return o(c)}function Mw(){}var em=!1;function Iw(o,c,f){if(em)return o(c,f);em=!0;try{return Rw(o,c,f)}finally{em=!1,(si!==null||ii!==null)&&(Mw(),Tw())}}function Vo(o,c){var f=o.stateNode;if(f===null)return null;var y=Ou(f);if(y===null)return null;f=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(n(231,c,typeof f));return f}var tm=!1;if(u)try{var Qo={};Object.defineProperty(Qo,"passive",{get:function(){tm=!0}}),window.addEventListener("test",Qo,Qo),window.removeEventListener("test",Qo,Qo)}catch{tm=!1}function sT(o,c,f,y,k,_,L,H,J){var se=Array.prototype.slice.call(arguments,3);try{c.apply(f,se)}catch(fe){this.onError(fe)}}var Yo=!1,ou=null,lu=!1,rm=null,iT={onError:function(o){Yo=!0,ou=o}};function oT(o,c,f,y,k,_,L,H,J){Yo=!1,ou=null,sT.apply(iT,arguments)}function lT(o,c,f,y,k,_,L,H,J){if(oT.apply(this,arguments),Yo){if(Yo){var se=ou;Yo=!1,ou=null}else throw Error(n(198));lu||(lu=!0,rm=se)}}function as(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function $w(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function Lw(o){if(as(o)!==o)throw Error(n(188))}function cT(o){var c=o.alternate;if(!c){if(c=as(o),c===null)throw Error(n(188));return c!==o?null:o}for(var f=o,y=c;;){var k=f.return;if(k===null)break;var _=k.alternate;if(_===null){if(y=k.return,y!==null){f=y;continue}break}if(k.child===_.child){for(_=k.child;_;){if(_===f)return Lw(k),o;if(_===y)return Lw(k),c;_=_.sibling}throw Error(n(188))}if(f.return!==y.return)f=k,y=_;else{for(var L=!1,H=k.child;H;){if(H===f){L=!0,f=k,y=_;break}if(H===y){L=!0,y=k,f=_;break}H=H.sibling}if(!L){for(H=_.child;H;){if(H===f){L=!0,f=_,y=k;break}if(H===y){L=!0,y=_,f=k;break}H=H.sibling}if(!L)throw Error(n(189))}}if(f.alternate!==y)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?o:c}function Dw(o){return o=cT(o),o!==null?Fw(o):null}function Fw(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=Fw(o);if(c!==null)return c;o=o.sibling}return null}var zw=t.unstable_scheduleCallback,Bw=t.unstable_cancelCallback,uT=t.unstable_shouldYield,dT=t.unstable_requestPaint,Nt=t.unstable_now,hT=t.unstable_getCurrentPriorityLevel,nm=t.unstable_ImmediatePriority,qw=t.unstable_UserBlockingPriority,cu=t.unstable_NormalPriority,fT=t.unstable_LowPriority,Uw=t.unstable_IdlePriority,uu=null,bn=null;function mT(o){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(uu,o,void 0,(o.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:gT,pT=Math.log,xT=Math.LN2;function gT(o){return o>>>=0,o===0?32:31-(pT(o)/xT|0)|0}var du=64,hu=4194304;function Xo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function fu(o,c){var f=o.pendingLanes;if(f===0)return 0;var y=0,k=o.suspendedLanes,_=o.pingedLanes,L=f&268435455;if(L!==0){var H=L&~k;H!==0?y=Xo(H):(_&=L,_!==0&&(y=Xo(_)))}else L=f&~k,L!==0?y=Xo(L):_!==0&&(y=Xo(_));if(y===0)return 0;if(c!==0&&c!==y&&(c&k)===0&&(k=y&-y,_=c&-c,k>=_||k===16&&(_&4194240)!==0))return c;if((y&4)!==0&&(y|=f&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=y;0<c;)f=31-tn(c),k=1<<f,y|=o[f],c&=~k;return y}function yT(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vT(o,c){for(var f=o.suspendedLanes,y=o.pingedLanes,k=o.expirationTimes,_=o.pendingLanes;0<_;){var L=31-tn(_),H=1<<L,J=k[L];J===-1?((H&f)===0||(H&y)!==0)&&(k[L]=yT(H,c)):J<=c&&(o.expiredLanes|=H),_&=~H}}function am(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Ww(){var o=du;return du<<=1,(du&4194240)===0&&(du=64),o}function sm(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function Jo(o,c,f){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-tn(c),o[c]=f}function bT(o,c){var f=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<f;){var k=31-tn(f),_=1<<k;c[k]=0,y[k]=-1,o[k]=-1,f&=~_}}function im(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var y=31-tn(f),k=1<<y;k&c|o[y]&c&&(o[y]|=c),f&=~k}}var et=0;function Hw(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Kw,om,Gw,Vw,Qw,lm=!1,mu=[],fa=null,ma=null,pa=null,Zo=new Map,el=new Map,xa=[],jT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yw(o,c){switch(o){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":Zo.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":el.delete(c.pointerId)}}function tl(o,c,f,y,k,_){return o===null||o.nativeEvent!==_?(o={blockedOn:c,domEventName:f,eventSystemFlags:y,nativeEvent:_,targetContainers:[k]},c!==null&&(c=pl(c),c!==null&&om(c)),o):(o.eventSystemFlags|=y,c=o.targetContainers,k!==null&&c.indexOf(k)===-1&&c.push(k),o)}function wT(o,c,f,y,k){switch(c){case"focusin":return fa=tl(fa,o,c,f,y,k),!0;case"dragenter":return ma=tl(ma,o,c,f,y,k),!0;case"mouseover":return pa=tl(pa,o,c,f,y,k),!0;case"pointerover":var _=k.pointerId;return Zo.set(_,tl(Zo.get(_)||null,o,c,f,y,k)),!0;case"gotpointercapture":return _=k.pointerId,el.set(_,tl(el.get(_)||null,o,c,f,y,k)),!0}return!1}function Xw(o){var c=ss(o.target);if(c!==null){var f=as(c);if(f!==null){if(c=f.tag,c===13){if(c=$w(f),c!==null){o.blockedOn=c,Qw(o.priority,function(){Gw(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function pu(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=um(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var y=new f.constructor(f.type,f);Xf=y,f.target.dispatchEvent(y),Xf=null}else return c=pl(f),c!==null&&om(c),o.blockedOn=f,!1;c.shift()}return!0}function Jw(o,c,f){pu(o)&&f.delete(c)}function NT(){lm=!1,fa!==null&&pu(fa)&&(fa=null),ma!==null&&pu(ma)&&(ma=null),pa!==null&&pu(pa)&&(pa=null),Zo.forEach(Jw),el.forEach(Jw)}function rl(o,c){o.blockedOn===c&&(o.blockedOn=null,lm||(lm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,NT)))}function nl(o){function c(k){return rl(k,o)}if(0<mu.length){rl(mu[0],o);for(var f=1;f<mu.length;f++){var y=mu[f];y.blockedOn===o&&(y.blockedOn=null)}}for(fa!==null&&rl(fa,o),ma!==null&&rl(ma,o),pa!==null&&rl(pa,o),Zo.forEach(c),el.forEach(c),f=0;f<xa.length;f++)y=xa[f],y.blockedOn===o&&(y.blockedOn=null);for(;0<xa.length&&(f=xa[0],f.blockedOn===null);)Xw(f),f.blockedOn===null&&xa.shift()}var oi=N.ReactCurrentBatchConfig,xu=!0;function ST(o,c,f,y){var k=et,_=oi.transition;oi.transition=null;try{et=1,cm(o,c,f,y)}finally{et=k,oi.transition=_}}function kT(o,c,f,y){var k=et,_=oi.transition;oi.transition=null;try{et=4,cm(o,c,f,y)}finally{et=k,oi.transition=_}}function cm(o,c,f,y){if(xu){var k=um(o,c,f,y);if(k===null)Am(o,c,y,gu,f),Yw(o,y);else if(wT(k,o,c,f,y))y.stopPropagation();else if(Yw(o,y),c&4&&-1<jT.indexOf(o)){for(;k!==null;){var _=pl(k);if(_!==null&&Kw(_),_=um(o,c,f,y),_===null&&Am(o,c,y,gu,f),_===k)break;k=_}k!==null&&y.stopPropagation()}else Am(o,c,y,null,f)}}var gu=null;function um(o,c,f,y){if(gu=null,o=Jf(y),o=ss(o),o!==null)if(c=as(o),c===null)o=null;else if(f=c.tag,f===13){if(o=$w(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return gu=o,null}function Zw(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hT()){case nm:return 1;case qw:return 4;case cu:case fT:return 16;case Uw:return 536870912;default:return 16}default:return 16}}var ga=null,dm=null,yu=null;function e1(){if(yu)return yu;var o,c=dm,f=c.length,y,k="value"in ga?ga.value:ga.textContent,_=k.length;for(o=0;o<f&&c[o]===k[o];o++);var L=f-o;for(y=1;y<=L&&c[f-y]===k[_-y];y++);return yu=k.slice(o,1<y?1-y:void 0)}function vu(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function bu(){return!0}function t1(){return!1}function Sr(o){function c(f,y,k,_,L){this._reactName=f,this._targetInst=k,this.type=y,this.nativeEvent=_,this.target=L,this.currentTarget=null;for(var H in o)o.hasOwnProperty(H)&&(f=o[H],this[H]=f?f(_):_[H]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?bu:t1,this.isPropagationStopped=t1,this}return z(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=bu)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=bu)},persist:function(){},isPersistent:bu}),c}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hm=Sr(li),al=z({},li,{view:0,detail:0}),CT=Sr(al),fm,mm,sl,ju=z({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xm,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==sl&&(sl&&o.type==="mousemove"?(fm=o.screenX-sl.screenX,mm=o.screenY-sl.screenY):mm=fm=0,sl=o),fm)},movementY:function(o){return"movementY"in o?o.movementY:mm}}),r1=Sr(ju),AT=z({},ju,{dataTransfer:0}),PT=Sr(AT),OT=z({},al,{relatedTarget:0}),pm=Sr(OT),ET=z({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),_T=Sr(ET),TT=z({},li,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),RT=Sr(TT),MT=z({},li,{data:0}),n1=Sr(MT),IT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$T={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DT(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=LT[o])?!!c[o]:!1}function xm(){return DT}var FT=z({},al,{key:function(o){if(o.key){var c=IT[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=vu(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?$T[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xm,charCode:function(o){return o.type==="keypress"?vu(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?vu(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),zT=Sr(FT),BT=z({},ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a1=Sr(BT),qT=z({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xm}),UT=Sr(qT),WT=z({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),HT=Sr(WT),KT=z({},ju,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),GT=Sr(KT),VT=[9,13,27,32],gm=u&&"CompositionEvent"in window,il=null;u&&"documentMode"in document&&(il=document.documentMode);var QT=u&&"TextEvent"in window&&!il,s1=u&&(!gm||il&&8<il&&11>=il),i1=" ",o1=!1;function l1(o,c){switch(o){case"keyup":return VT.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c1(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ci=!1;function YT(o,c){switch(o){case"compositionend":return c1(c);case"keypress":return c.which!==32?null:(o1=!0,i1);case"textInput":return o=c.data,o===i1&&o1?null:o;default:return null}}function XT(o,c){if(ci)return o==="compositionend"||!gm&&l1(o,c)?(o=e1(),yu=dm=ga=null,ci=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return s1&&c.locale!=="ko"?null:c.data;default:return null}}var JT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u1(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!JT[o.type]:c==="textarea"}function d1(o,c,f,y){_w(y),c=Cu(c,"onChange"),0<c.length&&(f=new hm("onChange","change",null,f,y),o.push({event:f,listeners:c}))}var ol=null,ll=null;function ZT(o){O1(o,0)}function wu(o){var c=mi(o);if(re(c))return o}function e8(o,c){if(o==="change")return c}var h1=!1;if(u){var ym;if(u){var vm="oninput"in document;if(!vm){var f1=document.createElement("div");f1.setAttribute("oninput","return;"),vm=typeof f1.oninput=="function"}ym=vm}else ym=!1;h1=ym&&(!document.documentMode||9<document.documentMode)}function m1(){ol&&(ol.detachEvent("onpropertychange",p1),ll=ol=null)}function p1(o){if(o.propertyName==="value"&&wu(ll)){var c=[];d1(c,ll,o,Jf(o)),Iw(ZT,c)}}function t8(o,c,f){o==="focusin"?(m1(),ol=c,ll=f,ol.attachEvent("onpropertychange",p1)):o==="focusout"&&m1()}function r8(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return wu(ll)}function n8(o,c){if(o==="click")return wu(c)}function a8(o,c){if(o==="input"||o==="change")return wu(c)}function s8(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var rn=typeof Object.is=="function"?Object.is:s8;function cl(o,c){if(rn(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),y=Object.keys(c);if(f.length!==y.length)return!1;for(y=0;y<f.length;y++){var k=f[y];if(!d.call(c,k)||!rn(o[k],c[k]))return!1}return!0}function x1(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function g1(o,c){var f=x1(o);o=0;for(var y;f;){if(f.nodeType===3){if(y=o+f.textContent.length,o<=c&&y>=c)return{node:f,offset:c-o};o=y}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=x1(f)}}function y1(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?y1(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function v1(){for(var o=window,c=be();c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)o=c.contentWindow;else break;c=be(o.document)}return c}function bm(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function i8(o){var c=v1(),f=o.focusedElem,y=o.selectionRange;if(c!==f&&f&&f.ownerDocument&&y1(f.ownerDocument.documentElement,f)){if(y!==null&&bm(f)){if(c=y.start,o=y.end,o===void 0&&(o=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(o,f.value.length);else if(o=(c=f.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var k=f.textContent.length,_=Math.min(y.start,k);y=y.end===void 0?_:Math.min(y.end,k),!o.extend&&_>y&&(k=y,y=_,_=k),k=g1(f,_);var L=g1(f,y);k&&L&&(o.rangeCount!==1||o.anchorNode!==k.node||o.anchorOffset!==k.offset||o.focusNode!==L.node||o.focusOffset!==L.offset)&&(c=c.createRange(),c.setStart(k.node,k.offset),o.removeAllRanges(),_>y?(o.addRange(c),o.extend(L.node,L.offset)):(c.setEnd(L.node,L.offset),o.addRange(c)))}}for(c=[],o=f;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)o=c[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var o8=u&&"documentMode"in document&&11>=document.documentMode,ui=null,jm=null,ul=null,wm=!1;function b1(o,c,f){var y=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;wm||ui==null||ui!==be(y)||(y=ui,"selectionStart"in y&&bm(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),ul&&cl(ul,y)||(ul=y,y=Cu(jm,"onSelect"),0<y.length&&(c=new hm("onSelect","select",null,c,f),o.push({event:c,listeners:y}),c.target=ui)))}function Nu(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var di={animationend:Nu("Animation","AnimationEnd"),animationiteration:Nu("Animation","AnimationIteration"),animationstart:Nu("Animation","AnimationStart"),transitionend:Nu("Transition","TransitionEnd")},Nm={},j1={};u&&(j1=document.createElement("div").style,"AnimationEvent"in window||(delete di.animationend.animation,delete di.animationiteration.animation,delete di.animationstart.animation),"TransitionEvent"in window||delete di.transitionend.transition);function Su(o){if(Nm[o])return Nm[o];if(!di[o])return o;var c=di[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in j1)return Nm[o]=c[f];return o}var w1=Su("animationend"),N1=Su("animationiteration"),S1=Su("animationstart"),k1=Su("transitionend"),C1=new Map,A1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ya(o,c){C1.set(o,c),i(c,[o])}for(var Sm=0;Sm<A1.length;Sm++){var km=A1[Sm],l8=km.toLowerCase(),c8=km[0].toUpperCase()+km.slice(1);ya(l8,"on"+c8)}ya(w1,"onAnimationEnd"),ya(N1,"onAnimationIteration"),ya(S1,"onAnimationStart"),ya("dblclick","onDoubleClick"),ya("focusin","onFocus"),ya("focusout","onBlur"),ya(k1,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u8=new Set("cancel close invalid load scroll toggle".split(" ").concat(dl));function P1(o,c,f){var y=o.type||"unknown-event";o.currentTarget=f,lT(y,c,void 0,o),o.currentTarget=null}function O1(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var y=o[f],k=y.event;y=y.listeners;e:{var _=void 0;if(c)for(var L=y.length-1;0<=L;L--){var H=y[L],J=H.instance,se=H.currentTarget;if(H=H.listener,J!==_&&k.isPropagationStopped())break e;P1(k,H,se),_=J}else for(L=0;L<y.length;L++){if(H=y[L],J=H.instance,se=H.currentTarget,H=H.listener,J!==_&&k.isPropagationStopped())break e;P1(k,H,se),_=J}}}if(lu)throw o=rm,lu=!1,rm=null,o}function lt(o,c){var f=c[Rm];f===void 0&&(f=c[Rm]=new Set);var y=o+"__bubble";f.has(y)||(E1(c,o,2,!1),f.add(y))}function Cm(o,c,f){var y=0;c&&(y|=4),E1(f,o,y,c)}var ku="_reactListening"+Math.random().toString(36).slice(2);function hl(o){if(!o[ku]){o[ku]=!0,a.forEach(function(f){f!=="selectionchange"&&(u8.has(f)||Cm(f,!1,o),Cm(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[ku]||(c[ku]=!0,Cm("selectionchange",!1,c))}}function E1(o,c,f,y){switch(Zw(c)){case 1:var k=ST;break;case 4:k=kT;break;default:k=cm}f=k.bind(null,c,f,o),k=void 0,!tm||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(k=!0),y?k!==void 0?o.addEventListener(c,f,{capture:!0,passive:k}):o.addEventListener(c,f,!0):k!==void 0?o.addEventListener(c,f,{passive:k}):o.addEventListener(c,f,!1)}function Am(o,c,f,y,k){var _=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var L=y.tag;if(L===3||L===4){var H=y.stateNode.containerInfo;if(H===k||H.nodeType===8&&H.parentNode===k)break;if(L===4)for(L=y.return;L!==null;){var J=L.tag;if((J===3||J===4)&&(J=L.stateNode.containerInfo,J===k||J.nodeType===8&&J.parentNode===k))return;L=L.return}for(;H!==null;){if(L=ss(H),L===null)return;if(J=L.tag,J===5||J===6){y=_=L;continue e}H=H.parentNode}}y=y.return}Iw(function(){var se=_,fe=Jf(f),me=[];e:{var he=C1.get(o);if(he!==void 0){var ve=hm,Se=o;switch(o){case"keypress":if(vu(f)===0)break e;case"keydown":case"keyup":ve=zT;break;case"focusin":Se="focus",ve=pm;break;case"focusout":Se="blur",ve=pm;break;case"beforeblur":case"afterblur":ve=pm;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=r1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=PT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=UT;break;case w1:case N1:case S1:ve=_T;break;case k1:ve=HT;break;case"scroll":ve=CT;break;case"wheel":ve=GT;break;case"copy":case"cut":case"paste":ve=RT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=a1}var Ce=(c&4)!==0,St=!Ce&&o==="scroll",ne=Ce?he!==null?he+"Capture":null:he;Ce=[];for(var Z=se,ae;Z!==null;){ae=Z;var pe=ae.stateNode;if(ae.tag===5&&pe!==null&&(ae=pe,ne!==null&&(pe=Vo(Z,ne),pe!=null&&Ce.push(fl(Z,pe,ae)))),St)break;Z=Z.return}0<Ce.length&&(he=new ve(he,Se,null,f,fe),me.push({event:he,listeners:Ce}))}}if((c&7)===0){e:{if(he=o==="mouseover"||o==="pointerover",ve=o==="mouseout"||o==="pointerout",he&&f!==Xf&&(Se=f.relatedTarget||f.fromElement)&&(ss(Se)||Se[$n]))break e;if((ve||he)&&(he=fe.window===fe?fe:(he=fe.ownerDocument)?he.defaultView||he.parentWindow:window,ve?(Se=f.relatedTarget||f.toElement,ve=se,Se=Se?ss(Se):null,Se!==null&&(St=as(Se),Se!==St||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(ve=null,Se=se),ve!==Se)){if(Ce=r1,pe="onMouseLeave",ne="onMouseEnter",Z="mouse",(o==="pointerout"||o==="pointerover")&&(Ce=a1,pe="onPointerLeave",ne="onPointerEnter",Z="pointer"),St=ve==null?he:mi(ve),ae=Se==null?he:mi(Se),he=new Ce(pe,Z+"leave",ve,f,fe),he.target=St,he.relatedTarget=ae,pe=null,ss(fe)===se&&(Ce=new Ce(ne,Z+"enter",Se,f,fe),Ce.target=ae,Ce.relatedTarget=St,pe=Ce),St=pe,ve&&Se)t:{for(Ce=ve,ne=Se,Z=0,ae=Ce;ae;ae=hi(ae))Z++;for(ae=0,pe=ne;pe;pe=hi(pe))ae++;for(;0<Z-ae;)Ce=hi(Ce),Z--;for(;0<ae-Z;)ne=hi(ne),ae--;for(;Z--;){if(Ce===ne||ne!==null&&Ce===ne.alternate)break t;Ce=hi(Ce),ne=hi(ne)}Ce=null}else Ce=null;ve!==null&&_1(me,he,ve,Ce,!1),Se!==null&&St!==null&&_1(me,St,Se,Ce,!0)}}e:{if(he=se?mi(se):window,ve=he.nodeName&&he.nodeName.toLowerCase(),ve==="select"||ve==="input"&&he.type==="file")var Ae=e8;else if(u1(he))if(h1)Ae=a8;else{Ae=r8;var Ee=t8}else(ve=he.nodeName)&&ve.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Ae=n8);if(Ae&&(Ae=Ae(o,se))){d1(me,Ae,f,fe);break e}Ee&&Ee(o,he,se),o==="focusout"&&(Ee=he._wrapperState)&&Ee.controlled&&he.type==="number"&&yn(he,"number",he.value)}switch(Ee=se?mi(se):window,o){case"focusin":(u1(Ee)||Ee.contentEditable==="true")&&(ui=Ee,jm=se,ul=null);break;case"focusout":ul=jm=ui=null;break;case"mousedown":wm=!0;break;case"contextmenu":case"mouseup":case"dragend":wm=!1,b1(me,f,fe);break;case"selectionchange":if(o8)break;case"keydown":case"keyup":b1(me,f,fe)}var _e;if(gm)e:{switch(o){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else ci?l1(o,f)&&(De="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(De="onCompositionStart");De&&(s1&&f.locale!=="ko"&&(ci||De!=="onCompositionStart"?De==="onCompositionEnd"&&ci&&(_e=e1()):(ga=fe,dm="value"in ga?ga.value:ga.textContent,ci=!0)),Ee=Cu(se,De),0<Ee.length&&(De=new n1(De,o,null,f,fe),me.push({event:De,listeners:Ee}),_e?De.data=_e:(_e=c1(f),_e!==null&&(De.data=_e)))),(_e=QT?YT(o,f):XT(o,f))&&(se=Cu(se,"onBeforeInput"),0<se.length&&(fe=new n1("onBeforeInput","beforeinput",null,f,fe),me.push({event:fe,listeners:se}),fe.data=_e))}O1(me,c)})}function fl(o,c,f){return{instance:o,listener:c,currentTarget:f}}function Cu(o,c){for(var f=c+"Capture",y=[];o!==null;){var k=o,_=k.stateNode;k.tag===5&&_!==null&&(k=_,_=Vo(o,f),_!=null&&y.unshift(fl(o,_,k)),_=Vo(o,c),_!=null&&y.push(fl(o,_,k))),o=o.return}return y}function hi(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function _1(o,c,f,y,k){for(var _=c._reactName,L=[];f!==null&&f!==y;){var H=f,J=H.alternate,se=H.stateNode;if(J!==null&&J===y)break;H.tag===5&&se!==null&&(H=se,k?(J=Vo(f,_),J!=null&&L.unshift(fl(f,J,H))):k||(J=Vo(f,_),J!=null&&L.push(fl(f,J,H)))),f=f.return}L.length!==0&&o.push({event:c,listeners:L})}var d8=/\r\n?/g,h8=/\u0000|\uFFFD/g;function T1(o){return(typeof o=="string"?o:""+o).replace(d8,`
`).replace(h8,"")}function Au(o,c,f){if(c=T1(c),T1(o)!==c&&f)throw Error(n(425))}function Pu(){}var Pm=null,Om=null;function Em(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var _m=typeof setTimeout=="function"?setTimeout:void 0,f8=typeof clearTimeout=="function"?clearTimeout:void 0,R1=typeof Promise=="function"?Promise:void 0,m8=typeof queueMicrotask=="function"?queueMicrotask:typeof R1<"u"?function(o){return R1.resolve(null).then(o).catch(p8)}:_m;function p8(o){setTimeout(function(){throw o})}function Tm(o,c){var f=c,y=0;do{var k=f.nextSibling;if(o.removeChild(f),k&&k.nodeType===8)if(f=k.data,f==="/$"){if(y===0){o.removeChild(k),nl(c);return}y--}else f!=="$"&&f!=="$?"&&f!=="$!"||y++;f=k}while(f);nl(c)}function va(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function M1(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return o;c--}else f==="/$"&&c++}o=o.previousSibling}return null}var fi=Math.random().toString(36).slice(2),jn="__reactFiber$"+fi,ml="__reactProps$"+fi,$n="__reactContainer$"+fi,Rm="__reactEvents$"+fi,x8="__reactListeners$"+fi,g8="__reactHandles$"+fi;function ss(o){var c=o[jn];if(c)return c;for(var f=o.parentNode;f;){if(c=f[$n]||f[jn]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=M1(o);o!==null;){if(f=o[jn])return f;o=M1(o)}return c}o=f,f=o.parentNode}return null}function pl(o){return o=o[jn]||o[$n],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function mi(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Ou(o){return o[ml]||null}var Mm=[],pi=-1;function ba(o){return{current:o}}function ct(o){0>pi||(o.current=Mm[pi],Mm[pi]=null,pi--)}function at(o,c){pi++,Mm[pi]=o.current,o.current=c}var ja={},Yt=ba(ja),hr=ba(!1),is=ja;function xi(o,c){var f=o.type.contextTypes;if(!f)return ja;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===c)return y.__reactInternalMemoizedMaskedChildContext;var k={},_;for(_ in f)k[_]=c[_];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=k),k}function fr(o){return o=o.childContextTypes,o!=null}function Eu(){ct(hr),ct(Yt)}function I1(o,c,f){if(Yt.current!==ja)throw Error(n(168));at(Yt,c),at(hr,f)}function $1(o,c,f){var y=o.stateNode;if(c=c.childContextTypes,typeof y.getChildContext!="function")return f;y=y.getChildContext();for(var k in y)if(!(k in c))throw Error(n(108,ie(o)||"Unknown",k));return z({},f,y)}function _u(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ja,is=Yt.current,at(Yt,o),at(hr,hr.current),!0}function L1(o,c,f){var y=o.stateNode;if(!y)throw Error(n(169));f?(o=$1(o,c,is),y.__reactInternalMemoizedMergedChildContext=o,ct(hr),ct(Yt),at(Yt,o)):ct(hr),at(hr,f)}var Ln=null,Tu=!1,Im=!1;function D1(o){Ln===null?Ln=[o]:Ln.push(o)}function y8(o){Tu=!0,D1(o)}function wa(){if(!Im&&Ln!==null){Im=!0;var o=0,c=et;try{var f=Ln;for(et=1;o<f.length;o++){var y=f[o];do y=y(!0);while(y!==null)}Ln=null,Tu=!1}catch(k){throw Ln!==null&&(Ln=Ln.slice(o+1)),zw(nm,wa),k}finally{et=c,Im=!1}}return null}var gi=[],yi=0,Ru=null,Mu=0,$r=[],Lr=0,os=null,Dn=1,Fn="";function ls(o,c){gi[yi++]=Mu,gi[yi++]=Ru,Ru=o,Mu=c}function F1(o,c,f){$r[Lr++]=Dn,$r[Lr++]=Fn,$r[Lr++]=os,os=o;var y=Dn;o=Fn;var k=32-tn(y)-1;y&=~(1<<k),f+=1;var _=32-tn(c)+k;if(30<_){var L=k-k%5;_=(y&(1<<L)-1).toString(32),y>>=L,k-=L,Dn=1<<32-tn(c)+k|f<<k|y,Fn=_+o}else Dn=1<<_|f<<k|y,Fn=o}function $m(o){o.return!==null&&(ls(o,1),F1(o,1,0))}function Lm(o){for(;o===Ru;)Ru=gi[--yi],gi[yi]=null,Mu=gi[--yi],gi[yi]=null;for(;o===os;)os=$r[--Lr],$r[Lr]=null,Fn=$r[--Lr],$r[Lr]=null,Dn=$r[--Lr],$r[Lr]=null}var kr=null,Cr=null,dt=!1,nn=null;function z1(o,c){var f=Br(5,null,null,0);f.elementType="DELETED",f.stateNode=c,f.return=o,c=o.deletions,c===null?(o.deletions=[f],o.flags|=16):c.push(f)}function B1(o,c){switch(o.tag){case 5:var f=o.type;return c=c.nodeType!==1||f.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,kr=o,Cr=va(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,kr=o,Cr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(f=os!==null?{id:Dn,overflow:Fn}:null,o.memoizedState={dehydrated:c,treeContext:f,retryLane:1073741824},f=Br(18,null,null,0),f.stateNode=c,f.return=o,o.child=f,kr=o,Cr=null,!0):!1;default:return!1}}function Dm(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Fm(o){if(dt){var c=Cr;if(c){var f=c;if(!B1(o,c)){if(Dm(o))throw Error(n(418));c=va(f.nextSibling);var y=kr;c&&B1(o,c)?z1(y,f):(o.flags=o.flags&-4097|2,dt=!1,kr=o)}}else{if(Dm(o))throw Error(n(418));o.flags=o.flags&-4097|2,dt=!1,kr=o}}}function q1(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;kr=o}function Iu(o){if(o!==kr)return!1;if(!dt)return q1(o),dt=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!Em(o.type,o.memoizedProps)),c&&(c=Cr)){if(Dm(o))throw U1(),Error(n(418));for(;c;)z1(o,c),c=va(c.nextSibling)}if(q1(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(c===0){Cr=va(o.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++}o=o.nextSibling}Cr=null}}else Cr=kr?va(o.stateNode.nextSibling):null;return!0}function U1(){for(var o=Cr;o;)o=va(o.nextSibling)}function vi(){Cr=kr=null,dt=!1}function zm(o){nn===null?nn=[o]:nn.push(o)}var v8=N.ReactCurrentBatchConfig;function xl(o,c,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(n(309));var y=f.stateNode}if(!y)throw Error(n(147,o));var k=y,_=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===_?c.ref:(c=function(L){var H=k.refs;L===null?delete H[_]:H[_]=L},c._stringRef=_,c)}if(typeof o!="string")throw Error(n(284));if(!f._owner)throw Error(n(290,o))}return o}function $u(o,c){throw o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function W1(o){var c=o._init;return c(o._payload)}function H1(o){function c(ne,Z){if(o){var ae=ne.deletions;ae===null?(ne.deletions=[Z],ne.flags|=16):ae.push(Z)}}function f(ne,Z){if(!o)return null;for(;Z!==null;)c(ne,Z),Z=Z.sibling;return null}function y(ne,Z){for(ne=new Map;Z!==null;)Z.key!==null?ne.set(Z.key,Z):ne.set(Z.index,Z),Z=Z.sibling;return ne}function k(ne,Z){return ne=Ea(ne,Z),ne.index=0,ne.sibling=null,ne}function _(ne,Z,ae){return ne.index=ae,o?(ae=ne.alternate,ae!==null?(ae=ae.index,ae<Z?(ne.flags|=2,Z):ae):(ne.flags|=2,Z)):(ne.flags|=1048576,Z)}function L(ne){return o&&ne.alternate===null&&(ne.flags|=2),ne}function H(ne,Z,ae,pe){return Z===null||Z.tag!==6?(Z=_p(ae,ne.mode,pe),Z.return=ne,Z):(Z=k(Z,ae),Z.return=ne,Z)}function J(ne,Z,ae,pe){var Ae=ae.type;return Ae===E?fe(ne,Z,ae.props.children,pe,ae.key):Z!==null&&(Z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===q&&W1(Ae)===Z.type)?(pe=k(Z,ae.props),pe.ref=xl(ne,Z,ae),pe.return=ne,pe):(pe=id(ae.type,ae.key,ae.props,null,ne.mode,pe),pe.ref=xl(ne,Z,ae),pe.return=ne,pe)}function se(ne,Z,ae,pe){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ae.containerInfo||Z.stateNode.implementation!==ae.implementation?(Z=Tp(ae,ne.mode,pe),Z.return=ne,Z):(Z=k(Z,ae.children||[]),Z.return=ne,Z)}function fe(ne,Z,ae,pe,Ae){return Z===null||Z.tag!==7?(Z=xs(ae,ne.mode,pe,Ae),Z.return=ne,Z):(Z=k(Z,ae),Z.return=ne,Z)}function me(ne,Z,ae){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=_p(""+Z,ne.mode,ae),Z.return=ne,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case C:return ae=id(Z.type,Z.key,Z.props,null,ne.mode,ae),ae.ref=xl(ne,null,Z),ae.return=ne,ae;case A:return Z=Tp(Z,ne.mode,ae),Z.return=ne,Z;case q:var pe=Z._init;return me(ne,pe(Z._payload),ae)}if(vn(Z)||Y(Z))return Z=xs(Z,ne.mode,ae,null),Z.return=ne,Z;$u(ne,Z)}return null}function he(ne,Z,ae,pe){var Ae=Z!==null?Z.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Ae!==null?null:H(ne,Z,""+ae,pe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case C:return ae.key===Ae?J(ne,Z,ae,pe):null;case A:return ae.key===Ae?se(ne,Z,ae,pe):null;case q:return Ae=ae._init,he(ne,Z,Ae(ae._payload),pe)}if(vn(ae)||Y(ae))return Ae!==null?null:fe(ne,Z,ae,pe,null);$u(ne,ae)}return null}function ve(ne,Z,ae,pe,Ae){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return ne=ne.get(ae)||null,H(Z,ne,""+pe,Ae);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case C:return ne=ne.get(pe.key===null?ae:pe.key)||null,J(Z,ne,pe,Ae);case A:return ne=ne.get(pe.key===null?ae:pe.key)||null,se(Z,ne,pe,Ae);case q:var Ee=pe._init;return ve(ne,Z,ae,Ee(pe._payload),Ae)}if(vn(pe)||Y(pe))return ne=ne.get(ae)||null,fe(Z,ne,pe,Ae,null);$u(Z,pe)}return null}function Se(ne,Z,ae,pe){for(var Ae=null,Ee=null,_e=Z,De=Z=0,qt=null;_e!==null&&De<ae.length;De++){_e.index>De?(qt=_e,_e=null):qt=_e.sibling;var Ke=he(ne,_e,ae[De],pe);if(Ke===null){_e===null&&(_e=qt);break}o&&_e&&Ke.alternate===null&&c(ne,_e),Z=_(Ke,Z,De),Ee===null?Ae=Ke:Ee.sibling=Ke,Ee=Ke,_e=qt}if(De===ae.length)return f(ne,_e),dt&&ls(ne,De),Ae;if(_e===null){for(;De<ae.length;De++)_e=me(ne,ae[De],pe),_e!==null&&(Z=_(_e,Z,De),Ee===null?Ae=_e:Ee.sibling=_e,Ee=_e);return dt&&ls(ne,De),Ae}for(_e=y(ne,_e);De<ae.length;De++)qt=ve(_e,ne,De,ae[De],pe),qt!==null&&(o&&qt.alternate!==null&&_e.delete(qt.key===null?De:qt.key),Z=_(qt,Z,De),Ee===null?Ae=qt:Ee.sibling=qt,Ee=qt);return o&&_e.forEach(function(_a){return c(ne,_a)}),dt&&ls(ne,De),Ae}function Ce(ne,Z,ae,pe){var Ae=Y(ae);if(typeof Ae!="function")throw Error(n(150));if(ae=Ae.call(ae),ae==null)throw Error(n(151));for(var Ee=Ae=null,_e=Z,De=Z=0,qt=null,Ke=ae.next();_e!==null&&!Ke.done;De++,Ke=ae.next()){_e.index>De?(qt=_e,_e=null):qt=_e.sibling;var _a=he(ne,_e,Ke.value,pe);if(_a===null){_e===null&&(_e=qt);break}o&&_e&&_a.alternate===null&&c(ne,_e),Z=_(_a,Z,De),Ee===null?Ae=_a:Ee.sibling=_a,Ee=_a,_e=qt}if(Ke.done)return f(ne,_e),dt&&ls(ne,De),Ae;if(_e===null){for(;!Ke.done;De++,Ke=ae.next())Ke=me(ne,Ke.value,pe),Ke!==null&&(Z=_(Ke,Z,De),Ee===null?Ae=Ke:Ee.sibling=Ke,Ee=Ke);return dt&&ls(ne,De),Ae}for(_e=y(ne,_e);!Ke.done;De++,Ke=ae.next())Ke=ve(_e,ne,De,Ke.value,pe),Ke!==null&&(o&&Ke.alternate!==null&&_e.delete(Ke.key===null?De:Ke.key),Z=_(Ke,Z,De),Ee===null?Ae=Ke:Ee.sibling=Ke,Ee=Ke);return o&&_e.forEach(function(J8){return c(ne,J8)}),dt&&ls(ne,De),Ae}function St(ne,Z,ae,pe){if(typeof ae=="object"&&ae!==null&&ae.type===E&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case C:e:{for(var Ae=ae.key,Ee=Z;Ee!==null;){if(Ee.key===Ae){if(Ae=ae.type,Ae===E){if(Ee.tag===7){f(ne,Ee.sibling),Z=k(Ee,ae.props.children),Z.return=ne,ne=Z;break e}}else if(Ee.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===q&&W1(Ae)===Ee.type){f(ne,Ee.sibling),Z=k(Ee,ae.props),Z.ref=xl(ne,Ee,ae),Z.return=ne,ne=Z;break e}f(ne,Ee);break}else c(ne,Ee);Ee=Ee.sibling}ae.type===E?(Z=xs(ae.props.children,ne.mode,pe,ae.key),Z.return=ne,ne=Z):(pe=id(ae.type,ae.key,ae.props,null,ne.mode,pe),pe.ref=xl(ne,Z,ae),pe.return=ne,ne=pe)}return L(ne);case A:e:{for(Ee=ae.key;Z!==null;){if(Z.key===Ee)if(Z.tag===4&&Z.stateNode.containerInfo===ae.containerInfo&&Z.stateNode.implementation===ae.implementation){f(ne,Z.sibling),Z=k(Z,ae.children||[]),Z.return=ne,ne=Z;break e}else{f(ne,Z);break}else c(ne,Z);Z=Z.sibling}Z=Tp(ae,ne.mode,pe),Z.return=ne,ne=Z}return L(ne);case q:return Ee=ae._init,St(ne,Z,Ee(ae._payload),pe)}if(vn(ae))return Se(ne,Z,ae,pe);if(Y(ae))return Ce(ne,Z,ae,pe);$u(ne,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,Z!==null&&Z.tag===6?(f(ne,Z.sibling),Z=k(Z,ae),Z.return=ne,ne=Z):(f(ne,Z),Z=_p(ae,ne.mode,pe),Z.return=ne,ne=Z),L(ne)):f(ne,Z)}return St}var bi=H1(!0),K1=H1(!1),Lu=ba(null),Du=null,ji=null,Bm=null;function qm(){Bm=ji=Du=null}function Um(o){var c=Lu.current;ct(Lu),o._currentValue=c}function Wm(o,c,f){for(;o!==null;){var y=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),o===f)break;o=o.return}}function wi(o,c){Du=o,Bm=ji=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(mr=!0),o.firstContext=null)}function Dr(o){var c=o._currentValue;if(Bm!==o)if(o={context:o,memoizedValue:c,next:null},ji===null){if(Du===null)throw Error(n(308));ji=o,Du.dependencies={lanes:0,firstContext:o}}else ji=ji.next=o;return c}var cs=null;function Hm(o){cs===null?cs=[o]:cs.push(o)}function G1(o,c,f,y){var k=c.interleaved;return k===null?(f.next=f,Hm(c)):(f.next=k.next,k.next=f),c.interleaved=f,zn(o,y)}function zn(o,c){o.lanes|=c;var f=o.alternate;for(f!==null&&(f.lanes|=c),f=o,o=o.return;o!==null;)o.childLanes|=c,f=o.alternate,f!==null&&(f.childLanes|=c),f=o,o=o.return;return f.tag===3?f.stateNode:null}var Na=!1;function Km(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V1(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Bn(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function Sa(o,c,f){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(He&2)!==0){var k=y.pending;return k===null?c.next=c:(c.next=k.next,k.next=c),y.pending=c,zn(o,f)}return k=y.interleaved,k===null?(c.next=c,Hm(y)):(c.next=k.next,k.next=c),y.interleaved=c,zn(o,f)}function Fu(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194240)!==0)){var y=c.lanes;y&=o.pendingLanes,f|=y,c.lanes=f,im(o,f)}}function Q1(o,c){var f=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,f===y)){var k=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var L={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};_===null?k=_=L:_=_.next=L,f=f.next}while(f!==null);_===null?k=_=c:_=_.next=c}else k=_=c;f={baseState:y.baseState,firstBaseUpdate:k,lastBaseUpdate:_,shared:y.shared,effects:y.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}function zu(o,c,f,y){var k=o.updateQueue;Na=!1;var _=k.firstBaseUpdate,L=k.lastBaseUpdate,H=k.shared.pending;if(H!==null){k.shared.pending=null;var J=H,se=J.next;J.next=null,L===null?_=se:L.next=se,L=J;var fe=o.alternate;fe!==null&&(fe=fe.updateQueue,H=fe.lastBaseUpdate,H!==L&&(H===null?fe.firstBaseUpdate=se:H.next=se,fe.lastBaseUpdate=J))}if(_!==null){var me=k.baseState;L=0,fe=se=J=null,H=_;do{var he=H.lane,ve=H.eventTime;if((y&he)===he){fe!==null&&(fe=fe.next={eventTime:ve,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Se=o,Ce=H;switch(he=c,ve=f,Ce.tag){case 1:if(Se=Ce.payload,typeof Se=="function"){me=Se.call(ve,me,he);break e}me=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ce.payload,he=typeof Se=="function"?Se.call(ve,me,he):Se,he==null)break e;me=z({},me,he);break e;case 2:Na=!0}}H.callback!==null&&H.lane!==0&&(o.flags|=64,he=k.effects,he===null?k.effects=[H]:he.push(H))}else ve={eventTime:ve,lane:he,tag:H.tag,payload:H.payload,callback:H.callback,next:null},fe===null?(se=fe=ve,J=me):fe=fe.next=ve,L|=he;if(H=H.next,H===null){if(H=k.shared.pending,H===null)break;he=H,H=he.next,he.next=null,k.lastBaseUpdate=he,k.shared.pending=null}}while(!0);if(fe===null&&(J=me),k.baseState=J,k.firstBaseUpdate=se,k.lastBaseUpdate=fe,c=k.shared.interleaved,c!==null){k=c;do L|=k.lane,k=k.next;while(k!==c)}else _===null&&(k.shared.lanes=0);hs|=L,o.lanes=L,o.memoizedState=me}}function Y1(o,c,f){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var y=o[c],k=y.callback;if(k!==null){if(y.callback=null,y=f,typeof k!="function")throw Error(n(191,k));k.call(y)}}}var gl={},wn=ba(gl),yl=ba(gl),vl=ba(gl);function us(o){if(o===gl)throw Error(n(174));return o}function Gm(o,c){switch(at(vl,c),at(yl,o),at(wn,gl),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Vf(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=Vf(c,o)}ct(wn),at(wn,c)}function Ni(){ct(wn),ct(yl),ct(vl)}function X1(o){us(vl.current);var c=us(wn.current),f=Vf(c,o.type);c!==f&&(at(yl,o),at(wn,f))}function Vm(o){yl.current===o&&(ct(wn),ct(yl))}var mt=ba(0);function Bu(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Qm=[];function Ym(){for(var o=0;o<Qm.length;o++)Qm[o]._workInProgressVersionPrimary=null;Qm.length=0}var qu=N.ReactCurrentDispatcher,Xm=N.ReactCurrentBatchConfig,ds=0,pt=null,_t=null,zt=null,Uu=!1,bl=!1,jl=0,b8=0;function Xt(){throw Error(n(321))}function Jm(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!rn(o[f],c[f]))return!1;return!0}function Zm(o,c,f,y,k,_){if(ds=_,pt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,qu.current=o===null||o.memoizedState===null?S8:k8,o=f(y,k),bl){_=0;do{if(bl=!1,jl=0,25<=_)throw Error(n(301));_+=1,zt=_t=null,c.updateQueue=null,qu.current=C8,o=f(y,k)}while(bl)}if(qu.current=Ku,c=_t!==null&&_t.next!==null,ds=0,zt=_t=pt=null,Uu=!1,c)throw Error(n(300));return o}function ep(){var o=jl!==0;return jl=0,o}function Nn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?pt.memoizedState=zt=o:zt=zt.next=o,zt}function Fr(){if(_t===null){var o=pt.alternate;o=o!==null?o.memoizedState:null}else o=_t.next;var c=zt===null?pt.memoizedState:zt.next;if(c!==null)zt=c,_t=o;else{if(o===null)throw Error(n(310));_t=o,o={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},zt===null?pt.memoizedState=zt=o:zt=zt.next=o}return zt}function wl(o,c){return typeof c=="function"?c(o):c}function tp(o){var c=Fr(),f=c.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var y=_t,k=y.baseQueue,_=f.pending;if(_!==null){if(k!==null){var L=k.next;k.next=_.next,_.next=L}y.baseQueue=k=_,f.pending=null}if(k!==null){_=k.next,y=y.baseState;var H=L=null,J=null,se=_;do{var fe=se.lane;if((ds&fe)===fe)J!==null&&(J=J.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),y=se.hasEagerState?se.eagerState:o(y,se.action);else{var me={lane:fe,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};J===null?(H=J=me,L=y):J=J.next=me,pt.lanes|=fe,hs|=fe}se=se.next}while(se!==null&&se!==_);J===null?L=y:J.next=H,rn(y,c.memoizedState)||(mr=!0),c.memoizedState=y,c.baseState=L,c.baseQueue=J,f.lastRenderedState=y}if(o=f.interleaved,o!==null){k=o;do _=k.lane,pt.lanes|=_,hs|=_,k=k.next;while(k!==o)}else k===null&&(f.lanes=0);return[c.memoizedState,f.dispatch]}function rp(o){var c=Fr(),f=c.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var y=f.dispatch,k=f.pending,_=c.memoizedState;if(k!==null){f.pending=null;var L=k=k.next;do _=o(_,L.action),L=L.next;while(L!==k);rn(_,c.memoizedState)||(mr=!0),c.memoizedState=_,c.baseQueue===null&&(c.baseState=_),f.lastRenderedState=_}return[_,y]}function J1(){}function Z1(o,c){var f=pt,y=Fr(),k=c(),_=!rn(y.memoizedState,k);if(_&&(y.memoizedState=k,mr=!0),y=y.queue,np(r2.bind(null,f,y,o),[o]),y.getSnapshot!==c||_||zt!==null&&zt.memoizedState.tag&1){if(f.flags|=2048,Nl(9,t2.bind(null,f,y,k,c),void 0,null),Bt===null)throw Error(n(349));(ds&30)!==0||e2(f,c,k)}return k}function e2(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=pt.updateQueue,c===null?(c={lastEffect:null,stores:null},pt.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function t2(o,c,f,y){c.value=f,c.getSnapshot=y,n2(c)&&a2(o)}function r2(o,c,f){return f(function(){n2(c)&&a2(o)})}function n2(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!rn(o,f)}catch{return!0}}function a2(o){var c=zn(o,1);c!==null&&ln(c,o,1,-1)}function s2(o){var c=Nn();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:o},c.queue=o,o=o.dispatch=N8.bind(null,pt,o),[c.memoizedState,o]}function Nl(o,c,f,y){return o={tag:o,create:c,destroy:f,deps:y,next:null},c=pt.updateQueue,c===null?(c={lastEffect:null,stores:null},pt.updateQueue=c,c.lastEffect=o.next=o):(f=c.lastEffect,f===null?c.lastEffect=o.next=o:(y=f.next,f.next=o,o.next=y,c.lastEffect=o)),o}function i2(){return Fr().memoizedState}function Wu(o,c,f,y){var k=Nn();pt.flags|=o,k.memoizedState=Nl(1|c,f,void 0,y===void 0?null:y)}function Hu(o,c,f,y){var k=Fr();y=y===void 0?null:y;var _=void 0;if(_t!==null){var L=_t.memoizedState;if(_=L.destroy,y!==null&&Jm(y,L.deps)){k.memoizedState=Nl(c,f,_,y);return}}pt.flags|=o,k.memoizedState=Nl(1|c,f,_,y)}function o2(o,c){return Wu(8390656,8,o,c)}function np(o,c){return Hu(2048,8,o,c)}function l2(o,c){return Hu(4,2,o,c)}function c2(o,c){return Hu(4,4,o,c)}function u2(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function d2(o,c,f){return f=f!=null?f.concat([o]):null,Hu(4,4,u2.bind(null,c,o),f)}function ap(){}function h2(o,c){var f=Fr();c=c===void 0?null:c;var y=f.memoizedState;return y!==null&&c!==null&&Jm(c,y[1])?y[0]:(f.memoizedState=[o,c],o)}function f2(o,c){var f=Fr();c=c===void 0?null:c;var y=f.memoizedState;return y!==null&&c!==null&&Jm(c,y[1])?y[0]:(o=o(),f.memoizedState=[o,c],o)}function m2(o,c,f){return(ds&21)===0?(o.baseState&&(o.baseState=!1,mr=!0),o.memoizedState=f):(rn(f,c)||(f=Ww(),pt.lanes|=f,hs|=f,o.baseState=!0),c)}function j8(o,c){var f=et;et=f!==0&&4>f?f:4,o(!0);var y=Xm.transition;Xm.transition={};try{o(!1),c()}finally{et=f,Xm.transition=y}}function p2(){return Fr().memoizedState}function w8(o,c,f){var y=Pa(o);if(f={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null},x2(o))g2(c,f);else if(f=G1(o,c,f,y),f!==null){var k=sr();ln(f,o,y,k),y2(f,c,y)}}function N8(o,c,f){var y=Pa(o),k={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null};if(x2(o))g2(c,k);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=c.lastRenderedReducer,_!==null))try{var L=c.lastRenderedState,H=_(L,f);if(k.hasEagerState=!0,k.eagerState=H,rn(H,L)){var J=c.interleaved;J===null?(k.next=k,Hm(c)):(k.next=J.next,J.next=k),c.interleaved=k;return}}catch{}finally{}f=G1(o,c,k,y),f!==null&&(k=sr(),ln(f,o,y,k),y2(f,c,y))}}function x2(o){var c=o.alternate;return o===pt||c!==null&&c===pt}function g2(o,c){bl=Uu=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function y2(o,c,f){if((f&4194240)!==0){var y=c.lanes;y&=o.pendingLanes,f|=y,c.lanes=f,im(o,f)}}var Ku={readContext:Dr,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},S8={readContext:Dr,useCallback:function(o,c){return Nn().memoizedState=[o,c===void 0?null:c],o},useContext:Dr,useEffect:o2,useImperativeHandle:function(o,c,f){return f=f!=null?f.concat([o]):null,Wu(4194308,4,u2.bind(null,c,o),f)},useLayoutEffect:function(o,c){return Wu(4194308,4,o,c)},useInsertionEffect:function(o,c){return Wu(4,2,o,c)},useMemo:function(o,c){var f=Nn();return c=c===void 0?null:c,o=o(),f.memoizedState=[o,c],o},useReducer:function(o,c,f){var y=Nn();return c=f!==void 0?f(c):c,y.memoizedState=y.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},y.queue=o,o=o.dispatch=w8.bind(null,pt,o),[y.memoizedState,o]},useRef:function(o){var c=Nn();return o={current:o},c.memoizedState=o},useState:s2,useDebugValue:ap,useDeferredValue:function(o){return Nn().memoizedState=o},useTransition:function(){var o=s2(!1),c=o[0];return o=j8.bind(null,o[1]),Nn().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,f){var y=pt,k=Nn();if(dt){if(f===void 0)throw Error(n(407));f=f()}else{if(f=c(),Bt===null)throw Error(n(349));(ds&30)!==0||e2(y,c,f)}k.memoizedState=f;var _={value:f,getSnapshot:c};return k.queue=_,o2(r2.bind(null,y,_,o),[o]),y.flags|=2048,Nl(9,t2.bind(null,y,_,f,c),void 0,null),f},useId:function(){var o=Nn(),c=Bt.identifierPrefix;if(dt){var f=Fn,y=Dn;f=(y&~(1<<32-tn(y)-1)).toString(32)+f,c=":"+c+"R"+f,f=jl++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=b8++,c=":"+c+"r"+f.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},k8={readContext:Dr,useCallback:h2,useContext:Dr,useEffect:np,useImperativeHandle:d2,useInsertionEffect:l2,useLayoutEffect:c2,useMemo:f2,useReducer:tp,useRef:i2,useState:function(){return tp(wl)},useDebugValue:ap,useDeferredValue:function(o){var c=Fr();return m2(c,_t.memoizedState,o)},useTransition:function(){var o=tp(wl)[0],c=Fr().memoizedState;return[o,c]},useMutableSource:J1,useSyncExternalStore:Z1,useId:p2,unstable_isNewReconciler:!1},C8={readContext:Dr,useCallback:h2,useContext:Dr,useEffect:np,useImperativeHandle:d2,useInsertionEffect:l2,useLayoutEffect:c2,useMemo:f2,useReducer:rp,useRef:i2,useState:function(){return rp(wl)},useDebugValue:ap,useDeferredValue:function(o){var c=Fr();return _t===null?c.memoizedState=o:m2(c,_t.memoizedState,o)},useTransition:function(){var o=rp(wl)[0],c=Fr().memoizedState;return[o,c]},useMutableSource:J1,useSyncExternalStore:Z1,useId:p2,unstable_isNewReconciler:!1};function an(o,c){if(o&&o.defaultProps){c=z({},c),o=o.defaultProps;for(var f in o)c[f]===void 0&&(c[f]=o[f]);return c}return c}function sp(o,c,f,y){c=o.memoizedState,f=f(y,c),f=f==null?c:z({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Gu={isMounted:function(o){return(o=o._reactInternals)?as(o)===o:!1},enqueueSetState:function(o,c,f){o=o._reactInternals;var y=sr(),k=Pa(o),_=Bn(y,k);_.payload=c,f!=null&&(_.callback=f),c=Sa(o,_,k),c!==null&&(ln(c,o,k,y),Fu(c,o,k))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var y=sr(),k=Pa(o),_=Bn(y,k);_.tag=1,_.payload=c,f!=null&&(_.callback=f),c=Sa(o,_,k),c!==null&&(ln(c,o,k,y),Fu(c,o,k))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=sr(),y=Pa(o),k=Bn(f,y);k.tag=2,c!=null&&(k.callback=c),c=Sa(o,k,y),c!==null&&(ln(c,o,y,f),Fu(c,o,y))}};function v2(o,c,f,y,k,_,L){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,_,L):c.prototype&&c.prototype.isPureReactComponent?!cl(f,y)||!cl(k,_):!0}function b2(o,c,f){var y=!1,k=ja,_=c.contextType;return typeof _=="object"&&_!==null?_=Dr(_):(k=fr(c)?is:Yt.current,y=c.contextTypes,_=(y=y!=null)?xi(o,k):ja),c=new c(f,_),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Gu,o.stateNode=c,c._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=k,o.__reactInternalMemoizedMaskedChildContext=_),c}function j2(o,c,f,y){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,y),c.state!==o&&Gu.enqueueReplaceState(c,c.state,null)}function ip(o,c,f,y){var k=o.stateNode;k.props=f,k.state=o.memoizedState,k.refs={},Km(o);var _=c.contextType;typeof _=="object"&&_!==null?k.context=Dr(_):(_=fr(c)?is:Yt.current,k.context=xi(o,_)),k.state=o.memoizedState,_=c.getDerivedStateFromProps,typeof _=="function"&&(sp(o,c,_,f),k.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(c=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),c!==k.state&&Gu.enqueueReplaceState(k,k.state,null),zu(o,f,k,y),k.state=o.memoizedState),typeof k.componentDidMount=="function"&&(o.flags|=4194308)}function Si(o,c){try{var f="",y=c;do f+=de(y),y=y.return;while(y);var k=f}catch(_){k=`
Error generating stack: `+_.message+`
`+_.stack}return{value:o,source:c,stack:k,digest:null}}function op(o,c,f){return{value:o,source:null,stack:f??null,digest:c??null}}function lp(o,c){try{console.error(c.value)}catch(f){setTimeout(function(){throw f})}}var A8=typeof WeakMap=="function"?WeakMap:Map;function w2(o,c,f){f=Bn(-1,f),f.tag=3,f.payload={element:null};var y=c.value;return f.callback=function(){ed||(ed=!0,Np=y),lp(o,c)},f}function N2(o,c,f){f=Bn(-1,f),f.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var k=c.value;f.payload=function(){return y(k)},f.callback=function(){lp(o,c)}}var _=o.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(f.callback=function(){lp(o,c),typeof y!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var L=c.stack;this.componentDidCatch(c.value,{componentStack:L!==null?L:""})}),f}function S2(o,c,f){var y=o.pingCache;if(y===null){y=o.pingCache=new A8;var k=new Set;y.set(c,k)}else k=y.get(c),k===void 0&&(k=new Set,y.set(c,k));k.has(f)||(k.add(f),o=B8.bind(null,o,c,f),c.then(o,o))}function k2(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function C2(o,c,f,y,k){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(c=Bn(-1,1),c.tag=2,Sa(f,c,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=k,o)}var P8=N.ReactCurrentOwner,mr=!1;function ar(o,c,f,y){c.child=o===null?K1(c,null,f,y):bi(c,o.child,f,y)}function A2(o,c,f,y,k){f=f.render;var _=c.ref;return wi(c,k),y=Zm(o,c,f,y,_,k),f=ep(),o!==null&&!mr?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~k,qn(o,c,k)):(dt&&f&&$m(c),c.flags|=1,ar(o,c,y,k),c.child)}function P2(o,c,f,y,k){if(o===null){var _=f.type;return typeof _=="function"&&!Ep(_)&&_.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(c.tag=15,c.type=_,O2(o,c,_,y,k)):(o=id(f.type,null,y,c,c.mode,k),o.ref=c.ref,o.return=c,c.child=o)}if(_=o.child,(o.lanes&k)===0){var L=_.memoizedProps;if(f=f.compare,f=f!==null?f:cl,f(L,y)&&o.ref===c.ref)return qn(o,c,k)}return c.flags|=1,o=Ea(_,y),o.ref=c.ref,o.return=c,c.child=o}function O2(o,c,f,y,k){if(o!==null){var _=o.memoizedProps;if(cl(_,y)&&o.ref===c.ref)if(mr=!1,c.pendingProps=y=_,(o.lanes&k)!==0)(o.flags&131072)!==0&&(mr=!0);else return c.lanes=o.lanes,qn(o,c,k)}return cp(o,c,f,y,k)}function E2(o,c,f){var y=c.pendingProps,k=y.children,_=o!==null?o.memoizedState:null;if(y.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Ci,Ar),Ar|=f;else{if((f&1073741824)===0)return o=_!==null?_.baseLanes|f:f,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,at(Ci,Ar),Ar|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=_!==null?_.baseLanes:f,at(Ci,Ar),Ar|=y}else _!==null?(y=_.baseLanes|f,c.memoizedState=null):y=f,at(Ci,Ar),Ar|=y;return ar(o,c,k,f),c.child}function _2(o,c){var f=c.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(c.flags|=512,c.flags|=2097152)}function cp(o,c,f,y,k){var _=fr(f)?is:Yt.current;return _=xi(c,_),wi(c,k),f=Zm(o,c,f,y,_,k),y=ep(),o!==null&&!mr?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~k,qn(o,c,k)):(dt&&y&&$m(c),c.flags|=1,ar(o,c,f,k),c.child)}function T2(o,c,f,y,k){if(fr(f)){var _=!0;_u(c)}else _=!1;if(wi(c,k),c.stateNode===null)Qu(o,c),b2(c,f,y),ip(c,f,y,k),y=!0;else if(o===null){var L=c.stateNode,H=c.memoizedProps;L.props=H;var J=L.context,se=f.contextType;typeof se=="object"&&se!==null?se=Dr(se):(se=fr(f)?is:Yt.current,se=xi(c,se));var fe=f.getDerivedStateFromProps,me=typeof fe=="function"||typeof L.getSnapshotBeforeUpdate=="function";me||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(H!==y||J!==se)&&j2(c,L,y,se),Na=!1;var he=c.memoizedState;L.state=he,zu(c,y,L,k),J=c.memoizedState,H!==y||he!==J||hr.current||Na?(typeof fe=="function"&&(sp(c,f,fe,y),J=c.memoizedState),(H=Na||v2(c,f,H,y,he,J,se))?(me||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(c.flags|=4194308)):(typeof L.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=J),L.props=y,L.state=J,L.context=se,y=H):(typeof L.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{L=c.stateNode,V1(o,c),H=c.memoizedProps,se=c.type===c.elementType?H:an(c.type,H),L.props=se,me=c.pendingProps,he=L.context,J=f.contextType,typeof J=="object"&&J!==null?J=Dr(J):(J=fr(f)?is:Yt.current,J=xi(c,J));var ve=f.getDerivedStateFromProps;(fe=typeof ve=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(H!==me||he!==J)&&j2(c,L,y,J),Na=!1,he=c.memoizedState,L.state=he,zu(c,y,L,k);var Se=c.memoizedState;H!==me||he!==Se||hr.current||Na?(typeof ve=="function"&&(sp(c,f,ve,y),Se=c.memoizedState),(se=Na||v2(c,f,se,y,he,Se,J)||!1)?(fe||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(y,Se,J),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(y,Se,J)),typeof L.componentDidUpdate=="function"&&(c.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof L.componentDidUpdate!="function"||H===o.memoizedProps&&he===o.memoizedState||(c.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||H===o.memoizedProps&&he===o.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=Se),L.props=y,L.state=Se,L.context=J,y=se):(typeof L.componentDidUpdate!="function"||H===o.memoizedProps&&he===o.memoizedState||(c.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||H===o.memoizedProps&&he===o.memoizedState||(c.flags|=1024),y=!1)}return up(o,c,f,y,_,k)}function up(o,c,f,y,k,_){_2(o,c);var L=(c.flags&128)!==0;if(!y&&!L)return k&&L1(c,f,!1),qn(o,c,_);y=c.stateNode,P8.current=c;var H=L&&typeof f.getDerivedStateFromError!="function"?null:y.render();return c.flags|=1,o!==null&&L?(c.child=bi(c,o.child,null,_),c.child=bi(c,null,H,_)):ar(o,c,H,_),c.memoizedState=y.state,k&&L1(c,f,!0),c.child}function R2(o){var c=o.stateNode;c.pendingContext?I1(o,c.pendingContext,c.pendingContext!==c.context):c.context&&I1(o,c.context,!1),Gm(o,c.containerInfo)}function M2(o,c,f,y,k){return vi(),zm(k),c.flags|=256,ar(o,c,f,y),c.child}var dp={dehydrated:null,treeContext:null,retryLane:0};function hp(o){return{baseLanes:o,cachePool:null,transitions:null}}function I2(o,c,f){var y=c.pendingProps,k=mt.current,_=!1,L=(c.flags&128)!==0,H;if((H=L)||(H=o!==null&&o.memoizedState===null?!1:(k&2)!==0),H?(_=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(k|=1),at(mt,k&1),o===null)return Fm(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(L=y.children,o=y.fallback,_?(y=c.mode,_=c.child,L={mode:"hidden",children:L},(y&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=L):_=od(L,y,0,null),o=xs(o,y,f,null),_.return=c,o.return=c,_.sibling=o,c.child=_,c.child.memoizedState=hp(f),c.memoizedState=dp,o):fp(c,L));if(k=o.memoizedState,k!==null&&(H=k.dehydrated,H!==null))return O8(o,c,L,y,H,k,f);if(_){_=y.fallback,L=c.mode,k=o.child,H=k.sibling;var J={mode:"hidden",children:y.children};return(L&1)===0&&c.child!==k?(y=c.child,y.childLanes=0,y.pendingProps=J,c.deletions=null):(y=Ea(k,J),y.subtreeFlags=k.subtreeFlags&14680064),H!==null?_=Ea(H,_):(_=xs(_,L,f,null),_.flags|=2),_.return=c,y.return=c,y.sibling=_,c.child=y,y=_,_=c.child,L=o.child.memoizedState,L=L===null?hp(f):{baseLanes:L.baseLanes|f,cachePool:null,transitions:L.transitions},_.memoizedState=L,_.childLanes=o.childLanes&~f,c.memoizedState=dp,y}return _=o.child,o=_.sibling,y=Ea(_,{mode:"visible",children:y.children}),(c.mode&1)===0&&(y.lanes=f),y.return=c,y.sibling=null,o!==null&&(f=c.deletions,f===null?(c.deletions=[o],c.flags|=16):f.push(o)),c.child=y,c.memoizedState=null,y}function fp(o,c){return c=od({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function Vu(o,c,f,y){return y!==null&&zm(y),bi(c,o.child,null,f),o=fp(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function O8(o,c,f,y,k,_,L){if(f)return c.flags&256?(c.flags&=-257,y=op(Error(n(422))),Vu(o,c,L,y)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(_=y.fallback,k=c.mode,y=od({mode:"visible",children:y.children},k,0,null),_=xs(_,k,L,null),_.flags|=2,y.return=c,_.return=c,y.sibling=_,c.child=y,(c.mode&1)!==0&&bi(c,o.child,null,L),c.child.memoizedState=hp(L),c.memoizedState=dp,_);if((c.mode&1)===0)return Vu(o,c,L,null);if(k.data==="$!"){if(y=k.nextSibling&&k.nextSibling.dataset,y)var H=y.dgst;return y=H,_=Error(n(419)),y=op(_,y,void 0),Vu(o,c,L,y)}if(H=(L&o.childLanes)!==0,mr||H){if(y=Bt,y!==null){switch(L&-L){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(y.suspendedLanes|L))!==0?0:k,k!==0&&k!==_.retryLane&&(_.retryLane=k,zn(o,k),ln(y,o,k,-1))}return Op(),y=op(Error(n(421))),Vu(o,c,L,y)}return k.data==="$?"?(c.flags|=128,c.child=o.child,c=q8.bind(null,o),k._reactRetry=c,null):(o=_.treeContext,Cr=va(k.nextSibling),kr=c,dt=!0,nn=null,o!==null&&($r[Lr++]=Dn,$r[Lr++]=Fn,$r[Lr++]=os,Dn=o.id,Fn=o.overflow,os=c),c=fp(c,y.children),c.flags|=4096,c)}function $2(o,c,f){o.lanes|=c;var y=o.alternate;y!==null&&(y.lanes|=c),Wm(o.return,c,f)}function mp(o,c,f,y,k){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:f,tailMode:k}:(_.isBackwards=c,_.rendering=null,_.renderingStartTime=0,_.last=y,_.tail=f,_.tailMode=k)}function L2(o,c,f){var y=c.pendingProps,k=y.revealOrder,_=y.tail;if(ar(o,c,y.children,f),y=mt.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&$2(o,f,c);else if(o.tag===19)$2(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(at(mt,y),(c.mode&1)===0)c.memoizedState=null;else switch(k){case"forwards":for(f=c.child,k=null;f!==null;)o=f.alternate,o!==null&&Bu(o)===null&&(k=f),f=f.sibling;f=k,f===null?(k=c.child,c.child=null):(k=f.sibling,f.sibling=null),mp(c,!1,k,f,_);break;case"backwards":for(f=null,k=c.child,c.child=null;k!==null;){if(o=k.alternate,o!==null&&Bu(o)===null){c.child=k;break}o=k.sibling,k.sibling=f,f=k,k=o}mp(c,!0,f,null,_);break;case"together":mp(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Qu(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function qn(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),hs|=c.lanes,(f&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,f=Ea(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=Ea(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function E8(o,c,f){switch(c.tag){case 3:R2(c),vi();break;case 5:X1(c);break;case 1:fr(c.type)&&_u(c);break;case 4:Gm(c,c.stateNode.containerInfo);break;case 10:var y=c.type._context,k=c.memoizedProps.value;at(Lu,y._currentValue),y._currentValue=k;break;case 13:if(y=c.memoizedState,y!==null)return y.dehydrated!==null?(at(mt,mt.current&1),c.flags|=128,null):(f&c.child.childLanes)!==0?I2(o,c,f):(at(mt,mt.current&1),o=qn(o,c,f),o!==null?o.sibling:null);at(mt,mt.current&1);break;case 19:if(y=(f&c.childLanes)!==0,(o.flags&128)!==0){if(y)return L2(o,c,f);c.flags|=128}if(k=c.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),at(mt,mt.current),y)break;return null;case 22:case 23:return c.lanes=0,E2(o,c,f)}return qn(o,c,f)}var D2,pp,F2,z2;D2=function(o,c){for(var f=c.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},pp=function(){},F2=function(o,c,f,y){var k=o.memoizedProps;if(k!==y){o=c.stateNode,us(wn.current);var _=null;switch(f){case"input":k=je(o,k),y=je(o,y),_=[];break;case"select":k=z({},k,{value:void 0}),y=z({},y,{value:void 0}),_=[];break;case"textarea":k=en(o,k),y=en(o,y),_=[];break;default:typeof k.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=Pu)}Qf(f,y);var L;f=null;for(se in k)if(!y.hasOwnProperty(se)&&k.hasOwnProperty(se)&&k[se]!=null)if(se==="style"){var H=k[se];for(L in H)H.hasOwnProperty(L)&&(f||(f={}),f[L]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(s.hasOwnProperty(se)?_||(_=[]):(_=_||[]).push(se,null));for(se in y){var J=y[se];if(H=k!=null?k[se]:void 0,y.hasOwnProperty(se)&&J!==H&&(J!=null||H!=null))if(se==="style")if(H){for(L in H)!H.hasOwnProperty(L)||J&&J.hasOwnProperty(L)||(f||(f={}),f[L]="");for(L in J)J.hasOwnProperty(L)&&H[L]!==J[L]&&(f||(f={}),f[L]=J[L])}else f||(_||(_=[]),_.push(se,f)),f=J;else se==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,H=H?H.__html:void 0,J!=null&&H!==J&&(_=_||[]).push(se,J)):se==="children"?typeof J!="string"&&typeof J!="number"||(_=_||[]).push(se,""+J):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(s.hasOwnProperty(se)?(J!=null&&se==="onScroll"&&lt("scroll",o),_||H===J||(_=[])):(_=_||[]).push(se,J))}f&&(_=_||[]).push("style",f);var se=_;(c.updateQueue=se)&&(c.flags|=4)}},z2=function(o,c,f,y){f!==y&&(c.flags|=4)};function Sl(o,c){if(!dt)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Jt(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,y=0;if(c)for(var k=o.child;k!==null;)f|=k.lanes|k.childLanes,y|=k.subtreeFlags&14680064,y|=k.flags&14680064,k.return=o,k=k.sibling;else for(k=o.child;k!==null;)f|=k.lanes|k.childLanes,y|=k.subtreeFlags,y|=k.flags,k.return=o,k=k.sibling;return o.subtreeFlags|=y,o.childLanes=f,c}function _8(o,c,f){var y=c.pendingProps;switch(Lm(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(c),null;case 1:return fr(c.type)&&Eu(),Jt(c),null;case 3:return y=c.stateNode,Ni(),ct(hr),ct(Yt),Ym(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(Iu(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,nn!==null&&(Cp(nn),nn=null))),pp(o,c),Jt(c),null;case 5:Vm(c);var k=us(vl.current);if(f=c.type,o!==null&&c.stateNode!=null)F2(o,c,f,y,k),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!y){if(c.stateNode===null)throw Error(n(166));return Jt(c),null}if(o=us(wn.current),Iu(c)){y=c.stateNode,f=c.type;var _=c.memoizedProps;switch(y[jn]=c,y[ml]=_,o=(c.mode&1)!==0,f){case"dialog":lt("cancel",y),lt("close",y);break;case"iframe":case"object":case"embed":lt("load",y);break;case"video":case"audio":for(k=0;k<dl.length;k++)lt(dl[k],y);break;case"source":lt("error",y);break;case"img":case"image":case"link":lt("error",y),lt("load",y);break;case"details":lt("toggle",y);break;case"input":tt(y,_),lt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!_.multiple},lt("invalid",y);break;case"textarea":ai(y,_),lt("invalid",y)}Qf(f,_),k=null;for(var L in _)if(_.hasOwnProperty(L)){var H=_[L];L==="children"?typeof H=="string"?y.textContent!==H&&(_.suppressHydrationWarning!==!0&&Au(y.textContent,H,o),k=["children",H]):typeof H=="number"&&y.textContent!==""+H&&(_.suppressHydrationWarning!==!0&&Au(y.textContent,H,o),k=["children",""+H]):s.hasOwnProperty(L)&&H!=null&&L==="onScroll"&&lt("scroll",y)}switch(f){case"input":$e(y),Zr(y,_,!0);break;case"textarea":$e(y),Ho(y);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(y.onclick=Pu)}y=k,c.updateQueue=y,y!==null&&(c.flags|=4)}else{L=k.nodeType===9?k:k.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Cw(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=L.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=L.createElement(f,{is:y.is}):(o=L.createElement(f),f==="select"&&(L=o,y.multiple?L.multiple=!0:y.size&&(L.size=y.size))):o=L.createElementNS(o,f),o[jn]=c,o[ml]=y,D2(o,c,!1,!1),c.stateNode=o;e:{switch(L=Yf(f,y),f){case"dialog":lt("cancel",o),lt("close",o),k=y;break;case"iframe":case"object":case"embed":lt("load",o),k=y;break;case"video":case"audio":for(k=0;k<dl.length;k++)lt(dl[k],o);k=y;break;case"source":lt("error",o),k=y;break;case"img":case"image":case"link":lt("error",o),lt("load",o),k=y;break;case"details":lt("toggle",o),k=y;break;case"input":tt(o,y),k=je(o,y),lt("invalid",o);break;case"option":k=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},k=z({},y,{value:void 0}),lt("invalid",o);break;case"textarea":ai(o,y),k=en(o,y),lt("invalid",o);break;default:k=y}Qf(f,k),H=k;for(_ in H)if(H.hasOwnProperty(_)){var J=H[_];_==="style"?Ow(o,J):_==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&Aw(o,J)):_==="children"?typeof J=="string"?(f!=="textarea"||J!=="")&&Ko(o,J):typeof J=="number"&&Ko(o,""+J):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?J!=null&&_==="onScroll"&&lt("scroll",o):J!=null&&P(o,_,J,L))}switch(f){case"input":$e(o),Zr(o,y,!1);break;case"textarea":$e(o),Ho(o);break;case"option":y.value!=null&&o.setAttribute("value",""+ee(y.value));break;case"select":o.multiple=!!y.multiple,_=y.value,_!=null?dr(o,!!y.multiple,_,!1):y.defaultValue!=null&&dr(o,!!y.multiple,y.defaultValue,!0);break;default:typeof k.onClick=="function"&&(o.onclick=Pu)}switch(f){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Jt(c),null;case 6:if(o&&c.stateNode!=null)z2(o,c,o.memoizedProps,y);else{if(typeof y!="string"&&c.stateNode===null)throw Error(n(166));if(f=us(vl.current),us(wn.current),Iu(c)){if(y=c.stateNode,f=c.memoizedProps,y[jn]=c,(_=y.nodeValue!==f)&&(o=kr,o!==null))switch(o.tag){case 3:Au(y.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Au(y.nodeValue,f,(o.mode&1)!==0)}_&&(c.flags|=4)}else y=(f.nodeType===9?f:f.ownerDocument).createTextNode(y),y[jn]=c,c.stateNode=y}return Jt(c),null;case 13:if(ct(mt),y=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(dt&&Cr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)U1(),vi(),c.flags|=98560,_=!1;else if(_=Iu(c),y!==null&&y.dehydrated!==null){if(o===null){if(!_)throw Error(n(318));if(_=c.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[jn]=c}else vi(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Jt(c),_=!1}else nn!==null&&(Cp(nn),nn=null),_=!0;if(!_)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=f,c):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(mt.current&1)!==0?Tt===0&&(Tt=3):Op())),c.updateQueue!==null&&(c.flags|=4),Jt(c),null);case 4:return Ni(),pp(o,c),o===null&&hl(c.stateNode.containerInfo),Jt(c),null;case 10:return Um(c.type._context),Jt(c),null;case 17:return fr(c.type)&&Eu(),Jt(c),null;case 19:if(ct(mt),_=c.memoizedState,_===null)return Jt(c),null;if(y=(c.flags&128)!==0,L=_.rendering,L===null)if(y)Sl(_,!1);else{if(Tt!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(L=Bu(o),L!==null){for(c.flags|=128,Sl(_,!1),y=L.updateQueue,y!==null&&(c.updateQueue=y,c.flags|=4),c.subtreeFlags=0,y=f,f=c.child;f!==null;)_=f,o=y,_.flags&=14680066,L=_.alternate,L===null?(_.childLanes=0,_.lanes=o,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=L.childLanes,_.lanes=L.lanes,_.child=L.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=L.memoizedProps,_.memoizedState=L.memoizedState,_.updateQueue=L.updateQueue,_.type=L.type,o=L.dependencies,_.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return at(mt,mt.current&1|2),c.child}o=o.sibling}_.tail!==null&&Nt()>Ai&&(c.flags|=128,y=!0,Sl(_,!1),c.lanes=4194304)}else{if(!y)if(o=Bu(L),o!==null){if(c.flags|=128,y=!0,f=o.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),Sl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!L.alternate&&!dt)return Jt(c),null}else 2*Nt()-_.renderingStartTime>Ai&&f!==1073741824&&(c.flags|=128,y=!0,Sl(_,!1),c.lanes=4194304);_.isBackwards?(L.sibling=c.child,c.child=L):(f=_.last,f!==null?f.sibling=L:c.child=L,_.last=L)}return _.tail!==null?(c=_.tail,_.rendering=c,_.tail=c.sibling,_.renderingStartTime=Nt(),c.sibling=null,f=mt.current,at(mt,y?f&1|2:f&1),c):(Jt(c),null);case 22:case 23:return Pp(),y=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(c.flags|=8192),y&&(c.mode&1)!==0?(Ar&1073741824)!==0&&(Jt(c),c.subtreeFlags&6&&(c.flags|=8192)):Jt(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function T8(o,c){switch(Lm(c),c.tag){case 1:return fr(c.type)&&Eu(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Ni(),ct(hr),ct(Yt),Ym(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return Vm(c),null;case 13:if(ct(mt),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));vi()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return ct(mt),null;case 4:return Ni(),null;case 10:return Um(c.type._context),null;case 22:case 23:return Pp(),null;case 24:return null;default:return null}}var Yu=!1,Zt=!1,R8=typeof WeakSet=="function"?WeakSet:Set,we=null;function ki(o,c){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(y){yt(o,c,y)}else f.current=null}function xp(o,c,f){try{f()}catch(y){yt(o,c,y)}}var B2=!1;function M8(o,c){if(Pm=xu,o=v1(),bm(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var y=f.getSelection&&f.getSelection();if(y&&y.rangeCount!==0){f=y.anchorNode;var k=y.anchorOffset,_=y.focusNode;y=y.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var L=0,H=-1,J=-1,se=0,fe=0,me=o,he=null;t:for(;;){for(var ve;me!==f||k!==0&&me.nodeType!==3||(H=L+k),me!==_||y!==0&&me.nodeType!==3||(J=L+y),me.nodeType===3&&(L+=me.nodeValue.length),(ve=me.firstChild)!==null;)he=me,me=ve;for(;;){if(me===o)break t;if(he===f&&++se===k&&(H=L),he===_&&++fe===y&&(J=L),(ve=me.nextSibling)!==null)break;me=he,he=me.parentNode}me=ve}f=H===-1||J===-1?null:{start:H,end:J}}else f=null}f=f||{start:0,end:0}}else f=null;for(Om={focusedElem:o,selectionRange:f},xu=!1,we=c;we!==null;)if(c=we,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,we=o;else for(;we!==null;){c=we;try{var Se=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ce=Se.memoizedProps,St=Se.memoizedState,ne=c.stateNode,Z=ne.getSnapshotBeforeUpdate(c.elementType===c.type?Ce:an(c.type,Ce),St);ne.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var ae=c.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(pe){yt(c,c.return,pe)}if(o=c.sibling,o!==null){o.return=c.return,we=o;break}we=c.return}return Se=B2,B2=!1,Se}function kl(o,c,f){var y=c.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var k=y=y.next;do{if((k.tag&o)===o){var _=k.destroy;k.destroy=void 0,_!==void 0&&xp(c,f,_)}k=k.next}while(k!==y)}}function Xu(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&o)===o){var y=f.create;f.destroy=y()}f=f.next}while(f!==c)}}function gp(o){var c=o.ref;if(c!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof c=="function"?c(o):c.current=o}}function q2(o){var c=o.alternate;c!==null&&(o.alternate=null,q2(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[jn],delete c[ml],delete c[Rm],delete c[x8],delete c[g8])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function U2(o){return o.tag===5||o.tag===3||o.tag===4}function W2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||U2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function yp(o,c,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(o,c):f.insertBefore(o,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(o,f)):(c=f,c.appendChild(o)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Pu));else if(y!==4&&(o=o.child,o!==null))for(yp(o,c,f),o=o.sibling;o!==null;)yp(o,c,f),o=o.sibling}function vp(o,c,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(vp(o,c,f),o=o.sibling;o!==null;)vp(o,c,f),o=o.sibling}var Gt=null,sn=!1;function ka(o,c,f){for(f=f.child;f!==null;)H2(o,c,f),f=f.sibling}function H2(o,c,f){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(uu,f)}catch{}switch(f.tag){case 5:Zt||ki(f,c);case 6:var y=Gt,k=sn;Gt=null,ka(o,c,f),Gt=y,sn=k,Gt!==null&&(sn?(o=Gt,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):Gt.removeChild(f.stateNode));break;case 18:Gt!==null&&(sn?(o=Gt,f=f.stateNode,o.nodeType===8?Tm(o.parentNode,f):o.nodeType===1&&Tm(o,f),nl(o)):Tm(Gt,f.stateNode));break;case 4:y=Gt,k=sn,Gt=f.stateNode.containerInfo,sn=!0,ka(o,c,f),Gt=y,sn=k;break;case 0:case 11:case 14:case 15:if(!Zt&&(y=f.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){k=y=y.next;do{var _=k,L=_.destroy;_=_.tag,L!==void 0&&((_&2)!==0||(_&4)!==0)&&xp(f,c,L),k=k.next}while(k!==y)}ka(o,c,f);break;case 1:if(!Zt&&(ki(f,c),y=f.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=f.memoizedProps,y.state=f.memoizedState,y.componentWillUnmount()}catch(H){yt(f,c,H)}ka(o,c,f);break;case 21:ka(o,c,f);break;case 22:f.mode&1?(Zt=(y=Zt)||f.memoizedState!==null,ka(o,c,f),Zt=y):ka(o,c,f);break;default:ka(o,c,f)}}function K2(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new R8),c.forEach(function(y){var k=U8.bind(null,o,y);f.has(y)||(f.add(y),y.then(k,k))})}}function on(o,c){var f=c.deletions;if(f!==null)for(var y=0;y<f.length;y++){var k=f[y];try{var _=o,L=c,H=L;e:for(;H!==null;){switch(H.tag){case 5:Gt=H.stateNode,sn=!1;break e;case 3:Gt=H.stateNode.containerInfo,sn=!0;break e;case 4:Gt=H.stateNode.containerInfo,sn=!0;break e}H=H.return}if(Gt===null)throw Error(n(160));H2(_,L,k),Gt=null,sn=!1;var J=k.alternate;J!==null&&(J.return=null),k.return=null}catch(se){yt(k,c,se)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)G2(c,o),c=c.sibling}function G2(o,c){var f=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(on(c,o),Sn(o),y&4){try{kl(3,o,o.return),Xu(3,o)}catch(Ce){yt(o,o.return,Ce)}try{kl(5,o,o.return)}catch(Ce){yt(o,o.return,Ce)}}break;case 1:on(c,o),Sn(o),y&512&&f!==null&&ki(f,f.return);break;case 5:if(on(c,o),Sn(o),y&512&&f!==null&&ki(f,f.return),o.flags&32){var k=o.stateNode;try{Ko(k,"")}catch(Ce){yt(o,o.return,Ce)}}if(y&4&&(k=o.stateNode,k!=null)){var _=o.memoizedProps,L=f!==null?f.memoizedProps:_,H=o.type,J=o.updateQueue;if(o.updateQueue=null,J!==null)try{H==="input"&&_.type==="radio"&&_.name!=null&&gt(k,_),Yf(H,L);var se=Yf(H,_);for(L=0;L<J.length;L+=2){var fe=J[L],me=J[L+1];fe==="style"?Ow(k,me):fe==="dangerouslySetInnerHTML"?Aw(k,me):fe==="children"?Ko(k,me):P(k,fe,me,se)}switch(H){case"input":Ft(k,_);break;case"textarea":Wo(k,_);break;case"select":var he=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!_.multiple;var ve=_.value;ve!=null?dr(k,!!_.multiple,ve,!1):he!==!!_.multiple&&(_.defaultValue!=null?dr(k,!!_.multiple,_.defaultValue,!0):dr(k,!!_.multiple,_.multiple?[]:"",!1))}k[ml]=_}catch(Ce){yt(o,o.return,Ce)}}break;case 6:if(on(c,o),Sn(o),y&4){if(o.stateNode===null)throw Error(n(162));k=o.stateNode,_=o.memoizedProps;try{k.nodeValue=_}catch(Ce){yt(o,o.return,Ce)}}break;case 3:if(on(c,o),Sn(o),y&4&&f!==null&&f.memoizedState.isDehydrated)try{nl(c.containerInfo)}catch(Ce){yt(o,o.return,Ce)}break;case 4:on(c,o),Sn(o);break;case 13:on(c,o),Sn(o),k=o.child,k.flags&8192&&(_=k.memoizedState!==null,k.stateNode.isHidden=_,!_||k.alternate!==null&&k.alternate.memoizedState!==null||(wp=Nt())),y&4&&K2(o);break;case 22:if(fe=f!==null&&f.memoizedState!==null,o.mode&1?(Zt=(se=Zt)||fe,on(c,o),Zt=se):on(c,o),Sn(o),y&8192){if(se=o.memoizedState!==null,(o.stateNode.isHidden=se)&&!fe&&(o.mode&1)!==0)for(we=o,fe=o.child;fe!==null;){for(me=we=fe;we!==null;){switch(he=we,ve=he.child,he.tag){case 0:case 11:case 14:case 15:kl(4,he,he.return);break;case 1:ki(he,he.return);var Se=he.stateNode;if(typeof Se.componentWillUnmount=="function"){y=he,f=he.return;try{c=y,Se.props=c.memoizedProps,Se.state=c.memoizedState,Se.componentWillUnmount()}catch(Ce){yt(y,f,Ce)}}break;case 5:ki(he,he.return);break;case 22:if(he.memoizedState!==null){Y2(me);continue}}ve!==null?(ve.return=he,we=ve):Y2(me)}fe=fe.sibling}e:for(fe=null,me=o;;){if(me.tag===5){if(fe===null){fe=me;try{k=me.stateNode,se?(_=k.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(H=me.stateNode,J=me.memoizedProps.style,L=J!=null&&J.hasOwnProperty("display")?J.display:null,H.style.display=Pw("display",L))}catch(Ce){yt(o,o.return,Ce)}}}else if(me.tag===6){if(fe===null)try{me.stateNode.nodeValue=se?"":me.memoizedProps}catch(Ce){yt(o,o.return,Ce)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===o)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===o)break e;for(;me.sibling===null;){if(me.return===null||me.return===o)break e;fe===me&&(fe=null),me=me.return}fe===me&&(fe=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:on(c,o),Sn(o),y&4&&K2(o);break;case 21:break;default:on(c,o),Sn(o)}}function Sn(o){var c=o.flags;if(c&2){try{e:{for(var f=o.return;f!==null;){if(U2(f)){var y=f;break e}f=f.return}throw Error(n(160))}switch(y.tag){case 5:var k=y.stateNode;y.flags&32&&(Ko(k,""),y.flags&=-33);var _=W2(o);vp(o,_,k);break;case 3:case 4:var L=y.stateNode.containerInfo,H=W2(o);yp(o,H,L);break;default:throw Error(n(161))}}catch(J){yt(o,o.return,J)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function I8(o,c,f){we=o,V2(o)}function V2(o,c,f){for(var y=(o.mode&1)!==0;we!==null;){var k=we,_=k.child;if(k.tag===22&&y){var L=k.memoizedState!==null||Yu;if(!L){var H=k.alternate,J=H!==null&&H.memoizedState!==null||Zt;H=Yu;var se=Zt;if(Yu=L,(Zt=J)&&!se)for(we=k;we!==null;)L=we,J=L.child,L.tag===22&&L.memoizedState!==null?X2(k):J!==null?(J.return=L,we=J):X2(k);for(;_!==null;)we=_,V2(_),_=_.sibling;we=k,Yu=H,Zt=se}Q2(o)}else(k.subtreeFlags&8772)!==0&&_!==null?(_.return=k,we=_):Q2(o)}}function Q2(o){for(;we!==null;){var c=we;if((c.flags&8772)!==0){var f=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Zt||Xu(5,c);break;case 1:var y=c.stateNode;if(c.flags&4&&!Zt)if(f===null)y.componentDidMount();else{var k=c.elementType===c.type?f.memoizedProps:an(c.type,f.memoizedProps);y.componentDidUpdate(k,f.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var _=c.updateQueue;_!==null&&Y1(c,_,y);break;case 3:var L=c.updateQueue;if(L!==null){if(f=null,c.child!==null)switch(c.child.tag){case 5:f=c.child.stateNode;break;case 1:f=c.child.stateNode}Y1(c,L,f)}break;case 5:var H=c.stateNode;if(f===null&&c.flags&4){f=H;var J=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&f.focus();break;case"img":J.src&&(f.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var se=c.alternate;if(se!==null){var fe=se.memoizedState;if(fe!==null){var me=fe.dehydrated;me!==null&&nl(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Zt||c.flags&512&&gp(c)}catch(he){yt(c,c.return,he)}}if(c===o){we=null;break}if(f=c.sibling,f!==null){f.return=c.return,we=f;break}we=c.return}}function Y2(o){for(;we!==null;){var c=we;if(c===o){we=null;break}var f=c.sibling;if(f!==null){f.return=c.return,we=f;break}we=c.return}}function X2(o){for(;we!==null;){var c=we;try{switch(c.tag){case 0:case 11:case 15:var f=c.return;try{Xu(4,c)}catch(J){yt(c,f,J)}break;case 1:var y=c.stateNode;if(typeof y.componentDidMount=="function"){var k=c.return;try{y.componentDidMount()}catch(J){yt(c,k,J)}}var _=c.return;try{gp(c)}catch(J){yt(c,_,J)}break;case 5:var L=c.return;try{gp(c)}catch(J){yt(c,L,J)}}}catch(J){yt(c,c.return,J)}if(c===o){we=null;break}var H=c.sibling;if(H!==null){H.return=c.return,we=H;break}we=c.return}}var $8=Math.ceil,Ju=N.ReactCurrentDispatcher,bp=N.ReactCurrentOwner,zr=N.ReactCurrentBatchConfig,He=0,Bt=null,Ct=null,Vt=0,Ar=0,Ci=ba(0),Tt=0,Cl=null,hs=0,Zu=0,jp=0,Al=null,pr=null,wp=0,Ai=1/0,Un=null,ed=!1,Np=null,Ca=null,td=!1,Aa=null,rd=0,Pl=0,Sp=null,nd=-1,ad=0;function sr(){return(He&6)!==0?Nt():nd!==-1?nd:nd=Nt()}function Pa(o){return(o.mode&1)===0?1:(He&2)!==0&&Vt!==0?Vt&-Vt:v8.transition!==null?(ad===0&&(ad=Ww()),ad):(o=et,o!==0||(o=window.event,o=o===void 0?16:Zw(o.type)),o)}function ln(o,c,f,y){if(50<Pl)throw Pl=0,Sp=null,Error(n(185));Jo(o,f,y),((He&2)===0||o!==Bt)&&(o===Bt&&((He&2)===0&&(Zu|=f),Tt===4&&Oa(o,Vt)),xr(o,y),f===1&&He===0&&(c.mode&1)===0&&(Ai=Nt()+500,Tu&&wa()))}function xr(o,c){var f=o.callbackNode;vT(o,c);var y=fu(o,o===Bt?Vt:0);if(y===0)f!==null&&Bw(f),o.callbackNode=null,o.callbackPriority=0;else if(c=y&-y,o.callbackPriority!==c){if(f!=null&&Bw(f),c===1)o.tag===0?y8(Z2.bind(null,o)):D1(Z2.bind(null,o)),m8(function(){(He&6)===0&&wa()}),f=null;else{switch(Hw(y)){case 1:f=nm;break;case 4:f=qw;break;case 16:f=cu;break;case 536870912:f=Uw;break;default:f=cu}f=oN(f,J2.bind(null,o))}o.callbackPriority=c,o.callbackNode=f}}function J2(o,c){if(nd=-1,ad=0,(He&6)!==0)throw Error(n(327));var f=o.callbackNode;if(Pi()&&o.callbackNode!==f)return null;var y=fu(o,o===Bt?Vt:0);if(y===0)return null;if((y&30)!==0||(y&o.expiredLanes)!==0||c)c=sd(o,y);else{c=y;var k=He;He|=2;var _=tN();(Bt!==o||Vt!==c)&&(Un=null,Ai=Nt()+500,ms(o,c));do try{F8();break}catch(H){eN(o,H)}while(!0);qm(),Ju.current=_,He=k,Ct!==null?c=0:(Bt=null,Vt=0,c=Tt)}if(c!==0){if(c===2&&(k=am(o),k!==0&&(y=k,c=kp(o,k))),c===1)throw f=Cl,ms(o,0),Oa(o,y),xr(o,Nt()),f;if(c===6)Oa(o,y);else{if(k=o.current.alternate,(y&30)===0&&!L8(k)&&(c=sd(o,y),c===2&&(_=am(o),_!==0&&(y=_,c=kp(o,_))),c===1))throw f=Cl,ms(o,0),Oa(o,y),xr(o,Nt()),f;switch(o.finishedWork=k,o.finishedLanes=y,c){case 0:case 1:throw Error(n(345));case 2:ps(o,pr,Un);break;case 3:if(Oa(o,y),(y&130023424)===y&&(c=wp+500-Nt(),10<c)){if(fu(o,0)!==0)break;if(k=o.suspendedLanes,(k&y)!==y){sr(),o.pingedLanes|=o.suspendedLanes&k;break}o.timeoutHandle=_m(ps.bind(null,o,pr,Un),c);break}ps(o,pr,Un);break;case 4:if(Oa(o,y),(y&4194240)===y)break;for(c=o.eventTimes,k=-1;0<y;){var L=31-tn(y);_=1<<L,L=c[L],L>k&&(k=L),y&=~_}if(y=k,y=Nt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*$8(y/1960))-y,10<y){o.timeoutHandle=_m(ps.bind(null,o,pr,Un),y);break}ps(o,pr,Un);break;case 5:ps(o,pr,Un);break;default:throw Error(n(329))}}}return xr(o,Nt()),o.callbackNode===f?J2.bind(null,o):null}function kp(o,c){var f=Al;return o.current.memoizedState.isDehydrated&&(ms(o,c).flags|=256),o=sd(o,c),o!==2&&(c=pr,pr=f,c!==null&&Cp(c)),o}function Cp(o){pr===null?pr=o:pr.push.apply(pr,o)}function L8(o){for(var c=o;;){if(c.flags&16384){var f=c.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var y=0;y<f.length;y++){var k=f[y],_=k.getSnapshot;k=k.value;try{if(!rn(_(),k))return!1}catch{return!1}}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Oa(o,c){for(c&=~jp,c&=~Zu,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var f=31-tn(c),y=1<<f;o[f]=-1,c&=~y}}function Z2(o){if((He&6)!==0)throw Error(n(327));Pi();var c=fu(o,0);if((c&1)===0)return xr(o,Nt()),null;var f=sd(o,c);if(o.tag!==0&&f===2){var y=am(o);y!==0&&(c=y,f=kp(o,y))}if(f===1)throw f=Cl,ms(o,0),Oa(o,c),xr(o,Nt()),f;if(f===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,ps(o,pr,Un),xr(o,Nt()),null}function Ap(o,c){var f=He;He|=1;try{return o(c)}finally{He=f,He===0&&(Ai=Nt()+500,Tu&&wa())}}function fs(o){Aa!==null&&Aa.tag===0&&(He&6)===0&&Pi();var c=He;He|=1;var f=zr.transition,y=et;try{if(zr.transition=null,et=1,o)return o()}finally{et=y,zr.transition=f,He=c,(He&6)===0&&wa()}}function Pp(){Ar=Ci.current,ct(Ci)}function ms(o,c){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,f8(f)),Ct!==null)for(f=Ct.return;f!==null;){var y=f;switch(Lm(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Eu();break;case 3:Ni(),ct(hr),ct(Yt),Ym();break;case 5:Vm(y);break;case 4:Ni();break;case 13:ct(mt);break;case 19:ct(mt);break;case 10:Um(y.type._context);break;case 22:case 23:Pp()}f=f.return}if(Bt=o,Ct=o=Ea(o.current,null),Vt=Ar=c,Tt=0,Cl=null,jp=Zu=hs=0,pr=Al=null,cs!==null){for(c=0;c<cs.length;c++)if(f=cs[c],y=f.interleaved,y!==null){f.interleaved=null;var k=y.next,_=f.pending;if(_!==null){var L=_.next;_.next=k,y.next=L}f.pending=y}cs=null}return o}function eN(o,c){do{var f=Ct;try{if(qm(),qu.current=Ku,Uu){for(var y=pt.memoizedState;y!==null;){var k=y.queue;k!==null&&(k.pending=null),y=y.next}Uu=!1}if(ds=0,zt=_t=pt=null,bl=!1,jl=0,bp.current=null,f===null||f.return===null){Tt=1,Cl=c,Ct=null;break}e:{var _=o,L=f.return,H=f,J=c;if(c=Vt,H.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var se=J,fe=H,me=fe.tag;if((fe.mode&1)===0&&(me===0||me===11||me===15)){var he=fe.alternate;he?(fe.updateQueue=he.updateQueue,fe.memoizedState=he.memoizedState,fe.lanes=he.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var ve=k2(L);if(ve!==null){ve.flags&=-257,C2(ve,L,H,_,c),ve.mode&1&&S2(_,se,c),c=ve,J=se;var Se=c.updateQueue;if(Se===null){var Ce=new Set;Ce.add(J),c.updateQueue=Ce}else Se.add(J);break e}else{if((c&1)===0){S2(_,se,c),Op();break e}J=Error(n(426))}}else if(dt&&H.mode&1){var St=k2(L);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),C2(St,L,H,_,c),zm(Si(J,H));break e}}_=J=Si(J,H),Tt!==4&&(Tt=2),Al===null?Al=[_]:Al.push(_),_=L;do{switch(_.tag){case 3:_.flags|=65536,c&=-c,_.lanes|=c;var ne=w2(_,J,c);Q1(_,ne);break e;case 1:H=J;var Z=_.type,ae=_.stateNode;if((_.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(Ca===null||!Ca.has(ae)))){_.flags|=65536,c&=-c,_.lanes|=c;var pe=N2(_,H,c);Q1(_,pe);break e}}_=_.return}while(_!==null)}nN(f)}catch(Ae){c=Ae,Ct===f&&f!==null&&(Ct=f=f.return);continue}break}while(!0)}function tN(){var o=Ju.current;return Ju.current=Ku,o===null?Ku:o}function Op(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Bt===null||(hs&268435455)===0&&(Zu&268435455)===0||Oa(Bt,Vt)}function sd(o,c){var f=He;He|=2;var y=tN();(Bt!==o||Vt!==c)&&(Un=null,ms(o,c));do try{D8();break}catch(k){eN(o,k)}while(!0);if(qm(),He=f,Ju.current=y,Ct!==null)throw Error(n(261));return Bt=null,Vt=0,Tt}function D8(){for(;Ct!==null;)rN(Ct)}function F8(){for(;Ct!==null&&!uT();)rN(Ct)}function rN(o){var c=iN(o.alternate,o,Ar);o.memoizedProps=o.pendingProps,c===null?nN(o):Ct=c,bp.current=null}function nN(o){var c=o;do{var f=c.alternate;if(o=c.return,(c.flags&32768)===0){if(f=_8(f,c,Ar),f!==null){Ct=f;return}}else{if(f=T8(f,c),f!==null){f.flags&=32767,Ct=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Tt=6,Ct=null;return}}if(c=c.sibling,c!==null){Ct=c;return}Ct=c=o}while(c!==null);Tt===0&&(Tt=5)}function ps(o,c,f){var y=et,k=zr.transition;try{zr.transition=null,et=1,z8(o,c,f,y)}finally{zr.transition=k,et=y}return null}function z8(o,c,f,y){do Pi();while(Aa!==null);if((He&6)!==0)throw Error(n(327));f=o.finishedWork;var k=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var _=f.lanes|f.childLanes;if(bT(o,_),o===Bt&&(Ct=Bt=null,Vt=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||td||(td=!0,oN(cu,function(){return Pi(),null})),_=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||_){_=zr.transition,zr.transition=null;var L=et;et=1;var H=He;He|=4,bp.current=null,M8(o,f),G2(f,o),i8(Om),xu=!!Pm,Om=Pm=null,o.current=f,I8(f),dT(),He=H,et=L,zr.transition=_}else o.current=f;if(td&&(td=!1,Aa=o,rd=k),_=o.pendingLanes,_===0&&(Ca=null),mT(f.stateNode),xr(o,Nt()),c!==null)for(y=o.onRecoverableError,f=0;f<c.length;f++)k=c[f],y(k.value,{componentStack:k.stack,digest:k.digest});if(ed)throw ed=!1,o=Np,Np=null,o;return(rd&1)!==0&&o.tag!==0&&Pi(),_=o.pendingLanes,(_&1)!==0?o===Sp?Pl++:(Pl=0,Sp=o):Pl=0,wa(),null}function Pi(){if(Aa!==null){var o=Hw(rd),c=zr.transition,f=et;try{if(zr.transition=null,et=16>o?16:o,Aa===null)var y=!1;else{if(o=Aa,Aa=null,rd=0,(He&6)!==0)throw Error(n(331));var k=He;for(He|=4,we=o.current;we!==null;){var _=we,L=_.child;if((we.flags&16)!==0){var H=_.deletions;if(H!==null){for(var J=0;J<H.length;J++){var se=H[J];for(we=se;we!==null;){var fe=we;switch(fe.tag){case 0:case 11:case 15:kl(8,fe,_)}var me=fe.child;if(me!==null)me.return=fe,we=me;else for(;we!==null;){fe=we;var he=fe.sibling,ve=fe.return;if(q2(fe),fe===se){we=null;break}if(he!==null){he.return=ve,we=he;break}we=ve}}}var Se=_.alternate;if(Se!==null){var Ce=Se.child;if(Ce!==null){Se.child=null;do{var St=Ce.sibling;Ce.sibling=null,Ce=St}while(Ce!==null)}}we=_}}if((_.subtreeFlags&2064)!==0&&L!==null)L.return=_,we=L;else e:for(;we!==null;){if(_=we,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:kl(9,_,_.return)}var ne=_.sibling;if(ne!==null){ne.return=_.return,we=ne;break e}we=_.return}}var Z=o.current;for(we=Z;we!==null;){L=we;var ae=L.child;if((L.subtreeFlags&2064)!==0&&ae!==null)ae.return=L,we=ae;else e:for(L=Z;we!==null;){if(H=we,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:Xu(9,H)}}catch(Ae){yt(H,H.return,Ae)}if(H===L){we=null;break e}var pe=H.sibling;if(pe!==null){pe.return=H.return,we=pe;break e}we=H.return}}if(He=k,wa(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(uu,o)}catch{}y=!0}return y}finally{et=f,zr.transition=c}}return!1}function aN(o,c,f){c=Si(f,c),c=w2(o,c,1),o=Sa(o,c,1),c=sr(),o!==null&&(Jo(o,1,c),xr(o,c))}function yt(o,c,f){if(o.tag===3)aN(o,o,f);else for(;c!==null;){if(c.tag===3){aN(c,o,f);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Ca===null||!Ca.has(y))){o=Si(f,o),o=N2(c,o,1),c=Sa(c,o,1),o=sr(),c!==null&&(Jo(c,1,o),xr(c,o));break}}c=c.return}}function B8(o,c,f){var y=o.pingCache;y!==null&&y.delete(c),c=sr(),o.pingedLanes|=o.suspendedLanes&f,Bt===o&&(Vt&f)===f&&(Tt===4||Tt===3&&(Vt&130023424)===Vt&&500>Nt()-wp?ms(o,0):jp|=f),xr(o,c)}function sN(o,c){c===0&&((o.mode&1)===0?c=1:(c=hu,hu<<=1,(hu&130023424)===0&&(hu=4194304)));var f=sr();o=zn(o,c),o!==null&&(Jo(o,c,f),xr(o,f))}function q8(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),sN(o,f)}function U8(o,c){var f=0;switch(o.tag){case 13:var y=o.stateNode,k=o.memoizedState;k!==null&&(f=k.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(n(314))}y!==null&&y.delete(c),sN(o,f)}var iN;iN=function(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps||hr.current)mr=!0;else{if((o.lanes&f)===0&&(c.flags&128)===0)return mr=!1,E8(o,c,f);mr=(o.flags&131072)!==0}else mr=!1,dt&&(c.flags&1048576)!==0&&F1(c,Mu,c.index);switch(c.lanes=0,c.tag){case 2:var y=c.type;Qu(o,c),o=c.pendingProps;var k=xi(c,Yt.current);wi(c,f),k=Zm(null,c,y,o,k,f);var _=ep();return c.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,fr(y)?(_=!0,_u(c)):_=!1,c.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Km(c),k.updater=Gu,c.stateNode=k,k._reactInternals=c,ip(c,y,o,f),c=up(null,c,y,!0,_,f)):(c.tag=0,dt&&_&&$m(c),ar(null,c,k,f),c=c.child),c;case 16:y=c.elementType;e:{switch(Qu(o,c),o=c.pendingProps,k=y._init,y=k(y._payload),c.type=y,k=c.tag=H8(y),o=an(y,o),k){case 0:c=cp(null,c,y,o,f);break e;case 1:c=T2(null,c,y,o,f);break e;case 11:c=A2(null,c,y,o,f);break e;case 14:c=P2(null,c,y,an(y.type,o),f);break e}throw Error(n(306,y,""))}return c;case 0:return y=c.type,k=c.pendingProps,k=c.elementType===y?k:an(y,k),cp(o,c,y,k,f);case 1:return y=c.type,k=c.pendingProps,k=c.elementType===y?k:an(y,k),T2(o,c,y,k,f);case 3:e:{if(R2(c),o===null)throw Error(n(387));y=c.pendingProps,_=c.memoizedState,k=_.element,V1(o,c),zu(c,y,null,f);var L=c.memoizedState;if(y=L.element,_.isDehydrated)if(_={element:y,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},c.updateQueue.baseState=_,c.memoizedState=_,c.flags&256){k=Si(Error(n(423)),c),c=M2(o,c,y,f,k);break e}else if(y!==k){k=Si(Error(n(424)),c),c=M2(o,c,y,f,k);break e}else for(Cr=va(c.stateNode.containerInfo.firstChild),kr=c,dt=!0,nn=null,f=K1(c,null,y,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(vi(),y===k){c=qn(o,c,f);break e}ar(o,c,y,f)}c=c.child}return c;case 5:return X1(c),o===null&&Fm(c),y=c.type,k=c.pendingProps,_=o!==null?o.memoizedProps:null,L=k.children,Em(y,k)?L=null:_!==null&&Em(y,_)&&(c.flags|=32),_2(o,c),ar(o,c,L,f),c.child;case 6:return o===null&&Fm(c),null;case 13:return I2(o,c,f);case 4:return Gm(c,c.stateNode.containerInfo),y=c.pendingProps,o===null?c.child=bi(c,null,y,f):ar(o,c,y,f),c.child;case 11:return y=c.type,k=c.pendingProps,k=c.elementType===y?k:an(y,k),A2(o,c,y,k,f);case 7:return ar(o,c,c.pendingProps,f),c.child;case 8:return ar(o,c,c.pendingProps.children,f),c.child;case 12:return ar(o,c,c.pendingProps.children,f),c.child;case 10:e:{if(y=c.type._context,k=c.pendingProps,_=c.memoizedProps,L=k.value,at(Lu,y._currentValue),y._currentValue=L,_!==null)if(rn(_.value,L)){if(_.children===k.children&&!hr.current){c=qn(o,c,f);break e}}else for(_=c.child,_!==null&&(_.return=c);_!==null;){var H=_.dependencies;if(H!==null){L=_.child;for(var J=H.firstContext;J!==null;){if(J.context===y){if(_.tag===1){J=Bn(-1,f&-f),J.tag=2;var se=_.updateQueue;if(se!==null){se=se.shared;var fe=se.pending;fe===null?J.next=J:(J.next=fe.next,fe.next=J),se.pending=J}}_.lanes|=f,J=_.alternate,J!==null&&(J.lanes|=f),Wm(_.return,f,c),H.lanes|=f;break}J=J.next}}else if(_.tag===10)L=_.type===c.type?null:_.child;else if(_.tag===18){if(L=_.return,L===null)throw Error(n(341));L.lanes|=f,H=L.alternate,H!==null&&(H.lanes|=f),Wm(L,f,c),L=_.sibling}else L=_.child;if(L!==null)L.return=_;else for(L=_;L!==null;){if(L===c){L=null;break}if(_=L.sibling,_!==null){_.return=L.return,L=_;break}L=L.return}_=L}ar(o,c,k.children,f),c=c.child}return c;case 9:return k=c.type,y=c.pendingProps.children,wi(c,f),k=Dr(k),y=y(k),c.flags|=1,ar(o,c,y,f),c.child;case 14:return y=c.type,k=an(y,c.pendingProps),k=an(y.type,k),P2(o,c,y,k,f);case 15:return O2(o,c,c.type,c.pendingProps,f);case 17:return y=c.type,k=c.pendingProps,k=c.elementType===y?k:an(y,k),Qu(o,c),c.tag=1,fr(y)?(o=!0,_u(c)):o=!1,wi(c,f),b2(c,y,k),ip(c,y,k,f),up(null,c,y,!0,o,f);case 19:return L2(o,c,f);case 22:return E2(o,c,f)}throw Error(n(156,c.tag))};function oN(o,c){return zw(o,c)}function W8(o,c,f,y){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(o,c,f,y){return new W8(o,c,f,y)}function Ep(o){return o=o.prototype,!(!o||!o.isReactComponent)}function H8(o){if(typeof o=="function")return Ep(o)?1:0;if(o!=null){if(o=o.$$typeof,o===$)return 11;if(o===B)return 14}return 2}function Ea(o,c){var f=o.alternate;return f===null?(f=Br(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function id(o,c,f,y,k,_){var L=2;if(y=o,typeof o=="function")Ep(o)&&(L=1);else if(typeof o=="string")L=5;else e:switch(o){case E:return xs(f.children,k,_,c);case M:L=8,k|=8;break;case R:return o=Br(12,f,c,k|2),o.elementType=R,o.lanes=_,o;case W:return o=Br(13,f,c,k),o.elementType=W,o.lanes=_,o;case X:return o=Br(19,f,c,k),o.elementType=X,o.lanes=_,o;case U:return od(f,k,_,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case I:L=10;break e;case T:L=9;break e;case $:L=11;break e;case B:L=14;break e;case q:L=16,y=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return c=Br(L,f,c,k),c.elementType=o,c.type=y,c.lanes=_,c}function xs(o,c,f,y){return o=Br(7,o,y,c),o.lanes=f,o}function od(o,c,f,y){return o=Br(22,o,y,c),o.elementType=U,o.lanes=f,o.stateNode={isHidden:!1},o}function _p(o,c,f){return o=Br(6,o,null,c),o.lanes=f,o}function Tp(o,c,f){return c=Br(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function K8(o,c,f,y,k){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sm(0),this.expirationTimes=sm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sm(0),this.identifierPrefix=y,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function Rp(o,c,f,y,k,_,L,H,J){return o=new K8(o,c,f,H,J),c===1?(c=1,_===!0&&(c|=8)):c=0,_=Br(3,null,null,c),o.current=_,_.stateNode=o,_.memoizedState={element:y,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Km(_),o}function G8(o,c,f){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:y==null?null:""+y,children:o,containerInfo:c,implementation:f}}function lN(o){if(!o)return ja;o=o._reactInternals;e:{if(as(o)!==o||o.tag!==1)throw Error(n(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(fr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(o.tag===1){var f=o.type;if(fr(f))return $1(o,f,c)}return c}function cN(o,c,f,y,k,_,L,H,J){return o=Rp(f,y,!0,o,k,_,L,H,J),o.context=lN(null),f=o.current,y=sr(),k=Pa(f),_=Bn(y,k),_.callback=c??null,Sa(f,_,k),o.current.lanes=k,Jo(o,k,y),xr(o,y),o}function ld(o,c,f,y){var k=c.current,_=sr(),L=Pa(k);return f=lN(f),c.context===null?c.context=f:c.pendingContext=f,c=Bn(_,L),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=Sa(k,c,L),o!==null&&(ln(o,k,L,_),Fu(o,k,L)),L}function cd(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function uN(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function Mp(o,c){uN(o,c),(o=o.alternate)&&uN(o,c)}function V8(){return null}var dN=typeof reportError=="function"?reportError:function(o){console.error(o)};function Ip(o){this._internalRoot=o}ud.prototype.render=Ip.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));ld(o,c,null,null)},ud.prototype.unmount=Ip.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;fs(function(){ld(null,o,null,null)}),c[$n]=null}};function ud(o){this._internalRoot=o}ud.prototype.unstable_scheduleHydration=function(o){if(o){var c=Vw();o={blockedOn:null,target:o,priority:c};for(var f=0;f<xa.length&&c!==0&&c<xa[f].priority;f++);xa.splice(f,0,o),f===0&&Xw(o)}};function $p(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function dd(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function hN(){}function Q8(o,c,f,y,k){if(k){if(typeof y=="function"){var _=y;y=function(){var se=cd(L);_.call(se)}}var L=cN(c,y,o,0,null,!1,!1,"",hN);return o._reactRootContainer=L,o[$n]=L.current,hl(o.nodeType===8?o.parentNode:o),fs(),L}for(;k=o.lastChild;)o.removeChild(k);if(typeof y=="function"){var H=y;y=function(){var se=cd(J);H.call(se)}}var J=Rp(o,0,!1,null,null,!1,!1,"",hN);return o._reactRootContainer=J,o[$n]=J.current,hl(o.nodeType===8?o.parentNode:o),fs(function(){ld(c,J,f,y)}),J}function hd(o,c,f,y,k){var _=f._reactRootContainer;if(_){var L=_;if(typeof k=="function"){var H=k;k=function(){var J=cd(L);H.call(J)}}ld(c,L,o,k)}else L=Q8(f,c,o,k,y);return cd(L)}Kw=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var f=Xo(c.pendingLanes);f!==0&&(im(c,f|1),xr(c,Nt()),(He&6)===0&&(Ai=Nt()+500,wa()))}break;case 13:fs(function(){var y=zn(o,1);if(y!==null){var k=sr();ln(y,o,1,k)}}),Mp(o,1)}},om=function(o){if(o.tag===13){var c=zn(o,134217728);if(c!==null){var f=sr();ln(c,o,134217728,f)}Mp(o,134217728)}},Gw=function(o){if(o.tag===13){var c=Pa(o),f=zn(o,c);if(f!==null){var y=sr();ln(f,o,c,y)}Mp(o,c)}},Vw=function(){return et},Qw=function(o,c){var f=et;try{return et=o,c()}finally{et=f}},Zf=function(o,c,f){switch(c){case"input":if(Ft(o,f),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<f.length;c++){var y=f[c];if(y!==o&&y.form===o.form){var k=Ou(y);if(!k)throw Error(n(90));re(y),Ft(y,k)}}}break;case"textarea":Wo(o,f);break;case"select":c=f.value,c!=null&&dr(o,!!f.multiple,c,!1)}},Rw=Ap,Mw=fs;var Y8={usingClientEntryPoint:!1,Events:[pl,mi,Ou,_w,Tw,Ap]},Ol={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X8={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Dw(o),o===null?null:o.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||V8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{uu=fd.inject(X8),bn=fd}catch{}}return gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y8,gr.createPortal=function(o,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$p(c))throw Error(n(200));return G8(o,c,null,f)},gr.createRoot=function(o,c){if(!$p(o))throw Error(n(299));var f=!1,y="",k=dN;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),c=Rp(o,1,!1,null,null,f,!1,y,k),o[$n]=c.current,hl(o.nodeType===8?o.parentNode:o),new Ip(c)},gr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Dw(c),o=o===null?null:o.stateNode,o},gr.flushSync=function(o){return fs(o)},gr.hydrate=function(o,c,f){if(!dd(c))throw Error(n(200));return hd(null,o,c,!0,f)},gr.hydrateRoot=function(o,c,f){if(!$p(o))throw Error(n(405));var y=f!=null&&f.hydratedSources||null,k=!1,_="",L=dN;if(f!=null&&(f.unstable_strictMode===!0&&(k=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onRecoverableError!==void 0&&(L=f.onRecoverableError)),c=cN(c,null,o,1,f??null,k,!1,_,L),o[$n]=c.current,hl(o),y)for(o=0;o<y.length;o++)f=y[o],k=f._getVersion,k=k(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,k]:c.mutableSourceEagerHydrationData.push(f,k);return new ud(c)},gr.render=function(o,c,f){if(!dd(c))throw Error(n(200));return hd(null,o,c,!1,f)},gr.unmountComponentAtNode=function(o){if(!dd(o))throw Error(n(40));return o._reactRootContainer?(fs(function(){hd(null,null,o,!1,function(){o._reactRootContainer=null,o[$n]=null})}),!0):!1},gr.unstable_batchedUpdates=Ap,gr.unstable_renderSubtreeIntoContainer=function(o,c,f,y){if(!dd(f))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return hd(o,c,f,!1,y)},gr.version="18.3.1-next-f1338f8080-20240426",gr}var jN;function EO(){if(jN)return zp.exports;jN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),zp.exports=lR(),zp.exports}var wN;function cR(){if(wN)return gd;wN=1;var e=EO();return gd.createRoot=e.createRoot,gd.hydrateRoot=e.hydrateRoot,gd}var uR=cR();const dR=Ze(uR);var Oo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hR={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ia,Xb,vO,fR=(vO=class{constructor(){Pe(this,Ia,hR);Pe(this,Xb,!1)}setTimeoutProvider(e){ye(this,Ia,e)}setTimeout(e,t){return Q(this,Ia).setTimeout(e,t)}clearTimeout(e){Q(this,Ia).clearTimeout(e)}setInterval(e,t){return Q(this,Ia).setInterval(e,t)}clearInterval(e){Q(this,Ia).clearInterval(e)}},Ia=new WeakMap,Xb=new WeakMap,vO),Ns=new fR;function mR(e){setTimeout(e,0)}var qs=typeof window>"u"||"Deno"in globalThis;function or(){}function pR(e,t){return typeof e=="function"?e(t):e}function nv(e){return typeof e=="number"&&e>=0&&e!==1/0}function _O(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ga(e,t){return typeof e=="function"?e(t):e}function Kr(e,t){return typeof e=="function"?e(t):e}function NN(e,t){const{type:n="all",exact:a,fetchStatus:s,predicate:i,queryKey:l,stale:u}=e;if(l){if(a){if(t.queryHash!==Zb(l,t.options))return!1}else if(!ec(t.queryKey,l))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||s&&s!==t.state.fetchStatus||i&&!i(t))}function SN(e,t){const{exact:n,status:a,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Us(t.options.mutationKey)!==Us(i))return!1}else if(!ec(t.options.mutationKey,i))return!1}return!(a&&t.state.status!==a||s&&!s(t))}function Zb(e,t){return((t==null?void 0:t.queryKeyHashFn)||Us)(e)}function Us(e){return JSON.stringify(e,(t,n)=>av(n)?Object.keys(n).sort().reduce((a,s)=>(a[s]=n[s],a),{}):n)}function ec(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ec(e[n],t[n])):!1}var xR=Object.prototype.hasOwnProperty;function TO(e,t,n=0){if(e===t)return e;if(n>500)return t;const a=kN(e)&&kN(t);if(!a&&!(av(e)&&av(t)))return t;const i=(a?e:Object.keys(e)).length,l=a?t:Object.keys(t),u=l.length,d=a?new Array(u):{};let h=0;for(let p=0;p<u;p++){const m=a?p:l[p],g=e[m],j=t[m];if(g===j){d[m]=g,(a?p<i:xR.call(e,m))&&h++;continue}if(g===null||j===null||typeof g!="object"||typeof j!="object"){d[m]=j;continue}const v=TO(g,j,n+1);d[m]=v,v===g&&h++}return i===u&&h===i?e:d}function Bd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function kN(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function av(e){if(!CN(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!CN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function CN(e){return Object.prototype.toString.call(e)==="[object Object]"}function gR(e){return new Promise(t=>{Ns.setTimeout(t,e)})}function sv(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?TO(e,t):t}function yR(e,t,n=0){const a=[...e,t];return n&&a.length>n?a.slice(1):a}function vR(e,t,n=0){const a=[t,...e];return n&&a.length>n?a.slice(0,-1):a}var ej=Symbol();function RO(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ej?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function tj(e,t){return typeof e=="function"?e(...t):!!e}function bR(e,t,n){let a=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),a||(a=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var Os,$a,Ui,bO,jR=(bO=class extends Oo{constructor(){super();Pe(this,Os);Pe(this,$a);Pe(this,Ui);ye(this,Ui,t=>{if(!qs&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Q(this,$a)||this.setEventListener(Q(this,Ui))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,$a))==null||t.call(this),ye(this,$a,void 0))}setEventListener(t){var n;ye(this,Ui,t),(n=Q(this,$a))==null||n.call(this),ye(this,$a,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){Q(this,Os)!==t&&(ye(this,Os,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Q(this,Os)=="boolean"?Q(this,Os):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Os=new WeakMap,$a=new WeakMap,Ui=new WeakMap,bO),rj=new jR;function iv(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function a(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{a({status:"fulfilled",value:s}),e(s)},n.reject=s=>{a({status:"rejected",reason:s}),t(s)},n}var wR=mR;function NR(){let e=[],t=0,n=u=>{u()},a=u=>{u()},s=wR;const i=u=>{t?e.push(u):s(()=>{n(u)})},l=()=>{const u=e;e=[],u.length&&s(()=>{a(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{i(()=>{u(...d)})},schedule:i,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{a=u},setScheduler:u=>{s=u}}}var It=NR(),Wi,La,Hi,jO,SR=(jO=class extends Oo{constructor(){super();Pe(this,Wi,!0);Pe(this,La);Pe(this,Hi);ye(this,Hi,t=>{if(!qs&&window.addEventListener){const n=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}})}onSubscribe(){Q(this,La)||this.setEventListener(Q(this,Hi))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,La))==null||t.call(this),ye(this,La,void 0))}setEventListener(t){var n;ye(this,Hi,t),(n=Q(this,La))==null||n.call(this),ye(this,La,t(this.setOnline.bind(this)))}setOnline(t){Q(this,Wi)!==t&&(ye(this,Wi,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return Q(this,Wi)}},Wi=new WeakMap,La=new WeakMap,Hi=new WeakMap,jO),qd=new SR;function kR(e){return Math.min(1e3*2**e,3e4)}function MO(e){return(e??"online")==="online"?qd.isOnline():!0}var ov=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function IO(e){let t=!1,n=0,a;const s=iv(),i=()=>s.status!=="pending",l=w=>{var x;if(!i()){const S=new ov(w);g(S),(x=e.onCancel)==null||x.call(e,S)}},u=()=>{t=!0},d=()=>{t=!1},h=()=>rj.isFocused()&&(e.networkMode==="always"||qd.isOnline())&&e.canRun(),p=()=>MO(e.networkMode)&&e.canRun(),m=w=>{i()||(a==null||a(),s.resolve(w))},g=w=>{i()||(a==null||a(),s.reject(w))},j=()=>new Promise(w=>{var x;a=S=>{(i()||h())&&w(S)},(x=e.onPause)==null||x.call(e)}).then(()=>{var w;a=void 0,i()||(w=e.onContinue)==null||w.call(e)}),v=()=>{if(i())return;let w;const x=n===0?e.initialPromise:void 0;try{w=x??e.fn()}catch(S){w=Promise.reject(S)}Promise.resolve(w).then(m).catch(S=>{var A;if(i())return;const O=e.retry??(qs?0:3),P=e.retryDelay??kR,N=typeof P=="function"?P(n,S):P,C=O===!0||typeof O=="number"&&n<O||typeof O=="function"&&O(n,S);if(t||!C){g(S);return}n++,(A=e.onFail)==null||A.call(e,n,S),gR(N).then(()=>h()?void 0:j()).then(()=>{t?g(S):v()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(a==null||a(),s),cancelRetry:u,continueRetry:d,canStart:p,start:()=>(p()?v():j().then(v),s)}}var Es,wO,$O=(wO=class{constructor(){Pe(this,Es)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),nv(this.gcTime)&&ye(this,Es,Ns.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(qs?1/0:300*1e3))}clearGcTimeout(){Q(this,Es)&&(Ns.clearTimeout(Q(this,Es)),ye(this,Es,void 0))}},Es=new WeakMap,wO),_s,Ki,Hr,Ts,Ut,zc,Rs,un,Kn,NO,CR=(NO=class extends $O{constructor(t){super();Pe(this,un);Pe(this,_s);Pe(this,Ki);Pe(this,Hr);Pe(this,Ts);Pe(this,Ut);Pe(this,zc);Pe(this,Rs);ye(this,Rs,!1),ye(this,zc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ye(this,Ts,t.client),ye(this,Hr,Q(this,Ts).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ye(this,_s,PN(this.options)),this.state=t.state??Q(this,_s),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Q(this,Ut))==null?void 0:t.promise}setOptions(t){if(this.options={...Q(this,zc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=PN(this.options);n.data!==void 0&&(this.setState(AN(n.data,n.dataUpdatedAt)),ye(this,_s,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Q(this,Hr).remove(this)}setData(t,n){const a=sv(this.state.data,t,this.options);return qe(this,un,Kn).call(this,{data:a,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),a}setState(t,n){qe(this,un,Kn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var a,s;const n=(a=Q(this,Ut))==null?void 0:a.promise;return(s=Q(this,Ut))==null||s.cancel(t),n?n.then(or).catch(or):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Q(this,_s))}isActive(){return this.observers.some(t=>Kr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ej||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ga(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!_O(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Q(this,Ut))==null||n.continue()}onOnline(){var n;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Q(this,Ut))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Q(this,Hr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Q(this,Ut)&&(Q(this,Rs)?Q(this,Ut).cancel({revert:!0}):Q(this,Ut).cancelRetry()),this.scheduleGc()),Q(this,Hr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qe(this,un,Kn).call(this,{type:"invalidate"})}async fetch(t,n){var d,h,p,m,g,j,v,w,x,S,O,P;if(this.state.fetchStatus!=="idle"&&((d=Q(this,Ut))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Q(this,Ut))return Q(this,Ut).continueRetry(),Q(this,Ut).promise}if(t&&this.setOptions(t),!this.options.queryFn){const N=this.observers.find(C=>C.options.queryFn);N&&this.setOptions(N.options)}const a=new AbortController,s=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(ye(this,Rs,!0),a.signal)})},i=()=>{const N=RO(this.options,n),A=(()=>{const E={client:Q(this,Ts),queryKey:this.queryKey,meta:this.meta};return s(E),E})();return ye(this,Rs,!1),this.options.persister?this.options.persister(N,A,this):N(A)},u=(()=>{const N={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Q(this,Ts),state:this.state,fetchFn:i};return s(N),N})();(h=this.options.behavior)==null||h.onFetch(u,this),ye(this,Ki,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&qe(this,un,Kn).call(this,{type:"fetch",meta:(m=u.fetchOptions)==null?void 0:m.meta}),ye(this,Ut,IO({initialPromise:n==null?void 0:n.initialPromise,fn:u.fetchFn,onCancel:N=>{N instanceof ov&&N.revert&&this.setState({...Q(this,Ki),fetchStatus:"idle"}),a.abort()},onFail:(N,C)=>{qe(this,un,Kn).call(this,{type:"failed",failureCount:N,error:C})},onPause:()=>{qe(this,un,Kn).call(this,{type:"pause"})},onContinue:()=>{qe(this,un,Kn).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const N=await Q(this,Ut).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(j=(g=Q(this,Hr).config).onSuccess)==null||j.call(g,N,this),(w=(v=Q(this,Hr).config).onSettled)==null||w.call(v,N,this.state.error,this),N}catch(N){if(N instanceof ov){if(N.silent)return Q(this,Ut).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw qe(this,un,Kn).call(this,{type:"error",error:N}),(S=(x=Q(this,Hr).config).onError)==null||S.call(x,N,this),(P=(O=Q(this,Hr).config).onSettled)==null||P.call(O,this.state.data,N,this),N}finally{this.scheduleGc()}}},_s=new WeakMap,Ki=new WeakMap,Hr=new WeakMap,Ts=new WeakMap,Ut=new WeakMap,zc=new WeakMap,Rs=new WeakMap,un=new WeakSet,Kn=function(t){const n=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...LO(a.data,this.options),fetchMeta:t.meta??null};case"success":const s={...a,...AN(t.data,t.dataUpdatedAt),dataUpdateCount:a.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ye(this,Ki,t.manual?s:void 0),s;case"error":const i=t.error;return{...a,error:i,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=n(this.state),It.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),Q(this,Hr).notify({query:this,type:"updated",action:t})})},NO);function LO(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:MO(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function AN(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function PN(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,a=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var yr,We,Bc,ir,Ms,Gi,Vn,Da,qc,Vi,Qi,Is,$s,Fa,Yi,Je,Ul,lv,cv,uv,dv,hv,fv,mv,DO,SO,AR=(SO=class extends Oo{constructor(t,n){super();Pe(this,Je);Pe(this,yr);Pe(this,We);Pe(this,Bc);Pe(this,ir);Pe(this,Ms);Pe(this,Gi);Pe(this,Vn);Pe(this,Da);Pe(this,qc);Pe(this,Vi);Pe(this,Qi);Pe(this,Is);Pe(this,$s);Pe(this,Fa);Pe(this,Yi,new Set);this.options=n,ye(this,yr,t),ye(this,Da,null),ye(this,Vn,iv()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Q(this,We).addObserver(this),ON(Q(this,We),this.options)?qe(this,Je,Ul).call(this):this.updateResult(),qe(this,Je,dv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pv(Q(this,We),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pv(Q(this,We),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,qe(this,Je,hv).call(this),qe(this,Je,fv).call(this),Q(this,We).removeObserver(this)}setOptions(t){const n=this.options,a=Q(this,We);if(this.options=Q(this,yr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Kr(this.options.enabled,Q(this,We))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");qe(this,Je,mv).call(this),Q(this,We).setOptions(this.options),n._defaulted&&!Bd(this.options,n)&&Q(this,yr).getQueryCache().notify({type:"observerOptionsUpdated",query:Q(this,We),observer:this});const s=this.hasListeners();s&&EN(Q(this,We),a,this.options,n)&&qe(this,Je,Ul).call(this),this.updateResult(),s&&(Q(this,We)!==a||Kr(this.options.enabled,Q(this,We))!==Kr(n.enabled,Q(this,We))||Ga(this.options.staleTime,Q(this,We))!==Ga(n.staleTime,Q(this,We)))&&qe(this,Je,lv).call(this);const i=qe(this,Je,cv).call(this);s&&(Q(this,We)!==a||Kr(this.options.enabled,Q(this,We))!==Kr(n.enabled,Q(this,We))||i!==Q(this,Fa))&&qe(this,Je,uv).call(this,i)}getOptimisticResult(t){const n=Q(this,yr).getQueryCache().build(Q(this,yr),t),a=this.createResult(n,t);return OR(this,a)&&(ye(this,ir,a),ye(this,Gi,this.options),ye(this,Ms,Q(this,We).state)),a}getCurrentResult(){return Q(this,ir)}trackResult(t,n){return new Proxy(t,{get:(a,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Q(this,Vn).status==="pending"&&Q(this,Vn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,s))})}trackProp(t){Q(this,Yi).add(t)}getCurrentQuery(){return Q(this,We)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=Q(this,yr).defaultQueryOptions(t),a=Q(this,yr).getQueryCache().build(Q(this,yr),n);return a.fetch().then(()=>this.createResult(a,n))}fetch(t){return qe(this,Je,Ul).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Q(this,ir)))}createResult(t,n){var R;const a=Q(this,We),s=this.options,i=Q(this,ir),l=Q(this,Ms),u=Q(this,Gi),h=t!==a?t.state:Q(this,Bc),{state:p}=t;let m={...p},g=!1,j;if(n._optimisticResults){const I=this.hasListeners(),T=!I&&ON(t,n),$=I&&EN(t,a,n,s);(T||$)&&(m={...m,...LO(p.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:v,errorUpdatedAt:w,status:x}=m;j=m.data;let S=!1;if(n.placeholderData!==void 0&&j===void 0&&x==="pending"){let I;i!=null&&i.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData)?(I=i.data,S=!0):I=typeof n.placeholderData=="function"?n.placeholderData((R=Q(this,Qi))==null?void 0:R.state.data,Q(this,Qi)):n.placeholderData,I!==void 0&&(x="success",j=sv(i==null?void 0:i.data,I,n),g=!0)}if(n.select&&j!==void 0&&!S)if(i&&j===(l==null?void 0:l.data)&&n.select===Q(this,qc))j=Q(this,Vi);else try{ye(this,qc,n.select),j=n.select(j),j=sv(i==null?void 0:i.data,j,n),ye(this,Vi,j),ye(this,Da,null)}catch(I){ye(this,Da,I)}Q(this,Da)&&(v=Q(this,Da),j=Q(this,Vi),w=Date.now(),x="error");const O=m.fetchStatus==="fetching",P=x==="pending",N=x==="error",C=P&&O,A=j!==void 0,M={status:x,fetchStatus:m.fetchStatus,isPending:P,isSuccess:x==="success",isError:N,isInitialLoading:C,isLoading:C,data:j,dataUpdatedAt:m.dataUpdatedAt,error:v,errorUpdatedAt:w,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>h.dataUpdateCount||m.errorUpdateCount>h.errorUpdateCount,isFetching:O,isRefetching:O&&!P,isLoadingError:N&&!A,isPaused:m.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:N&&A,isStale:nj(t,n),refetch:this.refetch,promise:Q(this,Vn),isEnabled:Kr(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=M.data!==void 0,T=M.status==="error"&&!I,$=B=>{T?B.reject(M.error):I&&B.resolve(M.data)},W=()=>{const B=ye(this,Vn,M.promise=iv());$(B)},X=Q(this,Vn);switch(X.status){case"pending":t.queryHash===a.queryHash&&$(X);break;case"fulfilled":(T||M.data!==X.value)&&W();break;case"rejected":(!T||M.error!==X.reason)&&W();break}}return M}updateResult(){const t=Q(this,ir),n=this.createResult(Q(this,We),this.options);if(ye(this,Ms,Q(this,We).state),ye(this,Gi,this.options),Q(this,Ms).data!==void 0&&ye(this,Qi,Q(this,We)),Bd(n,t))return;ye(this,ir,n);const a=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!Q(this,Yi).size)return!0;const l=new Set(i??Q(this,Yi));return this.options.throwOnError&&l.add("error"),Object.keys(Q(this,ir)).some(u=>{const d=u;return Q(this,ir)[d]!==t[d]&&l.has(d)})};qe(this,Je,DO).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&qe(this,Je,dv).call(this)}},yr=new WeakMap,We=new WeakMap,Bc=new WeakMap,ir=new WeakMap,Ms=new WeakMap,Gi=new WeakMap,Vn=new WeakMap,Da=new WeakMap,qc=new WeakMap,Vi=new WeakMap,Qi=new WeakMap,Is=new WeakMap,$s=new WeakMap,Fa=new WeakMap,Yi=new WeakMap,Je=new WeakSet,Ul=function(t){qe(this,Je,mv).call(this);let n=Q(this,We).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(or)),n},lv=function(){qe(this,Je,hv).call(this);const t=Ga(this.options.staleTime,Q(this,We));if(qs||Q(this,ir).isStale||!nv(t))return;const a=_O(Q(this,ir).dataUpdatedAt,t)+1;ye(this,Is,Ns.setTimeout(()=>{Q(this,ir).isStale||this.updateResult()},a))},cv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Q(this,We)):this.options.refetchInterval)??!1},uv=function(t){qe(this,Je,fv).call(this),ye(this,Fa,t),!(qs||Kr(this.options.enabled,Q(this,We))===!1||!nv(Q(this,Fa))||Q(this,Fa)===0)&&ye(this,$s,Ns.setInterval(()=>{(this.options.refetchIntervalInBackground||rj.isFocused())&&qe(this,Je,Ul).call(this)},Q(this,Fa)))},dv=function(){qe(this,Je,lv).call(this),qe(this,Je,uv).call(this,qe(this,Je,cv).call(this))},hv=function(){Q(this,Is)&&(Ns.clearTimeout(Q(this,Is)),ye(this,Is,void 0))},fv=function(){Q(this,$s)&&(Ns.clearInterval(Q(this,$s)),ye(this,$s,void 0))},mv=function(){const t=Q(this,yr).getQueryCache().build(Q(this,yr),this.options);if(t===Q(this,We))return;const n=Q(this,We);ye(this,We,t),ye(this,Bc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},DO=function(t){It.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(Q(this,ir))}),Q(this,yr).getQueryCache().notify({query:Q(this,We),type:"observerResultsUpdated"})})},SO);function PR(e,t){return Kr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ON(e,t){return PR(e,t)||e.state.data!==void 0&&pv(e,t,t.refetchOnMount)}function pv(e,t,n){if(Kr(t.enabled,e)!==!1&&Ga(t.staleTime,e)!=="static"){const a=typeof n=="function"?n(e):n;return a==="always"||a!==!1&&nj(e,t)}return!1}function EN(e,t,n,a){return(e!==t||Kr(a.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&nj(e,n)}function nj(e,t){return Kr(t.enabled,e)!==!1&&e.isStaleByTime(Ga(t.staleTime,e))}function OR(e,t){return!Bd(e.getCurrentResult(),t)}function _N(e){return{onFetch:(t,n)=>{var p,m,g,j,v;const a=t.options,s=(g=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:g.direction,i=((j=t.state.data)==null?void 0:j.pages)||[],l=((v=t.state.data)==null?void 0:v.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const h=async()=>{let w=!1;const x=P=>{bR(P,()=>t.signal,()=>w=!0)},S=RO(t.options,t.fetchOptions),O=async(P,N,C)=>{if(w)return Promise.reject();if(N==null&&P.pages.length)return Promise.resolve(P);const E=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:N,direction:C?"backward":"forward",meta:t.options.meta};return x(T),T})(),M=await S(E),{maxPages:R}=t.options,I=C?vR:yR;return{pages:I(P.pages,M,R),pageParams:I(P.pageParams,N,R)}};if(s&&i.length){const P=s==="backward",N=P?ER:TN,C={pages:i,pageParams:l},A=N(a,C);u=await O(C,A,P)}else{const P=e??i.length;do{const N=d===0?l[0]??a.initialPageParam:TN(a,u);if(d>0&&N==null)break;u=await O(u,N),d++}while(d<P)}return u};t.options.persister?t.fetchFn=()=>{var w,x;return(x=(w=t.options).persister)==null?void 0:x.call(w,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=h}}}function TN(e,{pages:t,pageParams:n}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,n[a],n):void 0}function ER(e,{pages:t,pageParams:n}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,n[0],n):void 0}var Uc,Cn,er,Ls,An,Ta,kO,_R=(kO=class extends $O{constructor(t){super();Pe(this,An);Pe(this,Uc);Pe(this,Cn);Pe(this,er);Pe(this,Ls);ye(this,Uc,t.client),this.mutationId=t.mutationId,ye(this,er,t.mutationCache),ye(this,Cn,[]),this.state=t.state||FO(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Q(this,Cn).includes(t)||(Q(this,Cn).push(t),this.clearGcTimeout(),Q(this,er).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ye(this,Cn,Q(this,Cn).filter(n=>n!==t)),this.scheduleGc(),Q(this,er).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Q(this,Cn).length||(this.state.status==="pending"?this.scheduleGc():Q(this,er).remove(this))}continue(){var t;return((t=Q(this,Ls))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,u,d,h,p,m,g,j,v,w,x,S,O,P,N,C,A,E;const n=()=>{qe(this,An,Ta).call(this,{type:"continue"})},a={client:Q(this,Uc),meta:this.options.meta,mutationKey:this.options.mutationKey};ye(this,Ls,IO({fn:()=>this.options.mutationFn?this.options.mutationFn(t,a):Promise.reject(new Error("No mutationFn found")),onFail:(M,R)=>{qe(this,An,Ta).call(this,{type:"failed",failureCount:M,error:R})},onPause:()=>{qe(this,An,Ta).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Q(this,er).canRun(this)}));const s=this.state.status==="pending",i=!Q(this,Ls).canStart();try{if(s)n();else{qe(this,An,Ta).call(this,{type:"pending",variables:t,isPaused:i}),Q(this,er).config.onMutate&&await Q(this,er).config.onMutate(t,this,a);const R=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,a));R!==this.state.context&&qe(this,An,Ta).call(this,{type:"pending",context:R,variables:t,isPaused:i})}const M=await Q(this,Ls).start();return await((h=(d=Q(this,er).config).onSuccess)==null?void 0:h.call(d,M,t,this.state.context,this,a)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,M,t,this.state.context,a)),await((j=(g=Q(this,er).config).onSettled)==null?void 0:j.call(g,M,null,this.state.variables,this.state.context,this,a)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,M,null,t,this.state.context,a)),qe(this,An,Ta).call(this,{type:"success",data:M}),M}catch(M){try{await((S=(x=Q(this,er).config).onError)==null?void 0:S.call(x,M,t,this.state.context,this,a))}catch(R){Promise.reject(R)}try{await((P=(O=this.options).onError)==null?void 0:P.call(O,M,t,this.state.context,a))}catch(R){Promise.reject(R)}try{await((C=(N=Q(this,er).config).onSettled)==null?void 0:C.call(N,void 0,M,this.state.variables,this.state.context,this,a))}catch(R){Promise.reject(R)}try{await((E=(A=this.options).onSettled)==null?void 0:E.call(A,void 0,M,t,this.state.context,a))}catch(R){Promise.reject(R)}throw qe(this,An,Ta).call(this,{type:"error",error:M}),M}finally{Q(this,er).runNext(this)}}},Uc=new WeakMap,Cn=new WeakMap,er=new WeakMap,Ls=new WeakMap,An=new WeakSet,Ta=function(t){const n=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),It.batch(()=>{Q(this,Cn).forEach(a=>{a.onMutationUpdate(t)}),Q(this,er).notify({mutation:this,type:"updated",action:t})})},kO);function FO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qn,dn,Wc,CO,TR=(CO=class extends Oo{constructor(t={}){super();Pe(this,Qn);Pe(this,dn);Pe(this,Wc);this.config=t,ye(this,Qn,new Set),ye(this,dn,new Map),ye(this,Wc,0)}build(t,n,a){const s=new _R({client:t,mutationCache:this,mutationId:++pd(this,Wc)._,options:t.defaultMutationOptions(n),state:a});return this.add(s),s}add(t){Q(this,Qn).add(t);const n=yd(t);if(typeof n=="string"){const a=Q(this,dn).get(n);a?a.push(t):Q(this,dn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Q(this,Qn).delete(t)){const n=yd(t);if(typeof n=="string"){const a=Q(this,dn).get(n);if(a)if(a.length>1){const s=a.indexOf(t);s!==-1&&a.splice(s,1)}else a[0]===t&&Q(this,dn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=yd(t);if(typeof n=="string"){const a=Q(this,dn).get(n),s=a==null?void 0:a.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var a;const n=yd(t);if(typeof n=="string"){const s=(a=Q(this,dn).get(n))==null?void 0:a.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){It.batch(()=>{Q(this,Qn).forEach(t=>{this.notify({type:"removed",mutation:t})}),Q(this,Qn).clear(),Q(this,dn).clear()})}getAll(){return Array.from(Q(this,Qn))}find(t){const n={exact:!0,...t};return this.getAll().find(a=>SN(n,a))}findAll(t={}){return this.getAll().filter(n=>SN(t,n))}notify(t){It.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return It.batch(()=>Promise.all(t.map(n=>n.continue().catch(or))))}},Qn=new WeakMap,dn=new WeakMap,Wc=new WeakMap,CO);function yd(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Yn,za,vr,Xn,aa,$d,xv,AO,RR=(AO=class extends Oo{constructor(n,a){super();Pe(this,aa);Pe(this,Yn);Pe(this,za);Pe(this,vr);Pe(this,Xn);ye(this,Yn,n),this.setOptions(a),this.bindMethods(),qe(this,aa,$d).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const a=this.options;this.options=Q(this,Yn).defaultMutationOptions(n),Bd(this.options,a)||Q(this,Yn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Q(this,vr),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&Us(a.mutationKey)!==Us(this.options.mutationKey)?this.reset():((s=Q(this,vr))==null?void 0:s.state.status)==="pending"&&Q(this,vr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Q(this,vr))==null||n.removeObserver(this)}onMutationUpdate(n){qe(this,aa,$d).call(this),qe(this,aa,xv).call(this,n)}getCurrentResult(){return Q(this,za)}reset(){var n;(n=Q(this,vr))==null||n.removeObserver(this),ye(this,vr,void 0),qe(this,aa,$d).call(this),qe(this,aa,xv).call(this)}mutate(n,a){var s;return ye(this,Xn,a),(s=Q(this,vr))==null||s.removeObserver(this),ye(this,vr,Q(this,Yn).getMutationCache().build(Q(this,Yn),this.options)),Q(this,vr).addObserver(this),Q(this,vr).execute(n)}},Yn=new WeakMap,za=new WeakMap,vr=new WeakMap,Xn=new WeakMap,aa=new WeakSet,$d=function(){var a;const n=((a=Q(this,vr))==null?void 0:a.state)??FO();ye(this,za,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},xv=function(n){It.batch(()=>{var a,s,i,l,u,d,h,p;if(Q(this,Xn)&&this.hasListeners()){const m=Q(this,za).variables,g=Q(this,za).context,j={client:Q(this,Yn),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(s=(a=Q(this,Xn)).onSuccess)==null||s.call(a,n.data,m,g,j)}catch(v){Promise.reject(v)}try{(l=(i=Q(this,Xn)).onSettled)==null||l.call(i,n.data,null,m,g,j)}catch(v){Promise.reject(v)}}else if((n==null?void 0:n.type)==="error"){try{(d=(u=Q(this,Xn)).onError)==null||d.call(u,n.error,m,g,j)}catch(v){Promise.reject(v)}try{(p=(h=Q(this,Xn)).onSettled)==null||p.call(h,void 0,n.error,m,g,j)}catch(v){Promise.reject(v)}}}this.listeners.forEach(m=>{m(Q(this,za))})})},AO),Pn,PO,MR=(PO=class extends Oo{constructor(t={}){super();Pe(this,Pn);this.config=t,ye(this,Pn,new Map)}build(t,n,a){const s=n.queryKey,i=n.queryHash??Zb(s,n);let l=this.get(i);return l||(l=new CR({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:a,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){Q(this,Pn).has(t.queryHash)||(Q(this,Pn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Q(this,Pn).get(t.queryHash);n&&(t.destroy(),n===t&&Q(this,Pn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){It.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Q(this,Pn).get(t)}getAll(){return[...Q(this,Pn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(a=>NN(n,a))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(a=>NN(t,a)):n}notify(t){It.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){It.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){It.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Pn=new WeakMap,PO),vt,Ba,qa,Xi,Ji,Ua,Zi,eo,OO,IR=(OO=class{constructor(e={}){Pe(this,vt);Pe(this,Ba);Pe(this,qa);Pe(this,Xi);Pe(this,Ji);Pe(this,Ua);Pe(this,Zi);Pe(this,eo);ye(this,vt,e.queryCache||new MR),ye(this,Ba,e.mutationCache||new TR),ye(this,qa,e.defaultOptions||{}),ye(this,Xi,new Map),ye(this,Ji,new Map),ye(this,Ua,0)}mount(){pd(this,Ua)._++,Q(this,Ua)===1&&(ye(this,Zi,rj.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,vt).onFocus())})),ye(this,eo,qd.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,vt).onOnline())})))}unmount(){var e,t;pd(this,Ua)._--,Q(this,Ua)===0&&((e=Q(this,Zi))==null||e.call(this),ye(this,Zi,void 0),(t=Q(this,eo))==null||t.call(this),ye(this,eo,void 0))}isFetching(e){return Q(this,vt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Q(this,Ba).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Q(this,vt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Q(this,vt).build(this,t),a=n.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ga(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return Q(this,vt).findAll(e).map(({queryKey:t,state:n})=>{const a=n.data;return[t,a]})}setQueryData(e,t,n){const a=this.defaultQueryOptions({queryKey:e}),s=Q(this,vt).get(a.queryHash),i=s==null?void 0:s.state.data,l=pR(t,i);if(l!==void 0)return Q(this,vt).build(this,a).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return It.batch(()=>Q(this,vt).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Q(this,vt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Q(this,vt);It.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Q(this,vt);return It.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},a=It.batch(()=>Q(this,vt).findAll(e).map(s=>s.cancel(n)));return Promise.all(a).then(or).catch(or)}invalidateQueries(e,t={}){return It.batch(()=>(Q(this,vt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},a=It.batch(()=>Q(this,vt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(or)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(or)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Q(this,vt).build(this,t);return n.isStaleByTime(Ga(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(or).catch(or)}fetchInfiniteQuery(e){return e.behavior=_N(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(or).catch(or)}ensureInfiniteQueryData(e){return e.behavior=_N(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return qd.isOnline()?Q(this,Ba).resumePausedMutations():Promise.resolve()}getQueryCache(){return Q(this,vt)}getMutationCache(){return Q(this,Ba)}getDefaultOptions(){return Q(this,qa)}setDefaultOptions(e){ye(this,qa,e)}setQueryDefaults(e,t){Q(this,Xi).set(Us(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Q(this,Xi).values()],n={};return t.forEach(a=>{ec(e,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(e,t){Q(this,Ji).set(Us(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Q(this,Ji).values()],n={};return t.forEach(a=>{ec(e,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Q(this,qa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Zb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ej&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Q(this,qa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Q(this,vt).clear(),Q(this,Ba).clear()}},vt=new WeakMap,Ba=new WeakMap,qa=new WeakMap,Xi=new WeakMap,Ji=new WeakMap,Ua=new WeakMap,Zi=new WeakMap,eo=new WeakMap,OO),zO=b.createContext(void 0),wt=e=>{const t=b.useContext(zO);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},$R=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(zO.Provider,{value:e,children:t})),BO=b.createContext(!1),LR=()=>b.useContext(BO);BO.Provider;function DR(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var FR=b.createContext(DR()),zR=()=>b.useContext(FR),BR=(e,t,n)=>{const a=n!=null&&n.state.error&&typeof e.throwOnError=="function"?tj(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||a)&&(t.isReset()||(e.retryOnMount=!1))},qR=e=>{b.useEffect(()=>{e.clearReset()},[e])},UR=({result:e,errorResetBoundary:t,throwOnError:n,query:a,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(s&&e.data===void 0||tj(n,[e.error,a])),WR=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...s)=>n(a(...s)):n(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},HR=(e,t)=>e.isLoading&&e.isFetching&&!t,KR=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,RN=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function GR(e,t,n){var g,j,v,w;const a=LR(),s=zR(),i=wt(),l=i.defaultQueryOptions(e);(j=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||j.call(g,l);const u=i.getQueryCache().get(l.queryHash);l._optimisticResults=a?"isRestoring":"optimistic",WR(l),BR(l,s,u),qR(s);const d=!i.getQueryCache().get(l.queryHash),[h]=b.useState(()=>new t(i,l)),p=h.getOptimisticResult(l),m=!a&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(x=>{const S=m?h.subscribe(It.batchCalls(x)):or;return h.updateResult(),S},[h,m]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),b.useEffect(()=>{h.setOptions(l)},[l,h]),KR(l,p))throw RN(l,h,s);if(UR({result:p,errorResetBoundary:s,throwOnError:l.throwOnError,query:u,suspense:l.suspense}))throw p.error;if((w=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||w.call(v,l,p),l.experimental_prefetchInRender&&!qs&&HR(p,a)){const x=d?RN(l,h,s):u==null?void 0:u.promise;x==null||x.catch(or).finally(()=>{h.updateResult()})}return l.notifyOnChangeProps?p:h.trackResult(p)}function Ot(e,t){return GR(e,AR)}function Et(e,t){const n=wt(),[a]=b.useState(()=>new RR(n,e));b.useEffect(()=>{a.setOptions(e)},[a,e]);const s=b.useSyncExternalStore(b.useCallback(l=>a.subscribe(It.batchCalls(l)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),i=b.useCallback((l,u)=>{a.mutate(l,u).catch(or)},[a]);if(s.error&&tj(a.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}EO();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tc.apply(this,arguments)}var Wa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wa||(Wa={}));const MN="popstate";function VR(e){e===void 0&&(e={});function t(a,s){let{pathname:i,search:l,hash:u}=a.location;return gv("",{pathname:i,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){return typeof s=="string"?s:Ud(s)}return YR(t,n,null,e)}function kt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function aj(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QR(){return Math.random().toString(36).substr(2,8)}function IN(e,t){return{usr:e.state,key:e.key,idx:t}}function gv(e,t,n,a){return n===void 0&&(n=null),tc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Eo(t):t,{state:n,key:t&&t.key||a||QR()})}function Ud(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Eo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function YR(e,t,n,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,l=s.history,u=Wa.Pop,d=null,h=p();h==null&&(h=0,l.replaceState(tc({},l.state,{idx:h}),""));function p(){return(l.state||{idx:null}).idx}function m(){u=Wa.Pop;let x=p(),S=x==null?null:x-h;h=x,d&&d({action:u,location:w.location,delta:S})}function g(x,S){u=Wa.Push;let O=gv(w.location,x,S);h=p()+1;let P=IN(O,h),N=w.createHref(O);try{l.pushState(P,"",N)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(N)}i&&d&&d({action:u,location:w.location,delta:1})}function j(x,S){u=Wa.Replace;let O=gv(w.location,x,S);h=p();let P=IN(O,h),N=w.createHref(O);l.replaceState(P,"",N),i&&d&&d({action:u,location:w.location,delta:0})}function v(x){let S=s.location.origin!=="null"?s.location.origin:s.location.href,O=typeof x=="string"?x:Ud(x);return O=O.replace(/ $/,"%20"),kt(S,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,S)}let w={get action(){return u},get location(){return e(s,l)},listen(x){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(MN,m),d=x,()=>{s.removeEventListener(MN,m),d=null}},createHref(x){return t(s,x)},createURL:v,encodeLocation(x){let S=v(x);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:j,go(x){return l.go(x)}};return w}var $N;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($N||($N={}));function XR(e,t,n){return n===void 0&&(n="/"),JR(e,t,n)}function JR(e,t,n,a){let s=typeof t=="string"?Eo(t):t,i=sj(s.pathname||"/",n);if(i==null)return null;let l=qO(e);ZR(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=dM(i);u=lM(l[d],h)}return u}function qO(e,t,n,a){t===void 0&&(t=[]),n===void 0&&(n=[]),a===void 0&&(a="");let s=(i,l,u)=>{let d={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};d.relativePath.startsWith("/")&&(kt(d.relativePath.startsWith(a),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(a.length));let h=Va([a,d.relativePath]),p=n.concat(d);i.children&&i.children.length>0&&(kt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),qO(i.children,t,p,h)),!(i.path==null&&!i.index)&&t.push({path:h,score:iM(h,i.index),routesMeta:p})};return e.forEach((i,l)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))s(i,l);else for(let d of UO(i.path))s(i,l,d)}),t}function UO(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let l=UO(a.join("/")),u=[];return u.push(...l.map(d=>d===""?i:[i,d].join("/"))),s&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function ZR(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:oM(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const eM=/^:[\w-]+$/,tM=3,rM=2,nM=1,aM=10,sM=-2,LN=e=>e==="*";function iM(e,t){let n=e.split("/"),a=n.length;return n.some(LN)&&(a+=sM),t&&(a+=rM),n.filter(s=>!LN(s)).reduce((s,i)=>s+(eM.test(i)?tM:i===""?nM:aM),a)}function oM(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function lM(e,t,n){let{routesMeta:a}=e,s={},i="/",l=[];for(let u=0;u<a.length;++u){let d=a[u],h=u===a.length-1,p=i==="/"?t:t.slice(i.length)||"/",m=cM({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),g=d.route;if(!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:Va([i,m.pathname]),pathnameBase:xM(Va([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=Va([i,m.pathnameBase]))}return l}function cM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=uM(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:a.reduce((h,p,m)=>{let{paramName:g,isOptional:j}=p;if(g==="*"){let w=u[m]||"";l=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=u[m];return j&&!v?h[g]=void 0:h[g]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:e}}function uM(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),aj(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(a.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function dM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return aj(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function sj(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}const hM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fM=e=>hM.test(e);function mM(e,t){t===void 0&&(t="/");let{pathname:n,search:a="",hash:s=""}=typeof e=="string"?Eo(e):e,i;if(n)if(fM(n))i=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),aj(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?i=DN(n.substring(1),"/"):i=DN(n,t)}else i=t;return{pathname:i,search:gM(a),hash:yM(s)}}function DN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Up(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pM(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ij(e,t){let n=pM(e);return t?n.map((a,s)=>s===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function oj(e,t,n,a){a===void 0&&(a=!1);let s;typeof e=="string"?s=Eo(e):(s=tc({},e),kt(!s.pathname||!s.pathname.includes("?"),Up("?","pathname","search",s)),kt(!s.pathname||!s.pathname.includes("#"),Up("#","pathname","hash",s)),kt(!s.search||!s.search.includes("#"),Up("#","search","hash",s)));let i=e===""||s.pathname==="",l=i?"/":s.pathname,u;if(l==null)u=n;else{let m=t.length-1;if(!a&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;s.pathname=g.join("/")}u=m>=0?t[m]:"/"}let d=mM(s,u),h=l&&l!=="/"&&l.endsWith("/"),p=(i||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}const Va=e=>e.join("/").replace(/\/\/+/g,"/"),xM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function vM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const WO=["post","put","patch","delete"];new Set(WO);const bM=["get",...WO];new Set(bM);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},rc.apply(this,arguments)}const lj=b.createContext(null),jM=b.createContext(null),Ja=b.createContext(null),Jh=b.createContext(null),la=b.createContext({outlet:null,matches:[],isDataRoute:!1}),HO=b.createContext(null);function wM(e,t){let{relative:n}=t===void 0?{}:t;_o()||kt(!1);let{basename:a,navigator:s}=b.useContext(Ja),{hash:i,pathname:l,search:u}=GO(e,{relative:n}),d=l;return a!=="/"&&(d=l==="/"?a:Va([a,l])),s.createHref({pathname:d,search:u,hash:i})}function _o(){return b.useContext(Jh)!=null}function Xs(){return _o()||kt(!1),b.useContext(Jh).location}function KO(e){b.useContext(Ja).static||b.useLayoutEffect(e)}function Js(){let{isDataRoute:e}=b.useContext(la);return e?IM():NM()}function NM(){_o()||kt(!1);let e=b.useContext(lj),{basename:t,future:n,navigator:a}=b.useContext(Ja),{matches:s}=b.useContext(la),{pathname:i}=Xs(),l=JSON.stringify(ij(s,n.v7_relativeSplatPath)),u=b.useRef(!1);return KO(()=>{u.current=!0}),b.useCallback(function(h,p){if(p===void 0&&(p={}),!u.current)return;if(typeof h=="number"){a.go(h);return}let m=oj(h,JSON.parse(l),i,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Va([t,m.pathname])),(p.replace?a.replace:a.push)(m,p.state,p)},[t,a,l,i,e])}function Zh(){let{matches:e}=b.useContext(la),t=e[e.length-1];return t?t.params:{}}function GO(e,t){let{relative:n}=t===void 0?{}:t,{future:a}=b.useContext(Ja),{matches:s}=b.useContext(la),{pathname:i}=Xs(),l=JSON.stringify(ij(s,a.v7_relativeSplatPath));return b.useMemo(()=>oj(e,JSON.parse(l),i,n==="path"),[e,l,i,n])}function SM(e,t){return kM(e,t)}function kM(e,t,n,a){_o()||kt(!1);let{navigator:s}=b.useContext(Ja),{matches:i}=b.useContext(la),l=i[i.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let h=Xs(),p;if(t){var m;let x=typeof t=="string"?Eo(t):t;d==="/"||(m=x.pathname)!=null&&m.startsWith(d)||kt(!1),p=x}else p=h;let g=p.pathname||"/",j=g;if(d!=="/"){let x=d.replace(/^\//,"").split("/");j="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=XR(e,{pathname:j}),w=EM(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},u,x.params),pathname:Va([d,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:Va([d,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,a);return t&&w?b.createElement(Jh.Provider,{value:{location:rc({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Wa.Pop}},w):w}function CM(){let e=MM(),t=vM(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:s},n):null,null)}const AM=b.createElement(CM,null);class PM extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(la.Provider,{value:this.props.routeContext},b.createElement(HO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OM(e){let{routeContext:t,match:n,children:a}=e,s=b.useContext(lj);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(la.Provider,{value:t},a)}function EM(e,t,n,a){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),a===void 0&&(a=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=(s=n)==null?void 0:s.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);p>=0||kt(!1),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,h=-1;if(n&&a&&a.v7_partialHydration)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:g,errors:j}=n,v=m.route.loader&&g[m.route.id]===void 0&&(!j||j[m.route.id]===void 0);if(m.route.lazy||v){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,m,g)=>{let j,v=!1,w=null,x=null;n&&(j=u&&m.route.id?u[m.route.id]:void 0,w=m.route.errorElement||AM,d&&(h<0&&g===0?($M("route-fallback"),v=!0,x=null):h===g&&(v=!0,x=m.route.hydrateFallbackElement||null)));let S=t.concat(l.slice(0,g+1)),O=()=>{let P;return j?P=w:v?P=x:m.route.Component?P=b.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=p,b.createElement(OM,{match:m,routeContext:{outlet:p,matches:S,isDataRoute:n!=null},children:P})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?b.createElement(PM,{location:n.location,revalidation:n.revalidation,component:w,error:j,children:O(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):O()},null)}var VO=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(VO||{}),QO=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(QO||{});function _M(e){let t=b.useContext(lj);return t||kt(!1),t}function TM(e){let t=b.useContext(jM);return t||kt(!1),t}function RM(e){let t=b.useContext(la);return t||kt(!1),t}function YO(e){let t=RM(),n=t.matches[t.matches.length-1];return n.route.id||kt(!1),n.route.id}function MM(){var e;let t=b.useContext(HO),n=TM(),a=YO();return t!==void 0?t:(e=n.errors)==null?void 0:e[a]}function IM(){let{router:e}=_M(VO.UseNavigateStable),t=YO(QO.UseNavigateStable),n=b.useRef(!1);return KO(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,rc({fromRouteId:t},i)))},[e,t])}const FN={};function $M(e,t,n){FN[e]||(FN[e]=!0)}function LM(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function XO(e){let{to:t,replace:n,state:a,relative:s}=e;_o()||kt(!1);let{future:i,static:l}=b.useContext(Ja),{matches:u}=b.useContext(la),{pathname:d}=Xs(),h=Js(),p=oj(t,ij(u,i.v7_relativeSplatPath),d,s==="path"),m=JSON.stringify(p);return b.useEffect(()=>h(JSON.parse(m),{replace:n,state:a,relative:s}),[h,m,s,n,a]),null}function Oe(e){kt(!1)}function DM(e){let{basename:t="/",children:n=null,location:a,navigationType:s=Wa.Pop,navigator:i,static:l=!1,future:u}=e;_o()&&kt(!1);let d=t.replace(/^\/*/,"/"),h=b.useMemo(()=>({basename:d,navigator:i,static:l,future:rc({v7_relativeSplatPath:!1},u)}),[d,u,i,l]);typeof a=="string"&&(a=Eo(a));let{pathname:p="/",search:m="",hash:g="",state:j=null,key:v="default"}=a,w=b.useMemo(()=>{let x=sj(p,d);return x==null?null:{location:{pathname:x,search:m,hash:g,state:j,key:v},navigationType:s}},[d,p,m,g,j,v,s]);return w==null?null:b.createElement(Ja.Provider,{value:h},b.createElement(Jh.Provider,{children:n,value:w}))}function FM(e){let{children:t,location:n}=e;return SM(yv(t),n)}new Promise(()=>{});function yv(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(a,s)=>{if(!b.isValidElement(a))return;let i=[...t,s];if(a.type===b.Fragment){n.push.apply(n,yv(a.props.children,i));return}a.type!==Oe&&kt(!1),!a.props.index||!a.props.children||kt(!1);let l={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=yv(a.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},vv.apply(this,arguments)}function zM(e,t){if(e==null)return{};var n={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function BM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qM(e,t){return e.button===0&&(!t||t==="_self")&&!BM(e)}function bv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(s=>[n,s]):[[n,a]])},[]))}function UM(e,t){let n=bv(e);return t&&t.forEach((a,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const WM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],HM="6";try{window.__reactRouterVersion=HM}catch{}const KM="startTransition",zN=sR[KM];function GM(e){let{basename:t,children:n,future:a,window:s}=e,i=b.useRef();i.current==null&&(i.current=VR({window:s,v5Compat:!0}));let l=i.current,[u,d]=b.useState({action:l.action,location:l.location}),{v7_startTransition:h}=a||{},p=b.useCallback(m=>{h&&zN?zN(()=>d(m)):d(m)},[d,h]);return b.useLayoutEffect(()=>l.listen(p),[l,p]),b.useEffect(()=>LM(a),[a]),b.createElement(DM,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:a})}const VM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=b.forwardRef(function(t,n){let{onClick:a,relative:s,reloadDocument:i,replace:l,state:u,target:d,to:h,preventScrollReset:p,viewTransition:m}=t,g=zM(t,WM),{basename:j}=b.useContext(Ja),v,w=!1;if(typeof h=="string"&&QM.test(h)&&(v=h,VM))try{let P=new URL(window.location.href),N=h.startsWith("//")?new URL(P.protocol+h):new URL(h),C=sj(N.pathname,j);N.origin===P.origin&&C!=null?h=C+N.search+N.hash:w=!0}catch{}let x=wM(h,{relative:s}),S=YM(h,{replace:l,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:m});function O(P){a&&a(P),P.defaultPrevented||S(P)}return b.createElement("a",vv({},g,{href:v||x,onClick:w||i?a:O,ref:n,target:d}))});var BN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(BN||(BN={}));var qN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qN||(qN={}));function YM(e,t){let{target:n,replace:a,state:s,preventScrollReset:i,relative:l,viewTransition:u}=t===void 0?{}:t,d=Js(),h=Xs(),p=GO(e,{relative:l});return b.useCallback(m=>{if(qM(m,n)){m.preventDefault();let g=a!==void 0?a:Ud(h)===Ud(p);d(e,{replace:g,state:s,preventScrollReset:i,relative:l,viewTransition:u})}},[h,d,p,a,s,n,e,i,l,u])}function ef(e){let t=b.useRef(bv(e)),n=b.useRef(!1),a=Xs(),s=b.useMemo(()=>UM(a.search,n.current?null:t.current),[a.search]),i=Js(),l=b.useCallback((u,d)=>{const h=bv(typeof u=="function"?u(s):u);n.current=!0,i("?"+h,d)},[i,s]);return[s,l]}function XM({onClick:e,loading:t=!1}){return r.jsxs("button",{onClick:e,disabled:t,className:"flex items-center justify-center gap-3 w-full px-6 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z",fill:"#4285F4"}),r.jsx("path",{d:"M9.003 18c2.43 0 4.467-.806 5.956-2.184l-2.908-2.258c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z",fill:"#34A853"}),r.jsx("path",{d:"M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05"}),r.jsx("path",{d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.426 0 9.003 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z",fill:"#EA4335"})]}),r.jsx("span",{className:"text-gray-700 font-medium",children:t?"Signing in...":"Sign in with Google"})]})}const UN={session_expired:"Your login session has expired. Please try again.",auth_failed:"Authentication failed. Please try again.",access_denied:"Access was denied. Please try again and grant the required permissions.",invalid_request:"Invalid authentication request. Please try again.",server_error:"Server error occurred. Please try again later."};function JM(){const[e]=ef(),[t,n]=b.useState(null);b.useEffect(()=>{const s=e.get("error");if(s&&UN[s]){n(UN[s]);const i=new URLSearchParams(e);i.delete("error");const l=i.toString();window.history.replaceState({},"",l?`/login?${l}`:"/login")}},[e]);const a=()=>{const s="https://auth.nubabel.com";window.location.href=`${s}/auth/google`};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:r.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Nubabel"}),r.jsx("p",{className:"text-gray-600",children:"AI-Powered Workflow Automation"})]}),t&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-red-700 text-sm text-center",children:t})}),r.jsx(XM,{onClick:a}),r.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:"Sign in with your company Google account"})]})})}function vd({title:e,value:t,change:n,icon:a,trend:s}){const[i,l]=b.useState(0);return b.useEffect(()=>{if(typeof t!="number")return;const u=1e3,d=Date.now(),h=()=>{const p=Date.now()-d,m=Math.min(p/u,1),g=1-Math.pow(1-m,3);l(Math.round(g*t)),m<1&&requestAnimationFrame(h)};h()},[t]),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-500",children:e}),r.jsx("span",{className:"text-gray-400",children:a})]}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:typeof t=="number"?i.toLocaleString():t}),n!==void 0&&r.jsxs("div",{className:`text-sm mt-1 ${s==="up"?"text-green-600":s==="down"?"text-red-600":"text-gray-500"}`,children:[n>0?"+":"",n,"% from last week"]})]})}function ZM({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const jv=b.forwardRef(ZM);function eI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const tI=b.forwardRef(eI);function rI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15 11.25-3-3m0 0-3 3m3-3v7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const nI=b.forwardRef(rI);function aI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const wv=b.forwardRef(aI);function sI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const iI=b.forwardRef(sI);function oI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const JO=b.forwardRef(oI);function lI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Wd=b.forwardRef(lI);function cI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const uI=b.forwardRef(cI);function dI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const hI=b.forwardRef(dI);function fI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const mI=b.forwardRef(fI);function pI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const Nv=b.forwardRef(pI);function xI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const gI=b.forwardRef(xI);function yI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ZO=b.forwardRef(yI);function vI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const e3=b.forwardRef(vI);function bI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const jI=b.forwardRef(bI);function wI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const Sv=b.forwardRef(wI);function NI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const cj=b.forwardRef(NI);function SI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Hd=b.forwardRef(SI);function kI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const CI=b.forwardRef(kI);function AI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const tf=b.forwardRef(AI);function PI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const OI=b.forwardRef(PI);function EI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Kd=b.forwardRef(EI);function _I({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Gd=b.forwardRef(_I);function TI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const RI=b.forwardRef(TI);function MI({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Vd=b.forwardRef(MI);function II({title:e,titleId:t,...n},a){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const uj=b.forwardRef(II),$I=[{id:"new-workflow",label:"New Workflow",icon:r.jsx(tf,{className:"h-5 w-5"}),shortcut:"N",path:"/workflows/new"},{id:"run-workflow",label:"Run Workflow",icon:r.jsx(CI,{className:"h-5 w-5"}),shortcut:"R",path:"/workflows"},{id:"settings",label:"Settings",icon:r.jsx(gI,{className:"h-5 w-5"}),shortcut:"S",path:"/settings"},{id:"help",label:"Help & Docs",icon:r.jsx(OI,{className:"h-5 w-5"}),shortcut:"?",path:"/help"}];function LI(){const e=Js();return r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-3",children:"Quick Actions"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:$I.map(t=>r.jsxs("button",{onClick:()=>e(t.path),className:"flex items-center gap-3 px-3 py-2 text-left rounded-lg hover:bg-gray-50 transition-colors group",children:[r.jsx("span",{className:"text-gray-400 group-hover:text-indigo-600",children:t.icon}),r.jsx("span",{className:"flex-1 text-sm text-gray-700",children:t.label}),t.shortcut&&r.jsx("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 rounded text-gray-500",children:t.shortcut})]},t.id))})]})}function DI(){const[e]=b.useState([{id:"1",type:"execution",title:"Workflow completed",description:"Daily report",timestamp:new Date,status:"success"},{id:"2",type:"message",title:"New message",description:"From Slack #general",timestamp:new Date(Date.now()-6e4)},{id:"3",type:"system",title:"System update",timestamp:new Date(Date.now()-12e4)}]),t={success:"bg-green-100 text-green-800",error:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800"};return r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-3",children:"Recent Activity"}),r.jsxs("div",{className:"space-y-3",children:[e.map((n,a)=>r.jsxs("div",{className:"flex items-start gap-3 py-2 animate-fade-in",style:{animationDelay:`${a*100}ms`},children:[r.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${n.status?t[n.status].split(" ")[0]:"bg-gray-300"}`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:n.title}),n.description&&r.jsx("p",{className:"text-xs text-gray-500",children:n.description})]}),r.jsx("span",{className:"text-xs text-gray-400",children:FI(n.timestamp)})]},n.id)),e.length===0&&r.jsx("p",{className:"text-sm text-gray-400 text-center py-4",children:"No recent activity"})]})]})}function FI(e){const t=Date.now()-e.getTime();return t<6e4?"Just now":t<36e5?`${Math.floor(t/6e4)}m ago`:`${Math.floor(t/36e5)}h ago`}function Wp({className:e="",style:t}){return r.jsx("div",{className:`animate-pulse bg-gray-200 rounded ${e}`,style:t})}function Qr(){return r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 space-y-2",children:[r.jsx(Wp,{className:"h-3 w-1/2"}),r.jsx(Wp,{className:"h-8 w-2/3"}),r.jsx(Wp,{className:"h-3 w-1/3"})]})}function zI(){const[e]=b.useState(!1),[t,n]=b.useState({account:!0,slack:!1,workflow:!1}),a=s=>{n(i=>({...i,[s]:!i[s]}))};return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Welcome to Nubabel - AI-Powered Workflow Automation Platform"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:e?r.jsxs(r.Fragment,{children:[r.jsx(Qr,{}),r.jsx(Qr,{}),r.jsx(Qr,{}),r.jsx(Qr,{})]}):r.jsxs(r.Fragment,{children:[r.jsx(vd,{title:"Total Runs",value:"0",icon:r.jsx(JO,{className:"h-5 w-5"}),trend:"neutral",change:0}),r.jsx(vd,{title:"Active Users",value:"1",icon:r.jsx(RI,{className:"h-5 w-5"}),trend:"neutral",change:0}),r.jsx(vd,{title:"Total Cost",value:"$0.00",icon:r.jsx(ZO,{className:"h-5 w-5"}),trend:"neutral",change:0}),r.jsx(vd,{title:"Errors",value:"0",icon:r.jsx(e3,{className:"h-5 w-5"}),trend:"neutral",change:0})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[r.jsx(LI,{}),r.jsx(DI,{})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:" Getting Started"}),r.jsx("p",{className:"text-blue-800 mb-4",children:"Complete these steps to start automating your workflows:"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[r.jsx("input",{type:"checkbox",checked:t.account,onChange:()=>a("account"),className:"h-5 w-5 rounded border-blue-300 text-blue-600 focus:ring-blue-500 cursor-pointer"}),r.jsx("span",{className:`text-blue-800 group-hover:text-blue-900 ${t.account?"line-through opacity-75":""}`,children:"Set up your account"})]}),r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[r.jsx("input",{type:"checkbox",checked:t.slack,onChange:()=>a("slack"),className:"h-5 w-5 rounded border-blue-300 text-blue-600 focus:ring-blue-500 cursor-pointer"}),r.jsx("span",{className:`text-blue-800 group-hover:text-blue-900 ${t.slack?"line-through opacity-75":""}`,children:"Configure your integrations (Slack, Notion, etc.)"})]}),r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[r.jsx("input",{type:"checkbox",checked:t.workflow,onChange:()=>a("workflow"),className:"h-5 w-5 rounded border-blue-300 text-blue-600 focus:ring-blue-500 cursor-pointer"}),r.jsx("span",{className:`text-blue-800 group-hover:text-blue-900 ${t.workflow?"line-through opacity-75":""}`,children:"Create and run your first workflow"})]})]})]})]})}function BI({workflow:e,onExecute:t}){return r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${e.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.enabled?"Enabled":"Disabled"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:e.description||"No description"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-xs text-gray-500",children:["Created ",new Date(e.createdAt).toLocaleDateString()]}),r.jsx("button",{onClick:()=>t(e.id),disabled:!e.enabled,className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Execute"})]})]})}function t3(e,t){return function(){return e.apply(t,arguments)}}const{toString:qI}=Object.prototype,{getPrototypeOf:dj}=Object,{iterator:rf,toStringTag:r3}=Symbol,nf=(e=>t=>{const n=qI.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),xn=e=>(e=e.toLowerCase(),t=>nf(t)===e),af=e=>t=>typeof t===e,{isArray:To}=Array,to=af("undefined");function Hc(e){return e!==null&&!to(e)&&e.constructor!==null&&!to(e.constructor)&&jr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const n3=xn("ArrayBuffer");function UI(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&n3(e.buffer),t}const WI=af("string"),jr=af("function"),a3=af("number"),Kc=e=>e!==null&&typeof e=="object",HI=e=>e===!0||e===!1,Ld=e=>{if(nf(e)!=="object")return!1;const t=dj(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(r3 in e)&&!(rf in e)},KI=e=>{if(!Kc(e)||Hc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},GI=xn("Date"),VI=xn("File"),QI=xn("Blob"),YI=xn("FileList"),XI=e=>Kc(e)&&jr(e.pipe),JI=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||jr(e.append)&&((t=nf(e))==="formdata"||t==="object"&&jr(e.toString)&&e.toString()==="[object FormData]"))},ZI=xn("URLSearchParams"),[e$,t$,r$,n$]=["ReadableStream","Request","Response","Headers"].map(xn),a$=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gc(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let a,s;if(typeof e!="object"&&(e=[e]),To(e))for(a=0,s=e.length;a<s;a++)t.call(null,e[a],a,e);else{if(Hc(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let u;for(a=0;a<l;a++)u=i[a],t.call(null,e[u],u,e)}}function s3(e,t){if(Hc(e))return null;t=t.toLowerCase();const n=Object.keys(e);let a=n.length,s;for(;a-- >0;)if(s=n[a],t===s.toLowerCase())return s;return null}const Ss=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,i3=e=>!to(e)&&e!==Ss;function kv(){const{caseless:e,skipUndefined:t}=i3(this)&&this||{},n={},a=(s,i)=>{const l=e&&s3(n,i)||i;Ld(n[l])&&Ld(s)?n[l]=kv(n[l],s):Ld(s)?n[l]=kv({},s):To(s)?n[l]=s.slice():(!t||!to(s))&&(n[l]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Gc(arguments[s],a);return n}const s$=(e,t,n,{allOwnKeys:a}={})=>(Gc(t,(s,i)=>{n&&jr(s)?Object.defineProperty(e,i,{value:t3(s,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,i,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:a}),e),i$=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),o$=(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},l$=(e,t,n,a)=>{let s,i,l;const u={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)l=s[i],(!a||a(l,e,t))&&!u[l]&&(t[l]=e[l],u[l]=!0);e=n!==!1&&dj(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},c$=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return a!==-1&&a===n},u$=e=>{if(!e)return null;if(To(e))return e;let t=e.length;if(!a3(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},d$=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&dj(Uint8Array)),h$=(e,t)=>{const a=(e&&e[rf]).call(e);let s;for(;(s=a.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},f$=(e,t)=>{let n;const a=[];for(;(n=e.exec(t))!==null;)a.push(n);return a},m$=xn("HTMLFormElement"),p$=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,s){return a.toUpperCase()+s}),WN=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),x$=xn("RegExp"),o3=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};Gc(n,(s,i)=>{let l;(l=t(s,i,e))!==!1&&(a[i]=l||s)}),Object.defineProperties(e,a)},g$=e=>{o3(e,(t,n)=>{if(jr(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=e[n];if(jr(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},y$=(e,t)=>{const n={},a=s=>{s.forEach(i=>{n[i]=!0})};return To(e)?a(e):a(String(e).split(t)),n},v$=()=>{},b$=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function j$(e){return!!(e&&jr(e.append)&&e[r3]==="FormData"&&e[rf])}const w$=e=>{const t=new Array(10),n=(a,s)=>{if(Kc(a)){if(t.indexOf(a)>=0)return;if(Hc(a))return a;if(!("toJSON"in a)){t[s]=a;const i=To(a)?[]:{};return Gc(a,(l,u)=>{const d=n(l,s+1);!to(d)&&(i[u]=d)}),t[s]=void 0,i}}return a};return n(e,0)},N$=xn("AsyncFunction"),S$=e=>e&&(Kc(e)||jr(e))&&jr(e.then)&&jr(e.catch),l3=((e,t)=>e?setImmediate:t?((n,a)=>(Ss.addEventListener("message",({source:s,data:i})=>{s===Ss&&i===n&&a.length&&a.shift()()},!1),s=>{a.push(s),Ss.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",jr(Ss.postMessage)),k$=typeof queueMicrotask<"u"?queueMicrotask.bind(Ss):typeof process<"u"&&process.nextTick||l3,C$=e=>e!=null&&jr(e[rf]),le={isArray:To,isArrayBuffer:n3,isBuffer:Hc,isFormData:JI,isArrayBufferView:UI,isString:WI,isNumber:a3,isBoolean:HI,isObject:Kc,isPlainObject:Ld,isEmptyObject:KI,isReadableStream:e$,isRequest:t$,isResponse:r$,isHeaders:n$,isUndefined:to,isDate:GI,isFile:VI,isBlob:QI,isRegExp:x$,isFunction:jr,isStream:XI,isURLSearchParams:ZI,isTypedArray:d$,isFileList:YI,forEach:Gc,merge:kv,extend:s$,trim:a$,stripBOM:i$,inherits:o$,toFlatObject:l$,kindOf:nf,kindOfTest:xn,endsWith:c$,toArray:u$,forEachEntry:h$,matchAll:f$,isHTMLForm:m$,hasOwnProperty:WN,hasOwnProp:WN,reduceDescriptors:o3,freezeMethods:g$,toObjectSet:y$,toCamelCase:p$,noop:v$,toFiniteNumber:b$,findKey:s3,global:Ss,isContextDefined:i3,isSpecCompliantForm:j$,toJSONObject:w$,isAsyncFn:N$,isThenable:S$,setImmediate:l3,asap:k$,isIterable:C$};let Le=class c3 extends Error{static from(t,n,a,s,i,l){const u=new c3(t.message,n||t.code,a,s,i);return u.cause=t,u.name=t.name,l&&Object.assign(u,l),u}constructor(t,n,a,s,i){super(t),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),a&&(this.config=a),s&&(this.request=s),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:le.toJSONObject(this.config),code:this.code,status:this.status}}};Le.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Le.ERR_BAD_OPTION="ERR_BAD_OPTION";Le.ECONNABORTED="ECONNABORTED";Le.ETIMEDOUT="ETIMEDOUT";Le.ERR_NETWORK="ERR_NETWORK";Le.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Le.ERR_DEPRECATED="ERR_DEPRECATED";Le.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Le.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Le.ERR_CANCELED="ERR_CANCELED";Le.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Le.ERR_INVALID_URL="ERR_INVALID_URL";const A$=null;function Cv(e){return le.isPlainObject(e)||le.isArray(e)}function u3(e){return le.endsWith(e,"[]")?e.slice(0,-2):e}function HN(e,t,n){return e?e.concat(t).map(function(s,i){return s=u3(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function P$(e){return le.isArray(e)&&!e.some(Cv)}const O$=le.toFlatObject(le,{},null,function(t){return/^is[A-Z]/.test(t)});function sf(e,t,n){if(!le.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=le.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,x){return!le.isUndefined(x[w])});const a=n.metaTokens,s=n.visitor||p,i=n.dots,l=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&le.isSpecCompliantForm(t);if(!le.isFunction(s))throw new TypeError("visitor must be a function");function h(v){if(v===null)return"";if(le.isDate(v))return v.toISOString();if(le.isBoolean(v))return v.toString();if(!d&&le.isBlob(v))throw new Le("Blob is not supported. Use a Buffer instead.");return le.isArrayBuffer(v)||le.isTypedArray(v)?d&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function p(v,w,x){let S=v;if(v&&!x&&typeof v=="object"){if(le.endsWith(w,"{}"))w=a?w:w.slice(0,-2),v=JSON.stringify(v);else if(le.isArray(v)&&P$(v)||(le.isFileList(v)||le.endsWith(w,"[]"))&&(S=le.toArray(v)))return w=u3(w),S.forEach(function(P,N){!(le.isUndefined(P)||P===null)&&t.append(l===!0?HN([w],N,i):l===null?w:w+"[]",h(P))}),!1}return Cv(v)?!0:(t.append(HN(x,w,i),h(v)),!1)}const m=[],g=Object.assign(O$,{defaultVisitor:p,convertValue:h,isVisitable:Cv});function j(v,w){if(!le.isUndefined(v)){if(m.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));m.push(v),le.forEach(v,function(S,O){(!(le.isUndefined(S)||S===null)&&s.call(t,S,le.isString(O)?O.trim():O,w,g))===!0&&j(S,w?w.concat(O):[O])}),m.pop()}}if(!le.isObject(e))throw new TypeError("data must be an object");return j(e),t}function KN(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function hj(e,t){this._pairs=[],e&&sf(e,this,t)}const d3=hj.prototype;d3.append=function(t,n){this._pairs.push([t,n])};d3.toString=function(t){const n=t?function(a){return t.call(this,a,KN)}:KN;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function E$(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function h3(e,t,n){if(!t)return e;const a=n&&n.encode||E$,s=le.isFunction(n)?{serialize:n}:n,i=s&&s.serialize;let l;if(i?l=i(t,s):l=le.isURLSearchParams(t)?t.toString():new hj(t,s).toString(a),l){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class GN{constructor(){this.handlers=[]}use(t,n,a){return this.handlers.push({fulfilled:t,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){le.forEach(this.handlers,function(a){a!==null&&t(a)})}}const f3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_$=typeof URLSearchParams<"u"?URLSearchParams:hj,T$=typeof FormData<"u"?FormData:null,R$=typeof Blob<"u"?Blob:null,M$={isBrowser:!0,classes:{URLSearchParams:_$,FormData:T$,Blob:R$},protocols:["http","https","file","blob","url","data"]},fj=typeof window<"u"&&typeof document<"u",Av=typeof navigator=="object"&&navigator||void 0,I$=fj&&(!Av||["ReactNative","NativeScript","NS"].indexOf(Av.product)<0),$$=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",L$=fj&&window.location.href||"http://localhost",D$=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fj,hasStandardBrowserEnv:I$,hasStandardBrowserWebWorkerEnv:$$,navigator:Av,origin:L$},Symbol.toStringTag,{value:"Module"})),nr={...D$,...M$};function F$(e,t){return sf(e,new nr.classes.URLSearchParams,{visitor:function(n,a,s,i){return nr.isNode&&le.isBuffer(n)?(this.append(a,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function z$(e){return le.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function B$(e){const t={},n=Object.keys(e);let a;const s=n.length;let i;for(a=0;a<s;a++)i=n[a],t[i]=e[i];return t}function m3(e){function t(n,a,s,i){let l=n[i++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=i>=n.length;return l=!l&&le.isArray(s)?s.length:l,d?(le.hasOwnProp(s,l)?s[l]=[s[l],a]:s[l]=a,!u):((!s[l]||!le.isObject(s[l]))&&(s[l]=[]),t(n,a,s[l],i)&&le.isArray(s[l])&&(s[l]=B$(s[l])),!u)}if(le.isFormData(e)&&le.isFunction(e.entries)){const n={};return le.forEachEntry(e,(a,s)=>{t(z$(a),s,n,0)}),n}return null}function q$(e,t,n){if(le.isString(e))try{return(t||JSON.parse)(e),le.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(e)}const Vc={transitional:f3,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const a=n.getContentType()||"",s=a.indexOf("application/json")>-1,i=le.isObject(t);if(i&&le.isHTMLForm(t)&&(t=new FormData(t)),le.isFormData(t))return s?JSON.stringify(m3(t)):t;if(le.isArrayBuffer(t)||le.isBuffer(t)||le.isStream(t)||le.isFile(t)||le.isBlob(t)||le.isReadableStream(t))return t;if(le.isArrayBufferView(t))return t.buffer;if(le.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return F$(t,this.formSerializer).toString();if((u=le.isFileList(t))||a.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return sf(u?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),q$(t)):t}],transformResponse:[function(t){const n=this.transitional||Vc.transitional,a=n&&n.forcedJSONParsing,s=this.responseType==="json";if(le.isResponse(t)||le.isReadableStream(t))return t;if(t&&le.isString(t)&&(a&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?Le.from(u,Le.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nr.classes.FormData,Blob:nr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};le.forEach(["delete","get","head","post","put","patch"],e=>{Vc.headers[e]={}});const U$=le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),W$=e=>{const t={};let n,a,s;return e&&e.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),a=l.substring(s+1).trim(),!(!n||t[n]&&U$[n])&&(n==="set-cookie"?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t},VN=Symbol("internals");function _l(e){return e&&String(e).trim().toLowerCase()}function Dd(e){return e===!1||e==null?e:le.isArray(e)?e.map(Dd):String(e)}function H$(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}const K$=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Hp(e,t,n,a,s){if(le.isFunction(a))return a.call(this,t,n);if(s&&(t=n),!!le.isString(t)){if(le.isString(a))return t.indexOf(a)!==-1;if(le.isRegExp(a))return a.test(t)}}function G$(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,a)=>n.toUpperCase()+a)}function V$(e,t){const n=le.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(s,i,l){return this[a].call(this,t,s,i,l)},configurable:!0})})}let wr=class{constructor(t){t&&this.set(t)}set(t,n,a){const s=this;function i(u,d,h){const p=_l(d);if(!p)throw new Error("header name must be a non-empty string");const m=le.findKey(s,p);(!m||s[m]===void 0||h===!0||h===void 0&&s[m]!==!1)&&(s[m||d]=Dd(u))}const l=(u,d)=>le.forEach(u,(h,p)=>i(h,p,d));if(le.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(le.isString(t)&&(t=t.trim())&&!K$(t))l(W$(t),n);else if(le.isObject(t)&&le.isIterable(t)){let u={},d,h;for(const p of t){if(!le.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[h=p[0]]=(d=u[h])?le.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}l(u,n)}else t!=null&&i(n,t,a);return this}get(t,n){if(t=_l(t),t){const a=le.findKey(this,t);if(a){const s=this[a];if(!n)return s;if(n===!0)return H$(s);if(le.isFunction(n))return n.call(this,s,a);if(le.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=_l(t),t){const a=le.findKey(this,t);return!!(a&&this[a]!==void 0&&(!n||Hp(this,this[a],a,n)))}return!1}delete(t,n){const a=this;let s=!1;function i(l){if(l=_l(l),l){const u=le.findKey(a,l);u&&(!n||Hp(a,a[u],u,n))&&(delete a[u],s=!0)}}return le.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let a=n.length,s=!1;for(;a--;){const i=n[a];(!t||Hp(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,a={};return le.forEach(this,(s,i)=>{const l=le.findKey(a,i);if(l){n[l]=Dd(s),delete n[i];return}const u=t?G$(i):String(i).trim();u!==i&&delete n[i],n[u]=Dd(s),a[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return le.forEach(this,(a,s)=>{a!=null&&a!==!1&&(n[s]=t&&le.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const a=new this(t);return n.forEach(s=>a.set(s)),a}static accessor(t){const a=(this[VN]=this[VN]={accessors:{}}).accessors,s=this.prototype;function i(l){const u=_l(l);a[u]||(V$(s,l),a[u]=!0)}return le.isArray(t)?t.forEach(i):i(t),this}};wr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);le.reduceDescriptors(wr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[n]=a}}});le.freezeMethods(wr);function Kp(e,t){const n=this||Vc,a=t||n,s=wr.from(a.headers);let i=a.data;return le.forEach(e,function(u){i=u.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function p3(e){return!!(e&&e.__CANCEL__)}let Qc=class extends Le{constructor(t,n,a){super(t??"canceled",Le.ERR_CANCELED,n,a),this.name="CanceledError",this.__CANCEL__=!0}};function x3(e,t,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?e(n):t(new Le("Request failed with status code "+n.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Q$(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Y$(e,t){e=e||10;const n=new Array(e),a=new Array(e);let s=0,i=0,l;return t=t!==void 0?t:1e3,function(d){const h=Date.now(),p=a[i];l||(l=h),n[s]=d,a[s]=h;let m=i,g=0;for(;m!==s;)g+=n[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),h-l<t)return;const j=p&&h-p;return j?Math.round(g*1e3/j):void 0}}function X$(e,t){let n=0,a=1e3/t,s,i;const l=(h,p=Date.now())=>{n=p,s=null,i&&(clearTimeout(i),i=null),e(...h)};return[(...h)=>{const p=Date.now(),m=p-n;m>=a?l(h,p):(s=h,i||(i=setTimeout(()=>{i=null,l(s)},a-m)))},()=>s&&l(s)]}const Qd=(e,t,n=3)=>{let a=0;const s=Y$(50,250);return X$(i=>{const l=i.loaded,u=i.lengthComputable?i.total:void 0,d=l-a,h=s(d),p=l<=u;a=l;const m={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:h||void 0,estimated:h&&u&&p?(u-l)/h:void 0,event:i,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(m)},n)},QN=(e,t)=>{const n=e!=null;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},YN=e=>(...t)=>le.asap(()=>e(...t)),J$=nr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,nr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(nr.origin),nr.navigator&&/(msie|trident)/i.test(nr.navigator.userAgent)):()=>!0,Z$=nr.hasStandardBrowserEnv?{write(e,t,n,a,s,i,l){if(typeof document>"u")return;const u=[`${e}=${encodeURIComponent(t)}`];le.isNumber(n)&&u.push(`expires=${new Date(n).toUTCString()}`),le.isString(a)&&u.push(`path=${a}`),le.isString(s)&&u.push(`domain=${s}`),i===!0&&u.push("secure"),le.isString(l)&&u.push(`SameSite=${l}`),document.cookie=u.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function e7(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function t7(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function g3(e,t,n){let a=!e7(t);return e&&(a||n==!1)?t7(e,t):t}const XN=e=>e instanceof wr?{...e}:e;function Ws(e,t){t=t||{};const n={};function a(h,p,m,g){return le.isPlainObject(h)&&le.isPlainObject(p)?le.merge.call({caseless:g},h,p):le.isPlainObject(p)?le.merge({},p):le.isArray(p)?p.slice():p}function s(h,p,m,g){if(le.isUndefined(p)){if(!le.isUndefined(h))return a(void 0,h,m,g)}else return a(h,p,m,g)}function i(h,p){if(!le.isUndefined(p))return a(void 0,p)}function l(h,p){if(le.isUndefined(p)){if(!le.isUndefined(h))return a(void 0,h)}else return a(void 0,p)}function u(h,p,m){if(m in t)return a(h,p);if(m in e)return a(void 0,h)}const d={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,p,m)=>s(XN(h),XN(p),m,!0)};return le.forEach(Object.keys({...e,...t}),function(p){const m=d[p]||s,g=m(e[p],t[p],p);le.isUndefined(g)&&m!==u||(n[p]=g)}),n}const y3=e=>{const t=Ws({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:i,headers:l,auth:u}=t;if(t.headers=l=wr.from(l),t.url=h3(g3(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),le.isFormData(n)){if(nr.hasStandardBrowserEnv||nr.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(le.isFunction(n.getHeaders)){const d=n.getHeaders(),h=["content-type","content-length"];Object.entries(d).forEach(([p,m])=>{h.includes(p.toLowerCase())&&l.set(p,m)})}}if(nr.hasStandardBrowserEnv&&(a&&le.isFunction(a)&&(a=a(t)),a||a!==!1&&J$(t.url))){const d=s&&i&&Z$.read(i);d&&l.set(s,d)}return t},r7=typeof XMLHttpRequest<"u",n7=r7&&function(e){return new Promise(function(n,a){const s=y3(e);let i=s.data;const l=wr.from(s.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:h}=s,p,m,g,j,v;function w(){j&&j(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function S(){if(!x)return;const P=wr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),C={data:!u||u==="text"||u==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:P,config:e,request:x};x3(function(E){n(E),w()},function(E){a(E),w()},C),x=null}"onloadend"in x?x.onloadend=S:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(S)},x.onabort=function(){x&&(a(new Le("Request aborted",Le.ECONNABORTED,e,x)),x=null)},x.onerror=function(N){const C=N&&N.message?N.message:"Network Error",A=new Le(C,Le.ERR_NETWORK,e,x);A.event=N||null,a(A),x=null},x.ontimeout=function(){let N=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||f3;s.timeoutErrorMessage&&(N=s.timeoutErrorMessage),a(new Le(N,C.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,e,x)),x=null},i===void 0&&l.setContentType(null),"setRequestHeader"in x&&le.forEach(l.toJSON(),function(N,C){x.setRequestHeader(C,N)}),le.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),u&&u!=="json"&&(x.responseType=s.responseType),h&&([g,v]=Qd(h,!0),x.addEventListener("progress",g)),d&&x.upload&&([m,j]=Qd(d),x.upload.addEventListener("progress",m),x.upload.addEventListener("loadend",j)),(s.cancelToken||s.signal)&&(p=P=>{x&&(a(!P||P.type?new Qc(null,e,x):P),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const O=Q$(s.url);if(O&&nr.protocols.indexOf(O)===-1){a(new Le("Unsupported protocol "+O+":",Le.ERR_BAD_REQUEST,e));return}x.send(i||null)})},a7=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let a=new AbortController,s;const i=function(h){if(!s){s=!0,u();const p=h instanceof Error?h:this.reason;a.abort(p instanceof Le?p:new Qc(p instanceof Error?p.message:p))}};let l=t&&setTimeout(()=>{l=null,i(new Le(`timeout of ${t}ms exceeded`,Le.ETIMEDOUT))},t);const u=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),e=null)};e.forEach(h=>h.addEventListener("abort",i));const{signal:d}=a;return d.unsubscribe=()=>le.asap(u),d}},s7=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let a=0,s;for(;a<n;)s=a+t,yield e.slice(a,s),a=s},i7=async function*(e,t){for await(const n of o7(e))yield*s7(n,t)},o7=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:a}=await t.read();if(n)break;yield a}}finally{await t.cancel()}},JN=(e,t,n,a)=>{const s=i7(e,t);let i=0,l,u=d=>{l||(l=!0,a&&a(d))};return new ReadableStream({async pull(d){try{const{done:h,value:p}=await s.next();if(h){u(),d.close();return}let m=p.byteLength;if(n){let g=i+=m;n(g)}d.enqueue(new Uint8Array(p))}catch(h){throw u(h),h}},cancel(d){return u(d),s.return()}},{highWaterMark:2})},ZN=64*1024,{isFunction:bd}=le,l7=(({Request:e,Response:t})=>({Request:e,Response:t}))(le.global),{ReadableStream:eS,TextEncoder:tS}=le.global,rS=(e,...t)=>{try{return!!e(...t)}catch{return!1}},c7=e=>{e=le.merge.call({skipUndefined:!0},l7,e);const{fetch:t,Request:n,Response:a}=e,s=t?bd(t):typeof fetch=="function",i=bd(n),l=bd(a);if(!s)return!1;const u=s&&bd(eS),d=s&&(typeof tS=="function"?(v=>w=>v.encode(w))(new tS):async v=>new Uint8Array(await new n(v).arrayBuffer())),h=i&&u&&rS(()=>{let v=!1;const w=new n(nr.origin,{body:new eS,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!w}),p=l&&u&&rS(()=>le.isReadableStream(new a("").body)),m={stream:p&&(v=>v.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!m[v]&&(m[v]=(w,x)=>{let S=w&&w[v];if(S)return S.call(w);throw new Le(`Response type '${v}' is not supported`,Le.ERR_NOT_SUPPORT,x)})});const g=async v=>{if(v==null)return 0;if(le.isBlob(v))return v.size;if(le.isSpecCompliantForm(v))return(await new n(nr.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(le.isArrayBufferView(v)||le.isArrayBuffer(v))return v.byteLength;if(le.isURLSearchParams(v)&&(v=v+""),le.isString(v))return(await d(v)).byteLength},j=async(v,w)=>{const x=le.toFiniteNumber(v.getContentLength());return x??g(w)};return async v=>{let{url:w,method:x,data:S,signal:O,cancelToken:P,timeout:N,onDownloadProgress:C,onUploadProgress:A,responseType:E,headers:M,withCredentials:R="same-origin",fetchOptions:I}=y3(v),T=t||fetch;E=E?(E+"").toLowerCase():"text";let $=a7([O,P&&P.toAbortSignal()],N),W=null;const X=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let B;try{if(A&&h&&x!=="get"&&x!=="head"&&(B=await j(M,S))!==0){let F=new n(w,{method:"POST",body:S,duplex:"half"}),D;if(le.isFormData(S)&&(D=F.headers.get("content-type"))&&M.setContentType(D),F.body){const[K,te]=QN(B,Qd(YN(A)));S=JN(F.body,ZN,K,te)}}le.isString(R)||(R=R?"include":"omit");const q=i&&"credentials"in n.prototype,U={...I,signal:$,method:x.toUpperCase(),headers:M.normalize().toJSON(),body:S,duplex:"half",credentials:q?R:void 0};W=i&&new n(w,U);let G=await(i?T(W,I):T(w,U));const Y=p&&(E==="stream"||E==="response");if(p&&(C||Y&&X)){const F={};["status","statusText","headers"].forEach(de=>{F[de]=G[de]});const D=le.toFiniteNumber(G.headers.get("content-length")),[K,te]=C&&QN(D,Qd(YN(C),!0))||[];G=new a(JN(G.body,ZN,K,()=>{te&&te(),X&&X()}),F)}E=E||"text";let z=await m[le.findKey(m,E)||"text"](G,v);return!Y&&X&&X(),await new Promise((F,D)=>{x3(F,D,{data:z,headers:wr.from(G.headers),status:G.status,statusText:G.statusText,config:v,request:W})})}catch(q){throw X&&X(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new Le("Network Error",Le.ERR_NETWORK,v,W),{cause:q.cause||q}):Le.from(q,q&&q.code,v,W)}}},u7=new Map,v3=e=>{let t=e&&e.env||{};const{fetch:n,Request:a,Response:s}=t,i=[a,s,n];let l=i.length,u=l,d,h,p=u7;for(;u--;)d=i[u],h=p.get(d),h===void 0&&p.set(d,h=u?new Map:c7(t)),p=h;return h};v3();const mj={http:A$,xhr:n7,fetch:{get:v3}};le.forEach(mj,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const nS=e=>`- ${e}`,d7=e=>le.isFunction(e)||e===null||e===!1;function h7(e,t){e=le.isArray(e)?e:[e];const{length:n}=e;let a,s;const i={};for(let l=0;l<n;l++){a=e[l];let u;if(s=a,!d7(a)&&(s=mj[(u=String(a)).toLowerCase()],s===void 0))throw new Le(`Unknown adapter '${u}'`);if(s&&(le.isFunction(s)||(s=s.get(t))))break;i[u||"#"+l]=s}if(!s){const l=Object.entries(i).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=n?l.length>1?`since :
`+l.map(nS).join(`
`):" "+nS(l[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return s}const b3={getAdapter:h7,adapters:mj};function Gp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qc(null,e)}function aS(e){return Gp(e),e.headers=wr.from(e.headers),e.data=Kp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),b3.getAdapter(e.adapter||Vc.adapter,e)(e).then(function(a){return Gp(e),a.data=Kp.call(e,e.transformResponse,a),a.headers=wr.from(a.headers),a},function(a){return p3(a)||(Gp(e),a&&a.response&&(a.response.data=Kp.call(e,e.transformResponse,a.response),a.response.headers=wr.from(a.response.headers))),Promise.reject(a)})}const j3="1.13.4",of={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{of[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const sS={};of.transitional=function(t,n,a){function s(i,l){return"[Axios v"+j3+"] Transitional option '"+i+"'"+l+(a?". "+a:"")}return(i,l,u)=>{if(t===!1)throw new Le(s(l," has been removed"+(n?" in "+n:"")),Le.ERR_DEPRECATED);return n&&!sS[l]&&(sS[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,l,u):!0}};of.spelling=function(t){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function f7(e,t,n){if(typeof e!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const i=a[s],l=t[i];if(l){const u=e[i],d=u===void 0||l(u,i,e);if(d!==!0)throw new Le("option "+i+" must be "+d,Le.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Le("Unknown option "+i,Le.ERR_BAD_OPTION)}}const Fd={assertOptions:f7,validators:of},kn=Fd.validators;let Ds=class{constructor(t){this.defaults=t||{},this.interceptors={request:new GN,response:new GN}}async request(t,n){try{return await this._request(t,n)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ws(this.defaults,n);const{transitional:a,paramsSerializer:s,headers:i}=n;a!==void 0&&Fd.assertOptions(a,{silentJSONParsing:kn.transitional(kn.boolean),forcedJSONParsing:kn.transitional(kn.boolean),clarifyTimeoutError:kn.transitional(kn.boolean)},!1),s!=null&&(le.isFunction(s)?n.paramsSerializer={serialize:s}:Fd.assertOptions(s,{encode:kn.function,serialize:kn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Fd.assertOptions(n,{baseUrl:kn.spelling("baseURL"),withXsrfToken:kn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=i&&le.merge(i.common,i[n.method]);i&&le.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=wr.concat(l,i);const u=[];let d=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(d=d&&w.synchronous,u.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let p,m=0,g;if(!d){const v=[aS.bind(this),void 0];for(v.unshift(...u),v.push(...h),g=v.length,p=Promise.resolve(n);m<g;)p=p.then(v[m++],v[m++]);return p}g=u.length;let j=n;for(;m<g;){const v=u[m++],w=u[m++];try{j=v(j)}catch(x){w.call(this,x);break}}try{p=aS.call(this,j)}catch(v){return Promise.reject(v)}for(m=0,g=h.length;m<g;)p=p.then(h[m++],h[m++]);return p}getUri(t){t=Ws(this.defaults,t);const n=g3(t.baseURL,t.url,t.allowAbsoluteUrls);return h3(n,t.params,t.paramsSerializer)}};le.forEach(["delete","get","head","options"],function(t){Ds.prototype[t]=function(n,a){return this.request(Ws(a||{},{method:t,url:n,data:(a||{}).data}))}});le.forEach(["post","put","patch"],function(t){function n(a){return function(i,l,u){return this.request(Ws(u||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Ds.prototype[t]=n(),Ds.prototype[t+"Form"]=n(!0)});let m7=class w3{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const a=this;this.promise.then(s=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](s);a._listeners=null}),this.promise.then=s=>{let i;const l=new Promise(u=>{a.subscribe(u),i=u}).then(s);return l.cancel=function(){a.unsubscribe(i)},l},t(function(i,l,u){a.reason||(a.reason=new Qc(i,l,u),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=a=>{t.abort(a)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new w3(function(s){t=s}),cancel:t}}};function p7(e){return function(n){return e.apply(null,n)}}function x7(e){return le.isObject(e)&&e.isAxiosError===!0}const Pv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Pv).forEach(([e,t])=>{Pv[t]=e});function N3(e){const t=new Ds(e),n=t3(Ds.prototype.request,t);return le.extend(n,Ds.prototype,t,{allOwnKeys:!0}),le.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return N3(Ws(e,s))},n}const jt=N3(Vc);jt.Axios=Ds;jt.CanceledError=Qc;jt.CancelToken=m7;jt.isCancel=p3;jt.VERSION=j3;jt.toFormData=sf;jt.AxiosError=Le;jt.Cancel=jt.CanceledError;jt.all=function(t){return Promise.all(t)};jt.spread=p7;jt.isAxiosError=x7;jt.mergeConfig=Ws;jt.AxiosHeaders=wr;jt.formToJSON=e=>m3(le.isHTMLForm(e)?new FormData(e):e);jt.getAdapter=b3.getAdapter;jt.HttpStatusCode=Pv;jt.default=jt;const{Axios:Tne,AxiosError:Rne,CanceledError:Mne,isCancel:Ine,CancelToken:$ne,VERSION:Lne,all:Dne,Cancel:Fne,isAxiosError:zne,spread:Bne,toFormData:qne,AxiosHeaders:Une,HttpStatusCode:Wne,formToJSON:Hne,getAdapter:Kne,mergeConfig:Gne}=jt;class Ve extends Error{constructor(n,a,s){super(n);md(this,"status");md(this,"data");this.name="ApiError",this.status=a,this.data=s}}const Rr=jt.create({baseURL:"https://auth.nubabel.com",withCredentials:!0,headers:{"Content-Type":"application/json"}});function g7(){const e=document.cookie.match(/csrf_token=([^;]+)/);return e?decodeURIComponent(e[1]):""}Rr.interceptors.request.use(e=>{const t=g7();return t&&e.method&&!["get","head","options"].includes(e.method.toLowerCase())&&(e.headers["X-CSRF-Token"]=t),e});function y7(e){var n,a;if(jt.isAxiosError(e)){const s=e,i=((n=s.response)==null?void 0:n.status)??null,l=(a=s.response)==null?void 0:a.data,u=typeof(l==null?void 0:l.error)=="string"&&l.error||typeof(l==null?void 0:l.message)=="string"&&l.message||s.message||"Request failed";return new Ve(u,i,l)}const t=e instanceof Error?e.message:String(e);return new Ve(t,null,null)}let Vp=!1,Qp=null;async function v7(){try{return await Rr.post("/auth/refresh"),!0}catch{return!1}}Rr.interceptors.response.use(e=>e,async e=>{var n,a,s;const t=e.config;if(((n=e.response)==null?void 0:n.status)===401&&t&&!t._retried&&!((a=t.url)!=null&&a.includes("/auth/refresh"))&&!((s=t.url)!=null&&s.includes("/auth/login"))){t._retried=!0,Vp||(Vp=!0,Qp=v7());const i=await Qp;return Vp=!1,Qp=null,i?Rr.request(t):(window.location.href="/login?error=session_expired",Promise.reject(e))}return Promise.reject(e)});async function ce(e){try{return(await Rr.request(e)).data}catch(t){throw y7(t)}}function b7({workflowId:e,workflowName:t,isOpen:n,onClose:a,onSuccess:s}){const[i,l]=b.useState("{}"),[u,d]=b.useState("idle"),[h,p]=b.useState("");if(!n)return null;const m=async()=>{d("executing"),p("");try{let g={};i.trim()&&(g=JSON.parse(i)),await ce({url:`/api/workflows/${e}/execute`,method:"POST",data:{inputData:g}}),d("success"),setTimeout(()=>{s==null||s(),a()},1500)}catch(g){g instanceof SyntaxError?p("Invalid JSON format"):g instanceof Ve?p(g.message):p("Execution failed"),d("error")}};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:a}),r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",onClick:g=>g.stopPropagation(),children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",onClick:g=>g.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Execute: ",t]}),r.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Data (JSON)"}),r.jsx("textarea",{value:i,onChange:g=>l(g.target.value),disabled:u==="executing",className:"w-full h-48 px-3 py-2 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100",placeholder:'{"key": "value"}'}),u==="executing"&&r.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg flex items-center gap-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-blue-600"}),r.jsx("span",{className:"text-blue-800",children:"Executing workflow..."})]}),u==="success"&&r.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[r.jsx("span",{className:"text-green-600 text-xl",children:""}),r.jsx("span",{className:"text-green-800",children:"Workflow executed successfully!"})]}),u==="error"&&r.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("span",{className:"text-red-800",children:h})})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200",children:[r.jsx("button",{onClick:a,disabled:u==="executing",className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:"Cancel"}),r.jsx("button",{onClick:m,disabled:u==="executing"||u==="success",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u==="executing"?"Executing...":"Execute"})]})]})})]})}function j7({isOpen:e,onClose:t,onSuccess:n}){const[a,s]=b.useState(""),[i,l]=b.useState(""),[u,d]=b.useState(!1),[h,p]=b.useState(null),m=async()=>{if(!a.trim()){p("Workflow name is required");return}d(!0),p(null);try{await ce({url:"/api/workflows",method:"POST",data:{name:a.trim(),description:i.trim()||void 0,enabled:!0,config:{}}}),n(),t(),s(""),l("")}catch(g){let j="Failed to create workflow";g instanceof Ve&&(g.status===403?j="You don't have permission to create workflows. Please contact your organization admin to get elevated permissions.":j=g.message),p(j)}finally{d(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t,children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:g=>g.stopPropagation(),children:r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create Workflow"}),h&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:h}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{id:"name",type:"text",value:a,onChange:g=>s(g.target.value),placeholder:"My Workflow",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{id:"description",value:i,onChange:g=>l(g.target.value),placeholder:"Describe what this workflow does...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),r.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),r.jsx("button",{onClick:m,disabled:u,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Creating...":"Create"})]})]})})}):null}function w7(){const[e,t]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState(null),[l,u]=b.useState(null),[d,h]=b.useState(!1),p=async()=>{try{i(null);const v=await ce({url:"/api/workflows",method:"GET"});t(v.workflows)}catch(v){const w=v instanceof Ve?v.message:"Failed to fetch workflows";i(w)}finally{a(!1)}};b.useEffect(()=>{p()},[]);const m=v=>{const w=e.find(x=>x.id===v);w&&u(w)},g=()=>{u(null)},j=()=>{p()};return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflows..."})]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Workflows"}),r.jsx("p",{className:"text-gray-600",children:"Manage and execute automation workflows"})]}),r.jsxs("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:"+"}),"Create Workflow"]})]}),s&&r.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsx("p",{className:"text-red-800",children:s})}),e.length===0&&!s?r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No workflows yet"}),r.jsx("p",{className:"text-gray-600",children:"Create your first workflow to get started with automation"})]})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(v=>r.jsx(BI,{workflow:v,onExecute:m},v.id))}),l&&r.jsx(b7,{workflowId:l.id,workflowName:l.name,isOpen:!0,onClose:g,onSuccess:j}),r.jsx(j7,{isOpen:d,onClose:()=>h(!1),onSuccess:p})]})}function N7(){const{id:e}=Zh(),[t,n]=b.useState(null),[a,s]=b.useState([]),[i,l]=b.useState(!0);b.useEffect(()=>{(async()=>{if(e)try{const[h,p]=await Promise.all([ce({url:`/api/workflows/${e}`,method:"GET"}),ce({url:`/api/workflows/${e}/executions`,method:"GET"})]);n(h.workflow),s(p.executions||[])}catch(h){console.error("Failed to fetch workflow:",h)}finally{l(!1)}})()},[e]);const u=d=>{switch(d){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return i?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflow..."})]})}):t?r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx(ht,{to:"/workflows",className:"text-indigo-600 hover:underline text-sm mb-2 inline-block",children:" Back to workflows"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t.name}),t.description&&r.jsx("p",{className:"text-gray-600",children:t.description})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${t.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.enabled?"Enabled":"Disabled"}),r.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:"Execute"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),r.jsx("p",{className:"mt-2 text-lg text-gray-900",children:new Date(t.createdAt).toLocaleDateString()})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),r.jsx("p",{className:"mt-2 text-lg text-gray-900",children:t.updatedAt?new Date(t.updatedAt).toLocaleDateString():"-"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Total Executions"}),r.jsx("p",{className:"mt-2 text-lg text-gray-900",children:a.length})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Executions"})}),a.length===0?r.jsx("div",{className:"p-12 text-center",children:r.jsx("p",{className:"text-gray-500",children:"No executions yet"})}):r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Started"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.slice(0,10).map(d=>{const h=d.startedAt&&d.completedAt?Math.round((new Date(d.completedAt).getTime()-new Date(d.startedAt).getTime())/1e3):null;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${u(d.status)}`,children:d.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d.startedAt?new Date(d.startedAt).toLocaleString():"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h!==null?`${h}s`:"-"})]},d.id)})})]})]})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Workflow not found"}),r.jsx(ht,{to:"/workflows",className:"text-indigo-600 hover:underline mt-4 inline-block",children:"Back to workflows"})]})}function S7(){const[e,t]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState("all");b.useEffect(()=>{(async()=>{try{const p=await ce({url:"/api/executions",method:"GET"});t(p.executions||[])}catch(p){console.error("Failed to fetch executions:",p)}finally{a(!1)}})()},[]);const l=e.filter(h=>s==="all"?!0:h.status===s),u=h=>{switch(h){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},d=h=>{switch(h){case"success":return"";case"failed":return"";case"running":return"";default:return""}};return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading executions..."})]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Executions"}),r.jsx("p",{className:"text-gray-600",children:"View workflow execution history"})]}),r.jsxs("div",{className:"mb-6 flex gap-2",children:[r.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg font-medium ${s==="all"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"All"}),r.jsx("button",{onClick:()=>i("success"),className:`px-4 py-2 rounded-lg font-medium ${s==="success"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Success"}),r.jsx("button",{onClick:()=>i("failed"),className:`px-4 py-2 rounded-lg font-medium ${s==="failed"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Failed"}),r.jsx("button",{onClick:()=>i("running"),className:`px-4 py-2 rounded-lg font-medium ${s==="running"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Running"})]}),l.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No executions yet"}),r.jsx("p",{className:"text-gray-600",children:"Execute workflows to see their history here"})]})}):r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Workflow"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Started"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(h=>{var m;const p=h.startedAt&&h.completedAt?Math.round((new Date(h.completedAt).getTime()-new Date(h.startedAt).getTime())/1e3):null;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${u(h.status)}`,children:[d(h.status)," ",h.status]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((m=h.workflow)==null?void 0:m.name)||"Unknown"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.startedAt?new Date(h.startedAt).toLocaleString():"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p!==null?`${p}s`:"-"})]},h.id)})})]})})]})}function k7(){const{id:e}=Zh(),[t,n]=b.useState(null),[a,s]=b.useState(!0),[i,l]=b.useState(null);b.useEffect(()=>{(async()=>{if(e)try{const m=await ce({url:`/api/executions/${e}`,method:"GET"});n(m.execution)}catch(m){console.error("Failed to fetch execution:",m),l(m instanceof Error?m.message:"An error occurred")}finally{s(!1)}})()},[e]);const u=p=>{switch(p){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},d=p=>{switch(p){case"success":return"";case"failed":return"";case"running":return"";default:return""}};if(a)return r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading execution..."})]})});if(!t)return r.jsxs("div",{className:"text-center py-12",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Execution not found"}),r.jsx(ht,{to:"/executions",className:"text-indigo-600 hover:underline mt-4 inline-block",children:"Back to executions"})]});const h=t.startedAt&&t.completedAt?Math.round((new Date(t.completedAt).getTime()-new Date(t.startedAt).getTime())/1e3):null;return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx(ht,{to:"/executions",className:"text-indigo-600 hover:underline text-sm mb-2 inline-block",children:" Back to executions"}),i&&r.jsx("div",{className:"text-red-500 p-4 mb-4",children:i}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Execution Details"}),t.workflowName&&r.jsxs("p",{className:"text-gray-600",children:["Workflow: ",t.workflowName]})]}),r.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${u(t.status)}`,children:[d(t.status)," ",t.status]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Started"}),r.jsx("p",{className:"mt-2 text-lg text-gray-900",children:t.startedAt?new Date(t.startedAt).toLocaleString():"-"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Completed"}),r.jsx("p",{className:"mt-2 text-lg text-gray-900",children:t.completedAt?new Date(t.completedAt).toLocaleString():"-"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),r.jsx("p",{className:"mt-2 text-lg text-gray-900",children:h!==null?`${h}s`:"-"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Execution ID"}),r.jsx("p",{className:"mt-2 text-sm text-gray-900 font-mono truncate",children:t.id})]})]}),t.errorMessage&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-8",children:[r.jsx("h3",{className:"text-sm font-medium text-red-800 mb-2",children:"Error"}),r.jsx("pre",{className:"text-sm text-red-700 whitespace-pre-wrap font-mono",children:t.errorMessage})]}),t.steps&&t.steps.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow mb-8",children:[r.jsx("div",{className:"px-6 py-4 border-b",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Execution Steps"})}),r.jsx("div",{className:"divide-y divide-gray-200",children:t.steps.map((p,m)=>r.jsx("div",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 text-sm font-medium text-gray-600",children:m+1}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-gray-900",children:p.name}),r.jsx("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${u(p.status)}`,children:p.status})]}),p.error&&r.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.error})]})]})},p.id))})]}),(t.input||t.output)&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.input&&r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Input"})}),r.jsx("pre",{className:"p-6 text-sm text-gray-700 overflow-auto",children:JSON.stringify(t.input,null,2)})]}),t.output&&r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Output"})}),r.jsx("pre",{className:"p-6 text-sm text-gray-700 overflow-auto",children:JSON.stringify(t.output,null,2)})]})]})]})}const iS=e=>{let t;const n=new Set,a=(h,p)=>{const m=typeof h=="function"?h(t):h;if(!Object.is(m,t)){const g=t;t=p??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(j=>j(t,g))}},s=()=>t,u={setState:a,getState:s,getInitialState:()=>d,subscribe:h=>(n.add(h),()=>n.delete(h))},d=t=e(a,s,u);return u},C7=(e=>e?iS(e):iS),A7=e=>e;function P7(e,t=A7){const n=V.useSyncExternalStore(e.subscribe,V.useCallback(()=>t(e.getState()),[e,t]),V.useCallback(()=>t(e.getInitialState()),[e,t]));return V.useDebugValue(n),n}const oS=e=>{const t=C7(e),n=a=>P7(t,a);return Object.assign(n,t),n},S3=(e=>e?oS(e):oS),Za=S3((e,t)=>({user:null,currentOrganization:null,organizations:[],membership:null,isLoading:!0,hasCheckedAuth:!1,fetchUser:async()=>{if(!t().hasCheckedAuth){e({isLoading:!0,hasCheckedAuth:!0});try{const n=await ce({url:"/auth/me",method:"GET"});e({user:n.user,currentOrganization:n.currentOrganization,organizations:n.organizations||[],membership:n.membership||null,isLoading:!1})}catch(n){console.error("Failed to fetch user:",n),e({user:null,currentOrganization:null,organizations:[],membership:null,isLoading:!1})}}},logout:async()=>{try{await ce({url:"/auth/logout",method:"POST"}),e({user:null,currentOrganization:null,organizations:[],membership:null}),window.location.href="/login"}catch(n){console.error("Logout failed:",n)}},switchOrganization:async n=>{try{const a=await ce({url:"/auth/switch-org",method:"POST",data:{organizationId:n}});if(a.redirectUrl){window.location.href=a.redirectUrl;return}window.location.reload()}catch(a){console.error("Switch organization failed:",a)}},setUser:n=>{e({user:n})}}));function O7(){const{user:e,currentOrganization:t}=Za(),[n,a]=b.useState((e==null?void 0:e.name)||""),[s,i]=b.useState(!1),l=async()=>{i(!0);try{await ce({url:"/api/user/profile",method:"PUT",data:{name:n}}),alert("Profile updated successfully")}catch(d){const h=d instanceof Ve?d.message:"Failed to update profile";console.error("Save failed:",d),alert(h)}finally{i(!1)}},u=async()=>{if(confirm("Are you sure you want to logout from all devices?"))try{await ce({url:"/api/auth/logout-all",method:"POST"}),window.location.href="/login"}catch(d){const h=d instanceof Ve?d.message:"Failed to logout from all devices";console.error("Logout all failed:",d),alert(h)}};return r.jsxs("div",{className:"max-w-4xl",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),r.jsx("p",{className:"text-gray-600",children:"Manage your account settings and preferences"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Profile"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("input",{type:"text",value:n,onChange:d=>a(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Email cannot be changed"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Avatar"}),r.jsxs("div",{className:"flex items-center gap-4",children:[e!=null&&e.picture?r.jsx("img",{src:e.picture,alt:e.name,className:"w-16 h-16 rounded-full"}):r.jsx("div",{className:"w-16 h-16 rounded-full bg-indigo-600 flex items-center justify-center",children:r.jsx("span",{className:"text-white text-2xl font-medium",children:((e==null?void 0:e.name)||(e==null?void 0:e.email)||"?").charAt(0).toUpperCase()})}),r.jsxs("div",{children:[r.jsx("button",{className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Change Avatar"}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"JPG, PNG or GIF (max. 2MB)"})]})]})]}),r.jsx("div",{className:"pt-4",children:r.jsx("button",{onClick:l,disabled:s,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Saving...":"Save Changes"})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Organization"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),r.jsx("input",{type:"text",value:(t==null?void 0:t.name)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Domain"}),r.jsx("input",{type:"text",value:(t==null?void 0:t.domain)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Members"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Member management coming soon"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Security"}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Active Sessions"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"You are currently logged in on this device. Session management coming soon."}),r.jsx("button",{onClick:u,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Logout from All Devices"})]})})]})]})]})}function E7(){const[e,t]=ef(),[n,a]=b.useState(null),[s,i]=b.useState([]),[l,u]=b.useState(!0),[d,h]=b.useState(!1),[p,m]=b.useState(null);b.useEffect(()=>{const S=e.get("success"),O=e.get("error");S==="true"?(m({type:"success",text:"Notion workspace connected successfully!"}),t({})):O&&(m({type:"error",text:{access_denied:"You denied the Notion authorization request.",missing_params:"Missing required parameters from Notion.",invalid_state:"Invalid state parameter. Please try again.",token_exchange_failed:"Failed to exchange token with Notion.",server_error:"Server error occurred. Please try again.",notion_not_configured:"Notion integration is not yet configured. Please contact support."}[O]||`Error: ${O}`}),t({})),g()},[e,t]);const g=async()=>{try{const S=await ce({url:"/api/notion/oauth/status",method:"GET"});a(S),S.connected&&await j()}catch(S){if(S instanceof Ve&&S.status===404){a({connected:!1,method:"none",workspaceId:null,workspaceName:null,workspaceIcon:null,botId:null,connectedAt:null,defaultDatabaseId:null});return}console.error("Fetch status error:",S)}finally{u(!1)}},j=async()=>{try{const S=await ce({url:"/api/notion/databases",method:"GET"});i(S.databases||[])}catch{i([])}},v=()=>{window.location.href="/api/notion/oauth/install"},w=async()=>{if(confirm("Are you sure you want to disconnect Notion?")){h(!0),m(null);try{await ce({url:"/api/notion/oauth/disconnect",method:"DELETE"}),a({connected:!1,method:"none",workspaceId:null,workspaceName:null,workspaceIcon:null,botId:null,connectedAt:null,defaultDatabaseId:null}),i([]),m({type:"success",text:"Notion disconnected successfully."})}catch{m({type:"error",text:"Failed to disconnect Notion."})}finally{h(!1)}}};if(l)return r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})});const x=(n==null?void 0:n.connected)??!1;return r.jsxs("div",{className:"max-w-4xl",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Notion Integration"}),r.jsx("p",{className:"text-gray-600",children:"Connect your Notion workspace for workflows and knowledge management"})]}),p&&r.jsx("div",{className:`mb-6 p-4 rounded-lg ${p.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:p.text}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:x&&n?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-black rounded-lg flex items-center justify-center",children:n.workspaceIcon?r.jsx("img",{src:n.workspaceIcon,alt:"",className:"w-8 h-8 rounded"}):r.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.119 20 4.5v15c0 1.381-1.119 2.5-2.5 2.5h-11C5.119 22 4 20.881 4 19.5v-15zM6.5 4C6.224 4 6 4.224 6 4.5v15c0 .276.224.5.5.5h11c.276 0 .5-.224.5-.5v-15c0-.276-.224-.5-.5-.5h-11zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h5v2H8v-2z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:n.workspaceName||"Notion Workspace"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Connected via OAuth"})]})]}),r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"Connected"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t border-gray-100 pt-4",children:[n.workspaceId&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Workspace ID:"}),r.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:n.workspaceId})]}),n.botId&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Bot ID:"}),r.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:n.botId})]}),n.connectedAt&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Connected:"}),r.jsx("span",{className:"ml-2 text-gray-700",children:new Date(n.connectedAt).toLocaleDateString()})]})]}),r.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100",children:[r.jsx("button",{onClick:v,className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:"Reconnect"}),r.jsx("button",{onClick:w,disabled:d,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?"Disconnecting...":"Disconnect"})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-16 h-16 bg-black rounded-2xl flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-10 h-10 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.119 20 4.5v15c0 1.381-1.119 2.5-2.5 2.5h-11C5.119 22 4 20.881 4 19.5v-15zM6.5 4C6.224 4 6 4.224 6 4.5v15c0 .276.224.5.5.5h11c.276 0 .5-.224.5-.5v-15c0-.276-.224-.5-.5-.5h-11zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h5v2H8v-2z"})})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Connect your Notion workspace"}),r.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Click the button below to authorize Nubabel to access your Notion workspace. Your team's pages and databases will be available for AI workflows."}),r.jsxs("button",{onClick:v,className:"inline-flex items-center gap-2 px-6 py-3 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors font-medium text-lg",children:[r.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.119 20 4.5v15c0 1.381-1.119 2.5-2.5 2.5h-11C5.119 22 4 20.881 4 19.5v-15zM6.5 4C6.224 4 6 4.224 6 4.5v15c0 .276.224.5.5.5h11c.276 0 .5-.224.5-.5v-15c0-.276-.224-.5-.5-.5h-11zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h5v2H8v-2z"})}),"Connect to Notion"]})]})}),x&&s.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Available Databases"}),r.jsx("button",{onClick:j,className:"text-sm text-indigo-600 hover:text-indigo-700",children:"Refresh"})]}),r.jsx("div",{className:"space-y-2",children:s.map(S=>r.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-indigo-300 transition",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:S.title}),r.jsx("p",{className:"text-sm text-gray-500 font-mono",children:S.id})]}),r.jsx("a",{href:S.url,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline text-sm",children:"Open in Notion"})]})},S.id))})]}),x&&s.length===0&&r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-yellow-900 mb-2",children:"No databases found"}),r.jsx("p",{className:"text-yellow-700 mb-4",children:"Your Notion workspace is connected, but no databases are accessible yet. Grant access to specific pages in Notion for the integration to see them."}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("a",{href:"https://notion.so",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-yellow-600 text-white text-sm font-medium rounded-md hover:bg-yellow-700",children:["Open Notion",r.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),r.jsx("button",{onClick:j,className:"inline-flex items-center px-4 py-2 bg-white border border-yellow-300 text-yellow-700 text-sm font-medium rounded-md hover:bg-yellow-50",children:"Refresh Databases"})]})]}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"How It Works"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Connect your workspace"}),r.jsx("p",{className:"text-sm text-gray-600",children:'Click "Connect to Notion" and authorize Nubabel to access your workspace.'})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"2"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Share pages with the integration"}),r.jsx("p",{className:"text-sm text-gray-600",children:"In Notion, share specific pages or databases with the Nubabel integration to give it access."})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"3"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Use in workflows"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Your Notion content will be available to AI agents for knowledge retrieval and automation."})]})]})]})]})]})}function _7(){const[e,t]=ef(),[n,a]=b.useState(null),[s,i]=b.useState(!0),[l,u]=b.useState(!1),[d,h]=b.useState(null);b.useEffect(()=>{const v=e.get("success"),w=e.get("error");v==="true"?(h({type:"success",text:"Slack workspace connected successfully!"}),t({})):w&&(h({type:"error",text:{access_denied:"You denied the Slack authorization request.",missing_params:"Missing required parameters from Slack.",server_config:"Server configuration error. Please contact support.",invalid_state:"Invalid state parameter. Please try again.",token_exchange_failed:"Failed to exchange token with Slack.",server_error:"Server error occurred. Please try again.",slack_not_configured:"Slack integration is not yet configured. Please contact support."}[w]||`Error: ${w}`}),t({})),p()},[e,t]);const p=async()=>{try{const v=await ce({url:"/api/slack/integration",method:"GET"});a(v.integration)}catch(v){if(v instanceof Ve&&v.status===404){a(null);return}console.error("Fetch integration error:",v)}finally{i(!1)}},m=()=>{window.location.href="/api/slack/oauth/install"},g=async()=>{if(confirm("Are you sure you want to disconnect Slack?")){u(!0),h(null);try{await ce({url:"/api/slack/integration",method:"DELETE"}),a(null),h({type:"success",text:"Slack disconnected successfully."})}catch{h({type:"error",text:"Failed to disconnect Slack."})}finally{u(!1)}}};if(s)return r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})});const j=!!(n!=null&&n.hasWorkspace&&(n!=null&&n.workspaceId));return r.jsxs("div",{className:"max-w-4xl",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Slack Integration"}),r.jsx("p",{className:"text-gray-600",children:"Connect your Slack workspace to enable AI-powered automation"})]}),d&&r.jsx("div",{className:`mb-6 p-4 rounded-lg ${d.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:d.text}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:j&&n?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-[#4A154B] rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:n.workspaceName}),r.jsx("p",{className:"text-sm text-gray-500",children:"Connected Workspace"})]})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n.enabled&&n.healthStatus==="healthy"?"bg-green-100 text-green-800":n.healthStatus==="degraded"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:n.enabled&&n.healthStatus==="healthy"?"Connected":n.healthStatus==="degraded"?"Degraded":"Disconnected"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t border-gray-100 pt-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Workspace ID:"}),r.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:n.workspaceId})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Bot User ID:"}),r.jsx("span",{className:"ml-2 font-mono text-xs text-gray-700",children:n.botUserId||"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Installed:"}),r.jsx("span",{className:"ml-2 text-gray-700",children:n.installedAt?new Date(n.installedAt).toLocaleDateString():"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Last Updated:"}),r.jsx("span",{className:"ml-2 text-gray-700",children:new Date(n.updatedAt).toLocaleDateString()})]})]}),n.scopes&&n.scopes.length>0&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Permissions:"}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.scopes.map(v=>r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:v},v))})]}),r.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100",children:[r.jsx("button",{onClick:m,className:"px-4 py-2 bg-[#4A154B] text-white rounded-lg hover:bg-[#3e1240] transition-colors",children:"Reconnect Workspace"}),r.jsx("button",{onClick:g,disabled:l,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Disconnecting...":"Disconnect"})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-16 h-16 bg-[#4A154B] rounded-2xl flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-10 h-10 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Connect your Slack workspace"}),r.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Click the button below to authorize Nubabel in your Slack workspace. Your team will be able to interact with AI agents directly from Slack."}),r.jsxs("button",{onClick:m,className:"inline-flex items-center gap-2 px-6 py-3 bg-[#4A154B] text-white rounded-lg hover:bg-[#3e1240] transition-colors font-medium text-lg",children:[r.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})}),"Connect to Slack"]})]})}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"How It Works"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Connect your workspace"}),r.jsx("p",{className:"text-sm text-gray-600",children:'Click "Connect to Slack" and authorize Nubabel in your workspace.'})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"2"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Invite the bot to channels"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Add the Nubabel bot to the channels where you want AI assistance."})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-medium",children:"3"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Start using AI automation"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Mention the bot or use slash commands to interact with your AI agents."})]})]})]})]})]})}function T7(){const[e,t]=b.useState(null),[n,a]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const u=await ce({url:"/api/settings/google-calendar",method:"GET"});t(u.connection)}catch(u){console.error("Failed to fetch Google Calendar connection:",u)}finally{a(!1)}})()},[]);const s=async()=>{try{const l=await ce({url:"/api/settings/google-calendar/connect",method:"POST"});window.location.href=l.authUrl}catch(l){console.error("Failed to initiate connection:",l)}},i=async()=>{if(confirm("Are you sure you want to disconnect Google Calendar?"))try{await ce({url:"/api/settings/google-calendar/disconnect",method:"POST"}),t(null)}catch(l){console.error("Failed to disconnect:",l)}};return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx(ht,{to:"/settings",className:"text-indigo-600 hover:underline text-sm mb-2 inline-block",children:" Back to settings"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Google Calendar Settings"}),r.jsx("p",{className:"text-gray-600",children:"Connect your Google Calendar to enable scheduling workflows"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11zM9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm-8 4H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Google Calendar"}),r.jsx("p",{className:"text-sm text-gray-500",children:e!=null&&e.connected?`Connected as ${e.email}`:"Not connected"})]}),e!=null&&e.connected?r.jsx("button",{onClick:i,className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 font-medium",children:"Disconnect"}):r.jsx("button",{onClick:s,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:"Connect"})]})}),(e==null?void 0:e.connected)&&e.calendars&&r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-4",children:"Available Calendars"}),r.jsx("div",{className:"space-y-3",children:e.calendars.map(l=>r.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-900",children:l.name}),l.primary&&r.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"Primary"})]})},l.id))})]}),!(e!=null&&e.connected)&&r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"What you can do with Google Calendar:"}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-green-500",children:""}),"Create and manage calendar events"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-green-500",children:""}),"Trigger workflows based on calendar events"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-green-500",children:""}),"Sync meeting schedules automatically"]})]})]})]})]})}function R7(){return Ot({queryKey:["identities","user"],queryFn:async()=>(await ce({url:"/api/identities",method:"GET"})).identities})}function M7(){return Ot({queryKey:["identities","suggestions"],queryFn:async()=>(await ce({url:"/api/identities/suggestions",method:"GET"})).suggestions})}function I7(){const e=wt();return Et({mutationFn:async({identityId:t,reason:n})=>ce({url:`/api/identities/${t}/unlink`,method:"POST",data:{reason:n}}),onSuccess:()=>{e.invalidateQueries({queryKey:["identities","user"]})}})}function $7(){const e=wt();return Et({mutationFn:async({suggestionId:t,reason:n})=>ce({url:`/api/identities/suggestions/${t}/accept`,method:"POST",data:{reason:n}}),onSuccess:()=>{e.invalidateQueries({queryKey:["identities","user"]}),e.invalidateQueries({queryKey:["identities","suggestions"]})}})}function L7(){const e=wt();return Et({mutationFn:async({suggestionId:t,reason:n})=>ce({url:`/api/identities/suggestions/${t}/reject`,method:"POST",data:{reason:n}}),onSuccess:()=>{e.invalidateQueries({queryKey:["identities","suggestions"]})}})}const k3={slack:{name:"Slack",color:"#4A154B",icon:r.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})},google:{name:"Google",color:"#4285F4",icon:r.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),r.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),r.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),r.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})},notion:{name:"Notion",color:"#000000",icon:r.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M4.459 4.208c.746.606 1.026.56 2.428.466l13.215-.793c.28 0 .047-.28-.046-.326L17.86 1.968c-.42-.326-.981-.7-2.055-.607L3.01 2.295c-.466.046-.56.28-.374.466zm.793 3.08v13.904c0 .747.373 1.027 1.214.98l14.523-.84c.841-.046.935-.56.935-1.167V6.354c0-.606-.233-.933-.748-.887l-15.177.887c-.56.047-.747.327-.747.933zm14.337.745c.093.42 0 .84-.42.888l-.7.14v10.264c-.608.327-1.168.514-1.635.514-.748 0-.935-.234-1.495-.933l-4.577-7.186v6.952L12.21 19s0 .84-1.168.84l-3.222.186c-.093-.186 0-.653.327-.746l.84-.233V9.854L7.822 9.76c-.094-.42.14-1.026.793-1.073l3.456-.233 4.764 7.279v-6.44l-1.215-.139c-.093-.514.28-.887.747-.933zM1.936 1.035l13.31-.98c1.634-.14 2.055-.047 3.082.7l4.249 2.986c.7.513.934.653.934 1.213v16.378c0 1.026-.373 1.634-1.68 1.726l-15.458.934c-.98.047-1.448-.093-1.962-.747l-3.129-4.06c-.56-.747-.793-1.306-.793-1.96V2.667c0-.839.374-1.54 1.447-1.632z"})})}};function D7({identity:e,onUnlink:t,isUnlinking:n}){const a=k3[e.provider];return r.jsxs("div",{className:"border-4 border-black bg-white",children:[r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 flex items-center justify-center border-4 border-black",style:{backgroundColor:a.color,color:"white"},children:a.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"font-mono text-lg font-bold uppercase tracking-tight",children:a.name}),e.displayName&&r.jsx("div",{className:"text-sm text-gray-900",children:e.displayName}),e.email&&r.jsx("div",{className:"text-xs font-mono text-gray-600",children:e.email})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4 border-t-2 border-black",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-mono font-bold uppercase tracking-wider text-gray-500",children:"Linked"}),r.jsx("div",{className:"text-sm font-mono",children:e.linkedAt?new Date(e.linkedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Unknown"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-mono font-bold uppercase tracking-wider text-gray-500",children:"Method"}),r.jsx("div",{className:"text-sm font-mono uppercase",children:e.linkMethod||"N/A"})]})]})]}),r.jsx("div",{className:"border-t-4 border-black bg-gray-50 px-6 py-3",children:r.jsx("button",{onClick:()=>t(e.id),disabled:n,className:"w-full font-mono text-sm font-bold uppercase tracking-wider py-2 px-4 border-2 border-black bg-white hover:bg-red-600 hover:text-white hover:border-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:n?"UNLINKING...":"UNLINK"})})]})}function F7({suggestion:e,onAccept:t,onReject:n,isProcessing:a}){const s=k3[e.externalIdentity.provider],i=Math.round(e.confidenceScore*100);return r.jsxs("div",{className:"border-4 border-black bg-yellow-50",children:[r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 flex items-center justify-center border-4 border-black",style:{backgroundColor:s.color,color:"white"},children:s.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"font-mono text-lg font-bold uppercase tracking-tight",children:s.name}),e.externalIdentity.displayName&&r.jsx("div",{className:"text-sm text-gray-900",children:e.externalIdentity.displayName}),e.externalIdentity.email&&r.jsx("div",{className:"text-xs font-mono text-gray-600",children:e.externalIdentity.email})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-xs font-mono font-bold uppercase tracking-wider text-gray-500",children:"Confidence"}),r.jsxs("div",{className:"text-2xl font-mono font-bold",children:[i,"%"]})]})]}),r.jsxs("div",{className:"pt-4 border-t-2 border-black",children:[r.jsx("div",{className:"text-xs font-mono font-bold uppercase tracking-wider text-gray-500 mb-1",children:"Match Method"}),r.jsx("div",{className:"text-sm font-mono",children:e.matchMethod})]})]}),r.jsx("div",{className:"border-t-4 border-black bg-white px-6 py-3",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>t(e.id),disabled:a,className:"flex-1 font-mono text-sm font-bold uppercase tracking-wider py-2 px-4 border-2 border-black bg-green-400 hover:bg-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"ACCEPT"}),r.jsx("button",{onClick:()=>n(e.id),disabled:a,className:"flex-1 font-mono text-sm font-bold uppercase tracking-wider py-2 px-4 border-2 border-black bg-white hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"REJECT"})]})})]})}function z7(){const[e,t]=b.useState(null),{data:n,isLoading:a}=R7(),{data:s,isLoading:i}=M7(),l=I7(),u=$7(),d=L7(),h=async w=>{if(confirm("Are you sure you want to unlink this identity?"))try{await l.mutateAsync({identityId:w}),t({type:"success",text:"Identity unlinked successfully"}),setTimeout(()=>t(null),5e3)}catch(x){t({type:"error",text:x.message||"Failed to unlink identity"}),setTimeout(()=>t(null),5e3)}},p=async w=>{try{await u.mutateAsync({suggestionId:w}),t({type:"success",text:"Suggestion accepted and identity linked"}),setTimeout(()=>t(null),5e3)}catch(x){t({type:"error",text:x.message||"Failed to accept suggestion"}),setTimeout(()=>t(null),5e3)}},m=async w=>{try{await d.mutateAsync({suggestionId:w}),t({type:"success",text:"Suggestion rejected"}),setTimeout(()=>t(null),5e3)}catch(x){t({type:"error",text:x.message||"Failed to reject suggestion"}),setTimeout(()=>t(null),5e3)}};if(a||i)return r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block w-16 h-16 border-8 border-black border-t-transparent animate-spin"}),r.jsx("p",{className:"mt-4 font-mono font-bold uppercase tracking-wider",children:"LOADING..."})]})});const j=(n==null?void 0:n.filter(w=>w.linkStatus==="linked"))||[],v=s||[];return r.jsxs("div",{className:"max-w-6xl",children:[r.jsxs("div",{className:"mb-8 pb-6 border-b-4 border-black",children:[r.jsx("h1",{className:"text-5xl font-mono font-black uppercase tracking-tighter mb-2",children:"Linked Identities"}),r.jsx("p",{className:"text-lg font-mono text-gray-700",children:"Manage external service connections to your account"})]}),e&&r.jsx("div",{className:`mb-6 p-4 border-4 font-mono ${e.type==="success"?"border-green-600 bg-green-50 text-green-900":"border-red-600 bg-red-50 text-red-900"}`,children:e.text}),v.length>0&&r.jsxs("div",{className:"mb-12",children:[r.jsxs("h2",{className:"text-2xl font-mono font-black uppercase tracking-tight mb-4 border-b-4 border-black pb-2",children:["Pending Suggestions (",v.length,")"]}),r.jsx("p",{className:"text-sm font-mono text-gray-600 mb-6",children:"We found these identities that might belong to you. Review and accept or reject them."}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:v.map(w=>r.jsx(F7,{suggestion:w,onAccept:p,onReject:m,isProcessing:u.isPending||d.isPending},w.id))})]}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-mono font-black uppercase tracking-tight mb-4 border-b-4 border-black pb-2",children:["Linked Identities (",j.length,")"]}),j.length===0?r.jsxs("div",{className:"border-4 border-black bg-gray-50 p-12 text-center",children:[r.jsx("div",{className:"mb-4",children:r.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:r.jsx("path",{strokeLinecap:"square",strokeLinejoin:"miter",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),r.jsx("h3",{className:"font-mono font-bold text-lg uppercase tracking-tight text-gray-900 mb-2",children:"No Linked Identities"}),r.jsxs("p",{className:"font-mono text-sm text-gray-600",children:["You haven't linked any external service identities yet.",r.jsx("br",{}),"Check pending suggestions above or contact your administrator."]})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:j.map(w=>r.jsx(D7,{identity:w,onUnlink:h,isUnlinking:l.isPending},w.id))})]})]})}function B7(){return Ot({queryKey:["member-identities"],queryFn:async()=>{const e=await ce({url:"/api/admin/identities",method:"GET",params:{status:"linked",limit:1e3}}),t=new Map;return e.identities.forEach(n=>{if(n.userId){const a=t.get(n.userId)||[];a.push(n),t.set(n.userId,a)}}),t},staleTime:6e4})}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=(...e)=>e.filter((t,n,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,a)=>a?a.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=e=>{const t=U7(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var W7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:s="",children:i,iconNode:l,...u},d)=>b.createElement("svg",{ref:d,...W7,width:t,height:t,stroke:e,strokeWidth:a?Number(n)*24/Number(t):n,className:C3("lucide",s),...!i&&!H7(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,p])=>b.createElement(h,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=(e,t)=>{const n=b.forwardRef(({className:a,...s},i)=>b.createElement(K7,{ref:i,iconNode:t,className:C3(`lucide-${q7(lS(e))}`,`lucide-${e}`,a),...s}));return n.displayName=lS(e),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=[["path",{d:"M17 3a2 2 0 0 1 2 2v15a1 1 0 0 1-1.496.868l-4.512-2.578a2 2 0 0 0-1.984 0l-4.512 2.578A1 1 0 0 1 5 20V5a2 2 0 0 1 2-2z",key:"oz39mx"}]],V7=xt("bookmark",G7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Fs=xt("check",Q7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],X7=xt("chevron-right",Y7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],nc=xt("circle-alert",J7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Yd=xt("circle-check-big",Z7);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tL=xt("clock",eL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],cS=xt("copy",rL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],A3=xt("external-link",nL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lf=xt("file-text",aL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],pj=xt("link",sL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Yp=xt("loader-circle",iL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],cf=xt("mail",oL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],uf=xt("message-square",lL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],uL=xt("pen",cL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Xd=xt("refresh-cw",dL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],fL=xt("rotate-ccw",hL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pL=xt("search",mL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],gL=xt("terminal",xL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vL=xt("trash-2",yL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],jL=xt("unlink",bL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],P3=xt("users",wL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],O3=xt("x",NL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],kL=xt("zap",SL);function CL(){return Ot({queryKey:["members","invite","sources"],queryFn:async()=>{const e=await fetch("/api/members/invite/sources",{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch connected services");return(await e.json()).sources}})}function AL(e,t){return Ot({queryKey:["members","invite","users",e,t],queryFn:async()=>{if(!e)return[];const n=new URLSearchParams({provider:e});t&&n.set("search",t);const a=await fetch(`/api/members/invite/users?${n}`,{credentials:"include"});if(!a.ok)throw new Error("Failed to fetch users");return(await a.json()).users},enabled:!!e,staleTime:3e4})}function PL(){const e=wt();return Et({mutationFn:async t=>{const n=await fetch("/api/members/invite",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to invite members")}return n.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["members"]}),e.invalidateQueries({queryKey:["members","invite","users"]})}})}function OL({provider:e,size:t=20}){const n={slack:r.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})}),google:r.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),r.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),r.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),r.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),notion:r.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M4.459 4.208c.746.606 1.026.56 2.428.466l13.215-.793c.28 0 .047-.28-.046-.326L17.86 1.968c-.42-.326-.98-.7-2.055-.607L3.01 2.295c-.466.046-.56.28-.373.466l1.822 1.447zm.793 3.08v13.904c0 .747.373 1.027 1.214.98l14.523-.84c.84-.046.934-.56.934-1.166V6.354c0-.606-.233-.933-.746-.886l-15.177.887c-.56.047-.747.327-.747.933zm14.337.745c.093.42 0 .84-.42.888l-.7.14v10.264c-.608.327-1.168.514-1.635.514-.747 0-.934-.234-1.495-.933l-4.577-7.186v6.952l1.448.327s0 .84-1.168.84l-3.22.186c-.094-.186 0-.653.327-.746l.84-.233V9.854L7.822 9.76c-.094-.42.14-1.026.793-1.073l3.454-.233 4.763 7.278v-6.44l-1.215-.14c-.093-.514.28-.886.747-.933l3.222-.186zm-14.617-7c-.094-.093-.047-.14.093-.14l13.028-.792c.14-.047.186.047.14.093l-1.868 1.447c-.28.233-.42.327-.747.373L2.775 2.808c-.186.046-.186.14-.047.186l1.914 1.04z"})})};return r.jsx("span",{className:"text-gray-600",children:n[e]})}function EL({isOpen:e,onClose:t,onSuccess:n}){const[a,s]=b.useState(null),[i,l]=b.useState(""),[u,d]=b.useState(new Set),[h,p]=b.useState("member"),[m,g]=b.useState(!1),{data:j,isLoading:v}=CL(),{data:w,isLoading:x}=AL(a,i),S=PL();b.useEffect(()=>{j&&j.length>0&&!a&&s(j[0].provider)},[j,a]),b.useEffect(()=>{d(new Set),l("")},[a]),b.useEffect(()=>{e||(s(null),d(new Set),l(""),p("member"),g(!1),S.reset())},[e]);const O=b.useMemo(()=>{if(!w)return[];if(!i)return w;const E=i.toLowerCase();return w.filter(M=>{var R,I;return((R=M.displayName)==null?void 0:R.toLowerCase().includes(E))||((I=M.email)==null?void 0:I.toLowerCase().includes(E))})},[w,i]),P=E=>{d(M=>{const R=new Set(M);return R.has(E)?R.delete(E):R.add(E),R})},N=()=>{u.size===O.length?d(new Set):d(new Set(O.map(E=>E.providerUserId)))},C=async()=>{if(!(!a||u.size===0))try{(await S.mutateAsync({provider:a,providerUserIds:Array.from(u),role:h})).summary.invited>0&&n(),g(!0)}catch{}};if(!e)return null;const A=j==null?void 0:j.find(E=>E.provider===a);return r.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] flex flex-col border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b-4 border-black bg-yellow-300",children:[r.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:"Invite from Connected Services"}),r.jsx("button",{onClick:t,className:"p-1 hover:bg-black/10 transition-colors",children:r.jsx(O3,{size:24,strokeWidth:3})})]}),r.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:v?r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsx(Yp,{className:"animate-spin",size:32})}):j&&j.length===0?r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center",children:[r.jsx(nc,{size:48,className:"text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-bold mb-2",children:"No Connected Services"}),r.jsx("p",{className:"text-gray-600 max-w-sm",children:"Connect Slack, Google, or Notion to invite members from those services."})]}):m&&S.data?r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-500 flex items-center justify-center mb-4",children:r.jsx(Fs,{size:32,className:"text-white",strokeWidth:3})}),r.jsx("h3",{className:"text-xl font-black mb-4",children:"Invitations Sent!"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[S.data.summary.invited>0&&r.jsxs("p",{className:"text-green-600 font-medium",children:[S.data.summary.invited," user",S.data.summary.invited!==1?"s":""," invited"]}),S.data.summary.alreadyMembers>0&&r.jsxs("p",{className:"text-yellow-600",children:[S.data.summary.alreadyMembers," already member",S.data.summary.alreadyMembers!==1?"s":""]}),S.data.summary.errors>0&&r.jsxs("p",{className:"text-red-600",children:[S.data.summary.errors," error",S.data.summary.errors!==1?"s":""]})]}),r.jsx("button",{onClick:t,className:"mt-6 px-6 py-2 bg-black text-white font-bold uppercase hover:bg-gray-800 transition-colors",children:"Done"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex border-b-4 border-black bg-gray-100",children:j==null?void 0:j.map(E=>r.jsxs("button",{onClick:()=>s(E.provider),className:`flex-1 px-4 py-3 flex items-center justify-center gap-2 font-bold uppercase text-sm transition-colors ${a===E.provider?"bg-white border-r-4 border-black -mb-1 pb-4":"hover:bg-gray-200"}`,children:[r.jsx(OL,{provider:E.provider,size:18}),r.jsx("span",{children:E.provider}),r.jsx("span",{className:"px-2 py-0.5 bg-black text-white text-xs",children:E.userCount})]},E.provider))}),A&&r.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b-2 border-gray-200 text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Workspace: "}),r.jsx("span",{className:"font-medium",children:A.workspaceName||A.provider})]}),r.jsx("div",{className:"px-6 py-4 border-b-2 border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx(pL,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:i,onChange:E=>l(E.target.value),placeholder:"Search by name or email...",className:"w-full pl-10 pr-4 py-2 border-2 border-black focus:outline-none focus:ring-2 focus:ring-yellow-300"})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:x?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(Yp,{className:"animate-spin",size:24})}):O.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[r.jsx(P3,{size:40,className:"mb-3"}),r.jsx("p",{className:"font-medium",children:"No users found"}),r.jsx("p",{className:"text-sm",children:i?"Try a different search term":"All users are already members"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"px-6 py-2 bg-gray-50 border-b border-gray-200 flex items-center gap-3",children:r.jsxs("button",{onClick:N,className:"flex items-center gap-2 text-sm font-medium hover:text-black transition-colors",children:[r.jsx("div",{className:`w-5 h-5 border-2 border-black flex items-center justify-center ${u.size===O.length&&O.length>0?"bg-yellow-300":"bg-white"}`,children:u.size===O.length&&O.length>0&&r.jsx(Fs,{size:14,strokeWidth:3})}),"Select All (",O.length,")"]})}),r.jsx("div",{className:"divide-y divide-gray-100",children:O.map(E=>r.jsxs("button",{onClick:()=>P(E.providerUserId),className:"w-full px-6 py-3 flex items-center gap-4 hover:bg-gray-50 transition-colors text-left",children:[r.jsx("div",{className:`w-5 h-5 border-2 border-black flex items-center justify-center flex-shrink-0 ${u.has(E.providerUserId)?"bg-yellow-300":"bg-white"}`,children:u.has(E.providerUserId)&&r.jsx(Fs,{size:14,strokeWidth:3})}),E.avatarUrl?r.jsx("img",{src:E.avatarUrl,alt:"",className:"w-10 h-10 border-2 border-black"}):r.jsx("div",{className:"w-10 h-10 border-2 border-black bg-gray-200 flex items-center justify-center font-bold text-gray-600",children:(E.displayName||E.email||"?").charAt(0).toUpperCase()}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-bold truncate",children:E.displayName||E.email||"Unknown User"}),E.email&&E.displayName&&r.jsx("p",{className:"text-sm text-gray-500 truncate",children:E.email})]})]},E.providerUserId))})]})}),r.jsxs("div",{className:"px-6 py-4 border-t-4 border-black bg-gray-50",children:[S.error&&r.jsx("div",{className:"mb-4 p-3 bg-red-100 border-2 border-red-500 text-red-700 text-sm font-medium",children:S.error.message}),r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{className:"text-sm font-bold uppercase",children:"Role:"}),r.jsxs("select",{value:h,onChange:E=>p(E.target.value),className:"px-3 py-2 border-2 border-black font-medium focus:outline-none focus:ring-2 focus:ring-yellow-300",children:[r.jsx("option",{value:"admin",children:"Admin"}),r.jsx("option",{value:"member",children:"Member"}),r.jsx("option",{value:"viewer",children:"Viewer"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:[u.size," selected"]}),r.jsx("button",{onClick:t,className:"px-4 py-2 border-2 border-black font-bold uppercase hover:bg-gray-200 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:C,disabled:u.size===0||S.isPending,className:"px-6 py-2 bg-black text-white font-bold uppercase hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:S.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Yp,{size:16,className:"animate-spin"}),"Inviting..."]}):`Invite ${u.size>0?`(${u.size})`:""}`})]})]})]})]})})]})})}function _L({organizationId:e,isOpen:t,onClose:n,onSuccess:a}){const[s,i]=b.useState(""),[l,u]=b.useState("member"),[d,h]=b.useState(!1),[p,m]=b.useState(null),g=async()=>{if(!s.trim()){m("Email is required");return}h(!0),m(null);try{await ce({url:`/api/organizations/${e}/members/invite`,method:"POST",data:{email:s.trim(),role:l}}),a(),n(),i(""),u("member")}catch(j){const v=j instanceof Ve?j.message:"Failed to invite member";m(v)}finally{h(!1)}};return t?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Invite Member"}),p&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:p}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),r.jsx("input",{id:"email",type:"email",value:s,onChange:j=>i(j.target.value),placeholder:"colleague@company.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),r.jsxs("select",{id:"role",value:l,onChange:j=>u(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"admin",children:"Admin - Full access"}),r.jsx("option",{value:"member",children:"Member - Can execute workflows"}),r.jsx("option",{value:"viewer",children:"Viewer - Read only"})]})]})]}),r.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[r.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),r.jsx("button",{onClick:g,disabled:d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Inviting...":"Send Invitation"})]})]})})}):null}function TL({userId:e,currentRole:t,organizationId:n,currentUserId:a,onSuccess:s}){const[i,l]=b.useState(!1),u=e===a,d=async h=>{if(h!==t){l(!0);try{await ce({url:`/api/organizations/${n}/members/${e}/role`,method:"PUT",data:{role:h}}),s()}catch(p){const m=p instanceof Ve?p.message:"Failed to update role";alert(m)}finally{l(!1)}}};return r.jsxs("select",{value:t,onChange:h=>d(h.target.value),disabled:i||u,className:`px-2 py-1 text-sm border border-gray-300 rounded ${u?"bg-gray-100 cursor-not-allowed":"hover:border-gray-400"} ${i?"opacity-50":""}`,children:[r.jsx("option",{value:"owner",children:"Owner"}),r.jsx("option",{value:"admin",children:"Admin"}),r.jsx("option",{value:"member",children:"Member"}),r.jsx("option",{value:"viewer",children:"Viewer"})]})}const E3={slack:uf,google:cf,notion:lf},RL={slack:"bg-purple-100 text-purple-600",google:"bg-blue-100 text-blue-600",notion:"bg-gray-100 text-gray-600"},Ov={slack:"Slack",google:"Google",notion:"Notion"};function ML({identity:e}){const t=E3[e.provider],n=RL[e.provider],a=Ov[e.provider],s=e.email||e.displayName||`${a} Account`;return r.jsxs("div",{className:"relative group",children:[r.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-md ${n} transition-all hover:shadow-sm`,title:s,children:[r.jsx(t,{className:"w-3 h-3"}),r.jsx("span",{className:"text-xs font-medium",children:a})]}),r.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap z-10",children:s})]})}function IL({identities:e,allProviders:t}){return r.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:t.map(n=>{const a=e.find(i=>i.provider===n),s=E3[n];return a?r.jsx(ML,{identity:a},n):r.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-gray-50 text-gray-300 border border-gray-200",title:`No ${Ov[n]} account linked`,children:[r.jsx(s,{className:"w-3 h-3"}),r.jsx("span",{className:"text-xs font-medium",children:Ov[n]})]},n)})})}function $L(){const{currentOrganization:e,user:t}=Za(),[n,a]=b.useState([]),[s,i]=b.useState(!0),[l,u]=b.useState(!1),[d,h]=b.useState(!1),[p,m]=b.useState("all"),[g,j]=b.useState("all"),v=e==null?void 0:e.id,w=t==null?void 0:t.id,{data:x,isLoading:S}=B7(),O=b.useCallback(async()=>{if(v)try{const E=await ce({url:`/api/organizations/${v}/members`,method:"GET"});a(E.members)}catch(E){console.error("Failed to fetch members:",E)}finally{i(!1)}},[v]);b.useEffect(()=>{O()},[O]);const P=async(E,M)=>{if(confirm(`Are you sure you want to remove ${M} from this organization?`))try{await ce({url:`/api/organizations/${v}/members/${E}`,method:"DELETE"}),O()}catch(R){const I=R instanceof Ve?R.message:"Failed to remove member";alert(I)}},N=E=>E?new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",C=n.filter(E=>{const M=(x==null?void 0:x.get(E.userId))||[];if(p!=="all"&&!M.some(I=>I.provider===p))return!1;if(g==="linked"){if(M.length===0)return!1}else if(g==="unlinked"&&M.length>0)return!1;return!0}),A={total:n.length,withSlack:n.filter(E=>((x==null?void 0:x.get(E.userId))||[]).some(M=>M.provider==="slack")).length,withGoogle:n.filter(E=>((x==null?void 0:x.get(E.userId))||[]).some(M=>M.provider==="google")).length,withNotion:n.filter(E=>((x==null?void 0:x.get(E.userId))||[]).some(M=>M.provider==="notion")).length,fullyLinked:n.filter(E=>((x==null?void 0:x.get(E.userId))||[]).length===3).length,noLinks:n.filter(E=>((x==null?void 0:x.get(E.userId))||[]).length===0).length};return s?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading members..."})]})}):r.jsxs("div",{className:"max-w-7xl",children:[r.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Members"}),r.jsx("p",{className:"text-gray-600",children:"Manage your organization members and their linked accounts"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[r.jsx(P3,{size:18}),"Invite from Services"]}),r.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:"+"}),"Invite by Email"]})]})]}),!S&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:A.total}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Members"})]}),r.jsxs("div",{className:"bg-purple-50 rounded-lg shadow p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(uf,{className:"w-4 h-4 text-purple-600"}),r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:A.withSlack})]}),r.jsx("div",{className:"text-sm text-purple-700",children:"Slack Linked"})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg shadow p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(cf,{className:"w-4 h-4 text-blue-600"}),r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:A.withGoogle})]}),r.jsx("div",{className:"text-sm text-blue-700",children:"Google Linked"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg shadow p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(lf,{className:"w-4 h-4 text-gray-600"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:A.withNotion})]}),r.jsx("div",{className:"text-sm text-gray-700",children:"Notion Linked"})]}),r.jsxs("div",{className:"bg-green-50 rounded-lg shadow p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(pj,{className:"w-4 h-4 text-green-600"}),r.jsx("div",{className:"text-2xl font-bold text-green-900",children:A.fullyLinked})]}),r.jsx("div",{className:"text-sm text-green-700",children:"Fully Linked"})]}),r.jsxs("div",{className:"bg-orange-50 rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:A.noLinks}),r.jsx("div",{className:"text-sm text-orange-700",children:"No Links"})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:r.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Provider:"}),r.jsxs("select",{value:p,onChange:E=>m(E.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Providers"}),r.jsx("option",{value:"slack",children:"Slack Only"}),r.jsx("option",{value:"google",children:"Google Only"}),r.jsx("option",{value:"notion",children:"Notion Only"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Link Status:"}),r.jsxs("select",{value:g,onChange:E=>j(E.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Members"}),r.jsx("option",{value:"linked",children:"Has Linked Accounts"}),r.jsx("option",{value:"unlinked",children:"No Linked Accounts"})]})]}),r.jsxs("div",{className:"ml-auto text-sm text-gray-600",children:["Showing ",C.length," of ",n.length," members"]})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Linked Accounts"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(E=>{const M=(x==null?void 0:x.get(E.userId))||[];return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:E.avatarUrl?r.jsx("img",{className:"h-10 w-10 rounded-full",src:E.avatarUrl,alt:E.name}):r.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-600 flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-medium",children:E.name.charAt(0).toUpperCase()})})}),r.jsxs("div",{className:"ml-4",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[E.name,E.userId===w&&r.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(you)"})]}),r.jsx("div",{className:"text-sm text-gray-500",children:E.email})]})]})}),r.jsx("td",{className:"px-6 py-4",children:S?r.jsx("div",{className:"text-sm text-gray-400",children:"Loading..."}):M.length>0?r.jsx(IL,{identities:M,allProviders:["slack","google","notion"]}):r.jsx("div",{className:"text-sm text-gray-400 italic",children:"No linked accounts"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v&&w&&r.jsx(TL,{userId:E.userId,currentRole:E.role,organizationId:v,currentUserId:w,onSuccess:O})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${E.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:E.status==="active"?"Active":"Pending"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N(E.joinedAt)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:E.userId!==w&&r.jsx("button",{onClick:()=>P(E.userId,E.name),className:"text-red-600 hover:text-red-900",children:"Remove"})})]},E.id)})})]}),C.length===0&&n.length>0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No members match filters"}),r.jsx("p",{className:"text-gray-600",children:"Try adjusting your filter criteria"})]}),n.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No members yet"}),r.jsx("p",{className:"text-gray-600",children:"Invite team members to collaborate"})]})]}),v&&r.jsx(_L,{organizationId:v,isOpen:l,onClose:()=>u(!1),onSuccess:O}),r.jsx(EL,{isOpen:d,onClose:()=>h(!1),onSuccess:O})]})}function LL(){const[e,t]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState(null),[l,u]=b.useState("pending"),[d,h]=b.useState("all"),[p,m]=b.useState({page:1,total:0,totalPages:0}),[g,j]=b.useState(null),v=b.useCallback(async()=>{a(!0),i(null);try{const N=await ce({url:"/api/approvals",method:"GET",params:{status:l,type:d,page:p.page,limit:20}});t(N.approvals),m({page:N.pagination.page,total:N.pagination.total,totalPages:N.pagination.totalPages})}catch(N){const C=N instanceof Ve?N.message:"Failed to fetch approvals";i(C)}finally{a(!1)}},[l,d,p.page]);b.useEffect(()=>{v()},[v]);const w=async(N,C)=>{j(N);try{await ce({url:`/api/approvals/${N}/respond`,method:"PUT",data:{action:C}}),v()}catch(A){const E=A instanceof Ve?A.message:"Failed to respond to approval";i(E)}finally{j(null)}},x=N=>{const C={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",expired:"bg-gray-100 text-gray-800"};return r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${C[N]}`,children:N.charAt(0).toUpperCase()+N.slice(1)})},S=N=>{const C={budget:{bg:"bg-blue-100 text-blue-800",emoji:"money"},deployment:{bg:"bg-purple-100 text-purple-800",emoji:"rocket"},content:{bg:"bg-orange-100 text-orange-800",emoji:"document"}};return r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${C[N].bg}`,children:N.charAt(0).toUpperCase()+N.slice(1)})},O=N=>new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),P=N=>new Date(N)<new Date;return n&&e.length===0?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading approvals..."})]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Approvals"}),r.jsx("p",{className:"text-gray-600",children:"Review and respond to approval requests"})]}),s&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:s}),r.jsxs("div",{className:"mb-6 flex flex-wrap gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:l,onChange:N=>{u(N.target.value),m(C=>({...C,page:1}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"}),r.jsx("option",{value:"expired",children:"Expired"}),r.jsx("option",{value:"all",children:"All"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),r.jsxs("select",{value:d,onChange:N=>{h(N.target.value),m(C=>({...C,page:1}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"budget",children:"Budget"}),r.jsx("option",{value:"deployment",children:"Deployment"}),r.jsx("option",{value:"content",children:"Content"})]})]})]}),e.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:l==="pending"?"":""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:l==="pending"?"No pending approvals":"No approvals found"}),r.jsx("p",{className:"text-gray-600",children:l==="pending"?"You're all caught up!":"Try changing the filters to see more approvals."})]})}):r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(N=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.title}),r.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:N.description})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S(N.type)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x(N.status)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P(N.expiresAt)?r.jsx("span",{className:"text-red-600",children:"Expired"}):O(N.expiresAt)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N.status==="pending"&&!P(N.expiresAt)?r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>w(N.id,"approved"),disabled:g===N.id,className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:g===N.id?"...":"Approve"}),r.jsx("button",{onClick:()=>w(N.id,"rejected"),disabled:g===N.id,className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50",children:g===N.id?"...":"Reject"})]}):r.jsx("span",{className:"text-sm text-gray-400",children:N.respondedAt?O(N.respondedAt):"-"})})]},N.id))})]}),p.totalPages>1&&r.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",p.page," of ",p.totalPages," (",p.total," total)"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>m(N=>({...N,page:N.page-1})),disabled:p.page<=1,className:"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:"Previous"}),r.jsx("button",{onClick:()=>m(N=>({...N,page:N.page+1})),disabled:p.page>=p.totalPages,className:"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:"Next"})]})]})]})]})}const DL=["execution:started","execution:progress","execution:completed","execution:failed","workflow:updated","notification"];function FL(e={}){const{url:t="/api/events",reconnectDelay:n=3e3,maxReconnectAttempts:a=10,onEvent:s}=e,[i,l]=b.useState(!1),[u,d]=b.useState(null),[h,p]=b.useState(null),m=b.useRef(null),g=b.useRef(0),j=b.useRef(null),v=b.useRef(s),w=b.useRef([]);b.useEffect(()=>{v.current=s},[s]);const x=b.useCallback(()=>{m.current&&(w.current.forEach(({type:P,handler:N})=>{var C;(C=m.current)==null||C.removeEventListener(P,N)}),w.current=[],m.current.close(),m.current=null),j.current&&(clearTimeout(j.current),j.current=null)},[]),S=b.useCallback(()=>{x();const N=`https://auth.nubabel.com${t}`;try{const C=new EventSource(N,{withCredentials:!0});m.current=C,C.onopen=()=>{l(!0),p(null),g.current=0},C.onerror=()=>{if(l(!1),x(),g.current<a){const A=n*Math.pow(2,g.current);g.current+=1,j.current=setTimeout(()=>{S()},A)}else p("Failed to connect to server. Please refresh the page.")},C.onmessage=A=>{var E;try{const M=JSON.parse(A.data),R={type:M.type||"message",data:M.data||M,timestamp:Date.now()};d(R),(E=v.current)==null||E.call(v,R)}catch{A.data!=="heartbeat"&&console.warn("Failed to parse SSE message:",A.data)}},DL.forEach(A=>{const E=M=>{var R;try{const T=JSON.parse(M.data),$={type:A,data:T,timestamp:Date.now()};d($),(R=v.current)==null||R.call(v,$)}catch(I){console.warn(`Failed to parse ${A} event:`,I)}};C.addEventListener(A,E),w.current.push({type:A,handler:E})})}catch(C){p("Failed to create EventSource connection"),console.error("SSE connection error:",C)}},[t,n,a,x]),O=b.useCallback(()=>{g.current=0,S()},[S]);return b.useEffect(()=>(S(),x),[S,x]),{isConnected:i,lastEvent:u,error:h,reconnect:O}}const uS={sisyphus:"",oracle:"",explore:"",librarian:"",executor:"","executor-high":"",architect:"",designer:"",qa_tester:"",build_fixer:"",writer:"",default:""};function zL(e){const t=e.toLowerCase().replace(/-/g,"_");return uS[t]||uS.default}function BL(e,t){switch(e){case"pending":return r.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded-full",children:"pending"});case"in_progress":return r.jsxs("span",{className:"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded-full flex items-center gap-1",children:[r.jsx("span",{className:"animate-pulse",children:""}),t!==void 0?`${t}%`:"running"]});case"completed":return r.jsx("span",{className:"px-2 py-0.5 text-xs bg-green-100 text-green-700 rounded-full",children:" done"});case"failed":return r.jsx("span",{className:"px-2 py-0.5 text-xs bg-red-100 text-red-700 rounded-full",children:" failed"});case"cancelled":return r.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-700 rounded-full",children:"cancelled"});default:return null}}function qL(e){return e<1e3?`${e}ms`:e<6e4?`${(e/1e3).toFixed(1)}s`:`${Math.floor(e/6e4)}m ${Math.round(e%6e4/1e3)}s`}function _3({agent:e,children:t,allAgents:n,depth:a,onSelectAgent:s}){const i=t.filter(l=>l.parentId===e.id);return r.jsxs("div",{className:`${a>0?"ml-6 border-l-2 border-gray-200 pl-4":""}`,children:[r.jsxs("div",{className:`flex items-center gap-3 py-2 px-3 rounded-lg cursor-pointer transition hover:bg-gray-50 ${e.status==="in_progress"?"bg-blue-50":""}`,onClick:()=>s==null?void 0:s(e),children:[r.jsx("span",{className:"text-xl",children:zL(e.agentType)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-gray-900 truncate",children:e.agentName||e.agentType}),BL(e.status,e.progress)]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-0.5",children:[e.category&&r.jsx("span",{className:"bg-gray-100 px-1.5 py-0.5 rounded",children:e.category}),e.duration!==void 0&&r.jsxs("span",{children:[" ",qL(e.duration)]})]})]}),e.status==="in_progress"&&e.progress!==void 0&&r.jsx("div",{className:"w-16 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${e.progress}%`}})})]}),e.status==="failed"&&e.errorMessage&&r.jsx("div",{className:"ml-9 mt-1 p-2 bg-red-50 text-red-700 text-xs rounded border border-red-200",children:e.errorMessage}),i.length>0&&r.jsx("div",{className:"mt-1",children:i.map(l=>r.jsx(_3,{agent:l,children:n,allAgents:n,depth:a+1,onSelectAgent:s},l.id))})]})}function UL({agents:e,selectedSessionId:t,onSelectAgent:n}){const a=b.useMemo(()=>t?e.filter(l=>l.sessionId===t):e,[e,t]),s=b.useMemo(()=>a.filter(l=>!l.parentId),[a]),i=b.useMemo(()=>{const l=a.length,u=a.filter(p=>p.status==="completed").length,d=a.filter(p=>p.status==="failed").length,h=a.filter(p=>p.status==="in_progress").length;return{total:l,completed:u,failed:d,inProgress:h}},[a]);return a.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Agent Hierarchy"})]}),r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsx("p",{children:"No active agents"}),r.jsx("p",{className:"text-sm mt-1",children:"Agent delegation hierarchy will appear here"})]})]}):r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Agent Hierarchy"})]}),r.jsxs("div",{className:"flex gap-4 mt-2 text-sm",children:[r.jsxs("span",{className:"text-gray-600",children:["Total: ",i.total]}),i.inProgress>0&&r.jsxs("span",{className:"text-blue-600",children:[" ",i.inProgress," running"]}),i.completed>0&&r.jsxs("span",{className:"text-green-600",children:[" ",i.completed," done"]}),i.failed>0&&r.jsxs("span",{className:"text-red-600",children:[" ",i.failed," failed"]})]})]}),r.jsx("div",{className:"p-4 max-h-[500px] overflow-y-auto",children:s.map(l=>r.jsx(_3,{agent:l,children:a,allAgents:a,depth:0,onSelectAgent:n},l.id))})]})}function WL({accounts:e,selectedAccountId:t,onRefresh:n}){const[a,s]=b.useState(Date.now());b.useEffect(()=>{const m=setInterval(()=>s(Date.now()),6e4);return()=>clearInterval(m)},[]);const i=m=>{switch(m){case"active":return"";case"rate_limited":return"";case"exhausted":return"";case"cooldown":return"";default:return""}},l=m=>m<50?"bg-green-500":m<75?"bg-yellow-500":m<90?"bg-orange-500":"bg-red-500",u=m=>{if(!m)return null;const j=new Date(m).getTime()-a;if(j<=0)return null;const v=Math.floor(j/6e4);return v<60?`${v}m`:`${Math.floor(v/60)}h ${v%60}m`},d=[...e].sort((m,g)=>m.id===t?-1:g.id===t?1:g.priority-m.priority),h=e.filter(m=>m.status==="active").length,p=e.length>0?Math.round(e.reduce((m,g)=>m+g.estimatedUsagePercent,0)/e.length):0;return r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Claude Max Pool"})]}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[h,"/",e.length," active  ",p,"% avg usage"]})]}),n&&r.jsx("button",{onClick:n,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition",title:"Refresh",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})}),r.jsx("div",{className:"p-4 space-y-3 max-h-[400px] overflow-y-auto",children:d.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsx("p",{children:"No accounts configured"})]}):d.map(m=>{const g=u(m.cooldownUntil),j=m.id===t;return r.jsxs("div",{className:`p-3 rounded-lg border-2 transition ${j?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:i(m.status)}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-900",children:m.nickname}),j&&r.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-blue-500 text-white rounded-full",children:"Active"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[m.estimatedUsagePercent.toFixed(1),"%"]}),g&&r.jsxs("div",{className:"text-xs text-orange-600",children:[" ",g]})]})]}),r.jsx("div",{className:"relative h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:`absolute left-0 top-0 h-full rounded-full transition-all duration-500 ${l(m.estimatedUsagePercent)}`,style:{width:`${Math.min(m.estimatedUsagePercent,100)}%`}})}),r.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[r.jsx("span",{className:"truncate max-w-[150px]",title:m.email,children:m.email}),r.jsx("span",{className:`px-2 py-0.5 rounded-full ${m.status==="active"?"bg-green-100 text-green-700":m.status==="rate_limited"?"bg-yellow-100 text-yellow-700":m.status==="exhausted"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:m.status.replace("_"," ")})]})]},m.id)})})]})}const HL=["all","agent:started","agent:progress","agent:completed","agent:failed","agent_delegated","account_selected","execution:started","execution:completed"];function KL(){const[e,t]=b.useState([]),[n,a]=b.useState("all"),[s,i]=b.useState(new Map),[l,u]=b.useState([]),[d,h]=b.useState(),[p,m]=b.useState(),g=b.useCallback(A=>{const E={id:`${A.timestamp}-${Math.random().toString(36).slice(2)}`,type:A.type,data:A.data,timestamp:A.timestamp};t(R=>[E,...R].slice(0,100));const M=A.data;if(A.type==="agent:started"||A.type==="agent_delegated"){const R={id:M.activityId||M.id||E.id,sessionId:M.sessionId||"unknown",agentType:M.agentType||"unknown",agentName:M.agentName,category:M.category,status:"in_progress",parentId:M.parentActivityId,startedAt:new Date(A.timestamp).toISOString()};i(I=>new Map(I).set(R.id,R))}if(A.type==="agent:progress"){const R=M.activityId;R&&i(I=>{const T=new Map(I),$=T.get(R);return $&&T.set(R,{...$,progress:M.progress,status:"in_progress"}),T})}if(A.type==="agent:completed"||A.type==="agent:failed"){const R=M.activityId;R&&i(I=>{const T=new Map(I),$=T.get(R);return $&&T.set(R,{...$,status:A.type==="agent:completed"?"completed":"failed",duration:M.duration,errorMessage:M.errorMessage,completedAt:new Date(A.timestamp).toISOString()}),T})}A.type==="account_selected"&&(h(M.accountId),M.accounts&&u(M.accounts))},[]),{isConnected:j,error:v,reconnect:w}=FL({url:"/api/events",onEvent:g}),x=b.useMemo(()=>e.filter(A=>n==="all"?!0:A.type===n||A.type.startsWith(n.split(":")[0])),[e,n]),S=b.useMemo(()=>Array.from(s.values()),[s]),O=b.useMemo(()=>{const A=new Set(S.map(E=>E.sessionId));return Array.from(A)},[S]),P=A=>A.includes("started")?"bg-blue-100 text-blue-800":A.includes("completed")?"bg-green-100 text-green-800":A.includes("failed")||A.includes("error")?"bg-red-100 text-red-800":A.includes("progress")?"bg-yellow-100 text-yellow-800":A.includes("delegated")?"bg-purple-100 text-purple-800":A.includes("account")?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800",N=A=>A.includes("started")?"":A.includes("completed")?"":A.includes("failed")?"":A.includes("progress")?"":A.includes("delegated")?"":A.includes("account")?"":"",C=A=>new Date(A).toLocaleTimeString();return r.jsxs("div",{className:"p-6 min-h-screen bg-gray-50",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Agent Activity"}),r.jsx("p",{className:"text-gray-600",children:"Real-time monitoring of OMC agent operations"})]}),r.jsxs("div",{className:"mb-4 flex items-center justify-between flex-wrap gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`inline-block w-3 h-3 rounded-full ${j?"bg-green-500 animate-pulse":"bg-red-500"}`}),r.jsx("span",{className:"text-sm text-gray-600",children:j?"Live":"Disconnected"})]}),!j&&r.jsx("button",{onClick:w,className:"text-sm text-blue-600 hover:text-blue-800",children:"Reconnect"}),v&&r.jsx("span",{className:"text-sm text-red-600",children:v})]}),O.length>0&&r.jsxs("select",{value:p||"",onChange:A=>m(A.target.value||void 0),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"All Sessions"}),O.map(A=>r.jsxs("option",{value:A,children:["Session: ",A.slice(0,12),"..."]},A))]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[r.jsx("div",{className:"lg:col-span-3",children:r.jsx(UL,{agents:S,selectedSessionId:p,onSelectAgent:A=>m(A.sessionId)})}),r.jsx("div",{className:"lg:col-span-6",children:r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Event Feed"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[x.length," events"]})]}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:HL.map(A=>r.jsx("button",{onClick:()=>a(A),className:`px-3 py-1 rounded-full text-xs transition ${n===A?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:A==="all"?"All":A.replace(":"," ")},A))})]}),r.jsx("div",{className:"p-4 max-h-[600px] overflow-y-auto space-y-3",children:x.length===0?r.jsxs("div",{className:"text-center py-12 text-gray-500",children:[r.jsx("div",{className:"text-4xl mb-4",children:""}),r.jsx("h2",{className:"text-lg font-medium",children:"Waiting for events..."}),r.jsx("p",{className:"text-sm mt-1",children:"Events appear here in real-time"})]}):x.map(A=>r.jsx("div",{className:"p-3 rounded-lg border border-gray-200 hover:border-gray-300 transition",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-xl",children:N(A.type)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${P(A.type)}`,children:A.type}),r.jsx("span",{className:"text-xs text-gray-500",children:C(A.timestamp)})]}),Object.keys(A.data).length>0&&r.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs",children:r.jsx("pre",{className:"text-gray-600 overflow-x-auto whitespace-pre-wrap",children:JSON.stringify(A.data,null,2)})})]})]})},A.id))}),e.length>0&&r.jsx("div",{className:"p-3 border-t border-gray-200 text-center",children:r.jsx("button",{onClick:()=>{t([]),i(new Map)},className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})})]})}),r.jsx("div",{className:"lg:col-span-3",children:r.jsx(WL,{accounts:l,selectedAccountId:d,onRefresh:()=>{fetch("/api/claude-max-accounts").then(A=>A.json()).then(A=>u(A.accounts||[])).catch(console.error)}})})]})]})}function GL(){var l,u,d;const[e,t]=b.useState(null),[n,a]=b.useState(!0),[s,i]=b.useState(null);return b.useEffect(()=>{(async()=>{try{const p=await ce({url:"/api/metrics/agents",method:"GET"});t(p)}catch(p){console.error("Failed to fetch metrics:",p),i(p instanceof Error?p.message:"An error occurred")}finally{a(!1)}})()},[]),n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading metrics..."})]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agent Metrics"}),r.jsx("p",{className:"text-gray-600",children:"Monitor agent performance and statistics"})]}),s&&r.jsx("div",{className:"text-red-500 p-4",children:s}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Total Executions"}),r.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:(e==null?void 0:e.totalExecutions)||0})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Success Rate"}),r.jsxs("p",{className:"mt-2 text-3xl font-bold text-green-600",children:[((l=e==null?void 0:e.overallSuccessRate)==null?void 0:l.toFixed(1))||0,"%"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Active Agents"}),r.jsx("p",{className:"mt-2 text-3xl font-bold text-indigo-600",children:((u=e==null?void 0:e.agents)==null?void 0:u.length)||0})]})]}),(d=e==null?void 0:e.agents)!=null&&d.length?r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Executions"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Success Rate"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Duration"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Run"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.agents.map(h=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:h.agentName}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.totalExecutions}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${h.successRate>=90?"bg-green-100 text-green-800":h.successRate>=70?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[h.successRate.toFixed(1),"%"]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[h.avgDuration.toFixed(1),"s"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.lastExecution?new Date(h.lastExecution).toLocaleString():"-"})]},h.agentId))})]})}):r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No metrics yet"}),r.jsx("p",{className:"text-gray-600",children:"Agent metrics will appear here after executions"})]})})]})}function VL(){const[e,t]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState(""),[l,u]=b.useState(""),[d,h]=b.useState(0),[p,m]=b.useState(null),[g,j]=b.useState(""),v=20;b.useEffect(()=>{(async()=>{try{a(!0);const C=new URLSearchParams({limit:v.toString(),offset:d.toString()});s&&C.append("type",s),l&&C.append("impactLevel",l);const A=await ce({url:`/api/org-changes?${C.toString()}`,method:"GET"});t(A.data||[])}catch(C){console.error("Failed to fetch organization changes:",C)}finally{a(!1)}})()},[s,l,d]);const w=N=>{switch(N){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},x=N=>{switch(N){case"new_member":return"";case"role_change":return"";case"workflow_added":return"";case"workflow_deleted":return"";case"integration_added":return"";case"settings_changed":return"";default:return""}},S=N=>{switch(N){case"merged":return"bg-purple-100 text-purple-800";case"open":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},O=async N=>{try{await ce({url:`/api/org-changes/${N}/link-pr`,method:"POST",data:{prUrl:g}});const C=new URLSearchParams({limit:v.toString(),offset:d.toString()});s&&C.append("type",s),l&&C.append("impactLevel",l);const A=await ce({url:`/api/org-changes?${C.toString()}`,method:"GET"});t(A.data||[]),m(null),j("")}catch(C){console.error("Failed to link PR:",C),alert("Failed to link PR. Please check the URL format.")}},P=async N=>{try{await ce({url:`/api/org-changes/${N}/pr-status`,method:"GET"});const C=new URLSearchParams({limit:v.toString(),offset:d.toString()});s&&C.append("type",s),l&&C.append("impactLevel",l);const A=await ce({url:`/api/org-changes?${C.toString()}`,method:"GET"});t(A.data||[])}catch(C){console.error("Failed to sync PR status:",C)}};return n&&e.length===0?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading organization changes..."})]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Organization Changes"}),r.jsx("p",{className:"text-gray-600",children:"Track organizational changes and updates"})]}),r.jsxs("div",{className:"mb-6 flex gap-4 flex-wrap",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Type"}),r.jsxs("select",{value:s,onChange:N=>{i(N.target.value),h(0)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-600",children:[r.jsx("option",{value:"",children:"All Types"}),r.jsx("option",{value:"new_member",children:"New Member"}),r.jsx("option",{value:"role_change",children:"Role Change"}),r.jsx("option",{value:"workflow_added",children:"Workflow Added"}),r.jsx("option",{value:"workflow_deleted",children:"Workflow Deleted"}),r.jsx("option",{value:"integration_added",children:"Integration Added"}),r.jsx("option",{value:"settings_changed",children:"Settings Changed"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Impact"}),r.jsxs("select",{value:l,onChange:N=>{u(N.target.value),h(0)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-600",children:[r.jsx("option",{value:"",children:"All Impact Levels"}),r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"})]})]})]}),e.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No changes yet"}),r.jsx("p",{className:"text-gray-600",children:"Organization changes will appear here"})]})}):r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Impact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PR Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(N=>{var C;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[r.jsx("span",{className:"mr-2",children:x(N.type)}),N.type.replace(/_/g," ")]}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 max-w-md truncate",children:N.description}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${w(N.impactLevel)}`,children:N.impactLevel})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N.prUrl&&((C=N.metadata)!=null&&C.pr)?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("a",{href:N.prUrl,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${S(N.metadata.pr.state)}`,children:[N.metadata.pr.state," #",N.metadata.pr.number]}),r.jsx("button",{onClick:()=>P(N.id),className:"text-gray-400 hover:text-gray-600",title:"Refresh PR status",children:""})]}):p===N.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"text",value:g,onChange:A=>j(A.target.value),placeholder:"https://github.com/...",className:"px-2 py-1 text-xs border border-gray-300 rounded"}),r.jsx("button",{onClick:()=>O(N.id),className:"px-2 py-1 text-xs bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Link"}),r.jsx("button",{onClick:()=>{m(null),j("")},className:"px-2 py-1 text-xs bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Cancel"})]}):r.jsx("button",{onClick:()=>m(N.id),className:"text-xs text-indigo-600 hover:text-indigo-800",children:"+ Link PR"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(N.createdAt).toLocaleString()})]},N.id)})})]})}),e.length>0&&r.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[r.jsx("button",{onClick:()=>h(Math.max(0,d-v)),disabled:d===0,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",d+1," to ",Math.min(d+v,d+e.length)]}),r.jsx("button",{onClick:()=>h(d+v),disabled:e.length<v,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})}function QL(){const[e,t]=b.useState([]),[n,a]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const l=await ce({url:"/api/okrs",method:"GET"});t(l.objectives||[])}catch(l){console.error("Failed to fetch OKRs:",l)}finally{a(!1)}})()},[]);const s=i=>i>=70?"bg-green-500":i>=40?"bg-yellow-500":"bg-red-500";return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading OKRs..."})]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"OKRs"}),r.jsx("p",{className:"text-gray-600",children:"Track objectives and key results"})]}),r.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:"New Objective"})]}),e.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No OKRs yet"}),r.jsx("p",{className:"text-gray-600",children:"Create your first objective to start tracking progress"})]})}):r.jsx("div",{className:"space-y-6",children:e.map(i=>r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:i.title}),i.description&&r.jsx("p",{className:"text-gray-600 mt-1",children:i.description}),r.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Owner: ",i.owner,i.dueDate&&` | Due: ${new Date(i.dueDate).toLocaleDateString()}`]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[i.progress,"%"]})})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:r.jsx("div",{className:`h-2 rounded-full ${s(i.progress)}`,style:{width:`${i.progress}%`}})}),i.keyResults.length>0&&r.jsxs("div",{className:"border-t pt-4 mt-4 space-y-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500 uppercase",children:"Key Results"}),i.keyResults.map(l=>{const u=l.targetValue>0?Math.round(l.currentValue/l.targetValue*100):0;return r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-gray-700",children:l.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("div",{className:"flex-1 bg-gray-100 rounded-full h-1.5",children:r.jsx("div",{className:`h-1.5 rounded-full ${s(u)}`,style:{width:`${Math.min(u,100)}%`}})}),r.jsxs("span",{className:"text-xs text-gray-500",children:[l.currentValue,"/",l.targetValue," ",l.unit]})]})]})},l.id)})]})]},i.id))})]})}function YL({agent:e,onEdit:t,onDelete:n,onViewActivity:a,onToggleEnabled:s}){const[i,l]=b.useState(!1),[u,d]=b.useState(!1),h=async()=>{if(!(!s||u)){d(!0);try{await s(e,!e.enabled)}finally{d(!1)}}},p=m=>({ops:"bg-blue-100 text-blue-800",brand:"bg-purple-100 text-purple-800",hr:"bg-green-100 text-green-800",finance:"bg-yellow-100 text-yellow-800",cs:"bg-pink-100 text-pink-800",product:"bg-indigo-100 text-indigo-800"})[m]||"bg-gray-100 text-gray-800";return r.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-lg flex items-center justify-center",children:r.jsxs("span",{className:"text-2xl text-white",children:[e.function==="ops"&&"",e.function==="brand"&&"",e.function==="hr"&&"",e.function==="finance"&&"",e.function==="cs"&&"",e.function==="product"&&"",!["ops","brand","hr","finance","cs","product"].includes(e.function)&&""]})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500",children:e.id})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p(e.function)}`,children:e.function}),s&&r.jsx("button",{onClick:h,disabled:u,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${e.enabled!==!1?"bg-green-500":"bg-gray-300"} ${u?"opacity-50":""}`,title:e.enabled!==!1?"Enabled - Click to disable":"Disabled - Click to enable",children:r.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${e.enabled!==!1?"translate-x-5":"translate-x-0"}`})})]})]}),r.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:e.description}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Skills"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[(e.skillDetails||e.skills.map(m=>({id:m,name:m}))).map(m=>r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:m.name},m.id)),e.skills.length===0&&r.jsx("span",{className:"text-xs text-gray-400",children:"No skills assigned"})]})]}),r.jsxs("button",{onClick:()=>l(!i),className:"mt-4 text-sm text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:[i?"Hide details":"Show details",r.jsx("svg",{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Tools"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.tools.map(m=>r.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:m},m)),e.tools.length===0&&r.jsx("span",{className:"text-xs text-gray-400",children:"No tools configured"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Routing Keywords"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.routing_keywords.map(m=>r.jsx("span",{className:"px-2 py-1 bg-orange-50 text-orange-700 text-xs rounded-full",children:m},m)),e.routing_keywords.length===0&&r.jsx("span",{className:"text-xs text-gray-400",children:"No keywords configured"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Permissions"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Read:"}),r.jsxs("ul",{className:"mt-1 space-y-1",children:[e.permissions.read.map(m=>r.jsx("li",{className:"text-green-700 font-mono",children:m},m)),e.permissions.read.length===0&&r.jsx("li",{className:"text-gray-400",children:"None"})]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Write:"}),r.jsxs("ul",{className:"mt-1 space-y-1",children:[e.permissions.write.map(m=>r.jsx("li",{className:"text-yellow-700 font-mono",children:m},m)),e.permissions.write.length===0&&r.jsx("li",{className:"text-gray-400",children:"None"})]})]})]})]})]})]}),r.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-between items-center rounded-b-lg",children:[r.jsx("button",{onClick:()=>a==null?void 0:a(e),className:"text-sm text-gray-600 hover:text-gray-900",children:"View Activity"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>t(e),className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Edit"}),r.jsx("button",{onClick:()=>n(e),className:"px-3 py-1.5 text-sm text-red-600 bg-white border border-red-300 rounded-md hover:bg-red-50",children:"Delete"})]})]})]})}const XL=[{value:"ops",label:"Operations"},{value:"brand",label:"Brand/Marketing"},{value:"hr",label:"Human Resources"},{value:"finance",label:"Finance"},{value:"cs",label:"Customer Success"},{value:"product",label:"Product"}];function JL({isOpen:e,onClose:t,onSuccess:n,agent:a,availableSkills:s,availableTools:i}){const l=!!a,[u,d]=b.useState({id:"",name:"",function:"ops",description:"",skills:[],tools:[],routing_keywords:[],permissions:{read:[],write:[]}}),[h,p]=b.useState(""),[m,g]=b.useState(""),[j,v]=b.useState(""),[w,x]=b.useState(!1),[S,O]=b.useState(null);b.useEffect(()=>{d(a?{id:a.id,name:a.name,function:a.function,description:a.description,skills:[...a.skills],tools:[...a.tools],routing_keywords:[...a.routing_keywords],permissions:{read:[...a.permissions.read],write:[...a.permissions.write]}}:{id:"",name:"",function:"ops",description:"",skills:[],tools:[],routing_keywords:[],permissions:{read:[],write:[]}}),O(null)},[a,e]);const P=async $=>{$.preventDefault(),x(!0),O(null);try{l?await ce({url:`/api/admin/agents/${u.id}`,method:"PUT",data:{name:u.name,function:u.function,description:u.description,skills:u.skills,tools:u.tools,routing_keywords:u.routing_keywords,permissions:u.permissions}}):await ce({url:"/api/admin/agents",method:"POST",data:u}),n(),t()}catch(W){const X=W instanceof Ve?W.message:"Failed to save agent";O(X)}finally{x(!1)}},N=()=>{h.trim()&&!u.routing_keywords.includes(h.trim())&&(d({...u,routing_keywords:[...u.routing_keywords,h.trim()]}),p(""))},C=$=>{d({...u,routing_keywords:u.routing_keywords.filter(W=>W!==$)})},A=()=>{m.trim()&&!u.permissions.read.includes(m.trim())&&(d({...u,permissions:{...u.permissions,read:[...u.permissions.read,m.trim()]}}),g(""))},E=$=>{d({...u,permissions:{...u.permissions,read:u.permissions.read.filter(W=>W!==$)}})},M=()=>{j.trim()&&!u.permissions.write.includes(j.trim())&&(d({...u,permissions:{...u.permissions,write:[...u.permissions.write,j.trim()]}}),v(""))},R=$=>{d({...u,permissions:{...u.permissions,write:u.permissions.write.filter(W=>W!==$)}})},I=$=>{const W=u.skills.includes($)?u.skills.filter(X=>X!==$):[...u.skills,$];d({...u,skills:W})},T=$=>{const W=u.tools.includes($)?u.tools.filter(X=>X!==$):[...u.tools,$];d({...u,tools:W})};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 max-h-[90vh] overflow-y-auto",children:r.jsxs("form",{onSubmit:P,children:[r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:l?"Edit Agent":"Create Agent"}),S&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:S}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID (slug) *"}),r.jsx("input",{id:"id",type:"text",value:u.id,onChange:$=>d({...u,id:$.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"brand-agent",disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100"}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lowercase letters, numbers, and hyphens only"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{id:"name",type:"text",value:u.name,onChange:$=>d({...u,name:$.target.value}),placeholder:"Brand Agent",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"function",className:"block text-sm font-medium text-gray-700 mb-1",children:"Function *"}),r.jsx("select",{id:"function",value:u.function,onChange:$=>d({...u,function:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:XL.map($=>r.jsx("option",{value:$.value,children:$.label},$.value))})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),r.jsx("textarea",{id:"description",value:u.description,onChange:$=>d({...u,description:$.target.value}),placeholder:"Agent description...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills"}),r.jsxs("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:[s.map($=>r.jsx("button",{type:"button",onClick:()=>I($.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${u.skills.includes($.id)?"bg-indigo-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:$.name},$.id)),s.length===0&&r.jsx("span",{className:"text-sm text-gray-500",children:"No skills available"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tools"}),r.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:i.map($=>r.jsx("button",{type:"button",onClick:()=>T($.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${u.tools.includes($.id)?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,title:$.description,children:$.name},$.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Routing Keywords"}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:h,onChange:$=>p($.target.value),onKeyDown:$=>$.key==="Enter"&&($.preventDefault(),N()),placeholder:"Add keyword...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Add"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:u.routing_keywords.map($=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-orange-100 text-orange-800 text-sm rounded-full",children:[$,r.jsx("button",{type:"button",onClick:()=>C($),className:"text-orange-600 hover:text-orange-800",children:""})]},$))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Read Paths"}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:m,onChange:$=>g($.target.value),onKeyDown:$=>$.key==="Enter"&&($.preventDefault(),A()),placeholder:"/sops/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),r.jsx("button",{type:"button",onClick:A,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),r.jsx("ul",{className:"space-y-1 max-h-24 overflow-y-auto",children:u.permissions.read.map($=>r.jsxs("li",{className:"flex items-center justify-between text-sm bg-green-50 px-2 py-1 rounded",children:[r.jsx("span",{className:"font-mono text-green-700",children:$}),r.jsx("button",{type:"button",onClick:()=>E($),className:"text-green-600 hover:text-green-800",children:""})]},$))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Write Paths"}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:j,onChange:$=>v($.target.value),onKeyDown:$=>$.key==="Enter"&&($.preventDefault(),M()),placeholder:"/sops/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),r.jsx("button",{type:"button",onClick:M,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),r.jsx("ul",{className:"space-y-1 max-h-24 overflow-y-auto",children:u.permissions.write.map($=>r.jsxs("li",{className:"flex items-center justify-between text-sm bg-yellow-50 px-2 py-1 rounded",children:[r.jsx("span",{className:"font-mono text-yellow-700",children:$}),r.jsx("button",{type:"button",onClick:()=>R($),className:"text-yellow-600 hover:text-yellow-800",children:""})]},$))})]})]})]})]}),r.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center rounded-b-lg",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Changes will create a GitHub PR for review"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:w||!u.id||!u.name||!u.description,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Creating PR...":l?"Update Agent":"Create Agent"})]})]})]})})}):null}function ZL(){const[e,t]=b.useState([]),[n,a]=b.useState([]),[s,i]=b.useState([]),[l,u]=b.useState(!0),[d,h]=b.useState(null),[p,m]=b.useState(!1),[g,j]=b.useState(null),[v,w]=b.useState([]),[x,S]=b.useState(null),[O,P]=b.useState(""),[N,C]=b.useState("all"),A=async()=>{try{const q=await ce({url:"/api/admin/pending-prs?type=agent",method:"GET"});w(q.pullRequests)}catch(q){console.error("Failed to fetch pending PRs:",q)}},E=async()=>{try{const q=await ce({url:"/api/admin/agents",method:"GET"});t(q.agents)}catch(q){const U=q instanceof Ve?q.message:"Failed to fetch agents";h(U)}},M=async()=>{try{const q=await ce({url:"/api/admin/skills",method:"GET"});a(q.skills.map(U=>({id:U.id,name:U.name})))}catch(q){console.error("Failed to fetch skills:",q)}},R=async()=>{try{const q=await ce({url:"/api/admin/tools",method:"GET"});i(q.tools)}catch(q){console.error("Failed to fetch tools:",q)}};b.useEffect(()=>{(async()=>{u(!0),await Promise.all([E(),M(),R(),A()]),u(!1)})()},[]);const I=()=>{j(null),m(!0)},T=q=>{j(q),m(!0)},$=async q=>{if(confirm(`Are you sure you want to delete "${q.name}"? This will create a PR.`))try{const U=await ce({url:`/api/admin/agents/${q.id}`,method:"DELETE"});S(`PR created to delete agent. View at: ${U.pullRequest.html_url}`),E(),A()}catch(U){const G=U instanceof Ve?U.message:"Failed to delete agent";h(G)}},W=()=>{S("Changes submitted successfully. A GitHub PR has been created for review."),E(),A()},X=q=>{window.location.href=`/activity?agent=${q.id}`},B=async(q,U)=>{try{const G=await ce({url:`/api/admin/agents/${q.id}`,method:"PUT",data:{...q,enabled:U}});S(`PR created to ${U?"enable":"disable"} agent. View at: ${G.pullRequest.html_url}`),E(),A()}catch(G){const Y=G instanceof Ve?G.message:"Failed to toggle agent status";h(Y)}};return l?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading agents..."})]})}):r.jsxs("div",{className:"max-w-7xl",children:[r.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agents"}),r.jsx("p",{className:"text-gray-600",children:"Manage AI agents and their configurations"})]}),r.jsxs("button",{onClick:I,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:"+"}),"Create Agent"]})]}),x&&r.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg flex justify-between items-center",children:[r.jsx("span",{children:x}),r.jsx("button",{onClick:()=>S(null),className:"text-green-600 hover:text-green-800",children:""})]}),d&&r.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg flex justify-between items-center",children:[r.jsx("span",{children:d}),r.jsx("button",{onClick:()=>h(null),className:"text-red-600 hover:text-red-800",children:""})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:e.length}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total Agents"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:new Set(e.map(q=>q.function)).size}),r.jsx("div",{className:"text-sm text-gray-500",children:"Functions"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(e.flatMap(q=>q.skills)).size}),r.jsx("div",{className:"text-sm text-gray-500",children:"Unique Skills"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:new Set(e.flatMap(q=>q.tools)).size}),r.jsx("div",{className:"text-sm text-gray-500",children:"Tools in Use"})]})]}),r.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx("input",{type:"text",placeholder:"Search agents by name, ID, or keyword...",value:O,onChange:q=>P(q.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})}),r.jsx("div",{className:"flex gap-2",children:r.jsxs("select",{value:N,onChange:q=>C(q.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Functions"}),Array.from(new Set(e.map(q=>q.function))).map(q=>r.jsx("option",{value:q,children:q.charAt(0).toUpperCase()+q.slice(1)},q))]})})]}),v.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Pending Pull Requests (",v.length,")"]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg overflow-hidden",children:r.jsxs("table",{className:"min-w-full",children:[r.jsx("thead",{className:"bg-yellow-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"PR"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Agent"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Author"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Created"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-yellow-200",children:v.map(q=>r.jsxs("tr",{className:"hover:bg-yellow-100",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("a",{href:q.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-800 hover:underline font-medium",children:["#",q.number]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-gray-700",children:q.resource_id})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("img",{src:q.author_avatar,alt:q.author,className:"w-6 h-6 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-700",children:q.author})]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(q.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-4 py-3",children:q.draft?r.jsx("span",{className:"px-2 py-1 text-xs bg-gray-200 text-gray-700 rounded-full",children:"Draft"}):r.jsx("span",{className:"px-2 py-1 text-xs bg-green-200 text-green-800 rounded-full",children:"Ready"})})]},q.number))})]})})]}),(()=>{const q=e.filter(U=>{const G=O.toLowerCase(),Y=!G||U.name.toLowerCase().includes(G)||U.id.toLowerCase().includes(G)||U.description.toLowerCase().includes(G)||U.routing_keywords.some(F=>F.toLowerCase().includes(G)),z=N==="all"||U.function===N;return Y&&z});return e.length===0?r.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No agents yet"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first agent to get started"}),r.jsx("button",{onClick:I,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create Agent"})]}):q.length===0?r.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No matching agents"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search or filters"}),r.jsx("button",{onClick:()=>{P(""),C("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Clear Filters"})]}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:q.map(U=>r.jsx(YL,{agent:U,onEdit:T,onDelete:$,onViewActivity:X,onToggleEnabled:B},U.id))})})(),r.jsx(JL,{isOpen:p,onClose:()=>m(!1),onSuccess:W,agent:g,availableSkills:n,availableTools:s})]})}function eD({skill:e,onEdit:t,onDelete:n}){var l;const[a,s]=b.useState(!1),i=u=>({operations:"bg-blue-100 text-blue-800",marketing:"bg-purple-100 text-purple-800",hr:"bg-green-100 text-green-800",finance:"bg-yellow-100 text-yellow-800",customer:"bg-pink-100 text-pink-800",product:"bg-indigo-100 text-indigo-800"})[u]||"bg-gray-100 text-gray-800";return r.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-2xl text-white",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500",children:e.id})]})]}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${i(e.category)}`,children:e.category})]}),r.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:e.description}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Triggers"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.triggers.map((u,d)=>r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",children:u},d)),e.triggers.length===0&&r.jsx("span",{className:"text-xs text-gray-400",children:"No triggers configured"})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Used by Agents"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:((l=e.agentDetails)==null?void 0:l.map(u=>r.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 text-xs rounded-full",children:u.name},u.id)))||r.jsx("span",{className:"text-xs text-gray-400",children:"Not bound to any agent"})})]}),r.jsxs("button",{onClick:()=>s(!a),className:"mt-4 text-sm text-purple-600 hover:text-purple-800 flex items-center gap-1",children:[a?"Hide details":"Show details",r.jsx("svg",{className:`w-4 h-4 transition-transform ${a?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Required Tools"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.tools_required.map(u=>r.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:u},u)),e.tools_required.length===0&&r.jsx("span",{className:"text-xs text-gray-400",children:"No tools required"})]})]}),e.parameters&&e.parameters.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Parameters"}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:e.parameters.map(u=>r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"font-medium text-gray-700",children:u.name}),r.jsxs("span",{className:"text-gray-400 mx-1",children:["(",u.type,")"]}),u.required&&r.jsx("span",{className:"text-red-500 text-xs",children:"*"}),r.jsx("p",{className:"text-gray-500 text-xs",children:u.description}),u.default!==void 0&&r.jsxs("span",{className:"text-xs text-blue-600",children:["Default: ",JSON.stringify(u.default)]})]},u.name))})]}),e.outputs&&e.outputs.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Outputs"}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:e.outputs.map(u=>r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"font-medium text-gray-700",children:u.name}),r.jsxs("span",{className:"text-gray-400 mx-1",children:["(",u.type,")"]}),r.jsx("p",{className:"text-gray-500 text-xs",children:u.description})]},u.name))})]})]})]}),r.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-end items-center gap-2 rounded-b-lg",children:[r.jsx("button",{onClick:()=>t(e),className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Edit"}),r.jsx("button",{onClick:()=>n(e),className:"px-3 py-1.5 text-sm text-red-600 bg-white border border-red-300 rounded-md hover:bg-red-50",children:"Delete"})]})]})}const tD=[{value:"operations",label:"Operations"},{value:"marketing",label:"Marketing"},{value:"hr",label:"Human Resources"},{value:"finance",label:"Finance"},{value:"customer",label:"Customer Success"},{value:"product",label:"Product"}],dS=["string","number","boolean","object","array"];function rD({isOpen:e,onClose:t,onSuccess:n,skill:a,availableAgents:s,availableTools:i}){const l=!!a,[u,d]=b.useState({id:"",name:"",description:"",category:"operations",triggers:[],parameters:[],outputs:[],tools_required:[]}),[h,p]=b.useState(""),[m,g]=b.useState({name:"",type:"string",description:"",required:!1,default:""}),[j,v]=b.useState({name:"",type:"string",description:""}),[w,x]=b.useState(!1),[S,O]=b.useState(null);b.useEffect(()=>{d(a?{id:a.id,name:a.name,description:a.description,category:a.category,triggers:[...a.triggers],parameters:a.parameters?[...a.parameters]:[],outputs:a.outputs?[...a.outputs]:[],tools_required:[...a.tools_required]}:{id:"",name:"",description:"",category:"operations",triggers:[],parameters:[],outputs:[],tools_required:[]}),O(null)},[a,e]);const P=async T=>{T.preventDefault(),x(!0),O(null);try{l?await ce({url:`/api/admin/skills/${u.id}`,method:"PUT",data:{name:u.name,description:u.description,category:u.category,triggers:u.triggers,parameters:u.parameters,outputs:u.outputs,tools_required:u.tools_required}}):await ce({url:"/api/admin/skills",method:"POST",data:u}),n(),t()}catch($){const W=$ instanceof Ve?$.message:"Failed to save skill";O(W)}finally{x(!1)}},N=()=>{h.trim()&&!u.triggers.includes(h.trim())&&(d({...u,triggers:[...u.triggers,h.trim()]}),p(""))},C=T=>{d({...u,triggers:u.triggers.filter(($,W)=>W!==T)})},A=()=>{if(m.name.trim()&&m.description.trim()){const T={name:m.name.trim(),type:m.type,description:m.description.trim(),required:m.required};if(m.default.trim())try{T.default=JSON.parse(m.default)}catch{T.default=m.default}d({...u,parameters:[...u.parameters,T]}),g({name:"",type:"string",description:"",required:!1,default:""})}},E=T=>{d({...u,parameters:u.parameters.filter(($,W)=>W!==T)})},M=()=>{j.name.trim()&&j.description.trim()&&(d({...u,outputs:[...u.outputs,{...j,name:j.name.trim(),description:j.description.trim()}]}),v({name:"",type:"string",description:""}))},R=T=>{d({...u,outputs:u.outputs.filter(($,W)=>W!==T)})},I=T=>{const $=u.tools_required.includes(T)?u.tools_required.filter(W=>W!==T):[...u.tools_required,T];d({...u,tools_required:$})};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 my-8 max-h-[90vh] overflow-y-auto",children:r.jsxs("form",{onSubmit:P,children:[r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:l?"Edit Skill":"Create Skill"}),S&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg text-sm",children:S}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID (slug) *"}),r.jsx("input",{id:"id",type:"text",value:u.id,onChange:T=>d({...u,id:T.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"resource-planning",disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 disabled:bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{id:"name",type:"text",value:u.name,onChange:T=>d({...u,name:T.target.value}),placeholder:"Resource Planning",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),r.jsx("textarea",{id:"description",value:u.description,onChange:T=>d({...u,description:T.target.value}),placeholder:"Skill description...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),r.jsx("select",{id:"category",value:u.category,onChange:T=>d({...u,category:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:tD.map(T=>r.jsx("option",{value:T.value,children:T.label},T.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Triggers"}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:h,onChange:T=>p(T.target.value),onKeyDown:T=>T.key==="Enter"&&(T.preventDefault(),N()),placeholder:"Add trigger keyword...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),r.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Add"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:u.triggers.map((T,$)=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:[T,r.jsx("button",{type:"button",onClick:()=>C($),className:"text-green-600 hover:text-green-800",children:""})]},$))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Required Tools"}),r.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg max-h-32 overflow-y-auto",children:i.map(T=>r.jsx("button",{type:"button",onClick:()=>I(T.id),className:`px-3 py-1 text-sm rounded-full transition-colors ${u.tools_required.includes(T.id)?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,title:T.description,children:T.name},T.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parameters"}),r.jsxs("div",{className:"space-y-2 mb-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:m.name,onChange:T=>g({...m,name:T.target.value}),placeholder:"Name",className:"w-1/4 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),r.jsx("select",{value:m.type,onChange:T=>g({...m,type:T.target.value}),className:"w-1/6 px-2 py-2 border border-gray-300 rounded-lg text-sm",children:dS.map(T=>r.jsx("option",{value:T,children:T},T))}),r.jsx("input",{type:"text",value:m.description,onChange:T=>g({...m,description:T.target.value}),placeholder:"Description",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),r.jsx("button",{type:"button",onClick:A,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),r.jsxs("div",{className:"flex gap-2 items-center pl-2",children:[r.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-600",children:[r.jsx("input",{type:"checkbox",checked:m.required,onChange:T=>g({...m,required:T.target.checked}),className:"w-3 h-3"}),"Required"]}),r.jsx("input",{type:"text",value:m.default,onChange:T=>g({...m,default:T.target.value}),placeholder:"Default value (optional)",className:"flex-1 px-2 py-1 border border-gray-300 rounded text-xs"})]})]}),u.parameters.length>0&&r.jsx("div",{className:"bg-gray-50 rounded-lg p-2 space-y-1",children:u.parameters.map((T,$)=>r.jsxs("div",{className:"flex items-center justify-between text-sm bg-white px-2 py-1 rounded",children:[r.jsxs("span",{children:[r.jsx("span",{className:"font-medium",children:T.name}),r.jsxs("span",{className:"text-gray-400 mx-1",children:["(",T.type,")"]}),T.required&&r.jsx("span",{className:"text-red-500",children:"*"}),r.jsx("span",{className:"text-gray-500 text-xs ml-2",children:T.description})]}),r.jsx("button",{type:"button",onClick:()=>E($),className:"text-gray-400 hover:text-gray-600",children:""})]},$))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Outputs"}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:j.name,onChange:T=>v({...j,name:T.target.value}),placeholder:"Name",className:"w-1/4 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),r.jsx("select",{value:j.type,onChange:T=>v({...j,type:T.target.value}),className:"w-1/6 px-2 py-2 border border-gray-300 rounded-lg text-sm",children:dS.map(T=>r.jsx("option",{value:T,children:T},T))}),r.jsx("input",{type:"text",value:j.description,onChange:T=>v({...j,description:T.target.value}),placeholder:"Description",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),r.jsx("button",{type:"button",onClick:M,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"+"})]}),u.outputs.length>0&&r.jsx("div",{className:"bg-gray-50 rounded-lg p-2 space-y-1",children:u.outputs.map((T,$)=>r.jsxs("div",{className:"flex items-center justify-between text-sm bg-white px-2 py-1 rounded",children:[r.jsxs("span",{children:[r.jsx("span",{className:"font-medium",children:T.name}),r.jsxs("span",{className:"text-gray-400 mx-1",children:["(",T.type,")"]}),r.jsx("span",{className:"text-gray-500 text-xs ml-2",children:T.description})]}),r.jsx("button",{type:"button",onClick:()=>R($),className:"text-gray-400 hover:text-gray-600",children:""})]},$))})]})]})]}),r.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center rounded-b-lg",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Changes will create a GitHub PR for review"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:w||!u.id||!u.name||!u.description,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Creating PR...":l?"Update Skill":"Create Skill"})]})]})]})})}):null}function nD(){const[e,t]=b.useState([]),[n,a]=b.useState([]),[s,i]=b.useState([]),[l,u]=b.useState(!0),[d,h]=b.useState(null),[p,m]=b.useState(!1),[g,j]=b.useState(null),[v,w]=b.useState([]),[x,S]=b.useState(null),[O,P]=b.useState("all"),[N,C]=b.useState(""),[A,E]=b.useState("skills"),[M,R]=b.useState([]),[I,T]=b.useState([]),[$,W]=b.useState([]),[X,B]=b.useState(!1),q=async()=>{try{const ie=await ce({url:"/api/admin/pending-prs?type=skill",method:"GET"});w(ie.pullRequests)}catch(ie){console.error("Failed to fetch pending PRs:",ie)}},U=async()=>{try{const ie=await ce({url:"/api/admin/skills",method:"GET"});t(ie.skills)}catch(ie){const ee=ie instanceof Ve?ie.message:"Failed to fetch skills";h(ee)}},G=async()=>{try{const ie=await ce({url:"/api/admin/agents",method:"GET"});a(ie.agents.map(ee=>({id:ee.id,name:ee.name})))}catch(ie){console.error("Failed to fetch agents:",ie)}},Y=async()=>{try{const ie=await ce({url:"/api/admin/tools",method:"GET"});i(ie.tools)}catch(ie){console.error("Failed to fetch tools:",ie)}},z=async()=>{B(!0);try{const[ie,ee,oe]=await Promise.all([ce({url:"/api/optimization/skills/metrics",method:"GET"}).catch(()=>({metrics:[]})),ce({url:"/api/optimization/skills/top",method:"GET"}).catch(()=>({skills:[]})),ce({url:"/api/optimization/skills/poor",method:"GET"}).catch(()=>({skills:[]}))]);R(ie.metrics),T(ee.skills),W(oe.skills)}catch{}finally{B(!1)}};b.useEffect(()=>{(async()=>{u(!0),await Promise.all([U(),G(),Y(),q()]),u(!1)})()},[]),b.useEffect(()=>{A==="performance"&&z()},[A]);const F=()=>{j(null),m(!0)},D=ie=>{j(ie),m(!0)},K=async ie=>{if(confirm(`Are you sure you want to delete "${ie.name}"? This will create a PR.`))try{const ee=await ce({url:`/api/admin/skills/${ie.id}`,method:"DELETE"});S(`PR created to delete skill. View at: ${ee.pullRequest.html_url}`),U(),q()}catch(ee){const oe=ee instanceof Ve?ee.message:"Failed to delete skill";h(oe)}},te=()=>{S("Changes submitted successfully. A GitHub PR has been created for review."),U(),q()},de=Array.from(new Set(e.map(ie=>ie.category))),xe=e.filter(ie=>{const ee=N.toLowerCase(),oe=!ee||ie.name.toLowerCase().includes(ee)||ie.id.toLowerCase().includes(ee)||ie.description.toLowerCase().includes(ee)||ie.triggers.some($e=>$e.toLowerCase().includes(ee)),ke=O==="all"||ie.category===O;return oe&&ke});return l?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading skills..."})]})}):r.jsxs("div",{className:"max-w-7xl",children:[r.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Skills"}),r.jsx("p",{className:"text-gray-600",children:"Manage AI skills and their configurations"})]}),r.jsxs("button",{onClick:F,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:"+"}),"Create Skill"]})]}),x&&r.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg flex justify-between items-center",children:[r.jsx("span",{children:x}),r.jsx("button",{onClick:()=>S(null),className:"text-green-600 hover:text-green-800",children:""})]}),d&&r.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg flex justify-between items-center",children:[r.jsx("span",{children:d}),r.jsx("button",{onClick:()=>h(null),className:"text-red-600 hover:text-red-800",children:""})]}),r.jsxs("div",{className:"flex gap-2 mb-6",children:[r.jsx("button",{onClick:()=>E("skills"),className:`px-4 py-2 rounded-lg text-sm font-medium ${A==="skills"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Skills Management"}),r.jsx("button",{onClick:()=>E("performance"),className:`px-4 py-2 rounded-lg text-sm font-medium ${A==="performance"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Performance Dashboard"})]}),A==="skills"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.length}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total Skills"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:de.length}),r.jsx("div",{className:"text-sm text-gray-500",children:"Categories"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.reduce((ie,ee)=>ie+ee.triggers.length,0)}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total Triggers"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:e.reduce((ie,ee)=>{var oe;return ie+(((oe=ee.agentDetails)==null?void 0:oe.length)||0)},0)}),r.jsx("div",{className:"text-sm text-gray-500",children:"Agent Bindings"})]})]}),r.jsxs("div",{className:"mb-6 space-y-4",children:[r.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:r.jsx("input",{type:"text",placeholder:"Search skills by name, ID, or trigger...",value:N,onChange:ie=>C(ie.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Filter by category:"}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsxs("button",{onClick:()=>P("all"),className:`px-3 py-1 text-sm rounded-full ${O==="all"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All (",e.length,")"]}),de.map(ie=>r.jsxs("button",{onClick:()=>P(ie),className:`px-3 py-1 text-sm rounded-full capitalize ${O===ie?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[ie," (",e.filter(ee=>ee.category===ie).length,")"]},ie))]})]})]}),v.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Pending Pull Requests (",v.length,")"]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg overflow-hidden",children:r.jsxs("table",{className:"min-w-full",children:[r.jsx("thead",{className:"bg-yellow-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"PR"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Skill"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Author"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Created"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-yellow-800",children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-yellow-200",children:v.map(ie=>r.jsxs("tr",{className:"hover:bg-yellow-100",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("a",{href:ie.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-800 hover:underline font-medium",children:["#",ie.number]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-gray-700",children:ie.resource_id})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("img",{src:ie.author_avatar,alt:ie.author,className:"w-6 h-6 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-700",children:ie.author})]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(ie.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-4 py-3",children:ie.draft?r.jsx("span",{className:"px-2 py-1 text-xs bg-gray-200 text-gray-700 rounded-full",children:"Draft"}):r.jsx("span",{className:"px-2 py-1 text-xs bg-green-200 text-green-800 rounded-full",children:"Ready"})})]},ie.number))})]})})]}),xe.length===0?r.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[r.jsx("div",{className:"text-6xl mb-4",children:e.length===0?"":""}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.length===0?"No skills yet":"No matching skills"}),r.jsx("p",{className:"text-gray-600 mb-4",children:e.length===0?"Create your first skill to get started":"Try adjusting your search or filters"}),e.length===0?r.jsx("button",{onClick:F,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Create Skill"}):r.jsx("button",{onClick:()=>{C(""),P("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Clear Filters"})]}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:xe.map(ie=>r.jsx(eD,{skill:ie,onEdit:D,onDelete:K},ie.id))})]}),A==="performance"&&r.jsx("div",{children:X?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Skills Tracked"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:M.length})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Executions"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:M.reduce((ie,ee)=>ie+ee.totalExecutions,0).toLocaleString()})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Avg Success Rate"}),r.jsx("div",{className:"text-2xl font-bold text-green-600 mt-1",children:M.length>0?`${Math.round(M.reduce((ie,ee)=>ie+ee.successRate,0)/M.length*100)}%`:"N/A"})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Needs Attention"}),r.jsx("div",{className:"text-2xl font-bold text-amber-600 mt-1",children:$.length})]})]}),I.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Performing Skills"}),r.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Skill"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Executions"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Success Rate"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Avg Latency"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"P95 Latency"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:I.map(ie=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:ie.skillId}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:ie.totalExecutions}),r.jsx("td",{className:"px-4 py-3 text-sm text-right",children:r.jsxs("span",{className:`font-medium ${ie.successRate>=.9?"text-green-600":ie.successRate>=.7?"text-amber-600":"text-red-600"}`,children:[Math.round(ie.successRate*100),"%"]})}),r.jsxs("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:[ie.avgDurationMs,"ms"]}),r.jsxs("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:[ie.p95DurationMs,"ms"]})]},ie.skillId))})]})})]}),$.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Needs Attention"}),r.jsx("div",{className:"space-y-3",children:$.map(ie=>r.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:ie.skillId}),r.jsx("div",{className:"text-sm text-gray-600 mt-1",children:ie.successRate<.7?`Low success rate: ${Math.round(ie.successRate*100)}%`:`High latency: ${ie.avgDurationMs}ms avg`})]}),r.jsxs("div",{className:"text-right text-sm",children:[r.jsxs("div",{className:"text-gray-500",children:[ie.totalExecutions," executions"]}),r.jsxs("div",{className:"text-gray-500",children:[ie.failureCount," failures"]})]})]},ie.skillId))})]}),M.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"All Skills"}),r.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Skill"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Total"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Success"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Failed"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Rate"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Avg (ms)"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"P95 (ms)"}),r.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase px-4 py-3",children:"Last Run"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:M.map(ie=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:ie.skillId}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:ie.totalExecutions}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-green-600",children:ie.successCount}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-red-600",children:ie.failureCount}),r.jsx("td",{className:"px-4 py-3 text-sm text-right",children:r.jsxs("span",{className:`font-medium ${ie.successRate>=.9?"text-green-600":ie.successRate>=.7?"text-amber-600":"text-red-600"}`,children:[Math.round(ie.successRate*100),"%"]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:ie.avgDurationMs}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:ie.p95DurationMs}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-500",children:ie.lastExecutedAt?new Date(ie.lastExecutedAt).toLocaleDateString():"Never"})]},ie.skillId))})]})})]}),M.length===0&&!X&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-4xl mb-4",children:""}),r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No performance data yet"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Skill metrics will appear here once skills are executed"})]})]})}),r.jsx(rD,{isOpen:p,onClose:()=>m(!1),onSuccess:te,skill:g,availableAgents:n,availableTools:s})]})}function aD(){const[e,t]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState("all"),[l,u]=b.useState(null),[d,h]=b.useState(!1),[p,m]=b.useState(0);b.useEffect(()=>{g()},[s]);const g=async()=>{a(!0);try{const S=new URLSearchParams;s!=="all"&&S.set("source",s);const O=await ce({url:`/api/conversations${S.toString()?`?${S.toString()}`:""}`,method:"GET"});t(O.conversations||[]),m(O.total||0)}catch(S){console.error("Failed to fetch conversations:",S)}finally{a(!1)}},j=async S=>{h(!0);try{const O=await ce({url:`/api/conversations/${S}`,method:"GET"});u(O.conversation)}catch(O){console.error("Failed to fetch conversation detail:",O)}finally{h(!1)}},v=S=>{switch(S){case"slack":return"";case"web":return"";case"terminal":return"";case"api":return"";default:return""}},w=S=>{switch(S){case"slack":return"bg-purple-100 text-purple-800";case"web":return"bg-blue-100 text-blue-800";case"terminal":return"bg-gray-100 text-gray-800";case"api":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},x=S=>{const O=new Date(S),N=new Date().getTime()-O.getTime(),C=Math.floor(N/(1e3*60*60)),A=Math.floor(N/(1e3*60*60*24));return C<1?"Just now":C<24?`${C}h ago`:A<7?`${A}d ago`:O.toLocaleDateString()};return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading conversations..."})]})}):r.jsxs("div",{className:"flex h-full",children:[r.jsxs("div",{className:`${l?"w-1/2":"w-full"} transition-all duration-300`,children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Conversations"}),r.jsxs("p",{className:"text-gray-600",children:["View AI conversation history from Slack and other sources (",p," total)"]})]}),r.jsx("div",{className:"mb-6 flex gap-2 flex-wrap",children:["all","slack","web","terminal","api"].map(S=>r.jsx("button",{onClick:()=>i(S),className:`px-4 py-2 rounded-lg font-medium capitalize ${s===S?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:S==="all"?"All Sources":S},S))}),e.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No conversations yet"}),r.jsx("p",{className:"text-gray-600",children:"Start chatting with the AI via Slack or web to see conversation history here"})]})}):r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"divide-y divide-gray-200",children:e.map(S=>r.jsx("div",{onClick:()=>j(S.id),className:`p-4 hover:bg-gray-50 cursor-pointer transition-colors ${(l==null?void 0:l.id)===S.id?"bg-indigo-50":""}`,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${w(S.source)}`,children:[v(S.source)," ",S.source||"unknown"]}),r.jsxs("span",{className:"text-xs text-gray-500",children:[S.messageCount," messages"]})]}),r.jsx("p",{className:"text-sm text-gray-900 truncate",children:S.preview||"No preview available"}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"text-xs text-gray-500",children:S.userName}),r.jsx("span",{className:"text-xs text-gray-400",children:""}),r.jsx("span",{className:"text-xs text-gray-500",children:x(S.lastUsedAt)})]})]}),r.jsx("div",{className:"ml-4 flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},S.id))})})]}),l&&r.jsxs("div",{className:"w-1/2 pl-6 border-l border-gray-200",children:[r.jsx("div",{className:"sticky top-0 bg-gray-50 -mx-6 px-6 pt-0",children:r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${w(l.source)}`,children:[v(l.source)," ",l.source||"unknown"]}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Conversation Detail"})]}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[l.userName," "," ",new Date(l.createdAt).toLocaleString()]})]}),r.jsx("button",{onClick:()=>u(null),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:r.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),d?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):r.jsxs("div",{className:"space-y-4 pb-8 max-h-[calc(100vh-200px)] overflow-y-auto",children:[l.history.map((S,O)=>r.jsx("div",{className:`flex ${S.role==="user"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[85%] rounded-lg px-4 py-2 ${S.role==="user"?"bg-indigo-600 text-white":S.role==="system"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-900"}`,children:[S.role==="system"&&r.jsx("span",{className:"text-xs font-medium block mb-1",children:"System"}),r.jsx("p",{className:"text-sm whitespace-pre-wrap",children:S.content}),S.timestamp&&r.jsx("p",{className:`text-xs mt-1 ${S.role==="user"?"text-indigo-200":"text-gray-400"}`,children:new Date(S.timestamp).toLocaleTimeString()})]})},O)),l.history.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No messages in this conversation"})]})]})]})}const hS={notion:{icon:"N",color:"text-black",bg:"bg-white border border-gray-300"},drive:{icon:"G",color:"text-blue-600",bg:"bg-blue-50"},github:{icon:"GH",color:"text-gray-800",bg:"bg-gray-100"},slack:{icon:"S",color:"text-purple-600",bg:"bg-purple-50"}},sD={notion:"Notion",drive:"Google Drive",github:"GitHub",slack:"Slack"};function iD({result:e,onClick:t,onCopyLink:n}){const[a,s]=b.useState(!1),i=hS[e.source]||hS.notion,l=h=>{h.stopPropagation(),navigator.clipboard.writeText(e.url),s(!0),n==null||n(e.url),setTimeout(()=>s(!1),2e3)},u=h=>{h.stopPropagation(),window.open(e.url,"_blank","noopener,noreferrer")},d=h=>h?new Date(h).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}):null;return r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:border-indigo-300 hover:shadow-md transition-all cursor-pointer",onClick:()=>t==null?void 0:t(e),children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center font-bold text-sm ${i.bg} ${i.color}`,children:i.icon}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate",children:e.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[r.jsx("span",{className:"text-xs text-gray-500",children:sD[e.source]}),e.lastModified&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-300",children:"|"}),r.jsx("span",{className:"text-xs text-gray-500",children:d(e.lastModified)})]}),e.author&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-300",children:"|"}),r.jsx("span",{className:"text-xs text-gray-500",children:e.author})]})]})]}),r.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[r.jsx("button",{onClick:l,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Copy link",children:a?r.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),r.jsx("button",{onClick:u,className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"Open in new tab",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]}),e.aiSummary?r.jsxs("div",{className:"mt-2 p-2 bg-indigo-50 rounded-md",children:[r.jsxs("div",{className:"flex items-center gap-1 text-xs text-indigo-600 font-medium mb-1",children:[r.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),"AI Summary"]}),r.jsx("p",{className:"text-sm text-gray-700",children:e.aiSummary})]}):r.jsx("p",{className:"mt-2 text-sm text-gray-600 line-clamp-2",children:e.relevantExcerpt||e.snippet||"No preview available"}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx("div",{className:"flex-1 h-1 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${Math.round(e.score*100)}%`}})}),r.jsxs("span",{className:"text-xs text-gray-400",children:[Math.round(e.score*100),"% match"]})]})]})]})})}const oD={notion:"Notion",drive:"Google Drive",github:"GitHub",slack:"Slack"};function lD(){const[e,t]=b.useState(""),[n,a]=b.useState(null),[s,i]=b.useState(!1),[l,u]=b.useState(null),[d,h]=b.useState([]),[p,m]=b.useState(null),[g,j]=b.useState("");b.useEffect(()=>{const N=setTimeout(()=>{j(e)},300);return()=>clearTimeout(N)},[e]);const v=b.useCallback(async N=>{if(!N.trim()){a(null);return}i(!0),u(null);try{const C=await fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({query:N,sources:d.length>0?d:void 0,limit:20,includeAiSummary:!0})});if(!C.ok)throw new Error("Search failed");const A=await C.json();a(A),A.results.length>0&&m(null)}catch(C){u(C instanceof Error?C.message:"Search failed")}finally{i(!1)}},[d]);b.useEffect(()=>{g&&v(g)},[g,v]);const w=async N=>{if(p)try{await fetch("/api/search/analytics",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({analyticsId:p,clickedResult:N.url,clickedSource:N.source})})}catch{}window.open(N.url,"_blank","noopener,noreferrer")},x=N=>{t(N)},S=async N=>{if(p)try{await fetch("/api/search/analytics",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({analyticsId:p,aiAnswerUseful:N})})}catch{}},O=N=>{h(C=>C.includes(N)?C.filter(A=>A!==N):[...C,N])},P=(n==null?void 0:n.sources.filter(N=>N.connected).map(N=>N.source))||[];return r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Unified Search"}),r.jsx("p",{className:"text-gray-600",children:"Search across all your connected integrations"})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:r.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("input",{type:"text",value:e,onChange:N=>t(N.target.value),placeholder:"Search documents, messages, issues...",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-lg"}),s&&r.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:r.jsx("div",{className:"w-5 h-5 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin"})})]})}),P.length>0&&r.jsxs("div",{className:"mb-6 flex flex-wrap gap-2",children:[r.jsx("span",{className:"text-sm text-gray-500 py-1",children:"Filter by:"}),P.map(N=>{var C;return r.jsxs("button",{onClick:()=>O(N),className:`px-3 py-1 text-sm rounded-full transition-colors ${d.length===0||d.includes(N)?"bg-indigo-100 text-indigo-700 hover:bg-indigo-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:[oD[N],n&&r.jsxs("span",{className:"ml-1 text-xs",children:["(",((C=n.sources.find(A=>A.source===N))==null?void 0:C.count)||0,")"]})]},N)})]}),l&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:l}),n&&r.jsxs("div",{className:"space-y-6",children:[n.aiAnswer&&r.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"AI Answer"})]}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:n.aiAnswer}),r.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Was this helpful?"}),r.jsx("button",{onClick:()=>S(!0),className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Yes"}),r.jsx("button",{onClick:()=>S(!1),className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"No"})]})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[r.jsxs("span",{children:[n.totalCount," result",n.totalCount!==1?"s":""," ","found"]}),n.responseTimeMs&&r.jsxs("span",{children:[(n.responseTimeMs/1e3).toFixed(2),"s"]})]}),n.results.length>0?r.jsx("div",{className:"space-y-3",children:n.results.map((N,C)=>r.jsx(iD,{result:N,onClick:w},`${N.source}-${N.id}-${C}`))}):r.jsxs("div",{className:"text-center py-12 text-gray-500",children:['No results found for "',e,'"']}),n.relatedQuestions&&n.relatedQuestions.length>0&&r.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Related Questions"}),r.jsx("div",{className:"space-y-2",children:n.relatedQuestions.map((N,C)=>r.jsxs("button",{onClick:()=>x(N),className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg text-sm text-gray-700 transition-colors flex items-center gap-3",children:[r.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),N]},C))})]})]}),!n&&!s&&!e&&r.jsxs("div",{className:"text-center py-16",children:[r.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Start searching"}),r.jsx("p",{className:"text-gray-500 max-w-sm mx-auto",children:"Search across Notion, Google Drive, GitHub, and Slack to find documents, messages, and issues."})]})]})}function cD(){const[e,t]=b.useState(null),[n,a]=b.useState(null),[s,i]=b.useState([]),[l,u]=b.useState(!0),[d,h]=b.useState(null);b.useEffect(()=>{p();const m=setInterval(p,3e4);return()=>clearInterval(m)},[]);const p=async()=>{try{const[m,g,j]=await Promise.all([fetch("/api/admin/metrics",{credentials:"include"}),fetch("/api/admin/system/health",{credentials:"include"}),fetch("/api/admin/metrics/revenue",{credentials:"include"})]);if(m.ok&&t(await m.json()),g.ok&&a(await g.json()),j.ok){const v=await j.json();i(v.topOrganizations||[])}h(null)}catch{h("Failed to load dashboard data")}finally{u(!1)}};return l?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})}):d?r.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:d}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Platform overview and monitoring"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm text-gray-500",children:["Last updated: ",e!=null&&e.timestamp?new Date(e.timestamp).toLocaleTimeString():"N/A"]}),r.jsx("button",{onClick:p,className:"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Refresh"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(jd,{title:"MRR",value:`$${((e==null?void 0:e.revenue.mrr)||0).toLocaleString()}`,subtext:`ARR: $${((e==null?void 0:e.revenue.arr)||0).toLocaleString()}`,trend:12,trendLabel:"vs last month",icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"green"}),r.jsx(jd,{title:"Total Users",value:((e==null?void 0:e.users.total)||0).toLocaleString(),subtext:`${(e==null?void 0:e.users.activeThisMonth)||0} active this month`,trend:8,trendLabel:"vs last month",icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),color:"blue"}),r.jsx(jd,{title:"Organizations",value:((e==null?void 0:e.organizations.total)||0).toLocaleString(),subtext:`${(e==null?void 0:e.organizations.newThisMonth)||0} new this month`,trend:(e==null?void 0:e.organizations.newThisMonth)||0,trendLabel:"new signups",icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),color:"purple"}),r.jsx(jd,{title:"System Uptime",value:`${((e==null?void 0:e.system.uptime)||99.9).toFixed(1)}%`,subtext:`${(e==null?void 0:e.system.avgLatency)||0}ms avg latency`,icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),color:e!=null&&e.system.uptime&&e.system.uptime>=99.9?"green":"yellow"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue by Plan"}),r.jsx("div",{className:"space-y-3",children:Object.entries((e==null?void 0:e.revenue.revenueByPlan)||{}).map(([m,g])=>r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"w-24 text-sm text-gray-600 capitalize",children:m}),r.jsx("div",{className:"flex-1 h-4 bg-gray-100 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${e!=null&&e.revenue.mrr?g/e.revenue.mrr*100:0}%`}})}),r.jsxs("span",{className:"w-20 text-sm text-gray-900 text-right",children:["$",g.toLocaleString()]})]},m))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"System Health"}),r.jsx(uD,{status:(n==null?void 0:n.status)||"healthy"})]}),r.jsx("div",{className:"space-y-3",children:n==null?void 0:n.components.map(m=>r.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[r.jsx("span",{className:"text-sm text-gray-600 capitalize",children:m.name}),r.jsxs("div",{className:"flex items-center gap-2",children:[m.latency&&r.jsxs("span",{className:"text-xs text-gray-400",children:[m.latency,"ms"]}),r.jsx(dD,{status:m.status})]})]},m.name))})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Top Organizations by Spend"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Organization"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Plan"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Monthly Spend"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[s.map(m=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"font-medium text-gray-900",children:m.name})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded-full capitalize",children:m.plan})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-gray-900",children:["$",m.monthlySpend.toLocaleString()]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:r.jsx("button",{className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"View"})})]},m.id)),s.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No organizations found"})})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Plan Distribution"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries((e==null?void 0:e.organizations.byPlan)||{}).map(([m,g])=>r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g}),r.jsx("p",{className:"text-sm text-gray-500 capitalize",children:m})]},m))})]})]})}function jd({title:e,value:t,subtext:n,trend:a,trendLabel:s,icon:i,color:l="gray"}){const u={green:"bg-green-100 text-green-600",blue:"bg-blue-100 text-blue-600",purple:"bg-purple-100 text-purple-600",yellow:"bg-yellow-100 text-yellow-600",gray:"bg-gray-100 text-gray-600"};return r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:`p-2 rounded-lg ${u[l]}`,children:i}),a!==void 0&&r.jsxs("span",{className:`text-sm font-medium ${a>=0?"text-green-600":"text-red-600"}`,children:[a>=0?"+":"",a,"%"]})]}),r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:e}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n})]})}function uD({status:e}){const t={healthy:{bg:"bg-green-100",text:"text-green-700",label:"Healthy"},degraded:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Degraded"},unhealthy:{bg:"bg-red-100",text:"text-red-700",label:"Unhealthy"}},{bg:n,text:a,label:s}=t[e];return r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${n} ${a}`,children:s})}function dD({status:e}){const t={healthy:"bg-green-500",degraded:"bg-yellow-500",unhealthy:"bg-red-500"};return r.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${t[e]}`})}function hD(){const[e,t]=b.useState([]),[n,a]=b.useState({total:0,page:1,pageSize:20,totalPages:0}),[s,i]=b.useState(!0),[l,u]=b.useState(null),[d,h]=b.useState(""),[p,m]=b.useState("all"),[g,j]=b.useState("all"),[v,w]=b.useState("createdAt"),[x,S]=b.useState("desc"),O=b.useCallback(async()=>{i(!0);try{const I=new URLSearchParams({page:n.page.toString(),limit:n.pageSize.toString(),sortBy:v,sortOrder:x});d&&I.append("search",d),p!=="all"&&I.append("status",p),g!=="all"&&I.append("plan",g);const T=await fetch(`/api/admin/organizations?${I}`,{credentials:"include"});if(!T.ok)throw new Error("Failed to fetch organizations");const $=await T.json();t($.organizations||[]),a(W=>({...W,total:$.total||0,totalPages:Math.ceil(($.total||0)/W.pageSize)}))}catch(I){u(I instanceof Error?I.message:"Failed to load organizations")}finally{i(!1)}},[n.page,n.pageSize,d,p,g,v,x]);b.useEffect(()=>{O()},[O]);const P=I=>{v===I?S(x==="asc"?"desc":"asc"):(w(I),S("desc"))},N=async I=>{if(confirm("Are you sure you want to suspend this organization?"))try{if(!(await fetch(`/api/admin/organizations/${I}/suspend`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to suspend organization");O()}catch(T){alert(T instanceof Error?T.message:"Failed to suspend organization")}},C=async I=>{try{if(!(await fetch(`/api/admin/organizations/${I}/reactivate`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to reactivate organization");O()}catch(T){alert(T instanceof Error?T.message:"Failed to reactivate organization")}},A=I=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(I),E=I=>new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),M=I=>{switch(I){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-red-100 text-red-800";case"trial":return"bg-blue-100 text-blue-800";case"churned":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},R=I=>{switch(I.toLowerCase()){case"enterprise":return"bg-purple-100 text-purple-800";case"pro":return"bg-indigo-100 text-indigo-800";case"starter":return"bg-blue-100 text-blue-800";case"free":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return l?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"text-red-600 text-lg mb-4",children:"Error"}),r.jsx("p",{className:"text-gray-600",children:l}),r.jsx("button",{onClick:O,className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Retry"})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Organizations"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Manage all platform organizations"})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("span",{className:"text-sm text-gray-500",children:[n.total," total"]})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsx("div",{className:"flex-1 min-w-[200px]",children:r.jsx("input",{type:"text",placeholder:"Search organizations...",value:d,onChange:I=>{h(I.target.value),a(T=>({...T,page:1}))},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),r.jsxs("select",{value:p,onChange:I=>{m(I.target.value),a(T=>({...T,page:1}))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"all",children:"All Statuses"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"trial",children:"Trial"}),r.jsx("option",{value:"suspended",children:"Suspended"}),r.jsx("option",{value:"churned",children:"Churned"})]}),r.jsxs("select",{value:g,onChange:I=>{j(I.target.value),a(T=>({...T,page:1}))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"all",children:"All Plans"}),r.jsx("option",{value:"free",children:"Free"}),r.jsx("option",{value:"starter",children:"Starter"}),r.jsx("option",{value:"pro",children:"Pro"}),r.jsx("option",{value:"enterprise",children:"Enterprise"})]}),r.jsx("button",{onClick:O,disabled:s,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:r.jsx("svg",{className:`w-5 h-5 ${s?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>P("name"),children:r.jsxs("div",{className:"flex items-center gap-1",children:["Organization",v==="name"&&r.jsx("span",{children:x==="asc"?"":""})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>P("userCount"),children:r.jsxs("div",{className:"flex items-center gap-1",children:["Users",v==="userCount"&&r.jsx("span",{children:x==="asc"?"":""})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>P("mrr"),children:r.jsxs("div",{className:"flex items-center gap-1",children:["MRR",v==="mrr"&&r.jsx("span",{children:x==="asc"?"":""})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>P("createdAt"),children:r.jsxs("div",{className:"flex items-center gap-1",children:["Created",v==="createdAt"&&r.jsx("span",{children:x==="asc"?"":""})]})}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})})})}):e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:"No organizations found"})}):e.map(I=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:I.name}),r.jsx("div",{className:"text-sm text-gray-500",children:I.slug})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${R(I.plan)}`,children:I.plan})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${M(I.status)}`,children:I.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I.userCount}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A(I.mrr)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E(I.createdAt)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("a",{href:`/admin/organizations/${I.id}`,className:"text-indigo-600 hover:text-indigo-900 font-medium",children:"View"}),I.status==="active"?r.jsx("button",{onClick:()=>N(I.id),className:"text-red-600 hover:text-red-900 font-medium",children:"Suspend"}):I.status==="suspended"?r.jsx("button",{onClick:()=>C(I.id),className:"text-green-600 hover:text-green-900 font-medium",children:"Reactivate"}):null]})})]},I.id))})]})}),n.totalPages>1&&r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(n.page-1)*n.pageSize+1," to"," ",Math.min(n.page*n.pageSize,n.total)," of"," ",n.total," results"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>a(I=>({...I,page:I.page-1})),disabled:n.page===1,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),r.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",n.page," of ",n.totalPages]}),r.jsx("button",{onClick:()=>a(I=>({...I,page:I.page+1})),disabled:n.page===n.totalPages,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})}function fD(e){return Ot({queryKey:["admin","identities",e],queryFn:async()=>{const t=new URLSearchParams;e!=null&&e.status&&t.set("status",e.status),e!=null&&e.provider&&t.set("provider",e.provider),e!=null&&e.page&&t.set("page",e.page.toString()),e!=null&&e.limit&&t.set("limit",e.limit.toString());const n=await fetch(`/api/admin/identities?${t}`,{credentials:"include"});if(!n.ok)throw new Error("Failed to fetch identities");return n.json()}})}function mD(){return Ot({queryKey:["admin","identities","stats"],queryFn:async()=>{const e=await fetch("/api/admin/identities/stats",{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch identity stats");return e.json()}})}function pD(){return Ot({queryKey:["admin","identities","suggestions"],queryFn:async()=>{const e=await fetch("/api/admin/identities/suggestions",{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch suggestions");return(await e.json()).suggestions}})}function xD(){const e=wt();return Et({mutationFn:async({identityId:t,userId:n,reason:a})=>{const s=await fetch(`/api/admin/identities/${t}/link`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({userId:n,reason:a})});if(!s.ok){const i=await s.json();throw new Error(i.error||"Failed to link identity")}return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","identities"]}),e.invalidateQueries({queryKey:["admin","identities","stats"]})}})}function gD(){const e=wt();return Et({mutationFn:async({identityId:t,reason:n})=>{const a=await fetch(`/api/admin/identities/${t}/unlink`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:n})});if(!a.ok){const s=await a.json();throw new Error(s.error||"Failed to unlink identity")}return a.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","identities"]}),e.invalidateQueries({queryKey:["admin","identities","stats"]})}})}function yD(){const e=wt();return Et({mutationFn:async({suggestionId:t,reason:n})=>{const a=await fetch(`/api/identities/suggestions/${t}/accept`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:n})});if(!a.ok){const s=await a.json();throw new Error(s.error||"Failed to accept suggestion")}return a.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","identities"]}),e.invalidateQueries({queryKey:["admin","identities","suggestions"]}),e.invalidateQueries({queryKey:["admin","identities","stats"]})}})}function vD(){const e=wt();return Et({mutationFn:async({suggestionId:t,reason:n})=>{const a=await fetch(`/api/identities/suggestions/${t}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:n})});if(!a.ok){const s=await a.json();throw new Error(s.error||"Failed to reject suggestion")}return a.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","identities","suggestions"]})}})}function bD(){const[e,t]=b.useState("all"),[n,a]=b.useState("all"),[s,i]=b.useState(""),[l,u]=b.useState(1),[d,h]=b.useState(null),[p,m]=b.useState(""),{data:g}=mD(),{data:j,isLoading:v}=fD({status:e==="all"?void 0:e,provider:n==="all"?void 0:n,page:l,limit:20}),{data:w}=pD(),x=xD(),S=gD(),O=yD(),P=vD(),N=g||{total:0,linked:0,unlinked:0,suggested:0,byProvider:{slack:0,google:0,notion:0}},C=(j==null?void 0:j.identities)||[],A=(j==null?void 0:j.pagination)||{page:1,totalPages:0},E=C.filter($=>{var X,B,q,U,G,Y;if(!s)return!0;const W=s.toLowerCase();return((X=$.email)==null?void 0:X.toLowerCase().includes(W))||((B=$.displayName)==null?void 0:B.toLowerCase().includes(W))||((U=(q=$.linkedUser)==null?void 0:q.email)==null?void 0:U.toLowerCase().includes(W))||((Y=(G=$.linkedUser)==null?void 0:G.displayName)==null?void 0:Y.toLowerCase().includes(W))}),M=$=>{if(!p.trim()){alert("Please enter a user ID");return}x.mutate({identityId:$,userId:p},{onSuccess:()=>{h(null),m("")},onError:W=>{alert(W.message)}})},R=$=>{confirm("Unlink this identity?")&&S.mutate({identityId:$},{onError:W=>{alert(W.message)}})},I=$=>{O.mutate({suggestionId:$},{onError:W=>{alert(W.message)}})},T=$=>{P.mutate({suggestionId:$},{onError:W=>{alert(W.message)}})};return r.jsxs("div",{className:"min-h-screen bg-black text-white",children:[r.jsx("div",{className:"border-b-4 border-white bg-black",children:r.jsxs("div",{className:"p-8",children:[r.jsx("h1",{className:"text-6xl font-black uppercase tracking-tighter mb-2",children:"Identity"}),r.jsx("p",{className:"text-xl font-mono text-gray-400",children:"CONTROL PANEL"})]})}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[r.jsx(wd,{label:"TOTAL",value:N.total,color:"border-white"}),r.jsx(wd,{label:"LINKED",value:N.linked,color:"border-green-500"}),r.jsx(wd,{label:"UNLINKED",value:N.unlinked,color:"border-red-500"}),r.jsx(wd,{label:"SUGGESTED",value:N.suggested,color:"border-yellow-500"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[r.jsx(Xp,{provider:"SLACK",count:N.byProvider.slack,icon:r.jsx(uf,{className:"w-8 h-8"})}),r.jsx(Xp,{provider:"GOOGLE",count:N.byProvider.google,icon:r.jsx(cf,{className:"w-8 h-8"})}),r.jsx(Xp,{provider:"NOTION",count:N.byProvider.notion,icon:r.jsx(lf,{className:"w-8 h-8"})})]}),w&&w.length>0&&r.jsx(jD,{suggestions:w,onAccept:I,onReject:T}),r.jsx("div",{className:"border-4 border-white bg-black p-6 mb-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-mono font-bold mb-2 uppercase",children:"Search"}),r.jsx("input",{type:"text",value:s,onChange:$=>i($.target.value),placeholder:"Email or name...",className:"w-full bg-black border-2 border-white px-4 py-3 font-mono text-white placeholder-gray-600 focus:outline-none focus:border-yellow-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-mono font-bold mb-2 uppercase",children:"Status"}),r.jsxs("select",{value:e,onChange:$=>{t($.target.value),u(1)},className:"w-full bg-black border-2 border-white px-4 py-3 font-mono text-white focus:outline-none focus:border-yellow-500",children:[r.jsx("option",{value:"all",children:"ALL"}),r.jsx("option",{value:"linked",children:"LINKED"}),r.jsx("option",{value:"unlinked",children:"UNLINKED"}),r.jsx("option",{value:"suggested",children:"SUGGESTED"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-mono font-bold mb-2 uppercase",children:"Provider"}),r.jsxs("select",{value:n,onChange:$=>{a($.target.value),u(1)},className:"w-full bg-black border-2 border-white px-4 py-3 font-mono text-white focus:outline-none focus:border-yellow-500",children:[r.jsx("option",{value:"all",children:"ALL"}),r.jsx("option",{value:"slack",children:"SLACK"}),r.jsx("option",{value:"google",children:"GOOGLE"}),r.jsx("option",{value:"notion",children:"NOTION"})]})]})]})}),r.jsxs("div",{className:"border-4 border-white bg-black overflow-hidden",children:[r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b-4 border-white",children:[r.jsx("th",{className:"text-left p-4 font-mono text-xs font-bold uppercase",children:"Provider"}),r.jsx("th",{className:"text-left p-4 font-mono text-xs font-bold uppercase",children:"Identity"}),r.jsx("th",{className:"text-left p-4 font-mono text-xs font-bold uppercase",children:"Status"}),r.jsx("th",{className:"text-left p-4 font-mono text-xs font-bold uppercase",children:"Linked User"}),r.jsx("th",{className:"text-right p-4 font-mono text-xs font-bold uppercase",children:"Actions"})]})}),r.jsx("tbody",{children:v?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-12 text-center",children:r.jsx("div",{className:"inline-block w-8 h-8 border-4 border-white border-t-transparent animate-spin"})})}):E.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-12 text-center font-mono text-gray-600",children:"NO IDENTITIES FOUND"})}):E.map($=>r.jsx(wD,{identity:$,onLink:()=>h($),onUnlink:()=>R($.id)},$.id))})]}),A.totalPages>1&&r.jsxs("div",{className:"border-t-4 border-white p-4 flex justify-between items-center",children:[r.jsxs("div",{className:"font-mono text-sm",children:["PAGE ",A.page," / ",A.totalPages]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>u($=>Math.max(1,$-1)),disabled:l===1,className:"px-4 py-2 border-2 border-white font-mono font-bold disabled:opacity-30 disabled:cursor-not-allowed hover:bg-white hover:text-black transition-colors",children:"PREV"}),r.jsx("button",{onClick:()=>u($=>Math.min(A.totalPages,$+1)),disabled:l===A.totalPages,className:"px-4 py-2 border-2 border-white font-mono font-bold disabled:opacity-30 disabled:cursor-not-allowed hover:bg-white hover:text-black transition-colors",children:"NEXT"})]})]})]})]}),d&&r.jsx(ND,{identity:d,linkUserId:p,setLinkUserId:m,onLink:()=>M(d.id),onClose:()=>{h(null),m("")},isLoading:x.isPending})]})}function wd({label:e,value:t,color:n}){return r.jsxs("div",{className:`border-4 ${n} bg-black p-6`,children:[r.jsx("div",{className:"text-5xl font-black mb-2",children:t}),r.jsx("div",{className:"text-xs font-mono font-bold",children:e})]})}function Xp({provider:e,count:t,icon:n}){return r.jsxs("div",{className:"border-4 border-white bg-black p-6 flex items-center gap-4",children:[r.jsx("div",{className:"text-white",children:n}),r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-black",children:t}),r.jsx("div",{className:"text-xs font-mono font-bold",children:e})]})]})}function jD({suggestions:e,onAccept:t,onReject:n}){return r.jsxs("div",{className:"border-4 border-yellow-500 bg-black p-6 mb-8",children:[r.jsxs("h2",{className:"text-2xl font-black uppercase mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"inline-block w-4 h-4 bg-yellow-500 animate-pulse"}),"PENDING SUGGESTIONS (",e.length,")"]}),r.jsx("div",{className:"space-y-4",children:e.map(a=>r.jsxs("div",{className:"border-2 border-yellow-500 bg-black p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-mono text-sm mb-1",children:a.externalIdentity.displayName||a.externalIdentity.email}),r.jsxs("div",{className:"text-xs text-gray-400 font-mono",children:[a.externalIdentity.provider.toUpperCase()," "," ",a.suggestedUser.email]}),r.jsxs("div",{className:"text-xs text-yellow-500 font-mono mt-1",children:["CONFIDENCE: ",Math.round(a.confidenceScore*100),"%"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>t(a.id),className:"px-4 py-2 border-2 border-green-500 text-green-500 font-mono font-bold hover:bg-green-500 hover:text-black transition-colors flex items-center gap-2",children:[r.jsx(Fs,{className:"w-4 h-4"}),"ACCEPT"]}),r.jsxs("button",{onClick:()=>n(a.id),className:"px-4 py-2 border-2 border-red-500 text-red-500 font-mono font-bold hover:bg-red-500 hover:text-black transition-colors flex items-center gap-2",children:[r.jsx(O3,{className:"w-4 h-4"}),"REJECT"]})]})]},a.id))})]})}function wD({identity:e,onLink:t,onUnlink:n}){const a={slack:uf,google:cf,notion:lf}[e.provider],s={linked:"border-green-500 text-green-500",unlinked:"border-red-500 text-red-500",suggested:"border-yellow-500 text-yellow-500"};return r.jsxs("tr",{className:"border-b-2 border-gray-800 hover:bg-gray-900 transition-colors",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(a,{className:"w-5 h-5"}),r.jsx("span",{className:"font-mono text-xs uppercase",children:e.provider})]})}),r.jsxs("td",{className:"p-4",children:[r.jsx("div",{className:"font-mono text-sm",children:e.displayName||e.email||"Unknown"}),e.email&&e.displayName&&r.jsx("div",{className:"font-mono text-xs text-gray-500",children:e.email})]}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:`inline-block px-3 py-1 border-2 ${s[e.linkStatus]} font-mono text-xs font-bold uppercase`,children:e.linkStatus})}),r.jsx("td",{className:"p-4",children:e.linkedUser?r.jsxs("div",{children:[r.jsx("div",{className:"font-mono text-sm",children:e.linkedUser.displayName}),r.jsx("div",{className:"font-mono text-xs text-gray-500",children:e.linkedUser.email})]}):r.jsx("span",{className:"font-mono text-xs text-gray-600",children:"NOT LINKED"})}),r.jsx("td",{className:"p-4 text-right",children:r.jsx("div",{className:"flex justify-end gap-2",children:e.linkStatus==="linked"?r.jsxs("button",{onClick:n,className:"px-3 py-1.5 border-2 border-red-500 text-red-500 font-mono text-xs font-bold hover:bg-red-500 hover:text-black transition-colors flex items-center gap-1",children:[r.jsx(jL,{className:"w-3 h-3"}),"UNLINK"]}):r.jsxs("button",{onClick:t,className:"px-3 py-1.5 border-2 border-green-500 text-green-500 font-mono text-xs font-bold hover:bg-green-500 hover:text-black transition-colors flex items-center gap-1",children:[r.jsx(pj,{className:"w-3 h-3"}),"LINK"]})})})]})}function ND({identity:e,linkUserId:t,setLinkUserId:n,onLink:a,onClose:s,isLoading:i}){return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"border-4 border-white bg-black p-8 max-w-lg w-full",children:[r.jsx("h2",{className:"text-3xl font-black uppercase mb-6",children:"LINK IDENTITY"}),r.jsxs("div",{className:"mb-6 p-4 border-2 border-gray-700",children:[r.jsx("div",{className:"font-mono text-sm mb-2",children:e.displayName||e.email||"Unknown"}),r.jsx("div",{className:"font-mono text-xs text-gray-500 uppercase",children:e.provider})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-xs font-mono font-bold mb-2 uppercase",children:"User ID"}),r.jsx("input",{type:"text",value:t,onChange:l=>n(l.target.value),placeholder:"Enter user ID...",className:"w-full bg-black border-2 border-white px-4 py-3 font-mono text-white placeholder-gray-600 focus:outline-none focus:border-yellow-500",autoFocus:!0})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:a,disabled:i,className:"flex-1 px-6 py-3 border-2 border-green-500 text-green-500 font-mono font-bold hover:bg-green-500 hover:text-black transition-colors disabled:opacity-30 disabled:cursor-not-allowed",children:i?"LINKING...":"LINK"}),r.jsx("button",{onClick:s,disabled:i,className:"flex-1 px-6 py-3 border-2 border-white text-white font-mono font-bold hover:bg-white hover:text-black transition-colors disabled:opacity-30",children:"CANCEL"})]})]})})}function Ro(e){return e.status===404||e.status===502}function Yc({title:e,description:t,onRetry:n}){return r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-12 text-center max-w-lg",children:[r.jsx("div",{className:"text-4xl mb-4",children:r.jsx("svg",{className:"w-12 h-12 mx-auto text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.42 15.17l-5.28-3.3a.5.5 0 010-.84l5.28-3.3a.5.5 0 01.76.42v6.6a.5.5 0 01-.76.42zM20 7l-8 5 8 5V7z"})})}),r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:e}),r.jsx("p",{className:"text-blue-700 text-sm",children:t||"This feature is currently being set up. Please check back later."}),n&&r.jsx("button",{onClick:n,className:"mt-4 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Retry"})]})})}function T3(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=T3(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function Be(){for(var e,t,n=0,a="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=T3(e))&&(a&&(a+=" "),a+=t);return a}var Jp,fS;function Nr(){if(fS)return Jp;fS=1;var e=Array.isArray;return Jp=e,Jp}var Zp,mS;function R3(){if(mS)return Zp;mS=1;var e=typeof xd=="object"&&xd&&xd.Object===Object&&xd;return Zp=e,Zp}var ex,pS;function Mn(){if(pS)return ex;pS=1;var e=R3(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return ex=n,ex}var tx,xS;function Xc(){if(xS)return tx;xS=1;var e=Mn(),t=e.Symbol;return tx=t,tx}var rx,gS;function SD(){if(gS)return rx;gS=1;var e=Xc(),t=Object.prototype,n=t.hasOwnProperty,a=t.toString,s=e?e.toStringTag:void 0;function i(l){var u=n.call(l,s),d=l[s];try{l[s]=void 0;var h=!0}catch{}var p=a.call(l);return h&&(u?l[s]=d:delete l[s]),p}return rx=i,rx}var nx,yS;function kD(){if(yS)return nx;yS=1;var e=Object.prototype,t=e.toString;function n(a){return t.call(a)}return nx=n,nx}var ax,vS;function ca(){if(vS)return ax;vS=1;var e=Xc(),t=SD(),n=kD(),a="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?s:a:i&&i in Object(u)?t(u):n(u)}return ax=l,ax}var sx,bS;function ua(){if(bS)return sx;bS=1;function e(t){return t!=null&&typeof t=="object"}return sx=e,sx}var ix,jS;function Mo(){if(jS)return ix;jS=1;var e=ca(),t=ua(),n="[object Symbol]";function a(s){return typeof s=="symbol"||t(s)&&e(s)==n}return ix=a,ix}var ox,wS;function xj(){if(wS)return ox;wS=1;var e=Nr(),t=Mo(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(i,l){if(e(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||t(i)?!0:a.test(i)||!n.test(i)||l!=null&&i in Object(l)}return ox=s,ox}var lx,NS;function es(){if(NS)return lx;NS=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return lx=e,lx}var cx,SS;function gj(){if(SS)return cx;SS=1;var e=ca(),t=es(),n="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==a||d==s||d==n||d==i}return cx=l,cx}var ux,kS;function CD(){if(kS)return ux;kS=1;var e=Mn(),t=e["__core-js_shared__"];return ux=t,ux}var dx,CS;function AD(){if(CS)return dx;CS=1;var e=CD(),t=(function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function n(a){return!!t&&t in a}return dx=n,dx}var hx,AS;function M3(){if(AS)return hx;AS=1;var e=Function.prototype,t=e.toString;function n(a){if(a!=null){try{return t.call(a)}catch{}try{return a+""}catch{}}return""}return hx=n,hx}var fx,PS;function PD(){if(PS)return fx;PS=1;var e=gj(),t=AD(),n=es(),a=M3(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,h=u.hasOwnProperty,p=RegExp("^"+d.call(h).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!n(g)||t(g))return!1;var j=e(g)?p:i;return j.test(a(g))}return fx=m,fx}var mx,OS;function OD(){if(OS)return mx;OS=1;function e(t,n){return t==null?void 0:t[n]}return mx=e,mx}var px,ES;function Zs(){if(ES)return px;ES=1;var e=PD(),t=OD();function n(a,s){var i=t(a,s);return e(i)?i:void 0}return px=n,px}var xx,_S;function df(){if(_S)return xx;_S=1;var e=Zs(),t=e(Object,"create");return xx=t,xx}var gx,TS;function ED(){if(TS)return gx;TS=1;var e=df();function t(){this.__data__=e?e(null):{},this.size=0}return gx=t,gx}var yx,RS;function _D(){if(RS)return yx;RS=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return yx=e,yx}var vx,MS;function TD(){if(MS)return vx;MS=1;var e=df(),t="__lodash_hash_undefined__",n=Object.prototype,a=n.hasOwnProperty;function s(i){var l=this.__data__;if(e){var u=l[i];return u===t?void 0:u}return a.call(l,i)?l[i]:void 0}return vx=s,vx}var bx,IS;function RD(){if(IS)return bx;IS=1;var e=df(),t=Object.prototype,n=t.hasOwnProperty;function a(s){var i=this.__data__;return e?i[s]!==void 0:n.call(i,s)}return bx=a,bx}var jx,$S;function MD(){if($S)return jx;$S=1;var e=df(),t="__lodash_hash_undefined__";function n(a,s){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=e&&s===void 0?t:s,this}return jx=n,jx}var wx,LS;function ID(){if(LS)return wx;LS=1;var e=ED(),t=_D(),n=TD(),a=RD(),s=MD();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=a,i.prototype.set=s,wx=i,wx}var Nx,DS;function $D(){if(DS)return Nx;DS=1;function e(){this.__data__=[],this.size=0}return Nx=e,Nx}var Sx,FS;function yj(){if(FS)return Sx;FS=1;function e(t,n){return t===n||t!==t&&n!==n}return Sx=e,Sx}var kx,zS;function hf(){if(zS)return kx;zS=1;var e=yj();function t(n,a){for(var s=n.length;s--;)if(e(n[s][0],a))return s;return-1}return kx=t,kx}var Cx,BS;function LD(){if(BS)return Cx;BS=1;var e=hf(),t=Array.prototype,n=t.splice;function a(s){var i=this.__data__,l=e(i,s);if(l<0)return!1;var u=i.length-1;return l==u?i.pop():n.call(i,l,1),--this.size,!0}return Cx=a,Cx}var Ax,qS;function DD(){if(qS)return Ax;qS=1;var e=hf();function t(n){var a=this.__data__,s=e(a,n);return s<0?void 0:a[s][1]}return Ax=t,Ax}var Px,US;function FD(){if(US)return Px;US=1;var e=hf();function t(n){return e(this.__data__,n)>-1}return Px=t,Px}var Ox,WS;function zD(){if(WS)return Ox;WS=1;var e=hf();function t(n,a){var s=this.__data__,i=e(s,n);return i<0?(++this.size,s.push([n,a])):s[i][1]=a,this}return Ox=t,Ox}var Ex,HS;function ff(){if(HS)return Ex;HS=1;var e=$D(),t=LD(),n=DD(),a=FD(),s=zD();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=a,i.prototype.set=s,Ex=i,Ex}var _x,KS;function vj(){if(KS)return _x;KS=1;var e=Zs(),t=Mn(),n=e(t,"Map");return _x=n,_x}var Tx,GS;function BD(){if(GS)return Tx;GS=1;var e=ID(),t=ff(),n=vj();function a(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Tx=a,Tx}var Rx,VS;function qD(){if(VS)return Rx;VS=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Rx=e,Rx}var Mx,QS;function mf(){if(QS)return Mx;QS=1;var e=qD();function t(n,a){var s=n.__data__;return e(a)?s[typeof a=="string"?"string":"hash"]:s.map}return Mx=t,Mx}var Ix,YS;function UD(){if(YS)return Ix;YS=1;var e=mf();function t(n){var a=e(this,n).delete(n);return this.size-=a?1:0,a}return Ix=t,Ix}var $x,XS;function WD(){if(XS)return $x;XS=1;var e=mf();function t(n){return e(this,n).get(n)}return $x=t,$x}var Lx,JS;function HD(){if(JS)return Lx;JS=1;var e=mf();function t(n){return e(this,n).has(n)}return Lx=t,Lx}var Dx,ZS;function KD(){if(ZS)return Dx;ZS=1;var e=mf();function t(n,a){var s=e(this,n),i=s.size;return s.set(n,a),this.size+=s.size==i?0:1,this}return Dx=t,Dx}var Fx,e5;function bj(){if(e5)return Fx;e5=1;var e=BD(),t=UD(),n=WD(),a=HD(),s=KD();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=a,i.prototype.set=s,Fx=i,Fx}var zx,t5;function I3(){if(t5)return zx;t5=1;var e=bj(),t="Expected a function";function n(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var l=arguments,u=s?s.apply(this,l):l[0],d=i.cache;if(d.has(u))return d.get(u);var h=a.apply(this,l);return i.cache=d.set(u,h)||d,h};return i.cache=new(n.Cache||e),i}return n.Cache=e,zx=n,zx}var Bx,r5;function GD(){if(r5)return Bx;r5=1;var e=I3(),t=500;function n(a){var s=e(a,function(l){return i.size===t&&i.clear(),l}),i=s.cache;return s}return Bx=n,Bx}var qx,n5;function VD(){if(n5)return qx;n5=1;var e=GD(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,a=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(l,u,d,h){i.push(d?h.replace(n,"$1"):u||l)}),i});return qx=a,qx}var Ux,a5;function jj(){if(a5)return Ux;a5=1;function e(t,n){for(var a=-1,s=t==null?0:t.length,i=Array(s);++a<s;)i[a]=n(t[a],a,t);return i}return Ux=e,Ux}var Wx,s5;function QD(){if(s5)return Wx;s5=1;var e=Xc(),t=jj(),n=Nr(),a=Mo(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function l(u){if(typeof u=="string")return u;if(n(u))return t(u,l)+"";if(a(u))return i?i.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return Wx=l,Wx}var Hx,i5;function $3(){if(i5)return Hx;i5=1;var e=QD();function t(n){return n==null?"":e(n)}return Hx=t,Hx}var Kx,o5;function L3(){if(o5)return Kx;o5=1;var e=Nr(),t=xj(),n=VD(),a=$3();function s(i,l){return e(i)?i:t(i,l)?[i]:n(a(i))}return Kx=s,Kx}var Gx,l5;function pf(){if(l5)return Gx;l5=1;var e=Mo();function t(n){if(typeof n=="string"||e(n))return n;var a=n+"";return a=="0"&&1/n==-1/0?"-0":a}return Gx=t,Gx}var Vx,c5;function wj(){if(c5)return Vx;c5=1;var e=L3(),t=pf();function n(a,s){s=e(s,a);for(var i=0,l=s.length;a!=null&&i<l;)a=a[t(s[i++])];return i&&i==l?a:void 0}return Vx=n,Vx}var Qx,u5;function D3(){if(u5)return Qx;u5=1;var e=wj();function t(n,a,s){var i=n==null?void 0:e(n,a);return i===void 0?s:i}return Qx=t,Qx}var YD=D3();const Mr=Ze(YD);var Yx,d5;function XD(){if(d5)return Yx;d5=1;function e(t){return t==null}return Yx=e,Yx}var JD=XD();const ze=Ze(JD);var Xx,h5;function ZD(){if(h5)return Xx;h5=1;var e=ca(),t=Nr(),n=ua(),a="[object String]";function s(i){return typeof i=="string"||!t(i)&&n(i)&&e(i)==a}return Xx=s,Xx}var e9=ZD();const Hs=Ze(e9);var t9=gj();const Fe=Ze(t9);var r9=es();const Io=Ze(r9);var Jx={exports:{}},Ye={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f5;function n9(){if(f5)return Ye;f5=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function w(x){if(typeof x=="object"&&x!==null){var S=x.$$typeof;switch(S){case e:switch(x=x.type,x){case n:case s:case a:case h:case p:return x;default:switch(x=x&&x.$$typeof,x){case u:case l:case d:case g:case m:case i:return x;default:return S}}case t:return S}}}return Ye.ContextConsumer=l,Ye.ContextProvider=i,Ye.Element=e,Ye.ForwardRef=d,Ye.Fragment=n,Ye.Lazy=g,Ye.Memo=m,Ye.Portal=t,Ye.Profiler=s,Ye.StrictMode=a,Ye.Suspense=h,Ye.SuspenseList=p,Ye.isAsyncMode=function(){return!1},Ye.isConcurrentMode=function(){return!1},Ye.isContextConsumer=function(x){return w(x)===l},Ye.isContextProvider=function(x){return w(x)===i},Ye.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},Ye.isForwardRef=function(x){return w(x)===d},Ye.isFragment=function(x){return w(x)===n},Ye.isLazy=function(x){return w(x)===g},Ye.isMemo=function(x){return w(x)===m},Ye.isPortal=function(x){return w(x)===t},Ye.isProfiler=function(x){return w(x)===s},Ye.isStrictMode=function(x){return w(x)===a},Ye.isSuspense=function(x){return w(x)===h},Ye.isSuspenseList=function(x){return w(x)===p},Ye.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===s||x===a||x===h||x===p||x===j||typeof x=="object"&&x!==null&&(x.$$typeof===g||x.$$typeof===m||x.$$typeof===i||x.$$typeof===l||x.$$typeof===d||x.$$typeof===v||x.getModuleId!==void 0)},Ye.typeOf=w,Ye}var m5;function a9(){return m5||(m5=1,Jx.exports=n9()),Jx.exports}var s9=a9(),Zx,p5;function F3(){if(p5)return Zx;p5=1;var e=ca(),t=ua(),n="[object Number]";function a(s){return typeof s=="number"||t(s)&&e(s)==n}return Zx=a,Zx}var eg,x5;function i9(){if(x5)return eg;x5=1;var e=F3();function t(n){return e(n)&&n!=+n}return eg=t,eg}var o9=i9();const Jc=Ze(o9);var l9=F3();const c9=Ze(l9);var lr=function(t){return t===0?0:t>0?1:-1},ks=function(t){return Hs(t)&&t.indexOf("%")===t.length-1},ge=function(t){return c9(t)&&!Jc(t)},u9=function(t){return ze(t)},Lt=function(t){return ge(t)||Hs(t)},d9=0,$o=function(t){var n=++d9;return"".concat(t||"").concat(n)},cr=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(t)&&!Hs(t))return a;var i;if(ks(t)){var l=t.indexOf("%");i=n*parseFloat(t.slice(0,l))/100}else i=+t;return Jc(i)&&(i=a),s&&i>n&&(i=n),i},Ma=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},h9=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,a={},s=0;s<n;s++)if(!a[t[s]])a[t[s]]=!0;else return!0;return!1},_r=function(t,n){return ge(t)&&ge(n)?function(a){return t+a*(n-t)}:function(){return n}};function Jd(e,t,n){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):Mr(a,t))===n})}var f9=function(t,n){return ge(t)&&ge(n)?t-n:Hs(t)&&Hs(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function zi(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function Ev(e){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ev(e)}var m9=["viewBox","children"],p9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],g5=["points","pathLength"],tg={svg:m9,polygon:g5,polyline:g5},Nj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Zd=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(b.isValidElement(t)&&(a=t.props),!Io(a))return null;var s={};return Object.keys(a).forEach(function(i){Nj.includes(i)&&(s[i]=n||function(l){return a[i](a,l)})}),s},x9=function(t,n,a){return function(s){return t(n,a,s),null}},Ks=function(t,n,a){if(!Io(t)||Ev(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var l=t[i];Nj.includes(i)&&typeof l=="function"&&(s||(s={}),s[i]=x9(l,n,a))}),s},g9=["children"],y9=["children"];function y5(e,t){if(e==null)return{};var n=v9(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function v9(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function _v(e){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_v(e)}var v5={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ta=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},b5=null,rg=null,Sj=function e(t){if(t===b5&&Array.isArray(rg))return rg;var n=[];return b.Children.forEach(t,function(a){ze(a)||(s9.isFragment(a)?n=n.concat(e(a.props.children)):n.push(a))}),rg=n,b5=t,n};function Ir(e,t){var n=[],a=[];return Array.isArray(t)?a=t.map(function(s){return ta(s)}):a=[ta(t)],Sj(e).forEach(function(s){var i=Mr(s,"type.displayName")||Mr(s,"type.name");a.indexOf(i)!==-1&&n.push(s)}),n}function Er(e,t){var n=Ir(e,t);return n&&n[0]}var j5=function(t){if(!t||!t.props)return!1;var n=t.props,a=n.width,s=n.height;return!(!ge(a)||a<=0||!ge(s)||s<=0)},b9=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],j9=function(t){return t&&t.type&&Hs(t.type)&&b9.indexOf(t.type)>=0},w9=function(t){return t&&_v(t)==="object"&&"clipDot"in t},N9=function(t,n,a,s){var i,l=(i=tg==null?void 0:tg[s])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Fe(t)&&(s&&l.includes(n)||p9.includes(n))||a&&Nj.includes(n)},Te=function(t,n,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(b.isValidElement(t)&&(s=t.props),!Io(s))return null;var i={};return Object.keys(s).forEach(function(l){var u;N9((u=s)===null||u===void 0?void 0:u[l],l,n,a)&&(i[l]=s[l])}),i},Tv=function e(t,n){if(t===n)return!0;var a=b.Children.count(t);if(a!==b.Children.count(n))return!1;if(a===0)return!0;if(a===1)return w5(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<a;s++){var i=t[s],l=n[s];if(Array.isArray(i)||Array.isArray(l)){if(!e(i,l))return!1}else if(!w5(i,l))return!1}return!0},w5=function(t,n){if(ze(t)&&ze(n))return!0;if(!ze(t)&&!ze(n)){var a=t.props||{},s=a.children,i=y5(a,g9),l=n.props||{},u=l.children,d=y5(l,y9);return s&&u?zi(i,d)&&Tv(s,u):!s&&!u?zi(i,d):!1}return!1},N5=function(t,n){var a=[],s={};return Sj(t).forEach(function(i,l){if(j9(i))a.push(i);else if(i){var u=ta(i.type),d=n[u]||{},h=d.handler,p=d.once;if(h&&(!p||!s[u])){var m=h(i,u,l);a.push(m),s[u]=!0}}}),a},S9=function(t){var n=t&&t.type;return n&&v5[n]?v5[n]:null},k9=function(t,n){return Sj(n).indexOf(t)},C9=["children","width","height","viewBox","className","style","title","desc"];function Rv(){return Rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Rv.apply(this,arguments)}function A9(e,t){if(e==null)return{};var n=P9(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function P9(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Mv(e){var t=e.children,n=e.width,a=e.height,s=e.viewBox,i=e.className,l=e.style,u=e.title,d=e.desc,h=A9(e,C9),p=s||{width:n,height:a,x:0,y:0},m=Be("recharts-surface",i);return V.createElement("svg",Rv({},Te(h,!0,"svg"),{className:m,width:n,height:a,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),V.createElement("title",null,u),V.createElement("desc",null,d),t)}var O9=["children","className"];function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Iv.apply(this,arguments)}function E9(e,t){if(e==null)return{};var n=_9(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function _9(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var Ge=V.forwardRef(function(e,t){var n=e.children,a=e.className,s=E9(e,O9),i=Be("recharts-layer",a);return V.createElement("g",Iv({className:i},Te(s,!0),{ref:t}),n)}),pn=function(t,n){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]},ng,S5;function T9(){if(S5)return ng;S5=1;function e(t,n,a){var s=-1,i=t.length;n<0&&(n=-n>i?0:i+n),a=a>i?i:a,a<0&&(a+=i),i=n>a?0:a-n>>>0,n>>>=0;for(var l=Array(i);++s<i;)l[s]=t[s+n];return l}return ng=e,ng}var ag,k5;function R9(){if(k5)return ag;k5=1;var e=T9();function t(n,a,s){var i=n.length;return s=s===void 0?i:s,!a&&s>=i?n:e(n,a,s)}return ag=t,ag}var sg,C5;function z3(){if(C5)return sg;C5=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+n+a,i="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+s+i+"]");function d(h){return u.test(h)}return sg=d,sg}var ig,A5;function M9(){if(A5)return ig;A5=1;function e(t){return t.split("")}return ig=e,ig}var og,P5;function I9(){if(P5)return og;P5=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+n+a,i="\\ufe0e\\ufe0f",l="["+e+"]",u="["+s+"]",d="\\ud83c[\\udffb-\\udfff]",h="(?:"+u+"|"+d+")",p="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",j="\\u200d",v=h+"?",w="["+i+"]?",x="(?:"+j+"(?:"+[p,m,g].join("|")+")"+w+v+")*",S=w+v+x,O="(?:"+[p+u+"?",u,m,g,l].join("|")+")",P=RegExp(d+"(?="+d+")|"+O+S,"g");function N(C){return C.match(P)||[]}return og=N,og}var lg,O5;function $9(){if(O5)return lg;O5=1;var e=M9(),t=z3(),n=I9();function a(s){return t(s)?n(s):e(s)}return lg=a,lg}var cg,E5;function L9(){if(E5)return cg;E5=1;var e=R9(),t=z3(),n=$9(),a=$3();function s(i){return function(l){l=a(l);var u=t(l)?n(l):void 0,d=u?u[0]:l.charAt(0),h=u?e(u,1).join(""):l.slice(1);return d[i]()+h}}return cg=s,cg}var ug,_5;function D9(){if(_5)return ug;_5=1;var e=L9(),t=e("toUpperCase");return ug=t,ug}var F9=D9();const xf=Ze(F9);function it(e){return function(){return e}}const B3=Math.cos,eh=Math.sin,gn=Math.sqrt,th=Math.PI,gf=2*th,$v=Math.PI,Lv=2*$v,bs=1e-6,z9=Lv-bs;function q3(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function B9(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return q3;const n=10**t;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+a[s]}}class q9{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?q3:B9(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,a,s){this._append`Q${+t},${+n},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,n,a,s,i,l){this._append`C${+t},${+n},${+a},${+s},${this._x1=+i},${this._y1=+l}`}arcTo(t,n,a,s,i){if(t=+t,n=+n,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,u=this._y1,d=a-t,h=s-n,p=l-t,m=u-n,g=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>bs)if(!(Math.abs(m*d-h*p)>bs)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let j=a-l,v=s-u,w=d*d+h*h,x=j*j+v*v,S=Math.sqrt(w),O=Math.sqrt(g),P=i*Math.tan(($v-Math.acos((w+g-x)/(2*S*O)))/2),N=P/O,C=P/S;Math.abs(N-1)>bs&&this._append`L${t+N*p},${n+N*m}`,this._append`A${i},${i},0,0,${+(m*j>p*v)},${this._x1=t+C*d},${this._y1=n+C*h}`}}arc(t,n,a,s,i,l){if(t=+t,n=+n,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let u=a*Math.cos(s),d=a*Math.sin(s),h=t+u,p=n+d,m=1^l,g=l?s-i:i-s;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>bs||Math.abs(this._y1-p)>bs)&&this._append`L${h},${p}`,a&&(g<0&&(g=g%Lv+Lv),g>z9?this._append`A${a},${a},0,1,${m},${t-u},${n-d}A${a},${a},0,1,${m},${this._x1=h},${this._y1=p}`:g>bs&&this._append`A${a},${a},0,${+(g>=$v)},${m},${this._x1=t+a*Math.cos(i)},${this._y1=n+a*Math.sin(i)}`)}rect(t,n,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function kj(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);t=a}return e},()=>new q9(t)}function Cj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function U3(e){this._context=e}U3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function yf(e){return new U3(e)}function W3(e){return e[0]}function H3(e){return e[1]}function K3(e,t){var n=it(!0),a=null,s=yf,i=null,l=kj(u);e=typeof e=="function"?e:e===void 0?W3:it(e),t=typeof t=="function"?t:t===void 0?H3:it(t);function u(d){var h,p=(d=Cj(d)).length,m,g=!1,j;for(a==null&&(i=s(j=l())),h=0;h<=p;++h)!(h<p&&n(m=d[h],h,d))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(m,h,d),+t(m,h,d));if(j)return i=null,j+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:it(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:it(+d),u):t},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:it(!!d),u):n},u.curve=function(d){return arguments.length?(s=d,a!=null&&(i=s(a)),u):s},u.context=function(d){return arguments.length?(d==null?a=i=null:i=s(a=d),u):a},u}function Nd(e,t,n){var a=null,s=it(!0),i=null,l=yf,u=null,d=kj(h);e=typeof e=="function"?e:e===void 0?W3:it(+e),t=typeof t=="function"?t:it(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?H3:it(+n);function h(m){var g,j,v,w=(m=Cj(m)).length,x,S=!1,O,P=new Array(w),N=new Array(w);for(i==null&&(u=l(O=d())),g=0;g<=w;++g){if(!(g<w&&s(x=m[g],g,m))===S)if(S=!S)j=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),v=g-1;v>=j;--v)u.point(P[v],N[v]);u.lineEnd(),u.areaEnd()}S&&(P[g]=+e(x,g,m),N[g]=+t(x,g,m),u.point(a?+a(x,g,m):P[g],n?+n(x,g,m):N[g]))}if(O)return u=null,O+""||null}function p(){return K3().defined(s).curve(l).context(i)}return h.x=function(m){return arguments.length?(e=typeof m=="function"?m:it(+m),a=null,h):e},h.x0=function(m){return arguments.length?(e=typeof m=="function"?m:it(+m),h):e},h.x1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:it(+m),h):a},h.y=function(m){return arguments.length?(t=typeof m=="function"?m:it(+m),n=null,h):t},h.y0=function(m){return arguments.length?(t=typeof m=="function"?m:it(+m),h):t},h.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:it(+m),h):n},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(n)},h.lineX1=function(){return p().x(a).y(t)},h.defined=function(m){return arguments.length?(s=typeof m=="function"?m:it(!!m),h):s},h.curve=function(m){return arguments.length?(l=m,i!=null&&(u=l(i)),h):l},h.context=function(m){return arguments.length?(m==null?i=u=null:u=l(i=m),h):i},h}class G3{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function U9(e){return new G3(e,!0)}function W9(e){return new G3(e,!1)}const Aj={draw(e,t){const n=gn(t/th);e.moveTo(n,0),e.arc(0,0,n,0,gf)}},H9={draw(e,t){const n=gn(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},V3=gn(1/3),K9=V3*2,G9={draw(e,t){const n=gn(t/K9),a=n*V3;e.moveTo(0,-n),e.lineTo(a,0),e.lineTo(0,n),e.lineTo(-a,0),e.closePath()}},V9={draw(e,t){const n=gn(t),a=-n/2;e.rect(a,a,n,n)}},Q9=.8908130915292852,Q3=eh(th/10)/eh(7*th/10),Y9=eh(gf/10)*Q3,X9=-B3(gf/10)*Q3,J9={draw(e,t){const n=gn(t*Q9),a=Y9*n,s=X9*n;e.moveTo(0,-n),e.lineTo(a,s);for(let i=1;i<5;++i){const l=gf*i/5,u=B3(l),d=eh(l);e.lineTo(d*n,-u*n),e.lineTo(u*a-d*s,d*a+u*s)}e.closePath()}},dg=gn(3),Z9={draw(e,t){const n=-gn(t/(dg*3));e.moveTo(0,n*2),e.lineTo(-dg*n,-n),e.lineTo(dg*n,-n),e.closePath()}},qr=-.5,Ur=gn(3)/2,Dv=1/gn(12),eF=(Dv/2+1)*3,tF={draw(e,t){const n=gn(t/eF),a=n/2,s=n*Dv,i=a,l=n*Dv+n,u=-i,d=l;e.moveTo(a,s),e.lineTo(i,l),e.lineTo(u,d),e.lineTo(qr*a-Ur*s,Ur*a+qr*s),e.lineTo(qr*i-Ur*l,Ur*i+qr*l),e.lineTo(qr*u-Ur*d,Ur*u+qr*d),e.lineTo(qr*a+Ur*s,qr*s-Ur*a),e.lineTo(qr*i+Ur*l,qr*l-Ur*i),e.lineTo(qr*u+Ur*d,qr*d-Ur*u),e.closePath()}};function rF(e,t){let n=null,a=kj(s);e=typeof e=="function"?e:it(e||Aj),t=typeof t=="function"?t:it(t===void 0?64:+t);function s(){let i;if(n||(n=i=a()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:it(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:it(+i),s):t},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function rh(){}function nh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Y3(e){this._context=e}Y3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nF(e){return new Y3(e)}function X3(e){this._context=e}X3.prototype={areaStart:rh,areaEnd:rh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:nh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aF(e){return new X3(e)}function J3(e){this._context=e}J3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:nh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sF(e){return new J3(e)}function Z3(e){this._context=e}Z3.prototype={areaStart:rh,areaEnd:rh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function iF(e){return new Z3(e)}function T5(e){return e<0?-1:1}function R5(e,t,n){var a=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),l=(n-e._y1)/(s||a<0&&-0),u=(i*s+l*a)/(a+s);return(T5(i)+T5(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(u))||0}function M5(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function hg(e,t,n){var a=e._x0,s=e._y0,i=e._x1,l=e._y1,u=(i-a)/3;e._context.bezierCurveTo(a+u,s+u*t,i-u,l-u*n,i,l)}function ah(e){this._context=e}ah.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hg(this,this._t0,M5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,hg(this,M5(this,n=R5(this,e,t)),n);break;default:hg(this,this._t0,n=R5(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function eE(e){this._context=new tE(e)}(eE.prototype=Object.create(ah.prototype)).point=function(e,t){ah.prototype.point.call(this,t,e)};function tE(e){this._context=e}tE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,a,s,i){this._context.bezierCurveTo(t,e,a,n,i,s)}};function oF(e){return new ah(e)}function lF(e){return new eE(e)}function rE(e){this._context=e}rE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var a=I5(e),s=I5(t),i=0,l=1;l<n;++i,++l)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function I5(e){var t,n=e.length-1,a,s=new Array(n),i=new Array(n),l=new Array(n);for(s[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,i[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)a=s[t]/i[t-1],i[t]-=a,l[t]-=a*l[t-1];for(s[n-1]=l[n-1]/i[n-1],t=n-2;t>=0;--t)s[t]=(l[t]-s[t+1])/i[t];for(i[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function cF(e){return new rE(e)}function vf(e,t){this._context=e,this._t=t}vf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function uF(e){return new vf(e,.5)}function dF(e){return new vf(e,0)}function hF(e){return new vf(e,1)}function ro(e,t){if((l=e.length)>1)for(var n=1,a,s,i=e[t[0]],l,u=i.length;n<l;++n)for(s=i,i=e[t[n]],a=0;a<u;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function Fv(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function fF(e,t){return e[t]}function mF(e){const t=[];return t.key=e,t}function pF(){var e=it([]),t=Fv,n=ro,a=fF;function s(i){var l=Array.from(e.apply(this,arguments),mF),u,d=l.length,h=-1,p;for(const m of i)for(u=0,++h;u<d;++u)(l[u][h]=[0,+a(m,l[u].key,h,i)]).data=m;for(u=0,p=Cj(t(l));u<d;++u)l[p[u]].index=u;return n(l,p),l}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:it(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:it(+i),s):a},s.order=function(i){return arguments.length?(t=i==null?Fv:typeof i=="function"?i:it(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(n=i??ro,s):n},s}function xF(e,t){if((a=e.length)>0){for(var n,a,s=0,i=e[0].length,l;s<i;++s){for(l=n=0;n<a;++n)l+=e[n][s][1]||0;if(l)for(n=0;n<a;++n)e[n][s][1]/=l}ro(e,t)}}function gF(e,t){if((s=e.length)>0){for(var n=0,a=e[t[0]],s,i=a.length;n<i;++n){for(var l=0,u=0;l<s;++l)u+=e[l][n][1]||0;a[n][1]+=a[n][0]=-u/2}ro(e,t)}}function yF(e,t){if(!(!((l=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var n=0,a=1,s,i,l;a<i;++a){for(var u=0,d=0,h=0;u<l;++u){for(var p=e[t[u]],m=p[a][1]||0,g=p[a-1][1]||0,j=(m-g)/2,v=0;v<u;++v){var w=e[t[v]],x=w[a][1]||0,S=w[a-1][1]||0;j+=x-S}d+=m,h+=j*m}s[a-1][1]+=s[a-1][0]=n,d&&(n-=h/d)}s[a-1][1]+=s[a-1][0]=n,ro(e,t)}}function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}var vF=["type","size","sizeType"];function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},zv.apply(this,arguments)}function $5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function L5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$5(Object(n),!0).forEach(function(a){bF(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function bF(e,t,n){return t=jF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jF(e){var t=wF(e,"string");return ac(t)=="symbol"?t:t+""}function wF(e,t){if(ac(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(ac(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NF(e,t){if(e==null)return{};var n=SF(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function SF(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var nE={symbolCircle:Aj,symbolCross:H9,symbolDiamond:G9,symbolSquare:V9,symbolStar:J9,symbolTriangle:Z9,symbolWye:tF},kF=Math.PI/180,CF=function(t){var n="symbol".concat(xf(t));return nE[n]||Aj},AF=function(t,n,a){if(n==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*kF;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},PF=function(t,n){nE["symbol".concat(xf(t))]=n},Pj=function(t){var n=t.type,a=n===void 0?"circle":n,s=t.size,i=s===void 0?64:s,l=t.sizeType,u=l===void 0?"area":l,d=NF(t,vF),h=L5(L5({},d),{},{type:a,size:i,sizeType:u}),p=function(){var x=CF(a),S=rF().type(x).size(AF(i,u,a));return S()},m=h.className,g=h.cx,j=h.cy,v=Te(h,!0);return g===+g&&j===+j&&i===+i?V.createElement("path",zv({},v,{className:Be("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(j,")"),d:p()})):null};Pj.registerSymbol=PF;function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function Bv(){return Bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Bv.apply(this,arguments)}function D5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function OF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D5(Object(n),!0).forEach(function(a){sc(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function EF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _F(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,sE(a.key),a)}}function TF(e,t,n){return t&&_F(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RF(e,t,n){return t=sh(t),MF(e,aE()?Reflect.construct(t,n||[],sh(e).constructor):t.apply(e,n))}function MF(e,t){if(t&&(no(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IF(e)}function IF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aE=function(){return!!e})()}function sh(e){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sh(e)}function $F(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qv(e,t)}function qv(e,t){return qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},qv(e,t)}function sc(e,t,n){return t=sE(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sE(e){var t=LF(e,"string");return no(t)=="symbol"?t:t+""}function LF(e,t){if(no(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(no(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wr=32,Oj=(function(e){function t(){return EF(this,t),RF(this,t,arguments)}return $F(t,e),TF(t,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,i=Wr/2,l=Wr/6,u=Wr/3,d=a.inactive?s:a.color;if(a.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:Wr,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(Wr,"M").concat(2*u,",").concat(i,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return V.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Wr/8,"h").concat(Wr,"v").concat(Wr*3/4,"h").concat(-Wr,"z"),className:"recharts-legend-icon"});if(V.isValidElement(a.legendIcon)){var h=OF({},a);return delete h.legendIcon,V.cloneElement(a.legendIcon,h)}return V.createElement(Pj,{fill:d,cx:i,cy:i,size:Wr,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,i=s.payload,l=s.iconSize,u=s.layout,d=s.formatter,h=s.inactiveColor,p={x:0,y:0,width:Wr,height:Wr},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(j,v){var w=j.formatter||d,x=Be(sc(sc({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",j.inactive));if(j.type==="none")return null;var S=Fe(j.value)?null:j.value;pn(!Fe(j.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var O=j.inactive?h:j.color;return V.createElement("li",Bv({className:x,style:m,key:"legend-item-".concat(v)},Ks(a.props,j,v)),V.createElement(Mv,{width:l,height:l,viewBox:p,style:g},a.renderIcon(j)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:O}},w?w(S,j,v):S))})}},{key:"render",value:function(){var a=this.props,s=a.payload,i=a.layout,l=a.align;if(!s||!s.length)return null;var u={padding:0,margin:0,textAlign:i==="horizontal"?l:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(b.PureComponent);sc(Oj,"displayName","Legend");sc(Oj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var fg,F5;function DF(){if(F5)return fg;F5=1;var e=ff();function t(){this.__data__=new e,this.size=0}return fg=t,fg}var mg,z5;function FF(){if(z5)return mg;z5=1;function e(t){var n=this.__data__,a=n.delete(t);return this.size=n.size,a}return mg=e,mg}var pg,B5;function zF(){if(B5)return pg;B5=1;function e(t){return this.__data__.get(t)}return pg=e,pg}var xg,q5;function BF(){if(q5)return xg;q5=1;function e(t){return this.__data__.has(t)}return xg=e,xg}var gg,U5;function qF(){if(U5)return gg;U5=1;var e=ff(),t=vj(),n=bj(),a=200;function s(i,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<a-1)return d.push([i,l]),this.size=++u.size,this;u=this.__data__=new n(d)}return u.set(i,l),this.size=u.size,this}return gg=s,gg}var yg,W5;function iE(){if(W5)return yg;W5=1;var e=ff(),t=DF(),n=FF(),a=zF(),s=BF(),i=qF();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=n,l.prototype.get=a,l.prototype.has=s,l.prototype.set=i,yg=l,yg}var vg,H5;function UF(){if(H5)return vg;H5=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return vg=t,vg}var bg,K5;function WF(){if(K5)return bg;K5=1;function e(t){return this.__data__.has(t)}return bg=e,bg}var jg,G5;function oE(){if(G5)return jg;G5=1;var e=bj(),t=UF(),n=WF();function a(s){var i=-1,l=s==null?0:s.length;for(this.__data__=new e;++i<l;)this.add(s[i])}return a.prototype.add=a.prototype.push=t,a.prototype.has=n,jg=a,jg}var wg,V5;function lE(){if(V5)return wg;V5=1;function e(t,n){for(var a=-1,s=t==null?0:t.length;++a<s;)if(n(t[a],a,t))return!0;return!1}return wg=e,wg}var Ng,Q5;function cE(){if(Q5)return Ng;Q5=1;function e(t,n){return t.has(n)}return Ng=e,Ng}var Sg,Y5;function uE(){if(Y5)return Sg;Y5=1;var e=oE(),t=lE(),n=cE(),a=1,s=2;function i(l,u,d,h,p,m){var g=d&a,j=l.length,v=u.length;if(j!=v&&!(g&&v>j))return!1;var w=m.get(l),x=m.get(u);if(w&&x)return w==u&&x==l;var S=-1,O=!0,P=d&s?new e:void 0;for(m.set(l,u),m.set(u,l);++S<j;){var N=l[S],C=u[S];if(h)var A=g?h(C,N,S,u,l,m):h(N,C,S,l,u,m);if(A!==void 0){if(A)continue;O=!1;break}if(P){if(!t(u,function(E,M){if(!n(P,M)&&(N===E||p(N,E,d,h,m)))return P.push(M)})){O=!1;break}}else if(!(N===C||p(N,C,d,h,m))){O=!1;break}}return m.delete(l),m.delete(u),O}return Sg=i,Sg}var kg,X5;function HF(){if(X5)return kg;X5=1;var e=Mn(),t=e.Uint8Array;return kg=t,kg}var Cg,J5;function KF(){if(J5)return Cg;J5=1;function e(t){var n=-1,a=Array(t.size);return t.forEach(function(s,i){a[++n]=[i,s]}),a}return Cg=e,Cg}var Ag,Z5;function Ej(){if(Z5)return Ag;Z5=1;function e(t){var n=-1,a=Array(t.size);return t.forEach(function(s){a[++n]=s}),a}return Ag=e,Ag}var Pg,ek;function GF(){if(ek)return Pg;ek=1;var e=Xc(),t=HF(),n=yj(),a=uE(),s=KF(),i=Ej(),l=1,u=2,d="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Map]",g="[object Number]",j="[object RegExp]",v="[object Set]",w="[object String]",x="[object Symbol]",S="[object ArrayBuffer]",O="[object DataView]",P=e?e.prototype:void 0,N=P?P.valueOf:void 0;function C(A,E,M,R,I,T,$){switch(M){case O:if(A.byteLength!=E.byteLength||A.byteOffset!=E.byteOffset)return!1;A=A.buffer,E=E.buffer;case S:return!(A.byteLength!=E.byteLength||!T(new t(A),new t(E)));case d:case h:case g:return n(+A,+E);case p:return A.name==E.name&&A.message==E.message;case j:case w:return A==E+"";case m:var W=s;case v:var X=R&l;if(W||(W=i),A.size!=E.size&&!X)return!1;var B=$.get(A);if(B)return B==E;R|=u,$.set(A,E);var q=a(W(A),W(E),R,I,T,$);return $.delete(A),q;case x:if(N)return N.call(A)==N.call(E)}return!1}return Pg=C,Pg}var Og,tk;function dE(){if(tk)return Og;tk=1;function e(t,n){for(var a=-1,s=n.length,i=t.length;++a<s;)t[i+a]=n[a];return t}return Og=e,Og}var Eg,rk;function VF(){if(rk)return Eg;rk=1;var e=dE(),t=Nr();function n(a,s,i){var l=s(a);return t(a)?l:e(l,i(a))}return Eg=n,Eg}var _g,nk;function QF(){if(nk)return _g;nk=1;function e(t,n){for(var a=-1,s=t==null?0:t.length,i=0,l=[];++a<s;){var u=t[a];n(u,a,t)&&(l[i++]=u)}return l}return _g=e,_g}var Tg,ak;function YF(){if(ak)return Tg;ak=1;function e(){return[]}return Tg=e,Tg}var Rg,sk;function XF(){if(sk)return Rg;sk=1;var e=QF(),t=YF(),n=Object.prototype,a=n.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(l){return l==null?[]:(l=Object(l),e(s(l),function(u){return a.call(l,u)}))}:t;return Rg=i,Rg}var Mg,ik;function JF(){if(ik)return Mg;ik=1;function e(t,n){for(var a=-1,s=Array(t);++a<t;)s[a]=n(a);return s}return Mg=e,Mg}var Ig,ok;function ZF(){if(ok)return Ig;ok=1;var e=ca(),t=ua(),n="[object Arguments]";function a(s){return t(s)&&e(s)==n}return Ig=a,Ig}var $g,lk;function _j(){if(lk)return $g;lk=1;var e=ZF(),t=ua(),n=Object.prototype,a=n.hasOwnProperty,s=n.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(l){return t(l)&&a.call(l,"callee")&&!s.call(l,"callee")};return $g=i,$g}var Wl={exports:{}},Lg,ck;function ez(){if(ck)return Lg;ck=1;function e(){return!1}return Lg=e,Lg}Wl.exports;var uk;function hE(){return uk||(uk=1,(function(e,t){var n=Mn(),a=ez(),s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===s,u=l?n.Buffer:void 0,d=u?u.isBuffer:void 0,h=d||a;e.exports=h})(Wl,Wl.exports)),Wl.exports}var Dg,dk;function Tj(){if(dk)return Dg;dk=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(a,s){var i=typeof a;return s=s??e,!!s&&(i=="number"||i!="symbol"&&t.test(a))&&a>-1&&a%1==0&&a<s}return Dg=n,Dg}var Fg,hk;function Rj(){if(hk)return Fg;hk=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Fg=t,Fg}var zg,fk;function tz(){if(fk)return zg;fk=1;var e=ca(),t=Rj(),n=ua(),a="[object Arguments]",s="[object Array]",i="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",h="[object Map]",p="[object Number]",m="[object Object]",g="[object RegExp]",j="[object Set]",v="[object String]",w="[object WeakMap]",x="[object ArrayBuffer]",S="[object DataView]",O="[object Float32Array]",P="[object Float64Array]",N="[object Int8Array]",C="[object Int16Array]",A="[object Int32Array]",E="[object Uint8Array]",M="[object Uint8ClampedArray]",R="[object Uint16Array]",I="[object Uint32Array]",T={};T[O]=T[P]=T[N]=T[C]=T[A]=T[E]=T[M]=T[R]=T[I]=!0,T[a]=T[s]=T[x]=T[i]=T[S]=T[l]=T[u]=T[d]=T[h]=T[p]=T[m]=T[g]=T[j]=T[v]=T[w]=!1;function $(W){return n(W)&&t(W.length)&&!!T[e(W)]}return zg=$,zg}var Bg,mk;function fE(){if(mk)return Bg;mk=1;function e(t){return function(n){return t(n)}}return Bg=e,Bg}var Hl={exports:{}};Hl.exports;var pk;function rz(){return pk||(pk=1,(function(e,t){var n=R3(),a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,l=i&&n.process,u=(function(){try{var d=s&&s.require&&s.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(Hl,Hl.exports)),Hl.exports}var qg,xk;function mE(){if(xk)return qg;xk=1;var e=tz(),t=fE(),n=rz(),a=n&&n.isTypedArray,s=a?t(a):e;return qg=s,qg}var Ug,gk;function nz(){if(gk)return Ug;gk=1;var e=JF(),t=_j(),n=Nr(),a=hE(),s=Tj(),i=mE(),l=Object.prototype,u=l.hasOwnProperty;function d(h,p){var m=n(h),g=!m&&t(h),j=!m&&!g&&a(h),v=!m&&!g&&!j&&i(h),w=m||g||j||v,x=w?e(h.length,String):[],S=x.length;for(var O in h)(p||u.call(h,O))&&!(w&&(O=="length"||j&&(O=="offset"||O=="parent")||v&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||s(O,S)))&&x.push(O);return x}return Ug=d,Ug}var Wg,yk;function az(){if(yk)return Wg;yk=1;var e=Object.prototype;function t(n){var a=n&&n.constructor,s=typeof a=="function"&&a.prototype||e;return n===s}return Wg=t,Wg}var Hg,vk;function pE(){if(vk)return Hg;vk=1;function e(t,n){return function(a){return t(n(a))}}return Hg=e,Hg}var Kg,bk;function sz(){if(bk)return Kg;bk=1;var e=pE(),t=e(Object.keys,Object);return Kg=t,Kg}var Gg,jk;function iz(){if(jk)return Gg;jk=1;var e=az(),t=sz(),n=Object.prototype,a=n.hasOwnProperty;function s(i){if(!e(i))return t(i);var l=[];for(var u in Object(i))a.call(i,u)&&u!="constructor"&&l.push(u);return l}return Gg=s,Gg}var Vg,wk;function Zc(){if(wk)return Vg;wk=1;var e=gj(),t=Rj();function n(a){return a!=null&&t(a.length)&&!e(a)}return Vg=n,Vg}var Qg,Nk;function bf(){if(Nk)return Qg;Nk=1;var e=nz(),t=iz(),n=Zc();function a(s){return n(s)?e(s):t(s)}return Qg=a,Qg}var Yg,Sk;function oz(){if(Sk)return Yg;Sk=1;var e=VF(),t=XF(),n=bf();function a(s){return e(s,n,t)}return Yg=a,Yg}var Xg,kk;function lz(){if(kk)return Xg;kk=1;var e=oz(),t=1,n=Object.prototype,a=n.hasOwnProperty;function s(i,l,u,d,h,p){var m=u&t,g=e(i),j=g.length,v=e(l),w=v.length;if(j!=w&&!m)return!1;for(var x=j;x--;){var S=g[x];if(!(m?S in l:a.call(l,S)))return!1}var O=p.get(i),P=p.get(l);if(O&&P)return O==l&&P==i;var N=!0;p.set(i,l),p.set(l,i);for(var C=m;++x<j;){S=g[x];var A=i[S],E=l[S];if(d)var M=m?d(E,A,S,l,i,p):d(A,E,S,i,l,p);if(!(M===void 0?A===E||h(A,E,u,d,p):M)){N=!1;break}C||(C=S=="constructor")}if(N&&!C){var R=i.constructor,I=l.constructor;R!=I&&"constructor"in i&&"constructor"in l&&!(typeof R=="function"&&R instanceof R&&typeof I=="function"&&I instanceof I)&&(N=!1)}return p.delete(i),p.delete(l),N}return Xg=s,Xg}var Jg,Ck;function cz(){if(Ck)return Jg;Ck=1;var e=Zs(),t=Mn(),n=e(t,"DataView");return Jg=n,Jg}var Zg,Ak;function uz(){if(Ak)return Zg;Ak=1;var e=Zs(),t=Mn(),n=e(t,"Promise");return Zg=n,Zg}var e0,Pk;function xE(){if(Pk)return e0;Pk=1;var e=Zs(),t=Mn(),n=e(t,"Set");return e0=n,e0}var t0,Ok;function dz(){if(Ok)return t0;Ok=1;var e=Zs(),t=Mn(),n=e(t,"WeakMap");return t0=n,t0}var r0,Ek;function hz(){if(Ek)return r0;Ek=1;var e=cz(),t=vj(),n=uz(),a=xE(),s=dz(),i=ca(),l=M3(),u="[object Map]",d="[object Object]",h="[object Promise]",p="[object Set]",m="[object WeakMap]",g="[object DataView]",j=l(e),v=l(t),w=l(n),x=l(a),S=l(s),O=i;return(e&&O(new e(new ArrayBuffer(1)))!=g||t&&O(new t)!=u||n&&O(n.resolve())!=h||a&&O(new a)!=p||s&&O(new s)!=m)&&(O=function(P){var N=i(P),C=N==d?P.constructor:void 0,A=C?l(C):"";if(A)switch(A){case j:return g;case v:return u;case w:return h;case x:return p;case S:return m}return N}),r0=O,r0}var n0,_k;function fz(){if(_k)return n0;_k=1;var e=iE(),t=uE(),n=GF(),a=lz(),s=hz(),i=Nr(),l=hE(),u=mE(),d=1,h="[object Arguments]",p="[object Array]",m="[object Object]",g=Object.prototype,j=g.hasOwnProperty;function v(w,x,S,O,P,N){var C=i(w),A=i(x),E=C?p:s(w),M=A?p:s(x);E=E==h?m:E,M=M==h?m:M;var R=E==m,I=M==m,T=E==M;if(T&&l(w)){if(!l(x))return!1;C=!0,R=!1}if(T&&!R)return N||(N=new e),C||u(w)?t(w,x,S,O,P,N):n(w,x,E,S,O,P,N);if(!(S&d)){var $=R&&j.call(w,"__wrapped__"),W=I&&j.call(x,"__wrapped__");if($||W){var X=$?w.value():w,B=W?x.value():x;return N||(N=new e),P(X,B,S,O,N)}}return T?(N||(N=new e),a(w,x,S,O,P,N)):!1}return n0=v,n0}var a0,Tk;function Mj(){if(Tk)return a0;Tk=1;var e=fz(),t=ua();function n(a,s,i,l,u){return a===s?!0:a==null||s==null||!t(a)&&!t(s)?a!==a&&s!==s:e(a,s,i,l,n,u)}return a0=n,a0}var s0,Rk;function mz(){if(Rk)return s0;Rk=1;var e=iE(),t=Mj(),n=1,a=2;function s(i,l,u,d){var h=u.length,p=h,m=!d;if(i==null)return!p;for(i=Object(i);h--;){var g=u[h];if(m&&g[2]?g[1]!==i[g[0]]:!(g[0]in i))return!1}for(;++h<p;){g=u[h];var j=g[0],v=i[j],w=g[1];if(m&&g[2]){if(v===void 0&&!(j in i))return!1}else{var x=new e;if(d)var S=d(v,w,j,i,l,x);if(!(S===void 0?t(w,v,n|a,d,x):S))return!1}}return!0}return s0=s,s0}var i0,Mk;function gE(){if(Mk)return i0;Mk=1;var e=es();function t(n){return n===n&&!e(n)}return i0=t,i0}var o0,Ik;function pz(){if(Ik)return o0;Ik=1;var e=gE(),t=bf();function n(a){for(var s=t(a),i=s.length;i--;){var l=s[i],u=a[l];s[i]=[l,u,e(u)]}return s}return o0=n,o0}var l0,$k;function yE(){if($k)return l0;$k=1;function e(t,n){return function(a){return a==null?!1:a[t]===n&&(n!==void 0||t in Object(a))}}return l0=e,l0}var c0,Lk;function xz(){if(Lk)return c0;Lk=1;var e=mz(),t=pz(),n=yE();function a(s){var i=t(s);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(l){return l===s||e(l,s,i)}}return c0=a,c0}var u0,Dk;function gz(){if(Dk)return u0;Dk=1;function e(t,n){return t!=null&&n in Object(t)}return u0=e,u0}var d0,Fk;function yz(){if(Fk)return d0;Fk=1;var e=L3(),t=_j(),n=Nr(),a=Tj(),s=Rj(),i=pf();function l(u,d,h){d=e(d,u);for(var p=-1,m=d.length,g=!1;++p<m;){var j=i(d[p]);if(!(g=u!=null&&h(u,j)))break;u=u[j]}return g||++p!=m?g:(m=u==null?0:u.length,!!m&&s(m)&&a(j,m)&&(n(u)||t(u)))}return d0=l,d0}var h0,zk;function vz(){if(zk)return h0;zk=1;var e=gz(),t=yz();function n(a,s){return a!=null&&t(a,s,e)}return h0=n,h0}var f0,Bk;function bz(){if(Bk)return f0;Bk=1;var e=Mj(),t=D3(),n=vz(),a=xj(),s=gE(),i=yE(),l=pf(),u=1,d=2;function h(p,m){return a(p)&&s(m)?i(l(p),m):function(g){var j=t(g,p);return j===void 0&&j===m?n(g,p):e(m,j,u|d)}}return f0=h,f0}var m0,qk;function Lo(){if(qk)return m0;qk=1;function e(t){return t}return m0=e,m0}var p0,Uk;function jz(){if(Uk)return p0;Uk=1;function e(t){return function(n){return n==null?void 0:n[t]}}return p0=e,p0}var x0,Wk;function wz(){if(Wk)return x0;Wk=1;var e=wj();function t(n){return function(a){return e(a,n)}}return x0=t,x0}var g0,Hk;function Nz(){if(Hk)return g0;Hk=1;var e=jz(),t=wz(),n=xj(),a=pf();function s(i){return n(i)?e(a(i)):t(i)}return g0=s,g0}var y0,Kk;function In(){if(Kk)return y0;Kk=1;var e=xz(),t=bz(),n=Lo(),a=Nr(),s=Nz();function i(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?a(l)?t(l[0],l[1]):e(l):s(l)}return y0=i,y0}var v0,Gk;function vE(){if(Gk)return v0;Gk=1;function e(t,n,a,s){for(var i=t.length,l=a+(s?1:-1);s?l--:++l<i;)if(n(t[l],l,t))return l;return-1}return v0=e,v0}var b0,Vk;function Sz(){if(Vk)return b0;Vk=1;function e(t){return t!==t}return b0=e,b0}var j0,Qk;function kz(){if(Qk)return j0;Qk=1;function e(t,n,a){for(var s=a-1,i=t.length;++s<i;)if(t[s]===n)return s;return-1}return j0=e,j0}var w0,Yk;function Cz(){if(Yk)return w0;Yk=1;var e=vE(),t=Sz(),n=kz();function a(s,i,l){return i===i?n(s,i,l):e(s,t,l)}return w0=a,w0}var N0,Xk;function Az(){if(Xk)return N0;Xk=1;var e=Cz();function t(n,a){var s=n==null?0:n.length;return!!s&&e(n,a,0)>-1}return N0=t,N0}var S0,Jk;function Pz(){if(Jk)return S0;Jk=1;function e(t,n,a){for(var s=-1,i=t==null?0:t.length;++s<i;)if(a(n,t[s]))return!0;return!1}return S0=e,S0}var k0,Zk;function Oz(){if(Zk)return k0;Zk=1;function e(){}return k0=e,k0}var C0,e4;function Ez(){if(e4)return C0;e4=1;var e=xE(),t=Oz(),n=Ej(),a=1/0,s=e&&1/n(new e([,-0]))[1]==a?function(i){return new e(i)}:t;return C0=s,C0}var A0,t4;function _z(){if(t4)return A0;t4=1;var e=oE(),t=Az(),n=Pz(),a=cE(),s=Ez(),i=Ej(),l=200;function u(d,h,p){var m=-1,g=t,j=d.length,v=!0,w=[],x=w;if(p)v=!1,g=n;else if(j>=l){var S=h?null:s(d);if(S)return i(S);v=!1,g=a,x=new e}else x=h?[]:w;e:for(;++m<j;){var O=d[m],P=h?h(O):O;if(O=p||O!==0?O:0,v&&P===P){for(var N=x.length;N--;)if(x[N]===P)continue e;h&&x.push(P),w.push(O)}else g(x,P,p)||(x!==w&&x.push(P),w.push(O))}return w}return A0=u,A0}var P0,r4;function Tz(){if(r4)return P0;r4=1;var e=In(),t=_z();function n(a,s){return a&&a.length?t(a,e(s,2)):[]}return P0=n,P0}var Rz=Tz();const n4=Ze(Rz);function bE(e,t,n){return t===!0?n4(e,n):Fe(t)?n4(e,t):e}function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}var Mz=["ref"];function a4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a4(Object(n),!0).forEach(function(a){jf(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Iz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s4(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,wE(a.key),a)}}function $z(e,t,n){return t&&s4(e.prototype,t),n&&s4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lz(e,t,n){return t=ih(t),Dz(e,jE()?Reflect.construct(t,n||[],ih(e).constructor):t.apply(e,n))}function Dz(e,t){if(t&&(ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fz(e)}function Fz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jE=function(){return!!e})()}function ih(e){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ih(e)}function zz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uv(e,t)}function Uv(e,t){return Uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Uv(e,t)}function jf(e,t,n){return t=wE(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wE(e){var t=Bz(e,"string");return ao(t)=="symbol"?t:t+""}function Bz(e,t){if(ao(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(ao(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function qz(e,t){if(e==null)return{};var n=Uz(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Uz(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Wz(e){return e.value}function Hz(e,t){if(V.isValidElement(e))return V.cloneElement(e,t);if(typeof e=="function")return V.createElement(e,t);t.ref;var n=qz(t,Mz);return V.createElement(Oj,n)}var i4=1,Qa=(function(e){function t(){var n;Iz(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=Lz(this,t,[].concat(s)),jf(n,"lastBoundingBox",{width:-1,height:-1}),n}return zz(t,e),$z(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>i4||Math.abs(s.height-this.lastBoundingBox.height)>i4)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Wn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,i=s.layout,l=s.align,u=s.verticalAlign,d=s.margin,h=s.chartWidth,p=s.chartHeight,m,g;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(l==="center"&&i==="vertical"){var j=this.getBBoxSnapshot();m={left:((h||0)-j.width)/2}}else m=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(u==="middle"){var v=this.getBBoxSnapshot();g={top:((p||0)-v.height)/2}}else g=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Wn(Wn({},m),g)}},{key:"render",value:function(){var a=this,s=this.props,i=s.content,l=s.width,u=s.height,d=s.wrapperStyle,h=s.payloadUniqBy,p=s.payload,m=Wn(Wn({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return V.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(j){a.wrapperNode=j}},Hz(i,Wn(Wn({},this.props),{},{payload:bE(p,h,Wz)})))}}],[{key:"getWithHeight",value:function(a,s){var i=Wn(Wn({},this.defaultProps),a.props),l=i.layout;return l==="vertical"&&ge(a.props.height)?{height:a.props.height}:l==="horizontal"?{width:a.props.width||s}:null}}])})(b.PureComponent);jf(Qa,"displayName","Legend");jf(Qa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var O0,o4;function Kz(){if(o4)return O0;o4=1;var e=Xc(),t=_j(),n=Nr(),a=e?e.isConcatSpreadable:void 0;function s(i){return n(i)||t(i)||!!(a&&i&&i[a])}return O0=s,O0}var E0,l4;function NE(){if(l4)return E0;l4=1;var e=dE(),t=Kz();function n(a,s,i,l,u){var d=-1,h=a.length;for(i||(i=t),u||(u=[]);++d<h;){var p=a[d];s>0&&i(p)?s>1?n(p,s-1,i,l,u):e(u,p):l||(u[u.length]=p)}return u}return E0=n,E0}var _0,c4;function Gz(){if(c4)return _0;c4=1;function e(t){return function(n,a,s){for(var i=-1,l=Object(n),u=s(n),d=u.length;d--;){var h=u[t?d:++i];if(a(l[h],h,l)===!1)break}return n}}return _0=e,_0}var T0,u4;function Vz(){if(u4)return T0;u4=1;var e=Gz(),t=e();return T0=t,T0}var R0,d4;function SE(){if(d4)return R0;d4=1;var e=Vz(),t=bf();function n(a,s){return a&&e(a,s,t)}return R0=n,R0}var M0,h4;function Qz(){if(h4)return M0;h4=1;var e=Zc();function t(n,a){return function(s,i){if(s==null)return s;if(!e(s))return n(s,i);for(var l=s.length,u=a?l:-1,d=Object(s);(a?u--:++u<l)&&i(d[u],u,d)!==!1;);return s}}return M0=t,M0}var I0,f4;function Ij(){if(f4)return I0;f4=1;var e=SE(),t=Qz(),n=t(e);return I0=n,I0}var $0,m4;function kE(){if(m4)return $0;m4=1;var e=Ij(),t=Zc();function n(a,s){var i=-1,l=t(a)?Array(a.length):[];return e(a,function(u,d,h){l[++i]=s(u,d,h)}),l}return $0=n,$0}var L0,p4;function Yz(){if(p4)return L0;p4=1;function e(t,n){var a=t.length;for(t.sort(n);a--;)t[a]=t[a].value;return t}return L0=e,L0}var D0,x4;function Xz(){if(x4)return D0;x4=1;var e=Mo();function t(n,a){if(n!==a){var s=n!==void 0,i=n===null,l=n===n,u=e(n),d=a!==void 0,h=a===null,p=a===a,m=e(a);if(!h&&!m&&!u&&n>a||u&&d&&p&&!h&&!m||i&&d&&p||!s&&p||!l)return 1;if(!i&&!u&&!m&&n<a||m&&s&&l&&!i&&!u||h&&s&&l||!d&&l||!p)return-1}return 0}return D0=t,D0}var F0,g4;function Jz(){if(g4)return F0;g4=1;var e=Xz();function t(n,a,s){for(var i=-1,l=n.criteria,u=a.criteria,d=l.length,h=s.length;++i<d;){var p=e(l[i],u[i]);if(p){if(i>=h)return p;var m=s[i];return p*(m=="desc"?-1:1)}}return n.index-a.index}return F0=t,F0}var z0,y4;function Zz(){if(y4)return z0;y4=1;var e=jj(),t=wj(),n=In(),a=kE(),s=Yz(),i=fE(),l=Jz(),u=Lo(),d=Nr();function h(p,m,g){m.length?m=e(m,function(w){return d(w)?function(x){return t(x,w.length===1?w[0]:w)}:w}):m=[u];var j=-1;m=e(m,i(n));var v=a(p,function(w,x,S){var O=e(m,function(P){return P(w)});return{criteria:O,index:++j,value:w}});return s(v,function(w,x){return l(w,x,g)})}return z0=h,z0}var B0,v4;function eB(){if(v4)return B0;v4=1;function e(t,n,a){switch(a.length){case 0:return t.call(n);case 1:return t.call(n,a[0]);case 2:return t.call(n,a[0],a[1]);case 3:return t.call(n,a[0],a[1],a[2])}return t.apply(n,a)}return B0=e,B0}var q0,b4;function tB(){if(b4)return q0;b4=1;var e=eB(),t=Math.max;function n(a,s,i){return s=t(s===void 0?a.length-1:s,0),function(){for(var l=arguments,u=-1,d=t(l.length-s,0),h=Array(d);++u<d;)h[u]=l[s+u];u=-1;for(var p=Array(s+1);++u<s;)p[u]=l[u];return p[s]=i(h),e(a,this,p)}}return q0=n,q0}var U0,j4;function rB(){if(j4)return U0;j4=1;function e(t){return function(){return t}}return U0=e,U0}var W0,w4;function CE(){if(w4)return W0;w4=1;var e=Zs(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return W0=t,W0}var H0,N4;function nB(){if(N4)return H0;N4=1;var e=rB(),t=CE(),n=Lo(),a=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:n;return H0=a,H0}var K0,S4;function aB(){if(S4)return K0;S4=1;var e=800,t=16,n=Date.now;function a(s){var i=0,l=0;return function(){var u=n(),d=t-(u-l);if(l=u,d>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return K0=a,K0}var G0,k4;function sB(){if(k4)return G0;k4=1;var e=nB(),t=aB(),n=t(e);return G0=n,G0}var V0,C4;function iB(){if(C4)return V0;C4=1;var e=Lo(),t=tB(),n=sB();function a(s,i){return n(t(s,i,e),s+"")}return V0=a,V0}var Q0,A4;function wf(){if(A4)return Q0;A4=1;var e=yj(),t=Zc(),n=Tj(),a=es();function s(i,l,u){if(!a(u))return!1;var d=typeof l;return(d=="number"?t(u)&&n(l,u.length):d=="string"&&l in u)?e(u[l],i):!1}return Q0=s,Q0}var Y0,P4;function oB(){if(P4)return Y0;P4=1;var e=NE(),t=Zz(),n=iB(),a=wf(),s=n(function(i,l){if(i==null)return[];var u=l.length;return u>1&&a(i,l[0],l[1])?l=[]:u>2&&a(l[0],l[1],l[2])&&(l=[l[0]]),t(i,e(l,1),[])});return Y0=s,Y0}var lB=oB();const $j=Ze(lB);function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wv.apply(this,arguments)}function cB(e,t){return fB(e)||hB(e,t)||dB(e,t)||uB()}function uB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dB(e,t){if(e){if(typeof e=="string")return O4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O4(e,t)}}function O4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function hB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,u=[],d=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){h=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function fB(e){if(Array.isArray(e))return e}function E4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function X0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E4(Object(n),!0).forEach(function(a){mB(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function mB(e,t,n){return t=pB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pB(e){var t=xB(e,"string");return ic(t)=="symbol"?t:t+""}function xB(e,t){if(ic(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(ic(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gB(e){return Array.isArray(e)&&Lt(e[0])&&Lt(e[1])?e.join(" ~ "):e}var yB=function(t){var n=t.separator,a=n===void 0?" : ":n,s=t.contentStyle,i=s===void 0?{}:s,l=t.itemStyle,u=l===void 0?{}:l,d=t.labelStyle,h=d===void 0?{}:d,p=t.payload,m=t.formatter,g=t.itemSorter,j=t.wrapperClassName,v=t.labelClassName,w=t.label,x=t.labelFormatter,S=t.accessibilityLayer,O=S===void 0?!1:S,P=function(){if(p&&p.length){var $={padding:0,margin:0},W=(g?$j(p,g):p).map(function(X,B){if(X.type==="none")return null;var q=X0({display:"block",paddingTop:4,paddingBottom:4,color:X.color||"#000"},u),U=X.formatter||m||gB,G=X.value,Y=X.name,z=G,F=Y;if(U&&z!=null&&F!=null){var D=U(G,Y,X,B,p);if(Array.isArray(D)){var K=cB(D,2);z=K[0],F=K[1]}else z=D}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:q},Lt(F)?V.createElement("span",{className:"recharts-tooltip-item-name"},F):null,Lt(F)?V.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,V.createElement("span",{className:"recharts-tooltip-item-value"},z),V.createElement("span",{className:"recharts-tooltip-item-unit"},X.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:$},W)}return null},N=X0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),C=X0({margin:0},h),A=!ze(w),E=A?w:"",M=Be("recharts-default-tooltip",j),R=Be("recharts-tooltip-label",v);A&&x&&p!==void 0&&p!==null&&(E=x(w,p));var I=O?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",Wv({className:M,style:N},I),V.createElement("p",{className:R,style:C},V.isValidElement(E)?E:"".concat(E)),P())};function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function Sd(e,t,n){return t=vB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vB(e){var t=bB(e,"string");return oc(t)=="symbol"?t:t+""}function bB(e,t){if(oc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(oc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tl="recharts-tooltip-wrapper",jB={visibility:"hidden"};function wB(e){var t=e.coordinate,n=e.translateX,a=e.translateY;return Be(Tl,Sd(Sd(Sd(Sd({},"".concat(Tl,"-right"),ge(n)&&t&&ge(t.x)&&n>=t.x),"".concat(Tl,"-left"),ge(n)&&t&&ge(t.x)&&n<t.x),"".concat(Tl,"-bottom"),ge(a)&&t&&ge(t.y)&&a>=t.y),"".concat(Tl,"-top"),ge(a)&&t&&ge(t.y)&&a<t.y))}function _4(e){var t=e.allowEscapeViewBox,n=e.coordinate,a=e.key,s=e.offsetTopLeft,i=e.position,l=e.reverseDirection,u=e.tooltipDimension,d=e.viewBox,h=e.viewBoxDimension;if(i&&ge(i[a]))return i[a];var p=n[a]-u-s,m=n[a]+s;if(t[a])return l[a]?p:m;if(l[a]){var g=p,j=d[a];return g<j?Math.max(m,d[a]):Math.max(p,d[a])}var v=m+u,w=d[a]+h;return v>w?Math.max(p,d[a]):Math.max(m,d[a])}function NB(e){var t=e.translateX,n=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function SB(e){var t=e.allowEscapeViewBox,n=e.coordinate,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox,h,p,m;return l.height>0&&l.width>0&&n?(p=_4({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=_4({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=NB({translateX:p,translateY:m,useTranslate3d:u})):h=jB,{cssProperties:h,cssClasses:wB({translateX:p,translateY:m,coordinate:n})}}function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function T4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function R4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T4(Object(n),!0).forEach(function(a){Kv(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function kB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CB(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,PE(a.key),a)}}function AB(e,t,n){return t&&CB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PB(e,t,n){return t=oh(t),OB(e,AE()?Reflect.construct(t,n||[],oh(e).constructor):t.apply(e,n))}function OB(e,t){if(t&&(so(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EB(e)}function EB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AE=function(){return!!e})()}function oh(e){return oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oh(e)}function _B(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hv(e,t)}function Hv(e,t){return Hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Hv(e,t)}function Kv(e,t,n){return t=PE(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PE(e){var t=TB(e,"string");return so(t)=="symbol"?t:t+""}function TB(e,t){if(so(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(so(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var M4=1,RB=(function(e){function t(){var n;kB(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=PB(this,t,[].concat(s)),Kv(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Kv(n,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,h,p;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(h=(p=n.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&h!==void 0?h:0}})}}),n}return _B(t,e),AB(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>M4||Math.abs(a.height-this.state.lastBoundingBox.height)>M4)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,u=s.animationDuration,d=s.animationEasing,h=s.children,p=s.coordinate,m=s.hasPayload,g=s.isAnimationActive,j=s.offset,v=s.position,w=s.reverseDirection,x=s.useTranslate3d,S=s.viewBox,O=s.wrapperStyle,P=SB({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:j,position:v,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:S}),N=P.cssClasses,C=P.cssProperties,A=R4(R4({transition:g&&i?"transform ".concat(u,"ms ").concat(d):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},O);return V.createElement("div",{tabIndex:-1,className:N,style:A,ref:function(M){a.wrapperNode=M}},h)}}])})(b.PureComponent),MB=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ei={isSsr:MB()};function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function I4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function $4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I4(Object(n),!0).forEach(function(a){Lj(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function IB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $B(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,EE(a.key),a)}}function LB(e,t,n){return t&&$B(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DB(e,t,n){return t=lh(t),FB(e,OE()?Reflect.construct(t,n||[],lh(e).constructor):t.apply(e,n))}function FB(e,t){if(t&&(io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zB(e)}function zB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OE=function(){return!!e})()}function lh(e){return lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lh(e)}function BB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gv(e,t)}function Gv(e,t){return Gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Gv(e,t)}function Lj(e,t,n){return t=EE(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EE(e){var t=qB(e,"string");return io(t)=="symbol"?t:t+""}function qB(e,t){if(io(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(io(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function UB(e){return e.dataKey}function WB(e,t){return V.isValidElement(e)?V.cloneElement(e,t):typeof e=="function"?V.createElement(e,t):V.createElement(yB,t)}var Gr=(function(e){function t(){return IB(this,t),DB(this,t,arguments)}return BB(t,e),LB(t,[{key:"render",value:function(){var a=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,u=s.animationDuration,d=s.animationEasing,h=s.content,p=s.coordinate,m=s.filterNull,g=s.isAnimationActive,j=s.offset,v=s.payload,w=s.payloadUniqBy,x=s.position,S=s.reverseDirection,O=s.useTranslate3d,P=s.viewBox,N=s.wrapperStyle,C=v??[];m&&C.length&&(C=bE(v.filter(function(E){return E.value!=null&&(E.hide!==!0||a.props.includeHidden)}),w,UB));var A=C.length>0;return V.createElement(RB,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:g,active:i,coordinate:p,hasPayload:A,offset:j,position:x,reverseDirection:S,useTranslate3d:O,viewBox:P,wrapperStyle:N},WB(h,$4($4({},this.props),{},{payload:C})))}}])})(b.PureComponent);Lj(Gr,"displayName","Tooltip");Lj(Gr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ei.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var J0,L4;function HB(){if(L4)return J0;L4=1;var e=Mn(),t=function(){return e.Date.now()};return J0=t,J0}var Z0,D4;function KB(){if(D4)return Z0;D4=1;var e=/\s/;function t(n){for(var a=n.length;a--&&e.test(n.charAt(a)););return a}return Z0=t,Z0}var ey,F4;function GB(){if(F4)return ey;F4=1;var e=KB(),t=/^\s+/;function n(a){return a&&a.slice(0,e(a)+1).replace(t,"")}return ey=n,ey}var ty,z4;function _E(){if(z4)return ty;z4=1;var e=GB(),t=es(),n=Mo(),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(h){if(typeof h=="number")return h;if(n(h))return a;if(t(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=t(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=e(h);var m=i.test(h);return m||l.test(h)?u(h.slice(2),m?2:8):s.test(h)?a:+h}return ty=d,ty}var ry,B4;function VB(){if(B4)return ry;B4=1;var e=es(),t=HB(),n=_E(),a="Expected a function",s=Math.max,i=Math.min;function l(u,d,h){var p,m,g,j,v,w,x=0,S=!1,O=!1,P=!0;if(typeof u!="function")throw new TypeError(a);d=n(d)||0,e(h)&&(S=!!h.leading,O="maxWait"in h,g=O?s(n(h.maxWait)||0,d):g,P="trailing"in h?!!h.trailing:P);function N(W){var X=p,B=m;return p=m=void 0,x=W,j=u.apply(B,X),j}function C(W){return x=W,v=setTimeout(M,d),S?N(W):j}function A(W){var X=W-w,B=W-x,q=d-X;return O?i(q,g-B):q}function E(W){var X=W-w,B=W-x;return w===void 0||X>=d||X<0||O&&B>=g}function M(){var W=t();if(E(W))return R(W);v=setTimeout(M,A(W))}function R(W){return v=void 0,P&&p?N(W):(p=m=void 0,j)}function I(){v!==void 0&&clearTimeout(v),x=0,p=w=m=v=void 0}function T(){return v===void 0?j:R(t())}function $(){var W=t(),X=E(W);if(p=arguments,m=this,w=W,X){if(v===void 0)return C(w);if(O)return clearTimeout(v),v=setTimeout(M,d),N(w)}return v===void 0&&(v=setTimeout(M,d)),j}return $.cancel=I,$.flush=T,$}return ry=l,ry}var ny,q4;function QB(){if(q4)return ny;q4=1;var e=VB(),t=es(),n="Expected a function";function a(s,i,l){var u=!0,d=!0;if(typeof s!="function")throw new TypeError(n);return t(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),e(s,i,{leading:u,maxWait:i,trailing:d})}return ny=a,ny}var YB=QB();const TE=Ze(YB);function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}function U4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function kd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U4(Object(n),!0).forEach(function(a){XB(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function XB(e,t,n){return t=JB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JB(e){var t=ZB(e,"string");return lc(t)=="symbol"?t:t+""}function ZB(e,t){if(lc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(lc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eq(e,t){return aq(e)||nq(e,t)||rq(e,t)||tq()}function tq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rq(e,t){if(e){if(typeof e=="string")return W4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W4(e,t)}}function W4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function nq(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,u=[],d=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){h=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function aq(e){if(Array.isArray(e))return e}var Dj=b.forwardRef(function(e,t){var n=e.aspect,a=e.initialDimension,s=a===void 0?{width:-1,height:-1}:a,i=e.width,l=i===void 0?"100%":i,u=e.height,d=u===void 0?"100%":u,h=e.minWidth,p=h===void 0?0:h,m=e.minHeight,g=e.maxHeight,j=e.children,v=e.debounce,w=v===void 0?0:v,x=e.id,S=e.className,O=e.onResize,P=e.style,N=P===void 0?{}:P,C=b.useRef(null),A=b.useRef();A.current=O,b.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var E=b.useState({containerWidth:s.width,containerHeight:s.height}),M=eq(E,2),R=M[0],I=M[1],T=b.useCallback(function(W,X){I(function(B){var q=Math.round(W),U=Math.round(X);return B.containerWidth===q&&B.containerHeight===U?B:{containerWidth:q,containerHeight:U}})},[]);b.useEffect(function(){var W=function(Y){var z,F=Y[0].contentRect,D=F.width,K=F.height;T(D,K),(z=A.current)===null||z===void 0||z.call(A,D,K)};w>0&&(W=TE(W,w,{trailing:!0,leading:!1}));var X=new ResizeObserver(W),B=C.current.getBoundingClientRect(),q=B.width,U=B.height;return T(q,U),X.observe(C.current),function(){X.disconnect()}},[T,w]);var $=b.useMemo(function(){var W=R.containerWidth,X=R.containerHeight;if(W<0||X<0)return null;pn(ks(l)||ks(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),pn(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=ks(l)?W:l,q=ks(d)?X:d;n&&n>0&&(B?q=B/n:q&&(B=q*n),g&&q>g&&(q=g)),pn(B>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,q,l,d,p,m,n);var U=!Array.isArray(j)&&ta(j.type).endsWith("Chart");return V.Children.map(j,function(G){return V.isValidElement(G)?b.cloneElement(G,kd({width:B,height:q},U?{style:kd({height:"100%",width:"100%",maxHeight:q,maxWidth:B},G.props.style)}:{})):G})},[n,j,d,g,m,p,R,l]);return V.createElement("div",{id:x?"".concat(x):void 0,className:Be("recharts-responsive-container",S),style:kd(kd({},N),{},{width:l,height:d,minWidth:p,minHeight:m,maxHeight:g}),ref:C},$)}),Nf=function(t){return null};Nf.displayName="Cell";function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function H4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Vv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H4(Object(n),!0).forEach(function(a){sq(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function sq(e,t,n){return t=iq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iq(e){var t=oq(e,"string");return cc(t)=="symbol"?t:t+""}function oq(e,t){if(cc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(cc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oi={widthCache:{},cacheCount:0},lq=2e3,cq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},K4="recharts_measurement_span";function uq(e){var t=Vv({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Gl=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ei.isSsr)return{width:0,height:0};var a=uq(n),s=JSON.stringify({text:t,copyStyle:a});if(Oi.widthCache[s])return Oi.widthCache[s];try{var i=document.getElementById(K4);i||(i=document.createElement("span"),i.setAttribute("id",K4),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=Vv(Vv({},cq),a);Object.assign(i.style,l),i.textContent="".concat(t);var u=i.getBoundingClientRect(),d={width:u.width,height:u.height};return Oi.widthCache[s]=d,++Oi.cacheCount>lq&&(Oi.cacheCount=0,Oi.widthCache={}),d}catch{return{width:0,height:0}}},dq=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function ch(e,t){return pq(e)||mq(e,t)||fq(e,t)||hq()}function hq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fq(e,t){if(e){if(typeof e=="string")return G4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G4(e,t)}}function G4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function mq(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,u=[],d=!0,h=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(a=i.call(n)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){h=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function pq(e){if(Array.isArray(e))return e}function xq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V4(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,yq(a.key),a)}}function gq(e,t,n){return t&&V4(e.prototype,t),n&&V4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yq(e){var t=vq(e,"string");return uc(t)=="symbol"?t:t+""}function vq(e,t){if(uc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(uc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Q4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Y4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,jq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,RE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wq=Object.keys(RE),Ii="NaN";function Nq(e,t){return e*RE[t]}var Cd=(function(){function e(t,n){xq(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!bq.test(n)&&(this.num=NaN,this.unit=""),wq.includes(n)&&(this.num=Nq(t,n),this.unit="px")}return gq(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var a,s=(a=jq.exec(n))!==null&&a!==void 0?a:[],i=ch(s,3),l=i[1],u=i[2];return new e(parseFloat(l),u??"")}}])})();function ME(e){if(e.includes(Ii))return Ii;for(var t=e;t.includes("*")||t.includes("/");){var n,a=(n=Q4.exec(t))!==null&&n!==void 0?n:[],s=ch(a,4),i=s[1],l=s[2],u=s[3],d=Cd.parse(i??""),h=Cd.parse(u??""),p=l==="*"?d.multiply(h):d.divide(h);if(p.isNaN())return Ii;t=t.replace(Q4,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,g=(m=Y4.exec(t))!==null&&m!==void 0?m:[],j=ch(g,4),v=j[1],w=j[2],x=j[3],S=Cd.parse(v??""),O=Cd.parse(x??""),P=w==="+"?S.add(O):S.subtract(O);if(P.isNaN())return Ii;t=t.replace(Y4,P.toString())}return t}var X4=/\(([^()]*)\)/;function Sq(e){for(var t=e;t.includes("(");){var n=X4.exec(t),a=ch(n,2),s=a[1];t=t.replace(X4,ME(s))}return t}function kq(e){var t=e.replace(/\s+/g,"");return t=Sq(t),t=ME(t),t}function Cq(e){try{return kq(e)}catch{return Ii}}function ay(e){var t=Cq(e.slice(5,-1));return t===Ii?"":t}var Aq=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Pq=["dx","dy","angle","className","breakAll"];function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Qv.apply(this,arguments)}function J4(e,t){if(e==null)return{};var n=Oq(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Oq(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Z4(e,t){return Rq(e)||Tq(e,t)||_q(e,t)||Eq()}function Eq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _q(e,t){if(e){if(typeof e=="string")return eC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eC(e,t)}}function eC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Tq(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,u=[],d=!0,h=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(a=i.call(n)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){h=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function Rq(e){if(Array.isArray(e))return e}var IE=/[ \f\n\r\t\v\u2028\u2029]+/,$E=function(t){var n=t.children,a=t.breakAll,s=t.style;try{var i=[];ze(n)||(a?i=n.toString().split(""):i=n.toString().split(IE));var l=i.map(function(d){return{word:d,width:Gl(d,s).width}}),u=a?0:Gl("",s).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},Mq=function(t,n,a,s,i){var l=t.maxLines,u=t.children,d=t.style,h=t.breakAll,p=ge(l),m=u,g=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(q,U){var G=U.word,Y=U.width,z=q[q.length-1];if(z&&(s==null||i||z.width+Y+a<Number(s)))z.words.push(G),z.width+=Y+a;else{var F={words:[G],width:Y};q.push(F)}return q},[])},j=g(n),v=function(B){return B.reduce(function(q,U){return q.width>U.width?q:U})};if(!p)return j;for(var w="",x=function(B){var q=m.slice(0,B),U=$E({breakAll:h,style:d,children:q+w}).wordsWithComputedWidth,G=g(U),Y=G.length>l||v(G).width>Number(s);return[Y,G]},S=0,O=m.length-1,P=0,N;S<=O&&P<=m.length-1;){var C=Math.floor((S+O)/2),A=C-1,E=x(A),M=Z4(E,2),R=M[0],I=M[1],T=x(C),$=Z4(T,1),W=$[0];if(!R&&!W&&(S=C+1),R&&W&&(O=C-1),!R&&W){N=I;break}P++}return N||j},tC=function(t){var n=ze(t)?[]:t.toString().split(IE);return[{words:n}]},Iq=function(t){var n=t.width,a=t.scaleToFit,s=t.children,i=t.style,l=t.breakAll,u=t.maxLines;if((n||a)&&!ei.isSsr){var d,h,p=$E({breakAll:l,children:s,style:i});if(p){var m=p.wordsWithComputedWidth,g=p.spaceWidth;d=m,h=g}else return tC(s);return Mq({breakAll:l,children:s,maxLines:u,style:i},d,h,n,a)}return tC(s)},rC="#808080",Gs=function(t){var n=t.x,a=n===void 0?0:n,s=t.y,i=s===void 0?0:s,l=t.lineHeight,u=l===void 0?"1em":l,d=t.capHeight,h=d===void 0?"0.71em":d,p=t.scaleToFit,m=p===void 0?!1:p,g=t.textAnchor,j=g===void 0?"start":g,v=t.verticalAnchor,w=v===void 0?"end":v,x=t.fill,S=x===void 0?rC:x,O=J4(t,Aq),P=b.useMemo(function(){return Iq({breakAll:O.breakAll,children:O.children,maxLines:O.maxLines,scaleToFit:m,style:O.style,width:O.width})},[O.breakAll,O.children,O.maxLines,m,O.style,O.width]),N=O.dx,C=O.dy,A=O.angle,E=O.className,M=O.breakAll,R=J4(O,Pq);if(!Lt(a)||!Lt(i))return null;var I=a+(ge(N)?N:0),T=i+(ge(C)?C:0),$;switch(w){case"start":$=ay("calc(".concat(h,")"));break;case"middle":$=ay("calc(".concat((P.length-1)/2," * -").concat(u," + (").concat(h," / 2))"));break;default:$=ay("calc(".concat(P.length-1," * -").concat(u,")"));break}var W=[];if(m){var X=P[0].width,B=O.width;W.push("scale(".concat((ge(B)?B/X:1)/X,")"))}return A&&W.push("rotate(".concat(A,", ").concat(I,", ").concat(T,")")),W.length&&(R.transform=W.join(" ")),V.createElement("text",Qv({},Te(R,!0),{x:I,y:T,className:Be("recharts-text",E),textAnchor:j,fill:S.includes("url")?rC:S}),P.map(function(q,U){var G=q.words.join(M?"":" ");return V.createElement("tspan",{x:I,dy:U===0?$:u,key:"".concat(G,"-").concat(U)},G)}))};function Ya(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $q(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fj(e){let t,n,a;e.length!==2?(t=Ya,n=(u,d)=>Ya(e(u),d),a=(u,d)=>e(u)-d):(t=e===Ya||e===$q?e:Lq,n=e,a=e);function s(u,d,h=0,p=u.length){if(h<p){if(t(d,d)!==0)return p;do{const m=h+p>>>1;n(u[m],d)<0?h=m+1:p=m}while(h<p)}return h}function i(u,d,h=0,p=u.length){if(h<p){if(t(d,d)!==0)return p;do{const m=h+p>>>1;n(u[m],d)<=0?h=m+1:p=m}while(h<p)}return h}function l(u,d,h=0,p=u.length){const m=s(u,d,h,p-1);return m>h&&a(u[m-1],d)>-a(u[m],d)?m-1:m}return{left:s,center:l,right:i}}function Lq(){return 0}function LE(e){return e===null?NaN:+e}function*Dq(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Fq=Fj(Ya),eu=Fq.right;Fj(LE).center;class nC extends Map{constructor(t,n=qq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(aC(this,t))}has(t){return super.has(aC(this,t))}set(t,n){return super.set(zq(this,t),n)}delete(t){return super.delete(Bq(this,t))}}function aC({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):n}function zq({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):(e.set(a,n),n)}function Bq({_intern:e,_key:t},n){const a=t(n);return e.has(a)&&(n=e.get(a),e.delete(a)),n}function qq(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Uq(e=Ya){if(e===Ya)return DE;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const a=e(t,n);return a||a===0?a:(e(n,n)===0)-(e(t,t)===0)}}function DE(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Wq=Math.sqrt(50),Hq=Math.sqrt(10),Kq=Math.sqrt(2);function uh(e,t,n){const a=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),l=i>=Wq?10:i>=Hq?5:i>=Kq?2:1;let u,d,h;return s<0?(h=Math.pow(10,-s)/l,u=Math.round(e*h),d=Math.round(t*h),u/h<e&&++u,d/h>t&&--d,h=-h):(h=Math.pow(10,s)*l,u=Math.round(e/h),d=Math.round(t/h),u*h<e&&++u,d*h>t&&--d),d<u&&.5<=n&&n<2?uh(e,t,n*2):[u,d,h]}function Yv(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const a=t<e,[s,i,l]=a?uh(t,e,n):uh(e,t,n);if(!(i>=s))return[];const u=i-s+1,d=new Array(u);if(a)if(l<0)for(let h=0;h<u;++h)d[h]=(i-h)/-l;else for(let h=0;h<u;++h)d[h]=(i-h)*l;else if(l<0)for(let h=0;h<u;++h)d[h]=(s+h)/-l;else for(let h=0;h<u;++h)d[h]=(s+h)*l;return d}function Xv(e,t,n){return t=+t,e=+e,n=+n,uh(e,t,n)[2]}function Jv(e,t,n){t=+t,e=+e,n=+n;const a=t<e,s=a?Xv(t,e,n):Xv(e,t,n);return(a?-1:1)*(s<0?1/-s:s)}function sC(e,t){let n;for(const a of e)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function iC(e,t){let n;for(const a of e)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function FE(e,t,n=0,a=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(e.length-1,a)),!(n<=t&&t<=a))return e;for(s=s===void 0?DE:Uq(s);a>n;){if(a-n>600){const d=a-n+1,h=t-n+1,p=Math.log(d),m=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*m*(d-m)/d)*(h-d/2<0?-1:1),j=Math.max(n,Math.floor(t-h*m/d+g)),v=Math.min(a,Math.floor(t+(d-h)*m/d+g));FE(e,t,j,v,s)}const i=e[t];let l=n,u=a;for(Rl(e,n,t),s(e[a],i)>0&&Rl(e,n,a);l<u;){for(Rl(e,l,u),++l,--u;s(e[l],i)<0;)++l;for(;s(e[u],i)>0;)--u}s(e[n],i)===0?Rl(e,n,u):(++u,Rl(e,u,a)),u<=t&&(n=u+1),t<=u&&(a=u-1)}return e}function Rl(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function Gq(e,t,n){if(e=Float64Array.from(Dq(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return iC(e);if(t>=1)return sC(e);var a,s=(a-1)*t,i=Math.floor(s),l=sC(FE(e,i).subarray(0,i+1)),u=iC(e.subarray(i+1));return l+(u-l)*(s-i)}}function Vq(e,t,n=LE){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+n(e[0],0,e);if(t>=1)return+n(e[a-1],a-1,e);var a,s=(a-1)*t,i=Math.floor(s),l=+n(e[i],i,e),u=+n(e[i+1],i+1,e);return l+(u-l)*(s-i)}}function Qq(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(s);++a<s;)i[a]=e+a*n;return i}function Jr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function da(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Zv=Symbol("implicit");function zj(){var e=new nC,t=[],n=[],a=Zv;function s(i){let l=e.get(i);if(l===void 0){if(a!==Zv)return a;e.set(i,l=t.push(i)-1)}return n[l%n.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new nC;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return zj(t,n).unknown(a)},Jr.apply(s,arguments),s}function dc(){var e=zj().unknown(void 0),t=e.domain,n=e.range,a=0,s=1,i,l,u=!1,d=0,h=0,p=.5;delete e.unknown;function m(){var g=t().length,j=s<a,v=j?s:a,w=j?a:s;i=(w-v)/Math.max(1,g-d+h*2),u&&(i=Math.floor(i)),v+=(w-v-i*(g-d))*p,l=i*(1-d),u&&(v=Math.round(v),l=Math.round(l));var x=Qq(g).map(function(S){return v+i*S});return n(j?x.reverse():x)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([a,s]=g,a=+a,s=+s,m()):[a,s]},e.rangeRound=function(g){return[a,s]=g,a=+a,s=+s,u=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(g){return arguments.length?(u=!!g,m()):u},e.padding=function(g){return arguments.length?(d=Math.min(1,h=+g),m()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),m()):d},e.paddingOuter=function(g){return arguments.length?(h=+g,m()):h},e.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),m()):p},e.copy=function(){return dc(t(),[a,s]).round(u).paddingInner(d).paddingOuter(h).align(p)},Jr.apply(m(),arguments)}function zE(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return zE(t())},e}function Vl(){return zE(dc.apply(null,arguments).paddingInner(1))}function Bj(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function BE(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function tu(){}var hc=.7,dh=1/hc,Bi="\\s*([+-]?\\d+)\\s*",fc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",En="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yq=/^#([0-9a-f]{3,8})$/,Xq=new RegExp(`^rgb\\(${Bi},${Bi},${Bi}\\)$`),Jq=new RegExp(`^rgb\\(${En},${En},${En}\\)$`),Zq=new RegExp(`^rgba\\(${Bi},${Bi},${Bi},${fc}\\)$`),eU=new RegExp(`^rgba\\(${En},${En},${En},${fc}\\)$`),tU=new RegExp(`^hsl\\(${fc},${En},${En}\\)$`),rU=new RegExp(`^hsla\\(${fc},${En},${En},${fc}\\)$`),oC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bj(tu,mc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lC,formatHex:lC,formatHex8:nU,formatHsl:aU,formatRgb:cC,toString:cC});function lC(){return this.rgb().formatHex()}function nU(){return this.rgb().formatHex8()}function aU(){return qE(this).formatHsl()}function cC(){return this.rgb().formatRgb()}function mc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Yq.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?uC(t):n===3?new br(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ad(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ad(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Xq.exec(e))?new br(t[1],t[2],t[3],1):(t=Jq.exec(e))?new br(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Zq.exec(e))?Ad(t[1],t[2],t[3],t[4]):(t=eU.exec(e))?Ad(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=tU.exec(e))?fC(t[1],t[2]/100,t[3]/100,1):(t=rU.exec(e))?fC(t[1],t[2]/100,t[3]/100,t[4]):oC.hasOwnProperty(e)?uC(oC[e]):e==="transparent"?new br(NaN,NaN,NaN,0):null}function uC(e){return new br(e>>16&255,e>>8&255,e&255,1)}function Ad(e,t,n,a){return a<=0&&(e=t=n=NaN),new br(e,t,n,a)}function sU(e){return e instanceof tu||(e=mc(e)),e?(e=e.rgb(),new br(e.r,e.g,e.b,e.opacity)):new br}function eb(e,t,n,a){return arguments.length===1?sU(e):new br(e,t,n,a??1)}function br(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}Bj(br,eb,BE(tu,{brighter(e){return e=e==null?dh:Math.pow(dh,e),new br(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?hc:Math.pow(hc,e),new br(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new br(zs(this.r),zs(this.g),zs(this.b),hh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dC,formatHex:dC,formatHex8:iU,formatRgb:hC,toString:hC}));function dC(){return`#${Cs(this.r)}${Cs(this.g)}${Cs(this.b)}`}function iU(){return`#${Cs(this.r)}${Cs(this.g)}${Cs(this.b)}${Cs((isNaN(this.opacity)?1:this.opacity)*255)}`}function hC(){const e=hh(this.opacity);return`${e===1?"rgb(":"rgba("}${zs(this.r)}, ${zs(this.g)}, ${zs(this.b)}${e===1?")":`, ${e})`}`}function hh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Cs(e){return e=zs(e),(e<16?"0":"")+e.toString(16)}function fC(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new mn(e,t,n,a)}function qE(e){if(e instanceof mn)return new mn(e.h,e.s,e.l,e.opacity);if(e instanceof tu||(e=mc(e)),!e)return new mn;if(e instanceof mn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,a=e.b/255,s=Math.min(t,n,a),i=Math.max(t,n,a),l=NaN,u=i-s,d=(i+s)/2;return u?(t===i?l=(n-a)/u+(n<a)*6:n===i?l=(a-t)/u+2:l=(t-n)/u+4,u/=d<.5?i+s:2-i-s,l*=60):u=d>0&&d<1?0:l,new mn(l,u,d,e.opacity)}function oU(e,t,n,a){return arguments.length===1?qE(e):new mn(e,t,n,a??1)}function mn(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}Bj(mn,oU,BE(tu,{brighter(e){return e=e==null?dh:Math.pow(dh,e),new mn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?hc:Math.pow(hc,e),new mn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,s=2*n-a;return new br(sy(e>=240?e-240:e+120,s,a),sy(e,s,a),sy(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new mn(mC(this.h),Pd(this.s),Pd(this.l),hh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hh(this.opacity);return`${e===1?"hsl(":"hsla("}${mC(this.h)}, ${Pd(this.s)*100}%, ${Pd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function mC(e){return e=(e||0)%360,e<0?e+360:e}function Pd(e){return Math.max(0,Math.min(1,e||0))}function sy(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const qj=e=>()=>e;function lU(e,t){return function(n){return e+n*t}}function cU(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}function uU(e){return(e=+e)==1?UE:function(t,n){return n-t?cU(t,n,e):qj(isNaN(t)?n:t)}}function UE(e,t){var n=t-e;return n?lU(e,n):qj(isNaN(e)?t:e)}const pC=(function e(t){var n=uU(t);function a(s,i){var l=n((s=eb(s)).r,(i=eb(i)).r),u=n(s.g,i.g),d=n(s.b,i.b),h=UE(s.opacity,i.opacity);return function(p){return s.r=l(p),s.g=u(p),s.b=d(p),s.opacity=h(p),s+""}}return a.gamma=e,a})(1);function dU(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(i){for(s=0;s<n;++s)a[s]=e[s]*(1-i)+t[s]*i;return a}}function hU(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function fU(e,t){var n=t?t.length:0,a=e?Math.min(n,e.length):0,s=new Array(a),i=new Array(n),l;for(l=0;l<a;++l)s[l]=Do(e[l],t[l]);for(;l<n;++l)i[l]=t[l];return function(u){for(l=0;l<a;++l)i[l]=s[l](u);return i}}function mU(e,t){var n=new Date;return e=+e,t=+t,function(a){return n.setTime(e*(1-a)+t*a),n}}function fh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function pU(e,t){var n={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Do(e[s],t[s]):a[s]=t[s];return function(i){for(s in n)a[s]=n[s](i);return a}}var tb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iy=new RegExp(tb.source,"g");function xU(e){return function(){return e}}function gU(e){return function(t){return e(t)+""}}function yU(e,t){var n=tb.lastIndex=iy.lastIndex=0,a,s,i,l=-1,u=[],d=[];for(e=e+"",t=t+"";(a=tb.exec(e))&&(s=iy.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),u[l]?u[l]+=i:u[++l]=i),(a=a[0])===(s=s[0])?u[l]?u[l]+=s:u[++l]=s:(u[++l]=null,d.push({i:l,x:fh(a,s)})),n=iy.lastIndex;return n<t.length&&(i=t.slice(n),u[l]?u[l]+=i:u[++l]=i),u.length<2?d[0]?gU(d[0].x):xU(t):(t=d.length,function(h){for(var p=0,m;p<t;++p)u[(m=d[p]).i]=m.x(h);return u.join("")})}function Do(e,t){var n=typeof t,a;return t==null||n==="boolean"?qj(t):(n==="number"?fh:n==="string"?(a=mc(t))?(t=a,pC):yU:t instanceof mc?pC:t instanceof Date?mU:hU(t)?dU:Array.isArray(t)?fU:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?pU:fh)(e,t)}function Uj(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function vU(e,t){t===void 0&&(t=e,e=Do);for(var n=0,a=t.length-1,s=t[0],i=new Array(a<0?0:a);n<a;)i[n]=e(s,s=t[++n]);return function(l){var u=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return i[u](l-u)}}function bU(e){return function(){return e}}function mh(e){return+e}var xC=[0,1];function ur(e){return e}function rb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:bU(isNaN(t)?NaN:.5)}function jU(e,t){var n;return e>t&&(n=e,e=t,t=n),function(a){return Math.max(e,Math.min(t,a))}}function wU(e,t,n){var a=e[0],s=e[1],i=t[0],l=t[1];return s<a?(a=rb(s,a),i=n(l,i)):(a=rb(a,s),i=n(i,l)),function(u){return i(a(u))}}function NU(e,t,n){var a=Math.min(e.length,t.length)-1,s=new Array(a),i=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)s[l]=rb(e[l],e[l+1]),i[l]=n(t[l],t[l+1]);return function(u){var d=eu(e,u,1,a)-1;return i[d](s[d](u))}}function ru(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sf(){var e=xC,t=xC,n=Do,a,s,i,l=ur,u,d,h;function p(){var g=Math.min(e.length,t.length);return l!==ur&&(l=jU(e[0],e[g-1])),u=g>2?NU:wU,d=h=null,m}function m(g){return g==null||isNaN(g=+g)?i:(d||(d=u(e.map(a),t,n)))(a(l(g)))}return m.invert=function(g){return l(s((h||(h=u(t,e.map(a),fh)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,mh),p()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),p()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),n=Uj,p()},m.clamp=function(g){return arguments.length?(l=g?!0:ur,p()):l!==ur},m.interpolate=function(g){return arguments.length?(n=g,p()):n},m.unknown=function(g){return arguments.length?(i=g,m):i},function(g,j){return a=g,s=j,p()}}function Wj(){return Sf()(ur,ur)}function SU(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ph(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function oo(e){return e=ph(Math.abs(e)),e?e[1]:NaN}function kU(e,t){return function(n,a){for(var s=n.length,i=[],l=0,u=e[0],d=0;s>0&&u>0&&(d+u+1>a&&(u=Math.max(1,a-d)),i.push(n.substring(s-=u,s+u)),!((d+=u+1)>a));)u=e[l=(l+1)%e.length];return i.reverse().join(t)}}function CU(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var AU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pc(e){if(!(t=AU.exec(e)))throw new Error("invalid format: "+e);var t;return new Hj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pc.prototype=Hj.prototype;function Hj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Hj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function PU(e){e:for(var t=e.length,n=1,a=-1,s;n<t;++n)switch(e[n]){case".":a=s=n;break;case"0":a===0&&(a=n),s=n;break;default:if(!+e[n])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var xh;function OU(e,t){var n=ph(e,t);if(!n)return xh=void 0,e.toPrecision(t);var a=n[0],s=n[1],i=s-(xh=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=a.length;return i===l?a:i>l?a+new Array(i-l+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+ph(e,Math.max(0,t+i-1))[0]}function gC(e,t){var n=ph(e,t);if(!n)return e+"";var a=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const yC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:SU,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>gC(e*100,t),r:gC,s:OU,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function vC(e){return e}var bC=Array.prototype.map,jC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function EU(e){var t=e.grouping===void 0||e.thousands===void 0?vC:kU(bC.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?vC:CU(bC.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function h(m,g){m=pc(m);var j=m.fill,v=m.align,w=m.sign,x=m.symbol,S=m.zero,O=m.width,P=m.comma,N=m.precision,C=m.trim,A=m.type;A==="n"?(P=!0,A="g"):yC[A]||(N===void 0&&(N=12),C=!0,A="g"),(S||j==="0"&&v==="=")&&(S=!0,j="0",v="=");var E=(g&&g.prefix!==void 0?g.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():""),M=(x==="$"?a:/[%p]/.test(A)?l:"")+(g&&g.suffix!==void 0?g.suffix:""),R=yC[A],I=/[defgprs%]/.test(A);N=N===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function T($){var W=E,X=M,B,q,U;if(A==="c")X=R($)+X,$="";else{$=+$;var G=$<0||1/$<0;if($=isNaN($)?d:R(Math.abs($),N),C&&($=PU($)),G&&+$==0&&w!=="+"&&(G=!1),W=(G?w==="("?w:u:w==="-"||w==="("?"":w)+W,X=(A==="s"&&!isNaN($)&&xh!==void 0?jC[8+xh/3]:"")+X+(G&&w==="("?")":""),I){for(B=-1,q=$.length;++B<q;)if(U=$.charCodeAt(B),48>U||U>57){X=(U===46?s+$.slice(B+1):$.slice(B))+X,$=$.slice(0,B);break}}}P&&!S&&($=t($,1/0));var Y=W.length+$.length+X.length,z=Y<O?new Array(O-Y+1).join(j):"";switch(P&&S&&($=t(z+$,z.length?O-X.length:1/0),z=""),v){case"<":$=W+$+X+z;break;case"=":$=W+z+$+X;break;case"^":$=z.slice(0,Y=z.length>>1)+W+$+X+z.slice(Y);break;default:$=z+W+$+X;break}return i($)}return T.toString=function(){return m+""},T}function p(m,g){var j=Math.max(-8,Math.min(8,Math.floor(oo(g)/3)))*3,v=Math.pow(10,-j),w=h((m=pc(m),m.type="f",m),{suffix:jC[8+j/3]});return function(x){return w(v*x)}}return{format:h,formatPrefix:p}}var Od,Kj,WE;_U({thousands:",",grouping:[3],currency:["$",""]});function _U(e){return Od=EU(e),Kj=Od.format,WE=Od.formatPrefix,Od}function TU(e){return Math.max(0,-oo(Math.abs(e)))}function RU(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(oo(t)/3)))*3-oo(Math.abs(e)))}function MU(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,oo(t)-oo(e))+1}function HE(e,t,n,a){var s=Jv(e,t,n),i;switch(a=pc(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=RU(s,l))&&(a.precision=i),WE(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=MU(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=TU(s))&&(a.precision=i-(a.type==="%")*2);break}}return Kj(a)}function ts(e){var t=e.domain;return e.ticks=function(n){var a=t();return Yv(a[0],a[a.length-1],n??10)},e.tickFormat=function(n,a){var s=t();return HE(s[0],s[s.length-1],n??10,a)},e.nice=function(n){n==null&&(n=10);var a=t(),s=0,i=a.length-1,l=a[s],u=a[i],d,h,p=10;for(u<l&&(h=l,l=u,u=h,h=s,s=i,i=h);p-- >0;){if(h=Xv(l,u,n),h===d)return a[s]=l,a[i]=u,t(a);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;d=h}return e},e}function gh(){var e=Wj();return e.copy=function(){return ru(e,gh())},Jr.apply(e,arguments),ts(e)}function KE(e){var t;function n(a){return a==null||isNaN(a=+a)?t:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(e=Array.from(a,mh),n):e.slice()},n.unknown=function(a){return arguments.length?(t=a,n):t},n.copy=function(){return KE(e).unknown(t)},e=arguments.length?Array.from(e,mh):[0,1],ts(n)}function GE(e,t){e=e.slice();var n=0,a=e.length-1,s=e[n],i=e[a],l;return i<s&&(l=n,n=a,a=l,l=s,s=i,i=l),e[n]=t.floor(s),e[a]=t.ceil(i),e}function wC(e){return Math.log(e)}function NC(e){return Math.exp(e)}function IU(e){return-Math.log(-e)}function $U(e){return-Math.exp(-e)}function LU(e){return isFinite(e)?+("1e"+e):e<0?0:e}function DU(e){return e===10?LU:e===Math.E?Math.exp:t=>Math.pow(e,t)}function FU(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function SC(e){return(t,n)=>-e(-t,n)}function Gj(e){const t=e(wC,NC),n=t.domain;let a=10,s,i;function l(){return s=FU(a),i=DU(a),n()[0]<0?(s=SC(s),i=SC(i),e(IU,$U)):e(wC,NC),t}return t.base=function(u){return arguments.length?(a=+u,l()):a},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const d=n();let h=d[0],p=d[d.length-1];const m=p<h;m&&([h,p]=[p,h]);let g=s(h),j=s(p),v,w;const x=u==null?10:+u;let S=[];if(!(a%1)&&j-g<x){if(g=Math.floor(g),j=Math.ceil(j),h>0){for(;g<=j;++g)for(v=1;v<a;++v)if(w=g<0?v/i(-g):v*i(g),!(w<h)){if(w>p)break;S.push(w)}}else for(;g<=j;++g)for(v=a-1;v>=1;--v)if(w=g>0?v/i(-g):v*i(g),!(w<h)){if(w>p)break;S.push(w)}S.length*2<x&&(S=Yv(h,p,x))}else S=Yv(g,j,Math.min(j-g,x)).map(i);return m?S.reverse():S},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=a===10?"s":","),typeof d!="function"&&(!(a%1)&&(d=pc(d)).precision==null&&(d.trim=!0),d=Kj(d)),u===1/0)return d;const h=Math.max(1,a*u/t.ticks().length);return p=>{let m=p/i(Math.round(s(p)));return m*a<a-.5&&(m*=a),m<=h?d(p):""}},t.nice=()=>n(GE(n(),{floor:u=>i(Math.floor(s(u))),ceil:u=>i(Math.ceil(s(u)))})),t}function VE(){const e=Gj(Sf()).domain([1,10]);return e.copy=()=>ru(e,VE()).base(e.base()),Jr.apply(e,arguments),e}function kC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function CC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Vj(e){var t=1,n=e(kC(t),CC(t));return n.constant=function(a){return arguments.length?e(kC(t=+a),CC(t)):t},ts(n)}function QE(){var e=Vj(Sf());return e.copy=function(){return ru(e,QE()).constant(e.constant())},Jr.apply(e,arguments)}function AC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function zU(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function BU(e){return e<0?-e*e:e*e}function Qj(e){var t=e(ur,ur),n=1;function a(){return n===1?e(ur,ur):n===.5?e(zU,BU):e(AC(n),AC(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,a()):n},ts(t)}function Yj(){var e=Qj(Sf());return e.copy=function(){return ru(e,Yj()).exponent(e.exponent())},Jr.apply(e,arguments),e}function qU(){return Yj.apply(null,arguments).exponent(.5)}function PC(e){return Math.sign(e)*e*e}function UU(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function YE(){var e=Wj(),t=[0,1],n=!1,a;function s(i){var l=UU(e(i));return isNaN(l)?a:n?Math.round(l):l}return s.invert=function(i){return e.invert(PC(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,mh)).map(PC)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return YE(e.domain(),t).round(n).clamp(e.clamp()).unknown(a)},Jr.apply(s,arguments),ts(s)}function XE(){var e=[],t=[],n=[],a;function s(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=Vq(e,l/u);return i}function i(l){return l==null||isNaN(l=+l)?a:t[eu(n,l)]}return i.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ya),s()},i.range=function(l){return arguments.length?(t=Array.from(l),s()):t.slice()},i.unknown=function(l){return arguments.length?(a=l,i):a},i.quantiles=function(){return n.slice()},i.copy=function(){return XE().domain(e).range(t).unknown(a)},Jr.apply(i,arguments)}function JE(){var e=0,t=1,n=1,a=[.5],s=[0,1],i;function l(d){return d!=null&&d<=d?s[eu(a,d,0,n)]:i}function u(){var d=-1;for(a=new Array(n);++d<n;)a[d]=((d+1)*t-(d-n)*e)/(n+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(n=(s=Array.from(d)).length-1,u()):s.slice()},l.invertExtent=function(d){var h=s.indexOf(d);return h<0?[NaN,NaN]:h<1?[e,a[0]]:h>=n?[a[n-1],t]:[a[h-1],a[h]]},l.unknown=function(d){return arguments.length&&(i=d),l},l.thresholds=function(){return a.slice()},l.copy=function(){return JE().domain([e,t]).range(s).unknown(i)},Jr.apply(ts(l),arguments)}function ZE(){var e=[.5],t=[0,1],n,a=1;function s(i){return i!=null&&i<=i?t[eu(e,i,0,a)]:n}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return ZE().domain(e).range(t).unknown(n)},Jr.apply(s,arguments)}const oy=new Date,ly=new Date;function Dt(e,t,n,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const l=s(i),u=s.ceil(i);return i-l<u-i?l:u},s.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),s.range=(i,l,u)=>{const d=[];if(i=s.ceil(i),u=u==null?1:Math.floor(u),!(i<l)||!(u>0))return d;let h;do d.push(h=new Date(+i)),t(i,u),e(i);while(h<i&&i<l);return d},s.filter=i=>Dt(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!i(l););else for(;--u>=0;)for(;t(l,1),!i(l););}),n&&(s.count=(i,l)=>(oy.setTime(+i),ly.setTime(+l),e(oy),e(ly),Math.floor(n(oy,ly))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?l=>a(l)%i===0:l=>s.count(0,l)%i===0):s)),s}const yh=Dt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);yh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Dt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):yh);yh.range;const Jn=1e3,Yr=Jn*60,Zn=Yr*60,sa=Zn*24,Xj=sa*7,OC=sa*30,cy=sa*365,As=Dt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Jn)},(e,t)=>(t-e)/Jn,e=>e.getUTCSeconds());As.range;const Jj=Dt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jn)},(e,t)=>{e.setTime(+e+t*Yr)},(e,t)=>(t-e)/Yr,e=>e.getMinutes());Jj.range;const Zj=Dt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Yr)},(e,t)=>(t-e)/Yr,e=>e.getUTCMinutes());Zj.range;const ew=Dt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jn-e.getMinutes()*Yr)},(e,t)=>{e.setTime(+e+t*Zn)},(e,t)=>(t-e)/Zn,e=>e.getHours());ew.range;const tw=Dt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Zn)},(e,t)=>(t-e)/Zn,e=>e.getUTCHours());tw.range;const nu=Dt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Yr)/sa,e=>e.getDate()-1);nu.range;const kf=Dt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/sa,e=>e.getUTCDate()-1);kf.range;const e6=Dt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/sa,e=>Math.floor(e/sa));e6.range;function ti(e){return Dt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Yr)/Xj)}const Cf=ti(0),vh=ti(1),WU=ti(2),HU=ti(3),lo=ti(4),KU=ti(5),GU=ti(6);Cf.range;vh.range;WU.range;HU.range;lo.range;KU.range;GU.range;function ri(e){return Dt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Xj)}const Af=ri(0),bh=ri(1),VU=ri(2),QU=ri(3),co=ri(4),YU=ri(5),XU=ri(6);Af.range;bh.range;VU.range;QU.range;co.range;YU.range;XU.range;const rw=Dt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());rw.range;const nw=Dt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());nw.range;const ia=Dt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ia.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Dt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ia.range;const oa=Dt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());oa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Dt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});oa.range;function t6(e,t,n,a,s,i){const l=[[As,1,Jn],[As,5,5*Jn],[As,15,15*Jn],[As,30,30*Jn],[i,1,Yr],[i,5,5*Yr],[i,15,15*Yr],[i,30,30*Yr],[s,1,Zn],[s,3,3*Zn],[s,6,6*Zn],[s,12,12*Zn],[a,1,sa],[a,2,2*sa],[n,1,Xj],[t,1,OC],[t,3,3*OC],[e,1,cy]];function u(h,p,m){const g=p<h;g&&([h,p]=[p,h]);const j=m&&typeof m.range=="function"?m:d(h,p,m),v=j?j.range(h,+p+1):[];return g?v.reverse():v}function d(h,p,m){const g=Math.abs(p-h)/m,j=Fj(([,,x])=>x).right(l,g);if(j===l.length)return e.every(Jv(h/cy,p/cy,m));if(j===0)return yh.every(Math.max(Jv(h,p,m),1));const[v,w]=l[g/l[j-1][2]<l[j][2]/g?j-1:j];return v.every(w)}return[u,d]}const[JU,ZU]=t6(oa,nw,Af,e6,tw,Zj),[eW,tW]=t6(ia,rw,Cf,nu,ew,Jj);function uy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function dy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ml(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function rW(e){var t=e.dateTime,n=e.date,a=e.time,s=e.periods,i=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,h=Il(s),p=$l(s),m=Il(i),g=$l(i),j=Il(l),v=$l(l),w=Il(u),x=$l(u),S=Il(d),O=$l(d),P={a:U,A:G,b:Y,B:z,c:null,d:IC,e:IC,f:kW,g:IW,G:LW,H:wW,I:NW,j:SW,L:r6,m:CW,M:AW,p:F,q:D,Q:DC,s:FC,S:PW,u:OW,U:EW,V:_W,w:TW,W:RW,x:null,X:null,y:MW,Y:$W,Z:DW,"%":LC},N={a:K,A:te,b:de,B:xe,c:null,d:$C,e:$C,f:qW,g:JW,G:eH,H:FW,I:zW,j:BW,L:a6,m:UW,M:WW,p:ie,q:ee,Q:DC,s:FC,S:HW,u:KW,U:GW,V:VW,w:QW,W:YW,x:null,X:null,y:XW,Y:ZW,Z:tH,"%":LC},C={a:I,A:T,b:$,B:W,c:X,d:RC,e:RC,f:yW,g:TC,G:_C,H:MC,I:MC,j:mW,L:gW,m:fW,M:pW,p:R,q:hW,Q:bW,s:jW,S:xW,u:oW,U:lW,V:cW,w:iW,W:uW,x:B,X:q,y:TC,Y:_C,Z:dW,"%":vW};P.x=A(n,P),P.X=A(a,P),P.c=A(t,P),N.x=A(n,N),N.X=A(a,N),N.c=A(t,N);function A(oe,ke){return function($e){var re=[],be=-1,je=0,tt=oe.length,gt,Ft,Zr;for($e instanceof Date||($e=new Date(+$e));++be<tt;)oe.charCodeAt(be)===37&&(re.push(oe.slice(je,be)),(Ft=EC[gt=oe.charAt(++be)])!=null?gt=oe.charAt(++be):Ft=gt==="e"?" ":"0",(Zr=ke[gt])&&(gt=Zr($e,Ft)),re.push(gt),je=be+1);return re.push(oe.slice(je,be)),re.join("")}}function E(oe,ke){return function($e){var re=Ml(1900,void 0,1),be=M(re,oe,$e+="",0),je,tt;if(be!=$e.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(ke&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(je=dy(Ml(re.y,0,1)),tt=je.getUTCDay(),je=tt>4||tt===0?bh.ceil(je):bh(je),je=kf.offset(je,(re.V-1)*7),re.y=je.getUTCFullYear(),re.m=je.getUTCMonth(),re.d=je.getUTCDate()+(re.w+6)%7):(je=uy(Ml(re.y,0,1)),tt=je.getDay(),je=tt>4||tt===0?vh.ceil(je):vh(je),je=nu.offset(je,(re.V-1)*7),re.y=je.getFullYear(),re.m=je.getMonth(),re.d=je.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),tt="Z"in re?dy(Ml(re.y,0,1)).getUTCDay():uy(Ml(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(tt+5)%7:re.w+re.U*7-(tt+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,dy(re)):uy(re)}}function M(oe,ke,$e,re){for(var be=0,je=ke.length,tt=$e.length,gt,Ft;be<je;){if(re>=tt)return-1;if(gt=ke.charCodeAt(be++),gt===37){if(gt=ke.charAt(be++),Ft=C[gt in EC?ke.charAt(be++):gt],!Ft||(re=Ft(oe,$e,re))<0)return-1}else if(gt!=$e.charCodeAt(re++))return-1}return re}function R(oe,ke,$e){var re=h.exec(ke.slice($e));return re?(oe.p=p.get(re[0].toLowerCase()),$e+re[0].length):-1}function I(oe,ke,$e){var re=j.exec(ke.slice($e));return re?(oe.w=v.get(re[0].toLowerCase()),$e+re[0].length):-1}function T(oe,ke,$e){var re=m.exec(ke.slice($e));return re?(oe.w=g.get(re[0].toLowerCase()),$e+re[0].length):-1}function $(oe,ke,$e){var re=S.exec(ke.slice($e));return re?(oe.m=O.get(re[0].toLowerCase()),$e+re[0].length):-1}function W(oe,ke,$e){var re=w.exec(ke.slice($e));return re?(oe.m=x.get(re[0].toLowerCase()),$e+re[0].length):-1}function X(oe,ke,$e){return M(oe,t,ke,$e)}function B(oe,ke,$e){return M(oe,n,ke,$e)}function q(oe,ke,$e){return M(oe,a,ke,$e)}function U(oe){return l[oe.getDay()]}function G(oe){return i[oe.getDay()]}function Y(oe){return d[oe.getMonth()]}function z(oe){return u[oe.getMonth()]}function F(oe){return s[+(oe.getHours()>=12)]}function D(oe){return 1+~~(oe.getMonth()/3)}function K(oe){return l[oe.getUTCDay()]}function te(oe){return i[oe.getUTCDay()]}function de(oe){return d[oe.getUTCMonth()]}function xe(oe){return u[oe.getUTCMonth()]}function ie(oe){return s[+(oe.getUTCHours()>=12)]}function ee(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var ke=A(oe+="",P);return ke.toString=function(){return oe},ke},parse:function(oe){var ke=E(oe+="",!1);return ke.toString=function(){return oe},ke},utcFormat:function(oe){var ke=A(oe+="",N);return ke.toString=function(){return oe},ke},utcParse:function(oe){var ke=E(oe+="",!0);return ke.toString=function(){return oe},ke}}}var EC={"-":"",_:" ",0:"0"},Kt=/^\s*\d+/,nW=/^%/,aW=/[\\^$*+?|[\]().{}]/g;function Qe(e,t,n){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<n?new Array(n-i+1).join(t)+s:s)}function sW(e){return e.replace(aW,"\\$&")}function Il(e){return new RegExp("^(?:"+e.map(sW).join("|")+")","i")}function $l(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function iW(e,t,n){var a=Kt.exec(t.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function oW(e,t,n){var a=Kt.exec(t.slice(n,n+1));return a?(e.u=+a[0],n+a[0].length):-1}function lW(e,t,n){var a=Kt.exec(t.slice(n,n+2));return a?(e.U=+a[0],n+a[0].length):-1}function cW(e,t,n){var a=Kt.exec(t.slice(n,n+2));return a?(e.V=+a[0],n+a[0].length):-1}function uW(e,t,n){var a=Kt.exec(t.slice(n,n+2));return a?(e.W=+a[0],n+a[0].length):-1}function _C(e,t,n){var a=Kt.exec(t.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function TC(e,t,n){var a=Kt.exec(t.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function dW(e,t,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function hW(e,t,n){var a=Kt.exec(t.slice(n,n+1));return a?(e.q=a[0]*3-3,n+a[0].length):-1}function fW(e,t,n){var a=Kt.exec(t.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function RC(e,t,n){var a=Kt.exec(t.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function mW(e,t,n){var a=Kt.exec(t.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function MC(e,t,n){var a=Kt.exec(t.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function pW(e,t,n){var a=Kt.exec(t.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function xW(e,t,n){var a=Kt.exec(t.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function gW(e,t,n){var a=Kt.exec(t.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function yW(e,t,n){var a=Kt.exec(t.slice(n,n+6));return a?(e.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function vW(e,t,n){var a=nW.exec(t.slice(n,n+1));return a?n+a[0].length:-1}function bW(e,t,n){var a=Kt.exec(t.slice(n));return a?(e.Q=+a[0],n+a[0].length):-1}function jW(e,t,n){var a=Kt.exec(t.slice(n));return a?(e.s=+a[0],n+a[0].length):-1}function IC(e,t){return Qe(e.getDate(),t,2)}function wW(e,t){return Qe(e.getHours(),t,2)}function NW(e,t){return Qe(e.getHours()%12||12,t,2)}function SW(e,t){return Qe(1+nu.count(ia(e),e),t,3)}function r6(e,t){return Qe(e.getMilliseconds(),t,3)}function kW(e,t){return r6(e,t)+"000"}function CW(e,t){return Qe(e.getMonth()+1,t,2)}function AW(e,t){return Qe(e.getMinutes(),t,2)}function PW(e,t){return Qe(e.getSeconds(),t,2)}function OW(e){var t=e.getDay();return t===0?7:t}function EW(e,t){return Qe(Cf.count(ia(e)-1,e),t,2)}function n6(e){var t=e.getDay();return t>=4||t===0?lo(e):lo.ceil(e)}function _W(e,t){return e=n6(e),Qe(lo.count(ia(e),e)+(ia(e).getDay()===4),t,2)}function TW(e){return e.getDay()}function RW(e,t){return Qe(vh.count(ia(e)-1,e),t,2)}function MW(e,t){return Qe(e.getFullYear()%100,t,2)}function IW(e,t){return e=n6(e),Qe(e.getFullYear()%100,t,2)}function $W(e,t){return Qe(e.getFullYear()%1e4,t,4)}function LW(e,t){var n=e.getDay();return e=n>=4||n===0?lo(e):lo.ceil(e),Qe(e.getFullYear()%1e4,t,4)}function DW(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qe(t/60|0,"0",2)+Qe(t%60,"0",2)}function $C(e,t){return Qe(e.getUTCDate(),t,2)}function FW(e,t){return Qe(e.getUTCHours(),t,2)}function zW(e,t){return Qe(e.getUTCHours()%12||12,t,2)}function BW(e,t){return Qe(1+kf.count(oa(e),e),t,3)}function a6(e,t){return Qe(e.getUTCMilliseconds(),t,3)}function qW(e,t){return a6(e,t)+"000"}function UW(e,t){return Qe(e.getUTCMonth()+1,t,2)}function WW(e,t){return Qe(e.getUTCMinutes(),t,2)}function HW(e,t){return Qe(e.getUTCSeconds(),t,2)}function KW(e){var t=e.getUTCDay();return t===0?7:t}function GW(e,t){return Qe(Af.count(oa(e)-1,e),t,2)}function s6(e){var t=e.getUTCDay();return t>=4||t===0?co(e):co.ceil(e)}function VW(e,t){return e=s6(e),Qe(co.count(oa(e),e)+(oa(e).getUTCDay()===4),t,2)}function QW(e){return e.getUTCDay()}function YW(e,t){return Qe(bh.count(oa(e)-1,e),t,2)}function XW(e,t){return Qe(e.getUTCFullYear()%100,t,2)}function JW(e,t){return e=s6(e),Qe(e.getUTCFullYear()%100,t,2)}function ZW(e,t){return Qe(e.getUTCFullYear()%1e4,t,4)}function eH(e,t){var n=e.getUTCDay();return e=n>=4||n===0?co(e):co.ceil(e),Qe(e.getUTCFullYear()%1e4,t,4)}function tH(){return"+0000"}function LC(){return"%"}function DC(e){return+e}function FC(e){return Math.floor(+e/1e3)}var Ei,i6,o6;rH({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rH(e){return Ei=rW(e),i6=Ei.format,Ei.parse,o6=Ei.utcFormat,Ei.utcParse,Ei}function nH(e){return new Date(e)}function aH(e){return e instanceof Date?+e:+new Date(+e)}function aw(e,t,n,a,s,i,l,u,d,h){var p=Wj(),m=p.invert,g=p.domain,j=h(".%L"),v=h(":%S"),w=h("%I:%M"),x=h("%I %p"),S=h("%a %d"),O=h("%b %d"),P=h("%B"),N=h("%Y");function C(A){return(d(A)<A?j:u(A)<A?v:l(A)<A?w:i(A)<A?x:a(A)<A?s(A)<A?S:O:n(A)<A?P:N)(A)}return p.invert=function(A){return new Date(m(A))},p.domain=function(A){return arguments.length?g(Array.from(A,aH)):g().map(nH)},p.ticks=function(A){var E=g();return e(E[0],E[E.length-1],A??10)},p.tickFormat=function(A,E){return E==null?C:h(E)},p.nice=function(A){var E=g();return(!A||typeof A.range!="function")&&(A=t(E[0],E[E.length-1],A??10)),A?g(GE(E,A)):p},p.copy=function(){return ru(p,aw(e,t,n,a,s,i,l,u,d,h))},p}function sH(){return Jr.apply(aw(eW,tW,ia,rw,Cf,nu,ew,Jj,As,i6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function iH(){return Jr.apply(aw(JU,ZU,oa,nw,Af,kf,tw,Zj,As,o6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Pf(){var e=0,t=1,n,a,s,i,l=ur,u=!1,d;function h(m){return m==null||isNaN(m=+m)?d:l(s===0?.5:(m=(i(m)-n)*s,u?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t]=m,n=i(e=+e),a=i(t=+t),s=n===a?0:1/(a-n),h):[e,t]},h.clamp=function(m){return arguments.length?(u=!!m,h):u},h.interpolator=function(m){return arguments.length?(l=m,h):l};function p(m){return function(g){var j,v;return arguments.length?([j,v]=g,l=m(j,v),h):[l(0),l(1)]}}return h.range=p(Do),h.rangeRound=p(Uj),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return i=m,n=m(e),a=m(t),s=n===a?0:1/(a-n),h}}function rs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function l6(){var e=ts(Pf()(ur));return e.copy=function(){return rs(e,l6())},da.apply(e,arguments)}function c6(){var e=Gj(Pf()).domain([1,10]);return e.copy=function(){return rs(e,c6()).base(e.base())},da.apply(e,arguments)}function u6(){var e=Vj(Pf());return e.copy=function(){return rs(e,u6()).constant(e.constant())},da.apply(e,arguments)}function sw(){var e=Qj(Pf());return e.copy=function(){return rs(e,sw()).exponent(e.exponent())},da.apply(e,arguments)}function oH(){return sw.apply(null,arguments).exponent(.5)}function d6(){var e=[],t=ur;function n(a){if(a!=null&&!isNaN(a=+a))return t((eu(e,a,1)-1)/(e.length-1))}return n.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ya),n},n.interpolator=function(a){return arguments.length?(t=a,n):t},n.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(s,i)=>Gq(e,i/a))},n.copy=function(){return d6(t).domain(e)},da.apply(n,arguments)}function Of(){var e=0,t=.5,n=1,a=1,s,i,l,u,d,h=ur,p,m=!1,g;function j(w){return isNaN(w=+w)?g:(w=.5+((w=+p(w))-i)*(a*w<a*i?u:d),h(m?Math.max(0,Math.min(1,w)):w))}j.domain=function(w){return arguments.length?([e,t,n]=w,s=p(e=+e),i=p(t=+t),l=p(n=+n),u=s===i?0:.5/(i-s),d=i===l?0:.5/(l-i),a=i<s?-1:1,j):[e,t,n]},j.clamp=function(w){return arguments.length?(m=!!w,j):m},j.interpolator=function(w){return arguments.length?(h=w,j):h};function v(w){return function(x){var S,O,P;return arguments.length?([S,O,P]=x,h=vU(w,[S,O,P]),j):[h(0),h(.5),h(1)]}}return j.range=v(Do),j.rangeRound=v(Uj),j.unknown=function(w){return arguments.length?(g=w,j):g},function(w){return p=w,s=w(e),i=w(t),l=w(n),u=s===i?0:.5/(i-s),d=i===l?0:.5/(l-i),a=i<s?-1:1,j}}function h6(){var e=ts(Of()(ur));return e.copy=function(){return rs(e,h6())},da.apply(e,arguments)}function f6(){var e=Gj(Of()).domain([.1,1,10]);return e.copy=function(){return rs(e,f6()).base(e.base())},da.apply(e,arguments)}function m6(){var e=Vj(Of());return e.copy=function(){return rs(e,m6()).constant(e.constant())},da.apply(e,arguments)}function iw(){var e=Qj(Of());return e.copy=function(){return rs(e,iw()).exponent(e.exponent())},da.apply(e,arguments)}function lH(){return iw.apply(null,arguments).exponent(.5)}const zC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:dc,scaleDiverging:h6,scaleDivergingLog:f6,scaleDivergingPow:iw,scaleDivergingSqrt:lH,scaleDivergingSymlog:m6,scaleIdentity:KE,scaleImplicit:Zv,scaleLinear:gh,scaleLog:VE,scaleOrdinal:zj,scalePoint:Vl,scalePow:Yj,scaleQuantile:XE,scaleQuantize:JE,scaleRadial:YE,scaleSequential:l6,scaleSequentialLog:c6,scaleSequentialPow:sw,scaleSequentialQuantile:d6,scaleSequentialSqrt:oH,scaleSequentialSymlog:u6,scaleSqrt:qU,scaleSymlog:QE,scaleThreshold:ZE,scaleTime:sH,scaleUtc:iH,tickFormat:HE},Symbol.toStringTag,{value:"Module"}));var hy,BC;function Ef(){if(BC)return hy;BC=1;var e=Mo();function t(n,a,s){for(var i=-1,l=n.length;++i<l;){var u=n[i],d=a(u);if(d!=null&&(h===void 0?d===d&&!e(d):s(d,h)))var h=d,p=u}return p}return hy=t,hy}var fy,qC;function p6(){if(qC)return fy;qC=1;function e(t,n){return t>n}return fy=e,fy}var my,UC;function cH(){if(UC)return my;UC=1;var e=Ef(),t=p6(),n=Lo();function a(s){return s&&s.length?e(s,n,t):void 0}return my=a,my}var uH=cH();const _f=Ze(uH);var py,WC;function x6(){if(WC)return py;WC=1;function e(t,n){return t<n}return py=e,py}var xy,HC;function dH(){if(HC)return xy;HC=1;var e=Ef(),t=x6(),n=Lo();function a(s){return s&&s.length?e(s,n,t):void 0}return xy=a,xy}var hH=dH();const Tf=Ze(hH);var gy,KC;function fH(){if(KC)return gy;KC=1;var e=jj(),t=In(),n=kE(),a=Nr();function s(i,l){var u=a(i)?e:n;return u(i,t(l,3))}return gy=s,gy}var yy,GC;function mH(){if(GC)return yy;GC=1;var e=NE(),t=fH();function n(a,s){return e(t(a,s),1)}return yy=n,yy}var pH=mH();const xH=Ze(pH);var vy,VC;function gH(){if(VC)return vy;VC=1;var e=Mj();function t(n,a){return e(n,a)}return vy=t,vy}var yH=gH();const au=Ze(yH);var Fo=1e9,vH={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lw,ft=!0,Xr="[DecimalError] ",Bs=Xr+"Invalid argument: ",ow=Xr+"Exponent out of range: ",zo=Math.floor,js=Math.pow,bH=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Tr,Wt=1e7,ut=7,g6=9007199254740991,jh=zo(g6/ut),Ne={};Ne.absoluteValue=Ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ne.comparedTo=Ne.cmp=function(e){var t,n,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,t=0,n=a<s?a:s;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ut;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ne.dividedBy=Ne.div=function(e){return ra(this,new this.constructor(e))};Ne.dividedToIntegerBy=Ne.idiv=function(e){var t=this,n=t.constructor;return nt(ra(t,new n(e),0,1),n.precision)};Ne.equals=Ne.eq=function(e){return!this.cmp(e)};Ne.exponent=function(){return Pt(this)};Ne.greaterThan=Ne.gt=function(e){return this.cmp(e)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(e){return this.cmp(e)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(e){return this.cmp(e)<0};Ne.lessThanOrEqualTo=Ne.lte=function(e){return this.cmp(e)<1};Ne.logarithm=Ne.log=function(e){var t,n=this,a=n.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Tr))throw Error(Xr+"NaN");if(n.s<1)throw Error(Xr+(n.s?"NaN":"-Infinity"));return n.eq(Tr)?new a(0):(ft=!1,t=ra(xc(n,i),xc(e,i),i),ft=!0,nt(t,s))};Ne.minus=Ne.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?b6(t,e):y6(t,(e.s=-e.s,e))};Ne.modulo=Ne.mod=function(e){var t,n=this,a=n.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(Xr+"NaN");return n.s?(ft=!1,t=ra(n,e,0,1).times(e),ft=!0,n.minus(t)):nt(new a(n),s)};Ne.naturalExponential=Ne.exp=function(){return v6(this)};Ne.naturalLogarithm=Ne.ln=function(){return xc(this)};Ne.negated=Ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ne.plus=Ne.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y6(t,e):b6(t,(e.s=-e.s,e))};Ne.precision=Ne.sd=function(e){var t,n,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Bs+e);if(t=Pt(s)+1,a=s.d.length-1,n=a*ut+1,a=s.d[a],a){for(;a%10==0;a/=10)n--;for(a=s.d[0];a>=10;a/=10)n++}return e&&t>n?t:n};Ne.squareRoot=Ne.sqrt=function(){var e,t,n,a,s,i,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Xr+"NaN")}for(e=Pt(u),ft=!1,s=Math.sqrt(+u),s==0||s==1/0?(t=On(u.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=zo((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new d(t)):a=new d(s.toString()),n=d.precision,s=l=n+3;;)if(i=a,a=i.plus(ra(u,i,l+2)).times(.5),On(i.d).slice(0,l)===(t=On(a.d)).slice(0,l)){if(t=t.slice(l-3,l+1),s==l&&t=="4999"){if(nt(i,n+1,0),i.times(i).eq(u)){a=i;break}}else if(t!="9999")break;l+=4}return ft=!0,nt(a,n)};Ne.times=Ne.mul=function(e){var t,n,a,s,i,l,u,d,h,p=this,m=p.constructor,g=p.d,j=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,n=p.e+e.e,d=g.length,h=j.length,d<h&&(i=g,g=j,j=i,l=d,d=h,h=l),i=[],l=d+h,a=l;a--;)i.push(0);for(a=h;--a>=0;){for(t=0,s=d+a;s>a;)u=i[s]+j[a]*g[s-a-1]+t,i[s--]=u%Wt|0,t=u/Wt|0;i[s]=(i[s]+t)%Wt|0}for(;!i[--l];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,ft?nt(e,m.precision):e};Ne.toDecimalPlaces=Ne.todp=function(e,t){var n=this,a=n.constructor;return n=new a(n),e===void 0?n:(Tn(e,0,Fo),t===void 0?t=a.rounding:Tn(t,0,8),nt(n,e+Pt(n)+1,t))};Ne.toExponential=function(e,t){var n,a=this,s=a.constructor;return e===void 0?n=Vs(a,!0):(Tn(e,0,Fo),t===void 0?t=s.rounding:Tn(t,0,8),a=nt(new s(a),e+1,t),n=Vs(a,!0,e+1)),n};Ne.toFixed=function(e,t){var n,a,s=this,i=s.constructor;return e===void 0?Vs(s):(Tn(e,0,Fo),t===void 0?t=i.rounding:Tn(t,0,8),a=nt(new i(s),e+Pt(s)+1,t),n=Vs(a.abs(),!1,e+Pt(a)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Ne.toInteger=Ne.toint=function(){var e=this,t=e.constructor;return nt(new t(e),Pt(e)+1,t.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(e){var t,n,a,s,i,l,u=this,d=u.constructor,h=12,p=+(e=new d(e));if(!e.s)return new d(Tr);if(u=new d(u),!u.s){if(e.s<1)throw Error(Xr+"Infinity");return u}if(u.eq(Tr))return u;if(a=d.precision,e.eq(Tr))return nt(u,a);if(t=e.e,n=e.d.length-1,l=t>=n,i=u.s,l){if((n=p<0?-p:p)<=g6){for(s=new d(Tr),t=Math.ceil(a/ut+4),ft=!1;n%2&&(s=s.times(u),YC(s.d,t)),n=zo(n/2),n!==0;)u=u.times(u),YC(u.d,t);return ft=!0,e.s<0?new d(Tr).div(s):nt(s,a)}}else if(i<0)throw Error(Xr+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,ft=!1,s=e.times(xc(u,a+h)),ft=!0,s=v6(s),s.s=i,s};Ne.toPrecision=function(e,t){var n,a,s=this,i=s.constructor;return e===void 0?(n=Pt(s),a=Vs(s,n<=i.toExpNeg||n>=i.toExpPos)):(Tn(e,1,Fo),t===void 0?t=i.rounding:Tn(t,0,8),s=nt(new i(s),e,t),n=Pt(s),a=Vs(s,e<=n||n<=i.toExpNeg,e)),a};Ne.toSignificantDigits=Ne.tosd=function(e,t){var n=this,a=n.constructor;return e===void 0?(e=a.precision,t=a.rounding):(Tn(e,1,Fo),t===void 0?t=a.rounding:Tn(t,0,8)),nt(new a(n),e,t)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Pt(e),n=e.constructor;return Vs(e,t<=n.toExpNeg||t>=n.toExpPos)};function y6(e,t){var n,a,s,i,l,u,d,h,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),ft?nt(t,m):t;if(d=e.d,h=t.d,l=e.e,s=t.e,d=d.slice(),i=l-s,i){for(i<0?(a=d,i=-i,u=h.length):(a=h,s=l,u=d.length),l=Math.ceil(m/ut),u=l>u?l+1:u+1,i>u&&(i=u,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(u=d.length,i=h.length,u-i<0&&(i=u,a=h,h=d,d=a),n=0;i;)n=(d[--i]=d[i]+h[i]+n)/Wt|0,d[i]%=Wt;for(n&&(d.unshift(n),++s),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=s,ft?nt(t,m):t}function Tn(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Bs+e)}function On(e){var t,n,a,s=e.length-1,i="",l=e[0];if(s>0){for(i+=l,t=1;t<s;t++)a=e[t]+"",n=ut-a.length,n&&(i+=Ra(n)),i+=a;l=e[t],a=l+"",n=ut-a.length,n&&(i+=Ra(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var ra=(function(){function e(a,s){var i,l=0,u=a.length;for(a=a.slice();u--;)i=a[u]*s+l,a[u]=i%Wt|0,l=i/Wt|0;return l&&a.unshift(l),a}function t(a,s,i,l){var u,d;if(i!=l)d=i>l?1:-1;else for(u=d=0;u<i;u++)if(a[u]!=s[u]){d=a[u]>s[u]?1:-1;break}return d}function n(a,s,i){for(var l=0;i--;)a[i]-=l,l=a[i]<s[i]?1:0,a[i]=l*Wt+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,l){var u,d,h,p,m,g,j,v,w,x,S,O,P,N,C,A,E,M,R=a.constructor,I=a.s==s.s?1:-1,T=a.d,$=s.d;if(!a.s)return new R(a);if(!s.s)throw Error(Xr+"Division by zero");for(d=a.e-s.e,E=$.length,C=T.length,j=new R(I),v=j.d=[],h=0;$[h]==(T[h]||0);)++h;if($[h]>(T[h]||0)&&--d,i==null?O=i=R.precision:l?O=i+(Pt(a)-Pt(s))+1:O=i,O<0)return new R(0);if(O=O/ut+2|0,h=0,E==1)for(p=0,$=$[0],O++;(h<C||p)&&O--;h++)P=p*Wt+(T[h]||0),v[h]=P/$|0,p=P%$|0;else{for(p=Wt/($[0]+1)|0,p>1&&($=e($,p),T=e(T,p),E=$.length,C=T.length),N=E,w=T.slice(0,E),x=w.length;x<E;)w[x++]=0;M=$.slice(),M.unshift(0),A=$[0],$[1]>=Wt/2&&++A;do p=0,u=t($,w,E,x),u<0?(S=w[0],E!=x&&(S=S*Wt+(w[1]||0)),p=S/A|0,p>1?(p>=Wt&&(p=Wt-1),m=e($,p),g=m.length,x=w.length,u=t(m,w,g,x),u==1&&(p--,n(m,E<g?M:$,g))):(p==0&&(u=p=1),m=$.slice()),g=m.length,g<x&&m.unshift(0),n(w,m,x),u==-1&&(x=w.length,u=t($,w,E,x),u<1&&(p++,n(w,E<x?M:$,x))),x=w.length):u===0&&(p++,w=[0]),v[h++]=p,u&&w[0]?w[x++]=T[N]||0:(w=[T[N]],x=1);while((N++<C||w[0]!==void 0)&&O--)}return v[0]||v.shift(),j.e=d,nt(j,l?i+Pt(j)+1:i)}})();function v6(e,t){var n,a,s,i,l,u,d=0,h=0,p=e.constructor,m=p.precision;if(Pt(e)>16)throw Error(ow+Pt(e));if(!e.s)return new p(Tr);for(ft=!1,u=m,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(a=Math.log(js(2,h))/Math.LN10*2+5|0,u+=a,n=s=i=new p(Tr),p.precision=u;;){if(s=nt(s.times(e),u),n=n.times(++d),l=i.plus(ra(s,n,u)),On(l.d).slice(0,u)===On(i.d).slice(0,u)){for(;h--;)i=nt(i.times(i),u);return p.precision=m,t==null?(ft=!0,nt(i,m)):i}i=l}}function Pt(e){for(var t=e.e*ut,n=e.d[0];n>=10;n/=10)t++;return t}function by(e,t,n){if(t>e.LN10.sd())throw ft=!0,n&&(e.precision=n),Error(Xr+"LN10 precision limit exceeded");return nt(new e(e.LN10),t)}function Ra(e){for(var t="";e--;)t+="0";return t}function xc(e,t){var n,a,s,i,l,u,d,h,p,m=1,g=10,j=e,v=j.d,w=j.constructor,x=w.precision;if(j.s<1)throw Error(Xr+(j.s?"NaN":"-Infinity"));if(j.eq(Tr))return new w(0);if(t==null?(ft=!1,h=x):h=t,j.eq(10))return t==null&&(ft=!0),by(w,h);if(h+=g,w.precision=h,n=On(v),a=n.charAt(0),i=Pt(j),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)j=j.times(e),n=On(j.d),a=n.charAt(0),m++;i=Pt(j),a>1?(j=new w("0."+n),i++):j=new w(a+"."+n.slice(1))}else return d=by(w,h+2,x).times(i+""),j=xc(new w(a+"."+n.slice(1)),h-g).plus(d),w.precision=x,t==null?(ft=!0,nt(j,x)):j;for(u=l=j=ra(j.minus(Tr),j.plus(Tr),h),p=nt(j.times(j),h),s=3;;){if(l=nt(l.times(p),h),d=u.plus(ra(l,new w(s),h)),On(d.d).slice(0,h)===On(u.d).slice(0,h))return u=u.times(2),i!==0&&(u=u.plus(by(w,h+2,x).times(i+""))),u=ra(u,new w(m),h),w.precision=x,t==null?(ft=!0,nt(u,x)):u;u=d,s+=2}}function QC(e,t){var n,a,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,n=n-a-1,e.e=zo(n/ut),e.d=[],a=(n+1)%ut,n<0&&(a+=ut),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=ut;a<s;)e.d.push(+t.slice(a,a+=ut));t=t.slice(a),a=ut-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),ft&&(e.e>jh||e.e<-jh))throw Error(ow+n)}else e.s=0,e.e=0,e.d=[0];return e}function nt(e,t,n){var a,s,i,l,u,d,h,p,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(a=t-l,a<0)a+=ut,s=t,h=m[p=0];else{if(p=Math.ceil((a+1)/ut),i=m.length,p>=i)return e;for(h=i=m[p],l=1;i>=10;i/=10)l++;a%=ut,s=a-ut+l}if(n!==void 0&&(i=js(10,l-s-1),u=h/i%10|0,d=t<0||m[p+1]!==void 0||h%i,d=n<4?(u||d)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(a>0?s>0?h/js(10,l-s):0:m[p-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return d?(i=Pt(e),m.length=1,t=t-i-1,m[0]=js(10,(ut-t%ut)%ut),e.e=zo(-t/ut)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(a==0?(m.length=p,i=1,p--):(m.length=p+1,i=js(10,ut-a),m[p]=s>0?(h/js(10,l-s)%js(10,s)|0)*i:0),d)for(;;)if(p==0){(m[0]+=i)==Wt&&(m[0]=1,++e.e);break}else{if(m[p]+=i,m[p]!=Wt)break;m[p--]=0,i=1}for(a=m.length;m[--a]===0;)m.pop();if(ft&&(e.e>jh||e.e<-jh))throw Error(ow+Pt(e));return e}function b6(e,t){var n,a,s,i,l,u,d,h,p,m,g=e.constructor,j=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),ft?nt(t,j):t;if(d=e.d,m=t.d,a=t.e,h=e.e,d=d.slice(),l=h-a,l){for(p=l<0,p?(n=d,l=-l,u=m.length):(n=m,a=h,u=d.length),s=Math.max(Math.ceil(j/ut),u)+2,l>s&&(l=s,n.length=1),n.reverse(),s=l;s--;)n.push(0);n.reverse()}else{for(s=d.length,u=m.length,p=s<u,p&&(u=s),s=0;s<u;s++)if(d[s]!=m[s]){p=d[s]<m[s];break}l=0}for(p&&(n=d,d=m,m=n,t.s=-t.s),u=d.length,s=m.length-u;s>0;--s)d[u++]=0;for(s=m.length;s>l;){if(d[--s]<m[s]){for(i=s;i&&d[--i]===0;)d[i]=Wt-1;--d[i],d[s]+=Wt}d[s]-=m[s]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--a;return d[0]?(t.d=d,t.e=a,ft?nt(t,j):t):new g(0)}function Vs(e,t,n){var a,s=Pt(e),i=On(e.d),l=i.length;return t?(n&&(a=n-l)>0?i=i.charAt(0)+"."+i.slice(1)+Ra(a):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Ra(-s-1)+i,n&&(a=n-l)>0&&(i+=Ra(a))):s>=l?(i+=Ra(s+1-l),n&&(a=n-s-1)>0&&(i=i+"."+Ra(a))):((a=s+1)<l&&(i=i.slice(0,a)+"."+i.slice(a)),n&&(a=n-l)>0&&(s+1===l&&(i+="."),i+=Ra(a))),e.s<0?"-"+i:i}function YC(e,t){if(e.length>t)return e.length=t,!0}function j6(e){var t,n,a;function s(i){var l=this;if(!(l instanceof s))return new s(i);if(l.constructor=s,i instanceof s){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Bs+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return QC(l,i.toString())}else if(typeof i!="string")throw Error(Bs+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,bH.test(i))QC(l,i);else throw Error(Bs+i)}if(s.prototype=Ne,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=j6,s.config=s.set=jH,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(n=a[t++])||(e[n]=this[n]);return s.config(e),s}function jH(e){if(!e||typeof e!="object")throw Error(Xr+"Object expected");var t,n,a,s=["precision",1,Fo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[n=s[t]])!==void 0)if(zo(a)===a&&a>=s[t+1]&&a<=s[t+2])this[n]=a;else throw Error(Bs+n+": "+a);if((a=e[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(Bs+n+": "+a);return this}var lw=j6(vH);Tr=new lw(1);const rt=lw;function wH(e){return CH(e)||kH(e)||SH(e)||NH()}function NH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SH(e,t){if(e){if(typeof e=="string")return nb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nb(e,t)}}function kH(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function CH(e){if(Array.isArray(e))return nb(e)}function nb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var AH=function(t){return t},w6={},N6=function(t){return t===w6},XC=function(t){return function n(){return arguments.length===0||arguments.length===1&&N6(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},PH=function e(t,n){return t===1?n:XC(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var l=s.filter(function(u){return u!==w6}).length;return l>=t?n.apply(void 0,s):e(t-l,XC(function(){for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];var p=s.map(function(m){return N6(m)?d.shift():m});return n.apply(void 0,wH(p).concat(d))}))})},Rf=function(t){return PH(t.length,t)},ab=function(t,n){for(var a=[],s=t;s<n;++s)a[s-t]=s;return a},OH=Rf(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),EH=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(!n.length)return AH;var s=n.reverse(),i=s[0],l=s.slice(1);return function(){return l.reduce(function(u,d){return d(u)},i.apply(void 0,arguments))}},sb=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},S6=function(t){var n=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return n&&i.every(function(u,d){return u===n[d]})||(n=i,a=t.apply(void 0,i)),a}};function _H(e){var t;return e===0?t=1:t=Math.floor(new rt(e).abs().log(10).toNumber())+1,t}function TH(e,t,n){for(var a=new rt(e),s=0,i=[];a.lt(t)&&s<1e5;)i.push(a.toNumber()),a=a.add(n),s++;return i}var RH=Rf(function(e,t,n){var a=+e,s=+t;return a+n*(s-a)}),MH=Rf(function(e,t,n){var a=t-+e;return a=a||1/0,(n-e)/a}),IH=Rf(function(e,t,n){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(n-e)/a))});const Mf={rangeStep:TH,getDigitCount:_H,interpolateNumber:RH,uninterpolateNumber:MH,uninterpolateTruncation:IH};function ib(e){return DH(e)||LH(e)||k6(e)||$H()}function $H(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LH(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function DH(e){if(Array.isArray(e))return ob(e)}function gc(e,t){return BH(e)||zH(e,t)||k6(e,t)||FH()}function FH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k6(e,t){if(e){if(typeof e=="string")return ob(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ob(e,t)}}function ob(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function zH(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],a=!0,s=!1,i=void 0;try{for(var l=e[Symbol.iterator](),u;!(a=(u=l.next()).done)&&(n.push(u.value),!(t&&n.length===t));a=!0);}catch(d){s=!0,i=d}finally{try{!a&&l.return!=null&&l.return()}finally{if(s)throw i}}return n}}function BH(e){if(Array.isArray(e))return e}function C6(e){var t=gc(e,2),n=t[0],a=t[1],s=n,i=a;return n>a&&(s=a,i=n),[s,i]}function A6(e,t,n){if(e.lte(0))return new rt(0);var a=Mf.getDigitCount(e.toNumber()),s=new rt(10).pow(a),i=e.div(s),l=a!==1?.05:.1,u=new rt(Math.ceil(i.div(l).toNumber())).add(n).mul(l),d=u.mul(s);return t?d:new rt(Math.ceil(d))}function qH(e,t,n){var a=1,s=new rt(e);if(!s.isint()&&n){var i=Math.abs(e);i<1?(a=new rt(10).pow(Mf.getDigitCount(e)-1),s=new rt(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new rt(Math.floor(e)))}else e===0?s=new rt(Math.floor((t-1)/2)):n||(s=new rt(Math.floor(e)));var l=Math.floor((t-1)/2),u=EH(OH(function(d){return s.add(new rt(d-l).mul(a)).toNumber()}),ab);return u(0,t)}function P6(e,t,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new rt(0),tickMin:new rt(0),tickMax:new rt(0)};var i=A6(new rt(t).sub(e).div(n-1),a,s),l;e<=0&&t>=0?l=new rt(0):(l=new rt(e).add(t).div(2),l=l.sub(new rt(l).mod(i)));var u=Math.ceil(l.sub(e).div(i).toNumber()),d=Math.ceil(new rt(t).sub(l).div(i).toNumber()),h=u+d+1;return h>n?P6(e,t,n,a,s+1):(h<n&&(d=t>0?d+(n-h):d,u=t>0?u:u+(n-h)),{step:i,tickMin:l.sub(new rt(u).mul(i)),tickMax:l.add(new rt(d).mul(i))})}function UH(e){var t=gc(e,2),n=t[0],a=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(s,2),u=C6([n,a]),d=gc(u,2),h=d[0],p=d[1];if(h===-1/0||p===1/0){var m=p===1/0?[h].concat(ib(ab(0,s-1).map(function(){return 1/0}))):[].concat(ib(ab(0,s-1).map(function(){return-1/0})),[p]);return n>a?sb(m):m}if(h===p)return qH(h,s,i);var g=P6(h,p,l,i),j=g.step,v=g.tickMin,w=g.tickMax,x=Mf.rangeStep(v,w.add(new rt(.1).mul(j)),j);return n>a?sb(x):x}function WH(e,t){var n=gc(e,2),a=n[0],s=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=C6([a,s]),u=gc(l,2),d=u[0],h=u[1];if(d===-1/0||h===1/0)return[a,s];if(d===h)return[d];var p=Math.max(t,2),m=A6(new rt(h).sub(d).div(p-1),i,0),g=[].concat(ib(Mf.rangeStep(new rt(d),new rt(h).sub(new rt(.99).mul(m)),m)),[h]);return a>s?sb(g):g}var HH=S6(UH),KH=S6(WH),GH="Invariant failed";function Qs(e,t){throw new Error(GH)}var VH=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function uo(e){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(e)}function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},wh.apply(this,arguments)}function QH(e,t){return ZH(e)||JH(e,t)||XH(e,t)||YH()}function YH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XH(e,t){if(e){if(typeof e=="string")return JC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JC(e,t)}}function JC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function JH(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,u=[],d=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){h=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function ZH(e){if(Array.isArray(e))return e}function eK(e,t){if(e==null)return{};var n=tK(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function tK(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function rK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nK(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,_6(a.key),a)}}function aK(e,t,n){return t&&nK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sK(e,t,n){return t=Nh(t),iK(e,O6()?Reflect.construct(t,n||[],Nh(e).constructor):t.apply(e,n))}function iK(e,t){if(t&&(uo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oK(e)}function oK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O6=function(){return!!e})()}function Nh(e){return Nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nh(e)}function lK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lb(e,t)}function lb(e,t){return lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},lb(e,t)}function E6(e,t,n){return t=_6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _6(e){var t=cK(e,"string");return uo(t)=="symbol"?t:t+""}function cK(e,t){if(uo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(uo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var su=(function(e){function t(){return rK(this,t),sK(this,t,arguments)}return lK(t,e),aK(t,[{key:"render",value:function(){var a=this.props,s=a.offset,i=a.layout,l=a.width,u=a.dataKey,d=a.data,h=a.dataPointFormatter,p=a.xAxis,m=a.yAxis,g=eK(a,VH),j=Te(g,!1);this.props.direction==="x"&&p.type!=="number"&&Qs();var v=d.map(function(w){var x=h(w,u),S=x.x,O=x.y,P=x.value,N=x.errorVal;if(!N)return null;var C=[],A,E;if(Array.isArray(N)){var M=QH(N,2);A=M[0],E=M[1]}else A=E=N;if(i==="vertical"){var R=p.scale,I=O+s,T=I+l,$=I-l,W=R(P-A),X=R(P+E);C.push({x1:X,y1:T,x2:X,y2:$}),C.push({x1:W,y1:I,x2:X,y2:I}),C.push({x1:W,y1:T,x2:W,y2:$})}else if(i==="horizontal"){var B=m.scale,q=S+s,U=q-l,G=q+l,Y=B(P-A),z=B(P+E);C.push({x1:U,y1:z,x2:G,y2:z}),C.push({x1:q,y1:Y,x2:q,y2:z}),C.push({x1:U,y1:Y,x2:G,y2:Y})}return V.createElement(Ge,wh({className:"recharts-errorBar",key:"bar-".concat(C.map(function(F){return"".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))},j),C.map(function(F){return V.createElement("line",wh({},F,{key:"line-".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))}))});return V.createElement(Ge,{className:"recharts-errorBars"},v)}}])})(V.Component);E6(su,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});E6(su,"displayName","ErrorBar");function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function ZC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function gs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZC(Object(n),!0).forEach(function(a){uK(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function uK(e,t,n){return t=dK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dK(e){var t=hK(e,"string");return yc(t)=="symbol"?t:t+""}function hK(e,t){if(yc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(yc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T6=function(t){var n=t.children,a=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,l=Er(n,Qa);if(!l)return null;var u=Qa.defaultProps,d=u!==void 0?gs(gs({},u),l.props):{},h;return l.props&&l.props.payload?h=l.props&&l.props.payload:i==="children"?h=(a||[]).reduce(function(p,m){var g=m.item,j=m.props,v=j.sectors||j.data||[];return p.concat(v.map(function(w){return{type:l.props.iconType||g.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):h=(a||[]).map(function(p){var m=p.item,g=m.type.defaultProps,j=g!==void 0?gs(gs({},g),m.props):{},v=j.dataKey,w=j.name,x=j.legendType,S=j.hide;return{inactive:S,dataKey:v,type:d.iconType||x||"square",color:cw(m),value:w||v,payload:j}}),gs(gs(gs({},d),Qa.getWithHeight(l,s)),{},{payload:h,item:l})};function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}function eA(e){return xK(e)||pK(e)||mK(e)||fK()}function fK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mK(e,t){if(e){if(typeof e=="string")return cb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cb(e,t)}}function pK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xK(e){if(Array.isArray(e))return cb(e)}function cb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function tA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(n),!0).forEach(function(a){qi(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function qi(e,t,n){return t=gK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gK(e){var t=yK(e,"string");return vc(t)=="symbol"?t:t+""}function yK(e,t){if(vc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(vc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $t(e,t,n){return ze(e)||ze(t)?n:Lt(t)?Mr(e,t,n):Fe(t)?t(e):n}function Ql(e,t,n,a){var s=xH(e,function(u){return $t(u,t)});if(n==="number"){var i=s.filter(function(u){return ge(u)||parseFloat(u)});return i.length?[Tf(i),_f(i)]:[1/0,-1/0]}var l=a?s.filter(function(u){return!ze(u)}):s;return l.map(function(u){return Lt(u)||u instanceof Date?u:""})}var vK=function(t){var n,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=-1,u=(n=a==null?void 0:a.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,h=0;h<u;h++){var p=h>0?s[h-1].coordinate:s[u-1].coordinate,m=s[h].coordinate,g=h>=u-1?s[0].coordinate:s[h+1].coordinate,j=void 0;if(lr(m-p)!==lr(g-m)){var v=[];if(lr(g-m)===lr(d[1]-d[0])){j=g;var w=m+d[1]-d[0];v[0]=Math.min(w,(w+p)/2),v[1]=Math.max(w,(w+p)/2)}else{j=p;var x=g+d[1]-d[0];v[0]=Math.min(m,(x+m)/2),v[1]=Math.max(m,(x+m)/2)}var S=[Math.min(m,(j+m)/2),Math.max(m,(j+m)/2)];if(t>S[0]&&t<=S[1]||t>=v[0]&&t<=v[1]){l=s[h].index;break}}else{var O=Math.min(p,g),P=Math.max(p,g);if(t>(O+m)/2&&t<=(P+m)/2){l=s[h].index;break}}}else for(var N=0;N<u;N++)if(N===0&&t<=(a[N].coordinate+a[N+1].coordinate)/2||N>0&&N<u-1&&t>(a[N].coordinate+a[N-1].coordinate)/2&&t<=(a[N].coordinate+a[N+1].coordinate)/2||N===u-1&&t>(a[N].coordinate+a[N-1].coordinate)/2){l=a[N].index;break}return l},cw=function(t){var n,a=t,s=a.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?bt(bt({},t.type.defaultProps),t.props):t.props,l=i.stroke,u=i.fill,d;switch(s){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},bK=function(t){var n=t.barSize,a=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var l={},u=Object.keys(i),d=0,h=u.length;d<h;d++)for(var p=i[u[d]].stackGroups,m=Object.keys(p),g=0,j=m.length;g<j;g++){var v=p[m[g]],w=v.items,x=v.cateAxisId,S=w.filter(function(E){return ta(E.type).indexOf("Bar")>=0});if(S&&S.length){var O=S[0].type.defaultProps,P=O!==void 0?bt(bt({},O),S[0].props):S[0].props,N=P.barSize,C=P[x];l[C]||(l[C]=[]);var A=ze(N)?n:N;l[C].push({item:S[0],stackList:S.slice(1),barSize:ze(A)?void 0:cr(A,a,0)})}}return l},jK=function(t){var n=t.barGap,a=t.barCategoryGap,s=t.bandSize,i=t.sizeList,l=i===void 0?[]:i,u=t.maxBarSize,d=l.length;if(d<1)return null;var h=cr(n,s,0,!0),p,m=[];if(l[0].barSize===+l[0].barSize){var g=!1,j=s/d,v=l.reduce(function(N,C){return N+C.barSize||0},0);v+=(d-1)*h,v>=s&&(v-=(d-1)*h,h=0),v>=s&&j>0&&(g=!0,j*=.9,v=d*j);var w=(s-v)/2>>0,x={offset:w-h,size:0};p=l.reduce(function(N,C){var A={item:C.item,position:{offset:x.offset+x.size+h,size:g?j:C.barSize}},E=[].concat(eA(N),[A]);return x=E[E.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(M){E.push({item:M,position:x})}),E},m)}else{var S=cr(a,s,0,!0);s-2*S-(d-1)*h<=0&&(h=0);var O=(s-2*S-(d-1)*h)/d;O>1&&(O>>=0);var P=u===+u?Math.min(O,u):O;p=l.reduce(function(N,C,A){var E=[].concat(eA(N),[{item:C.item,position:{offset:S+(O+h)*A+(O-P)/2,size:P}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(M){E.push({item:M,position:E[E.length-1].position})}),E},m)}return p},wK=function(t,n,a,s){var i=a.children,l=a.width,u=a.margin,d=l-(u.left||0)-(u.right||0),h=T6({children:i,legendWidth:d});if(h){var p=s||{},m=p.width,g=p.height,j=h.align,v=h.verticalAlign,w=h.layout;if((w==="vertical"||w==="horizontal"&&v==="middle")&&j!=="center"&&ge(t[j]))return bt(bt({},t),{},qi({},j,t[j]+(m||0)));if((w==="horizontal"||w==="vertical"&&j==="center")&&v!=="middle"&&ge(t[v]))return bt(bt({},t),{},qi({},v,t[v]+(g||0)))}return t},NK=function(t,n,a){return ze(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||a==="x"?n==="xAxis":a==="y"?n==="yAxis":!0},R6=function(t,n,a,s,i){var l=n.props.children,u=Ir(l,su).filter(function(h){return NK(s,i,h.props.direction)});if(u&&u.length){var d=u.map(function(h){return h.props.dataKey});return t.reduce(function(h,p){var m=$t(p,a);if(ze(m))return h;var g=Array.isArray(m)?[Tf(m),_f(m)]:[m,m],j=d.reduce(function(v,w){var x=$t(p,w,0),S=g[0]-Math.abs(Array.isArray(x)?x[0]:x),O=g[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(S,v[0]),Math.max(O,v[1])]},[1/0,-1/0]);return[Math.min(j[0],h[0]),Math.max(j[1],h[1])]},[1/0,-1/0])}return null},SK=function(t,n,a,s,i){var l=n.map(function(u){return R6(t,u,a,i,s)}).filter(function(u){return!ze(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},M6=function(t,n,a,s,i){var l=n.map(function(d){var h=d.props.dataKey;return a==="number"&&h&&R6(t,d,h,s)||Ql(t,h,a,i)});if(a==="number")return l.reduce(function(d,h){return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,h){for(var p=0,m=h.length;p<m;p++)u[h[p]]||(u[h[p]]=!0,d.push(h[p]));return d},[])},I6=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},$6=function(t,n,a,s){if(s)return t.map(function(d){return d.coordinate});var i,l,u=t.map(function(d){return d.coordinate===n&&(i=!0),d.coordinate===a&&(l=!0),d.coordinate});return i||u.push(n),l||u.push(a),u},ea=function(t,n,a){if(!t)return null;var s=t.scale,i=t.duplicateDomain,l=t.type,u=t.range,d=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,h=(n||a)&&l==="category"&&s.bandwidth?s.bandwidth()/d:0;if(h=t.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?lr(u[0]-u[1])*2*h:h,n&&(t.ticks||t.niceTicks)){var p=(t.ticks||t.niceTicks).map(function(m){var g=i?i.indexOf(m):m;return{coordinate:s(g)+h,value:m,offset:h}});return p.filter(function(m){return!Jc(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,g){return{coordinate:s(m)+h,value:m,index:g,offset:h}}):s.ticks&&!a?s.ticks(t.tickCount).map(function(m){return{coordinate:s(m)+h,value:m,offset:h}}):s.domain().map(function(m,g){return{coordinate:s(m)+h,value:i?i[m]:m,index:g,offset:h}})},jy=new WeakMap,Ed=function(t,n){if(typeof n!="function")return t;jy.has(t)||jy.set(t,new WeakMap);var a=jy.get(t);if(a.has(n))return a.get(n);var s=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return a.set(n,s),s},L6=function(t,n,a){var s=t.scale,i=t.type,l=t.layout,u=t.axisType;if(s==="auto")return l==="radial"&&u==="radiusAxis"?{scale:dc(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:gh(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!a)?{scale:Vl(),realScaleType:"point"}:i==="category"?{scale:dc(),realScaleType:"band"}:{scale:gh(),realScaleType:"linear"};if(Hs(s)){var d="scale".concat(xf(s));return{scale:(zC[d]||Vl)(),realScaleType:zC[d]?d:"point"}}return Fe(s)?{scale:s}:{scale:Vl(),realScaleType:"point"}},rA=1e-4,D6=function(t){var n=t.domain();if(!(!n||n.length<=2)){var a=n.length,s=t.range(),i=Math.min(s[0],s[1])-rA,l=Math.max(s[0],s[1])+rA,u=t(n[0]),d=t(n[a-1]);(u<i||u>l||d<i||d>l)&&t.domain([n[0],n[a-1]])}},kK=function(t,n){if(!t)return null;for(var a=0,s=t.length;a<s;a++)if(t[a].item===n)return t[a].position;return null},CK=function(t,n){if(!n||n.length!==2||!ge(n[0])||!ge(n[1]))return t;var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!ge(t[0])||t[0]<a)&&(i[0]=a),(!ge(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},AK=function(t){var n=t.length;if(!(n<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,l=0,u=0;u<n;++u){var d=Jc(t[u][a][1])?t[u][a][0]:t[u][a][1];d>=0?(t[u][a][0]=i,t[u][a][1]=i+d,i=t[u][a][1]):(t[u][a][0]=l,t[u][a][1]=l+d,l=t[u][a][1])}},PK=function(t){var n=t.length;if(!(n<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,l=0;l<n;++l){var u=Jc(t[l][a][1])?t[l][a][0]:t[l][a][1];u>=0?(t[l][a][0]=i,t[l][a][1]=i+u,i=t[l][a][1]):(t[l][a][0]=0,t[l][a][1]=0)}},OK={sign:AK,expand:xF,none:ro,silhouette:gF,wiggle:yF,positive:PK},EK=function(t,n,a){var s=n.map(function(u){return u.props.dataKey}),i=OK[a],l=pF().keys(s).value(function(u,d){return+$t(u,d,0)}).order(Fv).offset(i);return l(t)},_K=function(t,n,a,s,i,l){if(!t)return null;var u=l?n.reverse():n,d={},h=u.reduce(function(m,g){var j,v=(j=g.type)!==null&&j!==void 0&&j.defaultProps?bt(bt({},g.type.defaultProps),g.props):g.props,w=v.stackId,x=v.hide;if(x)return m;var S=v[a],O=m[S]||{hasStack:!1,stackGroups:{}};if(Lt(w)){var P=O.stackGroups[w]||{numericAxisId:a,cateAxisId:s,items:[]};P.items.push(g),O.hasStack=!0,O.stackGroups[w]=P}else O.stackGroups[$o("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[g]};return bt(bt({},m),{},qi({},S,O))},d),p={};return Object.keys(h).reduce(function(m,g){var j=h[g];if(j.hasStack){var v={};j.stackGroups=Object.keys(j.stackGroups).reduce(function(w,x){var S=j.stackGroups[x];return bt(bt({},w),{},qi({},x,{numericAxisId:a,cateAxisId:s,items:S.items,stackedData:EK(t,S.items,i)}))},v)}return bt(bt({},m),{},qi({},g,j))},p)},F6=function(t,n){var a=n.realScaleType,s=n.type,i=n.tickCount,l=n.originalDomain,u=n.allowDecimals,d=a||n.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&s==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var h=t.domain();if(!h.length)return null;var p=HH(h,i,u);return t.domain([Tf(p),_f(p)]),{niceTicks:p}}if(i&&s==="number"){var m=t.domain(),g=KH(m,i,u);return{niceTicks:g}}return null};function nA(e){var t=e.axis,n=e.ticks,a=e.bandSize,s=e.entry,i=e.index,l=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ze(s[t.dataKey])){var u=Jd(n,"value",s[t.dataKey]);if(u)return u.coordinate+a/2}return n[i]?n[i].coordinate+a/2:null}var d=$t(s,ze(l)?t.dataKey:l);return ze(d)?null:t.scale(d)}var aA=function(t){var n=t.axis,a=t.ticks,s=t.offset,i=t.bandSize,l=t.entry,u=t.index;if(n.type==="category")return a[u]?a[u].coordinate+s:null;var d=$t(l,n.dataKey,n.domain[u]);return ze(d)?null:n.scale(d)-i/2+s},TK=function(t){var n=t.numericAxis,a=n.scale.domain();if(n.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},RK=function(t,n){var a,s=(a=t.type)!==null&&a!==void 0&&a.defaultProps?bt(bt({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Lt(i)){var l=n[i];if(l){var u=l.items.indexOf(t);return u>=0?l.stackedData[u]:null}}return null},MK=function(t){return t.reduce(function(n,a){return[Tf(a.concat([n[0]]).filter(ge)),_f(a.concat([n[1]]).filter(ge))]},[1/0,-1/0])},z6=function(t,n,a){return Object.keys(t).reduce(function(s,i){var l=t[i],u=l.stackedData,d=u.reduce(function(h,p){var m=MK(p.slice(n,a+1));return[Math.min(h[0],m[0]),Math.max(h[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],s[0]),Math.max(d[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},sA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ub=function(t,n,a){if(Fe(t))return t(n,a);if(!Array.isArray(t))return n;var s=[];if(ge(t[0]))s[0]=a?t[0]:Math.min(t[0],n[0]);else if(sA.test(t[0])){var i=+sA.exec(t[0])[1];s[0]=n[0]-i}else Fe(t[0])?s[0]=t[0](n[0]):s[0]=n[0];if(ge(t[1]))s[1]=a?t[1]:Math.max(t[1],n[1]);else if(iA.test(t[1])){var l=+iA.exec(t[1])[1];s[1]=n[1]+l}else Fe(t[1])?s[1]=t[1](n[1]):s[1]=n[1];return s},Sh=function(t,n,a){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!a||s>0)return s}if(t&&n&&n.length>=2){for(var i=$j(n,function(m){return m.coordinate}),l=1/0,u=1,d=i.length;u<d;u++){var h=i[u],p=i[u-1];l=Math.min((h.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return a?void 0:0},oA=function(t,n,a){return!t||!t.length||au(t,Mr(a,"type.defaultProps.domain"))?n:t},B6=function(t,n){var a=t.type.defaultProps?bt(bt({},t.type.defaultProps),t.props):t.props,s=a.dataKey,i=a.name,l=a.unit,u=a.formatter,d=a.tooltipType,h=a.chartType,p=a.hide;return bt(bt({},Te(t,!1)),{},{dataKey:s,unit:l,formatter:u,name:i||s,color:cw(t),value:$t(n,s),type:d,payload:n,chartType:h,hide:p})};function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function lA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(n),!0).forEach(function(a){q6(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function q6(e,t,n){return t=IK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IK(e){var t=$K(e,"string");return bc(t)=="symbol"?t:t+""}function $K(e,t){if(bc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(bc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LK(e,t){return BK(e)||zK(e,t)||FK(e,t)||DK()}function DK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FK(e,t){if(e){if(typeof e=="string")return cA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cA(e,t)}}function cA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function zK(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,u=[],d=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){h=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function BK(e){if(Array.isArray(e))return e}var kh=Math.PI/180,qK=function(t){return t*180/Math.PI},ot=function(t,n,a,s){return{x:t+Math.cos(-kh*s)*a,y:n+Math.sin(-kh*s)*a}},U6=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},UK=function(t,n,a,s,i){var l=t.width,u=t.height,d=t.startAngle,h=t.endAngle,p=cr(t.cx,l,l/2),m=cr(t.cy,u,u/2),g=U6(l,u,a),j=cr(t.innerRadius,g,0),v=cr(t.outerRadius,g,g*.8),w=Object.keys(n);return w.reduce(function(x,S){var O=n[S],P=O.domain,N=O.reversed,C;if(ze(O.range))s==="angleAxis"?C=[d,h]:s==="radiusAxis"&&(C=[j,v]),N&&(C=[C[1],C[0]]);else{C=O.range;var A=C,E=LK(A,2);d=E[0],h=E[1]}var M=L6(O,i),R=M.realScaleType,I=M.scale;I.domain(P).range(C),D6(I);var T=F6(I,Gn(Gn({},O),{},{realScaleType:R})),$=Gn(Gn(Gn({},O),T),{},{range:C,radius:v,realScaleType:R,scale:I,cx:p,cy:m,innerRadius:j,outerRadius:v,startAngle:d,endAngle:h});return Gn(Gn({},x),{},q6({},S,$))},{})},WK=function(t,n){var a=t.x,s=t.y,i=n.x,l=n.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-l,2))},HK=function(t,n){var a=t.x,s=t.y,i=n.cx,l=n.cy,u=WK({x:a,y:s},{x:i,y:l});if(u<=0)return{radius:u};var d=(a-i)/u,h=Math.acos(d);return s>l&&(h=2*Math.PI-h),{radius:u,angle:qK(h),angleInRadian:h}},KK=function(t){var n=t.startAngle,a=t.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(s,i);return{startAngle:n-l*360,endAngle:a-l*360}},GK=function(t,n){var a=n.startAngle,s=n.endAngle,i=Math.floor(a/360),l=Math.floor(s/360),u=Math.min(i,l);return t+u*360},uA=function(t,n){var a=t.x,s=t.y,i=HK({x:a,y:s},n),l=i.radius,u=i.angle,d=n.innerRadius,h=n.outerRadius;if(l<d||l>h)return!1;if(l===0)return!0;var p=KK(n),m=p.startAngle,g=p.endAngle,j=u,v;if(m<=g){for(;j>g;)j-=360;for(;j<m;)j+=360;v=j>=m&&j<=g}else{for(;j>m;)j-=360;for(;j<g;)j+=360;v=j>=g&&j<=m}return v?Gn(Gn({},n),{},{radius:l,angle:GK(j,n)}):null},W6=function(t){return!b.isValidElement(t)&&!Fe(t)&&typeof t!="boolean"?t.className:""};function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}var VK=["offset"];function QK(e){return ZK(e)||JK(e)||XK(e)||YK()}function YK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XK(e,t){if(e){if(typeof e=="string")return db(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return db(e,t)}}function JK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZK(e){if(Array.isArray(e))return db(e)}function db(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function eG(e,t){if(e==null)return{};var n=tG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function tG(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function dA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(n),!0).forEach(function(a){rG(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function rG(e,t,n){return t=nG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nG(e){var t=aG(e,"string");return jc(t)=="symbol"?t:t+""}function aG(e,t){if(jc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(jc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wc(){return wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},wc.apply(this,arguments)}var sG=function(t){var n=t.value,a=t.formatter,s=ze(t.children)?n:t.children;return Fe(a)?a(s):s},iG=function(t,n){var a=lr(n-t),s=Math.min(Math.abs(n-t),360);return a*s},oG=function(t,n,a){var s=t.position,i=t.viewBox,l=t.offset,u=t.className,d=i,h=d.cx,p=d.cy,m=d.innerRadius,g=d.outerRadius,j=d.startAngle,v=d.endAngle,w=d.clockWise,x=(m+g)/2,S=iG(j,v),O=S>=0?1:-1,P,N;s==="insideStart"?(P=j+O*l,N=w):s==="insideEnd"?(P=v-O*l,N=!w):s==="end"&&(P=v+O*l,N=w),N=S<=0?N:!N;var C=ot(h,p,x,P),A=ot(h,p,x,P+(N?1:-1)*359),E="M".concat(C.x,",").concat(C.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(N?0:1,`,
    `).concat(A.x,",").concat(A.y),M=ze(t.id)?$o("recharts-radial-line-"):t.id;return V.createElement("text",wc({},a,{dominantBaseline:"central",className:Be("recharts-radial-bar-label",u)}),V.createElement("defs",null,V.createElement("path",{id:M,d:E})),V.createElement("textPath",{xlinkHref:"#".concat(M)},n))},lG=function(t){var n=t.viewBox,a=t.offset,s=t.position,i=n,l=i.cx,u=i.cy,d=i.innerRadius,h=i.outerRadius,p=i.startAngle,m=i.endAngle,g=(p+m)/2;if(s==="outside"){var j=ot(l,u,h+a,g),v=j.x,w=j.y;return{x:v,y:w,textAnchor:v>=l?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var x=(d+h)/2,S=ot(l,u,x,g),O=S.x,P=S.y;return{x:O,y:P,textAnchor:"middle",verticalAnchor:"middle"}},cG=function(t){var n=t.viewBox,a=t.parentViewBox,s=t.offset,i=t.position,l=n,u=l.x,d=l.y,h=l.width,p=l.height,m=p>=0?1:-1,g=m*s,j=m>0?"end":"start",v=m>0?"start":"end",w=h>=0?1:-1,x=w*s,S=w>0?"end":"start",O=w>0?"start":"end";if(i==="top"){var P={x:u+h/2,y:d-m*s,textAnchor:"middle",verticalAnchor:j};return Mt(Mt({},P),a?{height:Math.max(d-a.y,0),width:h}:{})}if(i==="bottom"){var N={x:u+h/2,y:d+p+g,textAnchor:"middle",verticalAnchor:v};return Mt(Mt({},N),a?{height:Math.max(a.y+a.height-(d+p),0),width:h}:{})}if(i==="left"){var C={x:u-x,y:d+p/2,textAnchor:S,verticalAnchor:"middle"};return Mt(Mt({},C),a?{width:Math.max(C.x-a.x,0),height:p}:{})}if(i==="right"){var A={x:u+h+x,y:d+p/2,textAnchor:O,verticalAnchor:"middle"};return Mt(Mt({},A),a?{width:Math.max(a.x+a.width-A.x,0),height:p}:{})}var E=a?{width:h,height:p}:{};return i==="insideLeft"?Mt({x:u+x,y:d+p/2,textAnchor:O,verticalAnchor:"middle"},E):i==="insideRight"?Mt({x:u+h-x,y:d+p/2,textAnchor:S,verticalAnchor:"middle"},E):i==="insideTop"?Mt({x:u+h/2,y:d+g,textAnchor:"middle",verticalAnchor:v},E):i==="insideBottom"?Mt({x:u+h/2,y:d+p-g,textAnchor:"middle",verticalAnchor:j},E):i==="insideTopLeft"?Mt({x:u+x,y:d+g,textAnchor:O,verticalAnchor:v},E):i==="insideTopRight"?Mt({x:u+h-x,y:d+g,textAnchor:S,verticalAnchor:v},E):i==="insideBottomLeft"?Mt({x:u+x,y:d+p-g,textAnchor:O,verticalAnchor:j},E):i==="insideBottomRight"?Mt({x:u+h-x,y:d+p-g,textAnchor:S,verticalAnchor:j},E):Io(i)&&(ge(i.x)||ks(i.x))&&(ge(i.y)||ks(i.y))?Mt({x:u+cr(i.x,h),y:d+cr(i.y,p),textAnchor:"end",verticalAnchor:"end"},E):Mt({x:u+h/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},E)},uG=function(t){return"cx"in t&&ge(t.cx)};function Ht(e){var t=e.offset,n=t===void 0?5:t,a=eG(e,VK),s=Mt({offset:n},a),i=s.viewBox,l=s.position,u=s.value,d=s.children,h=s.content,p=s.className,m=p===void 0?"":p,g=s.textBreakAll;if(!i||ze(u)&&ze(d)&&!b.isValidElement(h)&&!Fe(h))return null;if(b.isValidElement(h))return b.cloneElement(h,s);var j;if(Fe(h)){if(j=b.createElement(h,s),b.isValidElement(j))return j}else j=sG(s);var v=uG(i),w=Te(s,!0);if(v&&(l==="insideStart"||l==="insideEnd"||l==="end"))return oG(s,j,w);var x=v?lG(s):cG(s);return V.createElement(Gs,wc({className:Be("recharts-label",m)},w,x,{breakAll:g}),j)}Ht.displayName="Label";var H6=function(t){var n=t.cx,a=t.cy,s=t.angle,i=t.startAngle,l=t.endAngle,u=t.r,d=t.radius,h=t.innerRadius,p=t.outerRadius,m=t.x,g=t.y,j=t.top,v=t.left,w=t.width,x=t.height,S=t.clockWise,O=t.labelViewBox;if(O)return O;if(ge(w)&&ge(x)){if(ge(m)&&ge(g))return{x:m,y:g,width:w,height:x};if(ge(j)&&ge(v))return{x:j,y:v,width:w,height:x}}return ge(m)&&ge(g)?{x:m,y:g,width:0,height:0}:ge(n)&&ge(a)?{cx:n,cy:a,startAngle:i||s||0,endAngle:l||s||0,innerRadius:h||0,outerRadius:p||d||u||0,clockWise:S}:t.viewBox?t.viewBox:{}},dG=function(t,n){return t?t===!0?V.createElement(Ht,{key:"label-implicit",viewBox:n}):Lt(t)?V.createElement(Ht,{key:"label-implicit",viewBox:n,value:t}):b.isValidElement(t)?t.type===Ht?b.cloneElement(t,{key:"label-implicit",viewBox:n}):V.createElement(Ht,{key:"label-implicit",content:t,viewBox:n}):Fe(t)?V.createElement(Ht,{key:"label-implicit",content:t,viewBox:n}):Io(t)?V.createElement(Ht,wc({viewBox:n},t,{key:"label-implicit"})):null:null},hG=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var s=t.children,i=H6(t),l=Ir(s,Ht).map(function(d,h){return b.cloneElement(d,{viewBox:n||i,key:"label-".concat(h)})});if(!a)return l;var u=dG(t.label,n||i);return[u].concat(QK(l))};Ht.parseViewBox=H6;Ht.renderCallByParent=hG;var wy,hA;function fG(){if(hA)return wy;hA=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return wy=e,wy}var mG=fG();const pG=Ze(mG);function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}var xG=["valueAccessor"],gG=["data","dataKey","clockWise","id","textBreakAll"];function yG(e){return wG(e)||jG(e)||bG(e)||vG()}function vG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bG(e,t){if(e){if(typeof e=="string")return hb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hb(e,t)}}function jG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wG(e){if(Array.isArray(e))return hb(e)}function hb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ch.apply(this,arguments)}function fA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function mA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(n),!0).forEach(function(a){NG(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function NG(e,t,n){return t=SG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SG(e){var t=kG(e,"string");return Nc(t)=="symbol"?t:t+""}function kG(e,t){if(Nc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Nc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pA(e,t){if(e==null)return{};var n=CG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function CG(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var AG=function(t){return Array.isArray(t.value)?pG(t.value):t.value};function na(e){var t=e.valueAccessor,n=t===void 0?AG:t,a=pA(e,xG),s=a.data,i=a.dataKey,l=a.clockWise,u=a.id,d=a.textBreakAll,h=pA(a,gG);return!s||!s.length?null:V.createElement(Ge,{className:"recharts-label-list"},s.map(function(p,m){var g=ze(i)?n(p,m):$t(p&&p.payload,i),j=ze(u)?{}:{id:"".concat(u,"-").concat(m)};return V.createElement(Ht,Ch({},Te(p,!0),h,j,{parentViewBox:p.parentViewBox,value:g,textBreakAll:d,viewBox:Ht.parseViewBox(ze(l)?p:mA(mA({},p),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}na.displayName="LabelList";function PG(e,t){return e?e===!0?V.createElement(na,{key:"labelList-implicit",data:t}):V.isValidElement(e)||Fe(e)?V.createElement(na,{key:"labelList-implicit",data:t,content:e}):Io(e)?V.createElement(na,Ch({data:t},e,{key:"labelList-implicit"})):null:null}function OG(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=Ir(a,na).map(function(l,u){return b.cloneElement(l,{data:t,key:"labelList-".concat(u)})});if(!n)return s;var i=PG(e.label,t);return[i].concat(yG(s))}na.renderCallByParent=OG;function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function fb(){return fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},fb.apply(this,arguments)}function xA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function gA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(n),!0).forEach(function(a){EG(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function EG(e,t,n){return t=_G(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _G(e){var t=TG(e,"string");return Sc(t)=="symbol"?t:t+""}function TG(e,t){if(Sc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Sc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RG=function(t,n){var a=lr(n-t),s=Math.min(Math.abs(n-t),359.999);return a*s},_d=function(t){var n=t.cx,a=t.cy,s=t.radius,i=t.angle,l=t.sign,u=t.isExternal,d=t.cornerRadius,h=t.cornerIsExternal,p=d*(u?1:-1)+s,m=Math.asin(d/p)/kh,g=h?i:i+l*m,j=ot(n,a,p,g),v=ot(n,a,s,g),w=h?i-l*m:i,x=ot(n,a,p*Math.cos(m*kh),w);return{center:j,circleTangency:v,lineTangency:x,theta:m}},K6=function(t){var n=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.startAngle,u=t.endAngle,d=RG(l,u),h=l+d,p=ot(n,a,i,l),m=ot(n,a,i,h),g="M ".concat(p.x,",").concat(p.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var j=ot(n,a,s,l),v=ot(n,a,s,h);g+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=h),`,
            `).concat(j.x,",").concat(j.y," Z")}else g+="L ".concat(n,",").concat(a," Z");return g},MG=function(t){var n=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.cornerRadius,u=t.forceCornerRadius,d=t.cornerIsExternal,h=t.startAngle,p=t.endAngle,m=lr(p-h),g=_d({cx:n,cy:a,radius:i,angle:h,sign:m,cornerRadius:l,cornerIsExternal:d}),j=g.circleTangency,v=g.lineTangency,w=g.theta,x=_d({cx:n,cy:a,radius:i,angle:p,sign:-m,cornerRadius:l,cornerIsExternal:d}),S=x.circleTangency,O=x.lineTangency,P=x.theta,N=d?Math.abs(h-p):Math.abs(h-p)-w-P;if(N<0)return u?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):K6({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:h,endAngle:p});var C="M ".concat(v.x,",").concat(v.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(O.x,",").concat(O.y,`
  `);if(s>0){var A=_d({cx:n,cy:a,radius:s,angle:h,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),E=A.circleTangency,M=A.lineTangency,R=A.theta,I=_d({cx:n,cy:a,radius:s,angle:p,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),T=I.circleTangency,$=I.lineTangency,W=I.theta,X=d?Math.abs(h-p):Math.abs(h-p)-R-W;if(X<0&&l===0)return"".concat(C,"L").concat(n,",").concat(a,"Z");C+="L".concat($.x,",").concat($.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(X>180),",").concat(+(m>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,"Z")}else C+="L".concat(n,",").concat(a,"Z");return C},IG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},G6=function(t){var n=gA(gA({},IG),t),a=n.cx,s=n.cy,i=n.innerRadius,l=n.outerRadius,u=n.cornerRadius,d=n.forceCornerRadius,h=n.cornerIsExternal,p=n.startAngle,m=n.endAngle,g=n.className;if(l<i||p===m)return null;var j=Be("recharts-sector",g),v=l-i,w=cr(u,v,0,!0),x;return w>0&&Math.abs(p-m)<360?x=MG({cx:a,cy:s,innerRadius:i,outerRadius:l,cornerRadius:Math.min(w,v/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:p,endAngle:m}):x=K6({cx:a,cy:s,innerRadius:i,outerRadius:l,startAngle:p,endAngle:m}),V.createElement("path",fb({},Te(n,!0),{className:j,d:x,role:"img"}))};function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function mb(){return mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},mb.apply(this,arguments)}function yA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function vA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(n),!0).forEach(function(a){$G(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function $G(e,t,n){return t=LG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LG(e){var t=DG(e,"string");return kc(t)=="symbol"?t:t+""}function DG(e,t){if(kc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(kc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bA={curveBasisClosed:aF,curveBasisOpen:sF,curveBasis:nF,curveBumpX:U9,curveBumpY:W9,curveLinearClosed:iF,curveLinear:yf,curveMonotoneX:oF,curveMonotoneY:lF,curveNatural:cF,curveStep:uF,curveStepAfter:hF,curveStepBefore:dF},Td=function(t){return t.x===+t.x&&t.y===+t.y},Ll=function(t){return t.x},Dl=function(t){return t.y},FG=function(t,n){if(Fe(t))return t;var a="curve".concat(xf(t));return(a==="curveMonotone"||a==="curveBump")&&n?bA["".concat(a).concat(n==="vertical"?"Y":"X")]:bA[a]||yf},zG=function(t){var n=t.type,a=n===void 0?"linear":n,s=t.points,i=s===void 0?[]:s,l=t.baseLine,u=t.layout,d=t.connectNulls,h=d===void 0?!1:d,p=FG(a,u),m=h?i.filter(function(w){return Td(w)}):i,g;if(Array.isArray(l)){var j=h?l.filter(function(w){return Td(w)}):l,v=m.map(function(w,x){return vA(vA({},w),{},{base:j[x]})});return u==="vertical"?g=Nd().y(Dl).x1(Ll).x0(function(w){return w.base.x}):g=Nd().x(Ll).y1(Dl).y0(function(w){return w.base.y}),g.defined(Td).curve(p),g(v)}return u==="vertical"&&ge(l)?g=Nd().y(Dl).x1(Ll).x0(l):ge(l)?g=Nd().x(Ll).y1(Dl).y0(l):g=K3().x(Ll).y(Dl),g.defined(Td).curve(p),g(m)},Ah=function(t){var n=t.className,a=t.points,s=t.path,i=t.pathRef;if((!a||!a.length)&&!s)return null;var l=a&&a.length?zG(t):s;return b.createElement("path",mb({},Te(t,!1),Zd(t),{className:Be("recharts-curve",n),d:l,ref:i}))},Ny={exports:{}},Sy,jA;function BG(){if(jA)return Sy;jA=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Sy=e,Sy}var ky,wA;function qG(){if(wA)return ky;wA=1;var e=BG();function t(){}function n(){}return n.resetWarningCache=t,ky=function(){function a(l,u,d,h,p,m){if(m!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}a.isRequired=a;function s(){return a}var i={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:s,element:a,elementType:a,instanceOf:s,node:a,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},ky}var NA;function UG(){return NA||(NA=1,Ny.exports=qG()()),Ny.exports}var WG=UG();const Xe=Ze(WG),{getOwnPropertyNames:HG,getOwnPropertySymbols:KG}=Object,{hasOwnProperty:GG}=Object.prototype;function Cy(e,t){return function(a,s,i){return e(a,s,i)&&t(a,s,i)}}function Rd(e){return function(n,a,s){if(!n||!a||typeof n!="object"||typeof a!="object")return e(n,a,s);const{cache:i}=s,l=i.get(n),u=i.get(a);if(l&&u)return l===a&&u===n;i.set(n,a),i.set(a,n);const d=e(n,a,s);return i.delete(n),i.delete(a),d}}function VG(e){return e!=null?e[Symbol.toStringTag]:void 0}function SA(e){return HG(e).concat(KG(e))}const QG=Object.hasOwn||((e,t)=>GG.call(e,t));function ni(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const YG="__v",XG="__o",JG="_owner",{getOwnPropertyDescriptor:kA,keys:CA}=Object;function ZG(e,t){return e.byteLength===t.byteLength&&Ph(new Uint8Array(e),new Uint8Array(t))}function eV(e,t,n){let a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!n.equals(e[a],t[a],a,a,e,t,n))return!1;return!0}function tV(e,t){return e.byteLength===t.byteLength&&Ph(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function rV(e,t){return ni(e.getTime(),t.getTime())}function nV(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function aV(e,t){return e===t}function AA(e,t,n){const a=e.size;if(a!==t.size)return!1;if(!a)return!0;const s=new Array(a),i=e.entries();let l,u,d=0;for(;(l=i.next())&&!l.done;){const h=t.entries();let p=!1,m=0;for(;(u=h.next())&&!u.done;){if(s[m]){m++;continue}const g=l.value,j=u.value;if(n.equals(g[0],j[0],d,m,e,t,n)&&n.equals(g[1],j[1],g[0],j[0],e,t,n)){p=s[m]=!0;break}m++}if(!p)return!1;d++}return!0}const sV=ni;function iV(e,t,n){const a=CA(e);let s=a.length;if(CA(t).length!==s)return!1;for(;s-- >0;)if(!V6(e,t,n,a[s]))return!1;return!0}function Fl(e,t,n){const a=SA(e);let s=a.length;if(SA(t).length!==s)return!1;let i,l,u;for(;s-- >0;)if(i=a[s],!V6(e,t,n,i)||(l=kA(e,i),u=kA(t,i),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function oV(e,t){return ni(e.valueOf(),t.valueOf())}function lV(e,t){return e.source===t.source&&e.flags===t.flags}function PA(e,t,n){const a=e.size;if(a!==t.size)return!1;if(!a)return!0;const s=new Array(a),i=e.values();let l,u;for(;(l=i.next())&&!l.done;){const d=t.values();let h=!1,p=0;for(;(u=d.next())&&!u.done;){if(!s[p]&&n.equals(l.value,u.value,l.value,u.value,e,t,n)){h=s[p]=!0;break}p++}if(!h)return!1}return!0}function Ph(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function cV(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function V6(e,t,n,a){return(a===JG||a===XG||a===YG)&&(e.$$typeof||t.$$typeof)?!0:QG(t,a)&&n.equals(e[a],t[a],a,a,e,t,n)}const uV="[object ArrayBuffer]",dV="[object Arguments]",hV="[object Boolean]",fV="[object DataView]",mV="[object Date]",pV="[object Error]",xV="[object Map]",gV="[object Number]",yV="[object Object]",vV="[object RegExp]",bV="[object Set]",jV="[object String]",wV={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},NV="[object URL]",SV=Object.prototype.toString;function kV({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:a,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:l,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:h,areRegExpsEqual:p,areSetsEqual:m,areTypedArraysEqual:g,areUrlsEqual:j,unknownTagComparators:v}){return function(x,S,O){if(x===S)return!0;if(x==null||S==null)return!1;const P=typeof x;if(P!==typeof S)return!1;if(P!=="object")return P==="number"?u(x,S,O):P==="function"?i(x,S,O):!1;const N=x.constructor;if(N!==S.constructor)return!1;if(N===Object)return d(x,S,O);if(Array.isArray(x))return t(x,S,O);if(N===Date)return a(x,S,O);if(N===RegExp)return p(x,S,O);if(N===Map)return l(x,S,O);if(N===Set)return m(x,S,O);const C=SV.call(x);if(C===mV)return a(x,S,O);if(C===vV)return p(x,S,O);if(C===xV)return l(x,S,O);if(C===bV)return m(x,S,O);if(C===yV)return typeof x.then!="function"&&typeof S.then!="function"&&d(x,S,O);if(C===NV)return j(x,S,O);if(C===pV)return s(x,S,O);if(C===dV)return d(x,S,O);if(wV[C])return g(x,S,O);if(C===uV)return e(x,S,O);if(C===fV)return n(x,S,O);if(C===hV||C===gV||C===jV)return h(x,S,O);if(v){let A=v[C];if(!A){const E=VG(x);E&&(A=v[E])}if(A)return A(x,S,O)}return!1}}function CV({circular:e,createCustomConfig:t,strict:n}){let a={areArrayBuffersEqual:ZG,areArraysEqual:n?Fl:eV,areDataViewsEqual:tV,areDatesEqual:rV,areErrorsEqual:nV,areFunctionsEqual:aV,areMapsEqual:n?Cy(AA,Fl):AA,areNumbersEqual:sV,areObjectsEqual:n?Fl:iV,arePrimitiveWrappersEqual:oV,areRegExpsEqual:lV,areSetsEqual:n?Cy(PA,Fl):PA,areTypedArraysEqual:n?Cy(Ph,Fl):Ph,areUrlsEqual:cV,unknownTagComparators:void 0};if(t&&(a=Object.assign({},a,t(a))),e){const s=Rd(a.areArraysEqual),i=Rd(a.areMapsEqual),l=Rd(a.areObjectsEqual),u=Rd(a.areSetsEqual);a=Object.assign({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:u})}return a}function AV(e){return function(t,n,a,s,i,l,u){return e(t,n,u)}}function PV({circular:e,comparator:t,createState:n,equals:a,strict:s}){if(n)return function(u,d){const{cache:h=e?new WeakMap:void 0,meta:p}=n();return t(u,d,{cache:h,equals:a,meta:p,strict:s})};if(e)return function(u,d){return t(u,d,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};const i={cache:void 0,equals:a,meta:void 0,strict:s};return function(u,d){return t(u,d,i)}}const OV=ns();ns({strict:!0});ns({circular:!0});ns({circular:!0,strict:!0});ns({createInternalComparator:()=>ni});ns({strict:!0,createInternalComparator:()=>ni});ns({circular:!0,createInternalComparator:()=>ni});ns({circular:!0,createInternalComparator:()=>ni,strict:!0});function ns(e={}){const{circular:t=!1,createInternalComparator:n,createState:a,strict:s=!1}=e,i=CV(e),l=kV(i),u=n?n(l):AV(l);return PV({circular:t,comparator:l,createState:a,equals:u,strict:s})}function EV(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function OA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,a=function s(i){n<0&&(n=i),i-n>t?(e(i),n=-1):EV(s)};requestAnimationFrame(a)}function pb(e){"@babel/helpers - typeof";return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pb(e)}function _V(e){return IV(e)||MV(e)||RV(e)||TV()}function TV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RV(e,t){if(e){if(typeof e=="string")return EA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EA(e,t)}}function EA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function MV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IV(e){if(Array.isArray(e))return e}function $V(){var e={},t=function(){return null},n=!1,a=function s(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var l=i,u=_V(l),d=u[0],h=u.slice(1);if(typeof d=="number"){OA(s.bind(null,h),d);return}s(d),OA(s.bind(null,h));return}pb(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,a(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function _A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function TA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(n),!0).forEach(function(a){Q6(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Q6(e,t,n){return t=LV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LV(e){var t=DV(e,"string");return Cc(t)==="symbol"?t:String(t)}function DV(e,t){if(Cc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Cc(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FV=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},zV=function(t){return t},BV=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Yl=function(t,n){return Object.keys(n).reduce(function(a,s){return TA(TA({},a),{},Q6({},s,t(s,n[s])))},{})},RA=function(t,n,a){return t.map(function(s){return"".concat(BV(s)," ").concat(n,"ms ").concat(a)}).join(",")};function qV(e,t){return HV(e)||WV(e,t)||Y6(e,t)||UV()}function UV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WV(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,u=[],d=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){h=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function HV(e){if(Array.isArray(e))return e}function KV(e){return QV(e)||VV(e)||Y6(e)||GV()}function GV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y6(e,t){if(e){if(typeof e=="string")return xb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xb(e,t)}}function VV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QV(e){if(Array.isArray(e))return xb(e)}function xb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Oh=1e-4,X6=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},J6=function(t,n){return t.map(function(a,s){return a*Math.pow(n,s)}).reduce(function(a,s){return a+s})},MA=function(t,n){return function(a){var s=X6(t,n);return J6(s,a)}},YV=function(t,n){return function(a){var s=X6(t,n),i=[].concat(KV(s.map(function(l,u){return l*u}).slice(1)),[0]);return J6(i,a)}},IA=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n[0],i=n[1],l=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,i=0,l=1,u=1;break;case"ease":s=.25,i=.1,l=.25,u=1;break;case"ease-in":s=.42,i=0,l=1,u=1;break;case"ease-out":s=.42,i=0,l=.58,u=1;break;case"ease-in-out":s=0,i=0,l=.58,u=1;break;default:{var d=n[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var h=d[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),p=qV(h,4);s=p[0],i=p[1],l=p[2],u=p[3]}}}var m=MA(s,l),g=MA(i,u),j=YV(s,l),v=function(S){return S>1?1:S<0?0:S},w=function(S){for(var O=S>1?1:S,P=O,N=0;N<8;++N){var C=m(P)-O,A=j(P);if(Math.abs(C-O)<Oh||A<Oh)return g(P);P=v(P-C/A)}return g(P)};return w.isStepper=!1,w},XV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,a=n===void 0?100:n,s=t.damping,i=s===void 0?8:s,l=t.dt,u=l===void 0?17:l,d=function(p,m,g){var j=-(p-m)*a,v=g*i,w=g+(j-v)*u/1e3,x=g*u/1e3+p;return Math.abs(x-m)<Oh&&Math.abs(w)<Oh?[m,0]:[x,w]};return d.isStepper=!0,d.dt=u,d},JV=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return IA(s);case"spring":return XV();default:if(s.split("(")[0]==="cubic-bezier")return IA(s)}return typeof s=="function"?s:null};function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function $A(e){return tQ(e)||eQ(e)||Z6(e)||ZV()}function ZV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tQ(e){if(Array.isArray(e))return yb(e)}function LA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(n),!0).forEach(function(a){gb(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function gb(e,t,n){return t=rQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rQ(e){var t=nQ(e,"string");return Ac(t)==="symbol"?t:String(t)}function nQ(e,t){if(Ac(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Ac(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aQ(e,t){return oQ(e)||iQ(e,t)||Z6(e,t)||sQ()}function sQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z6(e,t){if(e){if(typeof e=="string")return yb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yb(e,t)}}function yb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function iQ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,u=[],d=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){h=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function oQ(e){if(Array.isArray(e))return e}var Eh=function(t,n,a){return t+(n-t)*a},vb=function(t){var n=t.from,a=t.to;return n!==a},lQ=function e(t,n,a){var s=Yl(function(i,l){if(vb(l)){var u=t(l.from,l.to,l.velocity),d=aQ(u,2),h=d[0],p=d[1];return Qt(Qt({},l),{},{from:h,velocity:p})}return l},n);return a<1?Yl(function(i,l){return vb(l)?Qt(Qt({},l),{},{velocity:Eh(l.velocity,s[i].velocity,a),from:Eh(l.from,s[i].from,a)}):l},n):e(t,s,a-1)};const cQ=(function(e,t,n,a,s){var i=FV(e,t),l=i.reduce(function(x,S){return Qt(Qt({},x),{},gb({},S,[e[S],t[S]]))},{}),u=i.reduce(function(x,S){return Qt(Qt({},x),{},gb({},S,{from:e[S],velocity:0,to:t[S]}))},{}),d=-1,h,p,m=function(){return null},g=function(){return Yl(function(S,O){return O.from},u)},j=function(){return!Object.values(u).filter(vb).length},v=function(S){h||(h=S);var O=S-h,P=O/n.dt;u=lQ(n,u,P),s(Qt(Qt(Qt({},e),t),g())),h=S,j()||(d=requestAnimationFrame(m))},w=function(S){p||(p=S);var O=(S-p)/a,P=Yl(function(C,A){return Eh.apply(void 0,$A(A).concat([n(O)]))},l);if(s(Qt(Qt(Qt({},e),t),P)),O<1)d=requestAnimationFrame(m);else{var N=Yl(function(C,A){return Eh.apply(void 0,$A(A).concat([n(1)]))},l);s(Qt(Qt(Qt({},e),t),N))}};return m=n.isStepper?v:w,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}});function ho(e){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(e)}var uQ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dQ(e,t){if(e==null)return{};var n=hQ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function hQ(e,t){if(e==null)return{};var n={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Ay(e){return xQ(e)||pQ(e)||mQ(e)||fQ()}function fQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mQ(e,t){if(e){if(typeof e=="string")return bb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bb(e,t)}}function pQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xQ(e){if(Array.isArray(e))return bb(e)}function bb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function DA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(n),!0).forEach(function(a){Kl(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Kl(e,t,n){return t=e_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yQ(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,e_(a.key),a)}}function vQ(e,t,n){return t&&yQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e_(e){var t=bQ(e,"string");return ho(t)==="symbol"?t:String(t)}function bQ(e,t){if(ho(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(ho(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jb(e,t)}function jb(e,t){return jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},jb(e,t)}function wQ(e){var t=NQ();return function(){var a=_h(e),s;if(t){var i=_h(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return wb(this,s)}}function wb(e,t){if(t&&(ho(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nb(e)}function Nb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _h(e){return _h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_h(e)}var Rn=(function(e){jQ(n,e);var t=wQ(n);function n(a,s){var i;gQ(this,n),i=t.call(this,a,s);var l=i.props,u=l.isActive,d=l.attributeName,h=l.from,p=l.to,m=l.steps,g=l.children,j=l.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Nb(i)),i.changeStyle=i.changeStyle.bind(Nb(i)),!u||j<=0)return i.state={style:{}},typeof g=="function"&&(i.state={style:p}),wb(i);if(m&&m.length)i.state={style:m[0].style};else if(h){if(typeof g=="function")return i.state={style:h},wb(i);i.state={style:d?Kl({},d,h):h}}else i.state={style:{}};return i}return vQ(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,l=s.canBegin;this.mounted=!0,!(!i||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,l=i.isActive,u=i.canBegin,d=i.attributeName,h=i.shouldReAnimate,p=i.to,m=i.from,g=this.state.style;if(u){if(!l){var j={style:d?Kl({},d,p):p};this.state&&g&&(d&&g[d]!==p||!d&&g!==p)&&this.setState(j);return}if(!(OV(s.to,p)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=v||h?m:s.to;if(this.state&&g){var x={style:d?Kl({},d,w):w};(d&&g[d]!==w||!d&&g!==w)&&this.setState(x)}this.runAnimation(cn(cn({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,l=s.from,u=s.to,d=s.duration,h=s.easing,p=s.begin,m=s.onAnimationEnd,g=s.onAnimationStart,j=cQ(l,u,JV(h),d,this.changeStyle),v=function(){i.stopJSAnimation=j()};this.manager.start([g,p,v,d,m])}},{key:"runStepAnimation",value:function(s){var i=this,l=s.steps,u=s.begin,d=s.onAnimationStart,h=l[0],p=h.style,m=h.duration,g=m===void 0?0:m,j=function(w,x,S){if(S===0)return w;var O=x.duration,P=x.easing,N=P===void 0?"ease":P,C=x.style,A=x.properties,E=x.onAnimationEnd,M=S>0?l[S-1]:x,R=A||Object.keys(C);if(typeof N=="function"||N==="spring")return[].concat(Ay(w),[i.runJSAnimation.bind(i,{from:M.style,to:C,duration:O,easing:N}),O]);var I=RA(R,O,N),T=cn(cn(cn({},M.style),C),{},{transition:I});return[].concat(Ay(w),[T,O,E]).filter(zV)};return this.manager.start([d].concat(Ay(l.reduce(j,[p,Math.max(g,u)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=$V());var i=s.begin,l=s.duration,u=s.attributeName,d=s.to,h=s.easing,p=s.onAnimationStart,m=s.onAnimationEnd,g=s.steps,j=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof h=="function"||typeof j=="function"||h==="spring"){this.runJSAnimation(s);return}if(g.length>1){this.runStepAnimation(s);return}var w=u?Kl({},u,d):d,x=RA(Object.keys(w),l,h);v.start([p,i,cn(cn({},w),{},{transition:x}),l,m])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var l=s.duration;s.attributeName,s.easing;var u=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var d=dQ(s,uQ),h=b.Children.count(i),p=this.state.style;if(typeof i=="function")return i(p);if(!u||h===0||l<=0)return i;var m=function(j){var v=j.props,w=v.style,x=w===void 0?{}:w,S=v.className,O=b.cloneElement(j,cn(cn({},d),{},{style:cn(cn({},x),p),className:S}));return O};return h===1?m(b.Children.only(i)):V.createElement("div",null,b.Children.map(i,function(g){return m(g)}))}}]),n})(b.PureComponent);Rn.displayName="Animate";Rn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Rn.propTypes={from:Xe.oneOfType([Xe.object,Xe.string]),to:Xe.oneOfType([Xe.object,Xe.string]),attributeName:Xe.string,duration:Xe.number,begin:Xe.number,easing:Xe.oneOfType([Xe.string,Xe.func]),steps:Xe.arrayOf(Xe.shape({duration:Xe.number.isRequired,style:Xe.object.isRequired,easing:Xe.oneOfType([Xe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Xe.func]),properties:Xe.arrayOf("string"),onAnimationEnd:Xe.func})),children:Xe.oneOfType([Xe.node,Xe.func]),isActive:Xe.bool,canBegin:Xe.bool,onAnimationEnd:Xe.func,shouldReAnimate:Xe.bool,onAnimationStart:Xe.func,onAnimationReStart:Xe.func};function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function Th(){return Th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Th.apply(this,arguments)}function SQ(e,t){return PQ(e)||AQ(e,t)||CQ(e,t)||kQ()}function kQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CQ(e,t){if(e){if(typeof e=="string")return FA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FA(e,t)}}function FA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function AQ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,u=[],d=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){h=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function PQ(e){if(Array.isArray(e))return e}function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function BA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(a){OQ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function OQ(e,t,n){return t=EQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EQ(e){var t=_Q(e,"string");return Pc(t)=="symbol"?t:t+""}function _Q(e,t){if(Pc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Pc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qA=function(t,n,a,s,i){var l=Math.min(Math.abs(a)/2,Math.abs(s)/2),u=s>=0?1:-1,d=a>=0?1:-1,h=s>=0&&a>=0||s<0&&a<0?1:0,p;if(l>0&&i instanceof Array){for(var m=[0,0,0,0],g=0,j=4;g<j;g++)m[g]=i[g]>l?l:i[g];p="M".concat(t,",").concat(n+u*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(t+d*m[0],",").concat(n)),p+="L ".concat(t+a-d*m[1],",").concat(n),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(t+a,",").concat(n+u*m[1])),p+="L ".concat(t+a,",").concat(n+s-u*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(t+a-d*m[2],",").concat(n+s)),p+="L ".concat(t+d*m[3],",").concat(n+s),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(n+s-u*m[3])),p+="Z"}else if(l>0&&i===+i&&i>0){var v=Math.min(l,i);p="M ".concat(t,",").concat(n+u*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(h,",").concat(t+d*v,",").concat(n,`
            L `).concat(t+a-d*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(h,",").concat(t+a,",").concat(n+u*v,`
            L `).concat(t+a,",").concat(n+s-u*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(h,",").concat(t+a-d*v,",").concat(n+s,`
            L `).concat(t+d*v,",").concat(n+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(h,",").concat(t,",").concat(n+s-u*v," Z")}else p="M ".concat(t,",").concat(n," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return p},TQ=function(t,n){if(!t||!n)return!1;var a=t.x,s=t.y,i=n.x,l=n.y,u=n.width,d=n.height;if(Math.abs(u)>0&&Math.abs(d)>0){var h=Math.min(i,i+u),p=Math.max(i,i+u),m=Math.min(l,l+d),g=Math.max(l,l+d);return a>=h&&a<=p&&s>=m&&s<=g}return!1},RQ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uw=function(t){var n=BA(BA({},RQ),t),a=b.useRef(),s=b.useState(-1),i=SQ(s,2),l=i[0],u=i[1];b.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var N=a.current.getTotalLength();N&&u(N)}catch{}},[]);var d=n.x,h=n.y,p=n.width,m=n.height,g=n.radius,j=n.className,v=n.animationEasing,w=n.animationDuration,x=n.animationBegin,S=n.isAnimationActive,O=n.isUpdateAnimationActive;if(d!==+d||h!==+h||p!==+p||m!==+m||p===0||m===0)return null;var P=Be("recharts-rectangle",j);return O?V.createElement(Rn,{canBegin:l>0,from:{width:p,height:m,x:d,y:h},to:{width:p,height:m,x:d,y:h},duration:w,animationEasing:v,isActive:O},function(N){var C=N.width,A=N.height,E=N.x,M=N.y;return V.createElement(Rn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,isActive:S,easing:v},V.createElement("path",Th({},Te(n,!0),{className:P,d:qA(E,M,C,A,g),ref:a})))}):V.createElement("path",Th({},Te(n,!0),{className:P,d:qA(d,h,p,m,g)}))},MQ=["points","className","baseLinePoints","connectNulls"];function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$i.apply(this,arguments)}function IQ(e,t){if(e==null)return{};var n=$Q(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function $Q(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function UA(e){return zQ(e)||FQ(e)||DQ(e)||LQ()}function LQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DQ(e,t){if(e){if(typeof e=="string")return Sb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sb(e,t)}}function FQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zQ(e){if(Array.isArray(e))return Sb(e)}function Sb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var WA=function(t){return t&&t.x===+t.x&&t.y===+t.y},BQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(a){WA(a)?n[n.length-1].push(a):n[n.length-1].length>0&&n.push([])}),WA(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Xl=function(t,n){var a=BQ(t);n&&(a=[a.reduce(function(i,l){return[].concat(UA(i),UA(l))},[])]);var s=a.map(function(i){return i.reduce(function(l,u,d){return"".concat(l).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return a.length===1?"".concat(s,"Z"):s},qQ=function(t,n,a){var s=Xl(t,a);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Xl(n.reverse(),a).slice(1))},UQ=function(t){var n=t.points,a=t.className,s=t.baseLinePoints,i=t.connectNulls,l=IQ(t,MQ);if(!n||!n.length)return null;var u=Be("recharts-polygon",a);if(s&&s.length){var d=l.stroke&&l.stroke!=="none",h=qQ(n,s,i);return V.createElement("g",{className:u},V.createElement("path",$i({},Te(l,!0),{fill:h.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:h})),d?V.createElement("path",$i({},Te(l,!0),{fill:"none",d:Xl(n,i)})):null,d?V.createElement("path",$i({},Te(l,!0),{fill:"none",d:Xl(s,i)})):null)}var p=Xl(n,i);return V.createElement("path",$i({},Te(l,!0),{fill:p.slice(-1)==="Z"?l.fill:"none",className:u,d:p}))};function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},kb.apply(this,arguments)}var If=function(t){var n=t.cx,a=t.cy,s=t.r,i=t.className,l=Be("recharts-dot",i);return n===+n&&a===+a&&s===+s?b.createElement("circle",kb({},Te(t,!1),Zd(t),{className:l,cx:n,cy:a,r:s})):null};function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}var WQ=["x","y","top","left","width","height","className"];function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Cb.apply(this,arguments)}function HA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function HQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(n),!0).forEach(function(a){KQ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function KQ(e,t,n){return t=GQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GQ(e){var t=VQ(e,"string");return Oc(t)=="symbol"?t:t+""}function VQ(e,t){if(Oc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Oc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QQ(e,t){if(e==null)return{};var n=YQ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function YQ(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var XQ=function(t,n,a,s,i,l){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(l,",").concat(n,"h").concat(a)},JQ=function(t){var n=t.x,a=n===void 0?0:n,s=t.y,i=s===void 0?0:s,l=t.top,u=l===void 0?0:l,d=t.left,h=d===void 0?0:d,p=t.width,m=p===void 0?0:p,g=t.height,j=g===void 0?0:g,v=t.className,w=QQ(t,WQ),x=HQ({x:a,y:i,top:u,left:h,width:m,height:j},w);return!ge(a)||!ge(i)||!ge(m)||!ge(j)||!ge(u)||!ge(h)?null:V.createElement("path",Cb({},Te(x,!0),{className:Be("recharts-cross",v),d:XQ(a,i,m,j,u,h)}))},Py,KA;function ZQ(){if(KA)return Py;KA=1;var e=Ef(),t=p6(),n=In();function a(s,i){return s&&s.length?e(s,n(i,2),t):void 0}return Py=a,Py}var eY=ZQ();const tY=Ze(eY);var Oy,GA;function rY(){if(GA)return Oy;GA=1;var e=Ef(),t=In(),n=x6();function a(s,i){return s&&s.length?e(s,t(i,2),n):void 0}return Oy=a,Oy}var nY=rY();const aY=Ze(nY);var sY=["cx","cy","angle","ticks","axisLine"],iY=["ticks","tick","angle","tickFormatter","stroke"];function fo(e){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(e)}function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Jl.apply(this,arguments)}function VA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ys(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(n),!0).forEach(function(a){$f(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function QA(e,t){if(e==null)return{};var n=oY(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function oY(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function lY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YA(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,r_(a.key),a)}}function cY(e,t,n){return t&&YA(e.prototype,t),n&&YA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function uY(e,t,n){return t=Rh(t),dY(e,t_()?Reflect.construct(t,n||[],Rh(e).constructor):t.apply(e,n))}function dY(e,t){if(t&&(fo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hY(e)}function hY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t_=function(){return!!e})()}function Rh(e){return Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rh(e)}function fY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ab(e,t)}function Ab(e,t){return Ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Ab(e,t)}function $f(e,t,n){return t=r_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r_(e){var t=mY(e,"string");return fo(t)=="symbol"?t:t+""}function mY(e,t){if(fo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(fo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lf=(function(e){function t(){return lY(this,t),uY(this,t,arguments)}return fY(t,e),cY(t,[{key:"getTickValueCoord",value:function(a){var s=a.coordinate,i=this.props,l=i.angle,u=i.cx,d=i.cy;return ot(u,d,s,l)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,s;switch(a){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var a=this.props,s=a.cx,i=a.cy,l=a.angle,u=a.ticks,d=tY(u,function(p){return p.coordinate||0}),h=aY(u,function(p){return p.coordinate||0});return{cx:s,cy:i,startAngle:l,endAngle:l,innerRadius:h.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,l=a.angle,u=a.ticks,d=a.axisLine,h=QA(a,sY),p=u.reduce(function(v,w){return[Math.min(v[0],w.coordinate),Math.max(v[1],w.coordinate)]},[1/0,-1/0]),m=ot(s,i,p[0],l),g=ot(s,i,p[1],l),j=ys(ys(ys({},Te(h,!1)),{},{fill:"none"},Te(d,!1)),{},{x1:m.x,y1:m.y,x2:g.x,y2:g.y});return V.createElement("line",Jl({className:"recharts-polar-radius-axis-line"},j))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,l=s.tick,u=s.angle,d=s.tickFormatter,h=s.stroke,p=QA(s,iY),m=this.getTickTextAnchor(),g=Te(p,!1),j=Te(l,!1),v=i.map(function(w,x){var S=a.getTickValueCoord(w),O=ys(ys(ys(ys({textAnchor:m,transform:"rotate(".concat(90-u,", ").concat(S.x,", ").concat(S.y,")")},g),{},{stroke:"none",fill:h},j),{},{index:x},S),{},{payload:w});return V.createElement(Ge,Jl({className:Be("recharts-polar-radius-axis-tick",W6(l)),key:"tick-".concat(w.coordinate)},Ks(a.props,w,x)),t.renderTickItem(l,O,d?d(w.value,x):w.value))});return V.createElement(Ge,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.axisLine,l=a.tick;return!s||!s.length?null:V.createElement(Ge,{className:Be("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),l&&this.renderTicks(),Ht.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,s,i){var l;return V.isValidElement(a)?l=V.cloneElement(a,s):Fe(a)?l=a(s):l=V.createElement(Gs,Jl({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),l}}])})(b.PureComponent);$f(Lf,"displayName","PolarRadiusAxis");$f(Lf,"axisType","radiusAxis");$f(Lf,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function mo(e){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mo(e)}function ws(){return ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ws.apply(this,arguments)}function XA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function vs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(n),!0).forEach(function(a){Df(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function pY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JA(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a_(a.key),a)}}function xY(e,t,n){return t&&JA(e.prototype,t),n&&JA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gY(e,t,n){return t=Mh(t),yY(e,n_()?Reflect.construct(t,n||[],Mh(e).constructor):t.apply(e,n))}function yY(e,t){if(t&&(mo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vY(e)}function vY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n_=function(){return!!e})()}function Mh(e){return Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mh(e)}function bY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pb(e,t)}function Pb(e,t){return Pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Pb(e,t)}function Df(e,t,n){return t=a_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a_(e){var t=jY(e,"string");return mo(t)=="symbol"?t:t+""}function jY(e,t){if(mo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(mo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wY=Math.PI/180,ZA=1e-5,Ff=(function(e){function t(){return pY(this,t),gY(this,t,arguments)}return bY(t,e),xY(t,[{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.cx,l=s.cy,u=s.radius,d=s.orientation,h=s.tickSize,p=h||8,m=ot(i,l,u,a.coordinate),g=ot(i,l,u+(d==="inner"?-1:1)*p,a.coordinate);return{x1:m.x,y1:m.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(a){var s=this.props.orientation,i=Math.cos(-a.coordinate*wY),l;return i>ZA?l=s==="outer"?"start":"end":i<-ZA?l=s==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,l=a.radius,u=a.axisLine,d=a.axisLineType,h=vs(vs({},Te(this.props,!1)),{},{fill:"none"},Te(u,!1));if(d==="circle")return V.createElement(If,ws({className:"recharts-polar-angle-axis-line"},h,{cx:s,cy:i,r:l}));var p=this.props.ticks,m=p.map(function(g){return ot(s,i,l,g.coordinate)});return V.createElement(UQ,ws({className:"recharts-polar-angle-axis-line"},h,{points:m}))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,l=s.tick,u=s.tickLine,d=s.tickFormatter,h=s.stroke,p=Te(this.props,!1),m=Te(l,!1),g=vs(vs({},p),{},{fill:"none"},Te(u,!1)),j=i.map(function(v,w){var x=a.getTickLineCoord(v),S=a.getTickTextAnchor(v),O=vs(vs(vs({textAnchor:S},p),{},{stroke:"none",fill:h},m),{},{index:w,payload:v,x:x.x2,y:x.y2});return V.createElement(Ge,ws({className:Be("recharts-polar-angle-axis-tick",W6(l)),key:"tick-".concat(v.coordinate)},Ks(a.props,v,w)),u&&V.createElement("line",ws({className:"recharts-polar-angle-axis-tick-line"},g,x)),l&&t.renderTickItem(l,O,d?d(v.value,w):v.value))});return V.createElement(Ge,{className:"recharts-polar-angle-axis-ticks"},j)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.radius,l=a.axisLine;return i<=0||!s||!s.length?null:V.createElement(Ge,{className:Be("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,s,i){var l;return V.isValidElement(a)?l=V.cloneElement(a,s):Fe(a)?l=a(s):l=V.createElement(Gs,ws({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),l}}])})(b.PureComponent);Df(Ff,"displayName","PolarAngleAxis");Df(Ff,"axisType","angleAxis");Df(Ff,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Ey,eP;function NY(){if(eP)return Ey;eP=1;var e=pE(),t=e(Object.getPrototypeOf,Object);return Ey=t,Ey}var _y,tP;function SY(){if(tP)return _y;tP=1;var e=ca(),t=NY(),n=ua(),a="[object Object]",s=Function.prototype,i=Object.prototype,l=s.toString,u=i.hasOwnProperty,d=l.call(Object);function h(p){if(!n(p)||e(p)!=a)return!1;var m=t(p);if(m===null)return!0;var g=u.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&l.call(g)==d}return _y=h,_y}var kY=SY();const CY=Ze(kY);var Ty,rP;function AY(){if(rP)return Ty;rP=1;var e=ca(),t=ua(),n="[object Boolean]";function a(s){return s===!0||s===!1||t(s)&&e(s)==n}return Ty=a,Ty}var PY=AY();const OY=Ze(PY);function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ih.apply(this,arguments)}function EY(e,t){return MY(e)||RY(e,t)||TY(e,t)||_Y()}function _Y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TY(e,t){if(e){if(typeof e=="string")return nP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nP(e,t)}}function nP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function RY(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,u=[],d=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){h=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function MY(e){if(Array.isArray(e))return e}function aP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function sP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(n),!0).forEach(function(a){IY(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function IY(e,t,n){return t=$Y(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Y(e){var t=LY(e,"string");return Ec(t)=="symbol"?t:t+""}function LY(e,t){if(Ec(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Ec(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iP=function(t,n,a,s,i){var l=a-s,u;return u="M ".concat(t,",").concat(n),u+="L ".concat(t+a,",").concat(n),u+="L ".concat(t+a-l/2,",").concat(n+i),u+="L ".concat(t+a-l/2-s,",").concat(n+i),u+="L ".concat(t,",").concat(n," Z"),u},DY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FY=function(t){var n=sP(sP({},DY),t),a=b.useRef(),s=b.useState(-1),i=EY(s,2),l=i[0],u=i[1];b.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var P=a.current.getTotalLength();P&&u(P)}catch{}},[]);var d=n.x,h=n.y,p=n.upperWidth,m=n.lowerWidth,g=n.height,j=n.className,v=n.animationEasing,w=n.animationDuration,x=n.animationBegin,S=n.isUpdateAnimationActive;if(d!==+d||h!==+h||p!==+p||m!==+m||g!==+g||p===0&&m===0||g===0)return null;var O=Be("recharts-trapezoid",j);return S?V.createElement(Rn,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:g,x:d,y:h},to:{upperWidth:p,lowerWidth:m,height:g,x:d,y:h},duration:w,animationEasing:v,isActive:S},function(P){var N=P.upperWidth,C=P.lowerWidth,A=P.height,E=P.x,M=P.y;return V.createElement(Rn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,easing:v},V.createElement("path",Ih({},Te(n,!0),{className:O,d:iP(E,M,N,C,A),ref:a})))}):V.createElement("g",null,V.createElement("path",Ih({},Te(n,!0),{className:O,d:iP(d,h,p,m,g)})))},zY=["option","shapeType","propTransformer","activeClassName","isActive"];function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function BY(e,t){if(e==null)return{};var n=qY(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function qY(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function oP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function $h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(n),!0).forEach(function(a){UY(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function UY(e,t,n){return t=WY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WY(e){var t=HY(e,"string");return _c(t)=="symbol"?t:t+""}function HY(e,t){if(_c(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(_c(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KY(e,t){return $h($h({},t),e)}function GY(e,t){return e==="symbols"}function lP(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return V.createElement(uw,n);case"trapezoid":return V.createElement(FY,n);case"sector":return V.createElement(G6,n);case"symbols":if(GY(t))return V.createElement(Pj,n);break;default:return null}}function VY(e){return b.isValidElement(e)?e.props:e}function s_(e){var t=e.option,n=e.shapeType,a=e.propTransformer,s=a===void 0?KY:a,i=e.activeClassName,l=i===void 0?"recharts-active-shape":i,u=e.isActive,d=BY(e,zY),h;if(b.isValidElement(t))h=b.cloneElement(t,$h($h({},d),VY(t)));else if(Fe(t))h=t(d);else if(CY(t)&&!OY(t)){var p=s(t,d);h=V.createElement(lP,{shapeType:n,elementProps:p})}else{var m=d;h=V.createElement(lP,{shapeType:n,elementProps:m})}return u?V.createElement(Ge,{className:l},h):h}function zf(e,t){return t!=null&&"trapezoids"in e.props}function Bf(e,t){return t!=null&&"sectors"in e.props}function Tc(e,t){return t!=null&&"points"in e.props}function QY(e,t){var n,a,s=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return s&&i}function YY(e,t){var n=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return n&&a}function XY(e,t){var n=e.x===t.x,a=e.y===t.y,s=e.z===t.z;return n&&a&&s}function JY(e,t){var n;return zf(e,t)?n=QY:Bf(e,t)?n=YY:Tc(e,t)&&(n=XY),n}function ZY(e,t){var n;return zf(e,t)?n="trapezoids":Bf(e,t)?n="sectors":Tc(e,t)&&(n="points"),n}function eX(e,t){if(zf(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Bf(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return Tc(e,t)?t.payload:{}}function tX(e){var t=e.activeTooltipItem,n=e.graphicalItem,a=e.itemData,s=ZY(n,t),i=eX(n,t),l=a.filter(function(d,h){var p=au(i,d),m=n.props[s].filter(function(v){var w=JY(n,t);return w(v,t)}),g=n.props[s].indexOf(m[m.length-1]),j=h===g;return p&&j}),u=a.indexOf(l[l.length-1]);return u}var zd;function po(e){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(e)}function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Li.apply(this,arguments)}function cP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(n),!0).forEach(function(a){Vr(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function rX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uP(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,o_(a.key),a)}}function nX(e,t,n){return t&&uP(e.prototype,t),n&&uP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function aX(e,t,n){return t=Lh(t),sX(e,i_()?Reflect.construct(t,n||[],Lh(e).constructor):t.apply(e,n))}function sX(e,t){if(t&&(po(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iX(e)}function iX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i_=function(){return!!e})()}function Lh(e){return Lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lh(e)}function oX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ob(e,t)}function Ob(e,t){return Ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Ob(e,t)}function Vr(e,t,n){return t=o_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o_(e){var t=lX(e,"string");return po(t)=="symbol"?t:t+""}function lX(e,t){if(po(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(po(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ha=(function(e){function t(n){var a;return rX(this,t),a=aX(this,t,[n]),Vr(a,"pieRef",null),Vr(a,"sectorRefs",[]),Vr(a,"id",$o("recharts-pie-")),Vr(a,"handleAnimationEnd",function(){var s=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),Fe(s)&&s()}),Vr(a,"handleAnimationStart",function(){var s=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),Fe(s)&&s()}),a.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},a}return oX(t,e),nX(t,[{key:"isActiveIndex",value:function(a){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(a)!==-1:a===s}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.label,u=i.labelLine,d=i.dataKey,h=i.valueKey,p=Te(this.props,!1),m=Te(l,!1),g=Te(u,!1),j=l&&l.offsetRadius||20,v=a.map(function(w,x){var S=(w.startAngle+w.endAngle)/2,O=ot(w.cx,w.cy,w.outerRadius+j,S),P=st(st(st(st({},p),w),{},{stroke:"none"},m),{},{index:x,textAnchor:t.getTextAnchor(O.x,w.cx)},O),N=st(st(st(st({},p),w),{},{fill:"none",stroke:w.fill},g),{},{index:x,points:[ot(w.cx,w.cy,w.outerRadius,S),O]}),C=d;return ze(d)&&ze(h)?C="value":ze(d)&&(C=h),V.createElement(Ge,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(x)},u&&t.renderLabelLineItem(u,N,"line"),t.renderLabelItem(l,P,$t(w,C)))});return V.createElement(Ge,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(a){var s=this,i=this.props,l=i.activeShape,u=i.blendStroke,d=i.inactiveShape;return a.map(function(h,p){if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&a.length!==1)return null;var m=s.isActiveIndex(p),g=d&&s.hasActiveIndex()?d:null,j=m?l:g,v=st(st({},h),{},{stroke:u?h.fill:h.stroke,tabIndex:-1});return V.createElement(Ge,Li({ref:function(x){x&&!s.sectorRefs.includes(x)&&s.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Ks(s.props,h,p),{key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(p)}),V.createElement(s_,Li({option:j,isActive:m,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,s=this.props,i=s.sectors,l=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,h=s.animationEasing,p=s.animationId,m=this.state,g=m.prevSectors,j=m.prevIsAnimationActive;return V.createElement(Rn,{begin:u,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(j),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var w=v.t,x=[],S=i&&i[0],O=S.startAngle;return i.forEach(function(P,N){var C=g&&g[N],A=N>0?Mr(P,"paddingAngle",0):0;if(C){var E=_r(C.endAngle-C.startAngle,P.endAngle-P.startAngle),M=st(st({},P),{},{startAngle:O+A,endAngle:O+E(w)+A});x.push(M),O=M.endAngle}else{var R=P.endAngle,I=P.startAngle,T=_r(0,R-I),$=T(w),W=st(st({},P),{},{startAngle:O+A,endAngle:O+$+A});x.push(W),O=W.endAngle}}),V.createElement(Ge,null,a.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(a){var s=this;a.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var l=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"ArrowRight":{var u=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[u].focus(),s.setState({sectorToFocus:u});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,s=a.sectors,i=a.isAnimationActive,l=this.state.prevSectors;return i&&s&&s.length&&(!l||!au(l,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,s=this.props,i=s.hide,l=s.sectors,u=s.className,d=s.label,h=s.cx,p=s.cy,m=s.innerRadius,g=s.outerRadius,j=s.isAnimationActive,v=this.state.isAnimationFinished;if(i||!l||!l.length||!ge(h)||!ge(p)||!ge(m)||!ge(g))return null;var w=Be("recharts-pie",u);return V.createElement(Ge,{tabIndex:this.props.rootTabIndex,className:w,ref:function(S){a.pieRef=S}},this.renderSectors(),d&&this.renderLabels(l),Ht.renderCallByParent(this.props,null,!1),(!j||v)&&na.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return s.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:a.sectors!==s.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,s){return a>s?"start":a<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,s,i){if(V.isValidElement(a))return V.cloneElement(a,s);if(Fe(a))return a(s);var l=Be("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return V.createElement(Ah,Li({},s,{key:i,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(a,s,i){if(V.isValidElement(a))return V.cloneElement(a,s);var l=i;if(Fe(a)&&(l=a(s),V.isValidElement(l)))return l;var u=Be("recharts-pie-label-text",typeof a!="boolean"&&!Fe(a)?a.className:"");return V.createElement(Gs,Li({},s,{alignmentBaseline:"middle",className:u}),l)}}])})(b.PureComponent);zd=ha;Vr(ha,"displayName","Pie");Vr(ha,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ei.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Vr(ha,"parseDeltaAngle",function(e,t){var n=lr(t-e),a=Math.min(Math.abs(t-e),360);return n*a});Vr(ha,"getRealPieData",function(e){var t=e.data,n=e.children,a=Te(e,!1),s=Ir(n,Nf);return t&&t.length?t.map(function(i,l){return st(st(st({payload:i},a),i),s&&s[l]&&s[l].props)}):s&&s.length?s.map(function(i){return st(st({},a),i.props)}):[]});Vr(ha,"parseCoordinateOfPie",function(e,t){var n=t.top,a=t.left,s=t.width,i=t.height,l=U6(s,i),u=a+cr(e.cx,s,s/2),d=n+cr(e.cy,i,i/2),h=cr(e.innerRadius,l,0),p=cr(e.outerRadius,l,l*.8),m=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:u,cy:d,innerRadius:h,outerRadius:p,maxRadius:m}});Vr(ha,"getComposedData",function(e){var t=e.item,n=e.offset,a=t.type.defaultProps!==void 0?st(st({},t.type.defaultProps),t.props):t.props,s=zd.getRealPieData(a);if(!s||!s.length)return null;var i=a.cornerRadius,l=a.startAngle,u=a.endAngle,d=a.paddingAngle,h=a.dataKey,p=a.nameKey,m=a.valueKey,g=a.tooltipType,j=Math.abs(a.minAngle),v=zd.parseCoordinateOfPie(a,n),w=zd.parseDeltaAngle(l,u),x=Math.abs(w),S=h;ze(h)&&ze(m)?(pn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):ze(h)&&(pn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=m);var O=s.filter(function(M){return $t(M,S,0)!==0}).length,P=(x>=360?O:O-1)*d,N=x-O*j-P,C=s.reduce(function(M,R){var I=$t(R,S,0);return M+(ge(I)?I:0)},0),A;if(C>0){var E;A=s.map(function(M,R){var I=$t(M,S,0),T=$t(M,p,R),$=(ge(I)?I:0)/C,W;R?W=E.endAngle+lr(w)*d*(I!==0?1:0):W=l;var X=W+lr(w)*((I!==0?j:0)+$*N),B=(W+X)/2,q=(v.innerRadius+v.outerRadius)/2,U=[{name:T,value:I,payload:M,dataKey:S,type:g}],G=ot(v.cx,v.cy,q,B);return E=st(st(st({percent:$,cornerRadius:i,name:T,tooltipPayload:U,midAngle:B,middleRadius:q,tooltipPosition:G},M),v),{},{value:$t(M,S),startAngle:W,endAngle:X,payload:M,paddingAngle:lr(w)*d}),E})}return st(st({},v),{},{sectors:A,data:s})});var Ry,dP;function cX(){if(dP)return Ry;dP=1;var e=Math.ceil,t=Math.max;function n(a,s,i,l){for(var u=-1,d=t(e((s-a)/(i||1)),0),h=Array(d);d--;)h[l?d:++u]=a,a+=i;return h}return Ry=n,Ry}var My,hP;function l_(){if(hP)return My;hP=1;var e=_E(),t=1/0,n=17976931348623157e292;function a(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var i=s<0?-1:1;return i*n}return s===s?s:0}return My=a,My}var Iy,fP;function uX(){if(fP)return Iy;fP=1;var e=cX(),t=wf(),n=l_();function a(s){return function(i,l,u){return u&&typeof u!="number"&&t(i,l,u)&&(l=u=void 0),i=n(i),l===void 0?(l=i,i=0):l=n(l),u=u===void 0?i<l?1:-1:n(u),e(i,l,u,s)}}return Iy=a,Iy}var $y,mP;function dX(){if(mP)return $y;mP=1;var e=uX(),t=e();return $y=t,$y}var hX=dX();const Dh=Ze(hX);function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function pP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function xP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(n),!0).forEach(function(a){c_(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function c_(e,t,n){return t=fX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fX(e){var t=mX(e,"string");return Rc(t)=="symbol"?t:t+""}function mX(e,t){if(Rc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Rc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pX=["Webkit","Moz","O","ms"],xX=function(t,n){var a=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=pX.reduce(function(i,l){return xP(xP({},i),{},c_({},l+a,n))},{});return s[t]=n,s};function xo(e){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(e)}function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fh.apply(this,arguments)}function gP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ly(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(n),!0).forEach(function(a){Or(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function gX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yP(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,d_(a.key),a)}}function yX(e,t,n){return t&&yP(e.prototype,t),n&&yP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vX(e,t,n){return t=zh(t),bX(e,u_()?Reflect.construct(t,n||[],zh(e).constructor):t.apply(e,n))}function bX(e,t){if(t&&(xo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jX(e)}function jX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u_=function(){return!!e})()}function zh(e){return zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zh(e)}function wX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eb(e,t)}function Eb(e,t){return Eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Eb(e,t)}function Or(e,t,n){return t=d_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d_(e){var t=NX(e,"string");return xo(t)=="symbol"?t:t+""}function NX(e,t){if(xo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(xo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var SX=function(t){var n=t.data,a=t.startIndex,s=t.endIndex,i=t.x,l=t.width,u=t.travellerWidth;if(!n||!n.length)return{};var d=n.length,h=Vl().domain(Dh(0,d)).range([i,i+l-u]),p=h.domain().map(function(m){return h(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(a),endX:h(s),scale:h,scaleValues:p}},vP=function(t){return t.changedTouches&&!!t.changedTouches.length},go=(function(e){function t(n){var a;return gX(this,t),a=vX(this,t,[n]),Or(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),Or(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),Or(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,i=s.endIndex,l=s.onDragEnd,u=s.startIndex;l==null||l({endIndex:i,startIndex:u})}),a.detachDragEndListener()}),Or(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),Or(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),Or(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),Or(a,"handleSlideDragStart",function(s){var i=vP(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return wX(t,e),yX(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,i=a.endX,l=this.state.scaleValues,u=this.props,d=u.gap,h=u.data,p=h.length-1,m=Math.min(s,i),g=Math.max(s,i),j=t.getIndexInRange(l,m),v=t.getIndexInRange(l,g);return{startIndex:j-j%d,endIndex:v===p?p:v-v%d}}},{key:"getTextOfTick",value:function(a){var s=this.props,i=s.data,l=s.tickFormatter,u=s.dataKey,d=$t(i[a],u,a);return Fe(l)?l(d,a):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,i=s.slideMoveStartX,l=s.startX,u=s.endX,d=this.props,h=d.x,p=d.width,m=d.travellerWidth,g=d.startIndex,j=d.endIndex,v=d.onChange,w=a.pageX-i;w>0?w=Math.min(w,h+p-m-u,h+p-m-l):w<0&&(w=Math.max(w,h-l,h-u));var x=this.getIndex({startX:l+w,endX:u+w});(x.startIndex!==g||x.endIndex!==j)&&v&&v(x),this.setState({startX:l+w,endX:u+w,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var i=vP(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,i=s.brushMoveStartX,l=s.movingTravellerId,u=s.endX,d=s.startX,h=this.state[l],p=this.props,m=p.x,g=p.width,j=p.travellerWidth,v=p.onChange,w=p.gap,x=p.data,S={startX:this.state.startX,endX:this.state.endX},O=a.pageX-i;O>0?O=Math.min(O,m+g-j-h):O<0&&(O=Math.max(O,m-h)),S[l]=h+O;var P=this.getIndex(S),N=P.startIndex,C=P.endIndex,A=function(){var M=x.length-1;return l==="startX"&&(u>d?N%w===0:C%w===0)||u<d&&C===M||l==="endX"&&(u>d?C%w===0:N%w===0)||u>d&&C===M};this.setState(Or(Or({},l,h+O),"brushMoveStartX",a.pageX),function(){v&&A()&&v(P)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var i=this,l=this.state,u=l.scaleValues,d=l.startX,h=l.endX,p=this.state[s],m=u.indexOf(p);if(m!==-1){var g=m+a;if(!(g===-1||g>=u.length)){var j=u[g];s==="startX"&&j>=h||s==="endX"&&j<=d||this.setState(Or({},s,j),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,u=a.height,d=a.fill,h=a.stroke;return V.createElement("rect",{stroke:h,fill:d,x:s,y:i,width:l,height:u})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,u=a.height,d=a.data,h=a.children,p=a.padding,m=b.Children.only(h);return m?V.cloneElement(m,{x:s,y:i,width:l,height:u,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(a,s){var i,l,u=this,d=this.props,h=d.y,p=d.travellerWidth,m=d.height,g=d.traveller,j=d.ariaLabel,v=d.data,w=d.startIndex,x=d.endIndex,S=Math.max(a,this.props.x),O=Ly(Ly({},Te(this.props,!1)),{},{x:S,y:h,width:p,height:m}),P=j||"Min value: ".concat((i=v[w])===null||i===void 0?void 0:i.name,", Max value: ").concat((l=v[x])===null||l===void 0?void 0:l.name);return V.createElement(Ge,{tabIndex:0,role:"slider","aria-label":P,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),u.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,s))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,O))}},{key:"renderSlide",value:function(a,s){var i=this.props,l=i.y,u=i.height,d=i.stroke,h=i.travellerWidth,p=Math.min(a,s)+h,m=Math.max(Math.abs(s-a)-h,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:l,width:m,height:u})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,i=a.endIndex,l=a.y,u=a.height,d=a.travellerWidth,h=a.stroke,p=this.state,m=p.startX,g=p.endX,j=5,v={pointerEvents:"none",fill:h};return V.createElement(Ge,{className:"recharts-brush-texts"},V.createElement(Gs,Fh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,g)-j,y:l+u/2},v),this.getTextOfTick(s)),V.createElement(Gs,Fh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,g)+d+j,y:l+u/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,s=a.data,i=a.className,l=a.children,u=a.x,d=a.y,h=a.width,p=a.height,m=a.alwaysShowText,g=this.state,j=g.startX,v=g.endX,w=g.isTextActive,x=g.isSlideMoving,S=g.isTravellerMoving,O=g.isTravellerFocused;if(!s||!s.length||!ge(u)||!ge(d)||!ge(h)||!ge(p)||h<=0||p<=0)return null;var P=Be("recharts-brush",i),N=V.Children.count(l)===1,C=xX("userSelect","none");return V.createElement(Ge,{className:P,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(j,v),this.renderTravellerLayer(j,"startX"),this.renderTravellerLayer(v,"endX"),(w||x||S||O||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,i=a.y,l=a.width,u=a.height,d=a.stroke,h=Math.floor(i+u/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:s,y:i,width:l,height:u,fill:d,stroke:"none"}),V.createElement("line",{x1:s+1,y1:h,x2:s+l-1,y2:h,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:s+1,y1:h+2,x2:s+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var i;return V.isValidElement(a)?i=V.cloneElement(a,s):Fe(a)?i=a(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(a,s){var i=a.data,l=a.width,u=a.x,d=a.travellerWidth,h=a.updateId,p=a.startIndex,m=a.endIndex;if(i!==s.prevData||h!==s.prevUpdateId)return Ly({prevData:i,prevTravellerWidth:d,prevUpdateId:h,prevX:u,prevWidth:l},i&&i.length?SX({data:i,width:l,x:u,travellerWidth:d,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(s.scale&&(l!==s.prevWidth||u!==s.prevX||d!==s.prevTravellerWidth)){s.scale.range([u,u+l-d]);var g=s.scale.domain().map(function(j){return s.scale(j)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:h,prevX:u,prevWidth:l,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(a,s){for(var i=a.length,l=0,u=i-1;u-l>1;){var d=Math.floor((l+u)/2);a[d]>s?u=d:l=d}return s>=a[u]?u:l}}])})(b.PureComponent);Or(go,"displayName","Brush");Or(go,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Dy,bP;function kX(){if(bP)return Dy;bP=1;var e=Ij();function t(n,a){var s;return e(n,function(i,l,u){return s=a(i,l,u),!s}),!!s}return Dy=t,Dy}var Fy,jP;function CX(){if(jP)return Fy;jP=1;var e=lE(),t=In(),n=kX(),a=Nr(),s=wf();function i(l,u,d){var h=a(l)?e:n;return d&&s(l,u,d)&&(u=void 0),h(l,t(u,3))}return Fy=i,Fy}var AX=CX();const PX=Ze(AX);var _n=function(t,n){var a=t.alwaysShow,s=t.ifOverflow;return a&&(s="extendDomain"),s===n},zy,wP;function OX(){if(wP)return zy;wP=1;var e=CE();function t(n,a,s){a=="__proto__"&&e?e(n,a,{configurable:!0,enumerable:!0,value:s,writable:!0}):n[a]=s}return zy=t,zy}var By,NP;function EX(){if(NP)return By;NP=1;var e=OX(),t=SE(),n=In();function a(s,i){var l={};return i=n(i,3),t(s,function(u,d,h){e(l,d,i(u,d,h))}),l}return By=a,By}var _X=EX();const TX=Ze(_X);var qy,SP;function RX(){if(SP)return qy;SP=1;function e(t,n){for(var a=-1,s=t==null?0:t.length;++a<s;)if(!n(t[a],a,t))return!1;return!0}return qy=e,qy}var Uy,kP;function MX(){if(kP)return Uy;kP=1;var e=Ij();function t(n,a){var s=!0;return e(n,function(i,l,u){return s=!!a(i,l,u),s}),s}return Uy=t,Uy}var Wy,CP;function IX(){if(CP)return Wy;CP=1;var e=RX(),t=MX(),n=In(),a=Nr(),s=wf();function i(l,u,d){var h=a(l)?e:t;return d&&s(l,u,d)&&(u=void 0),h(l,n(u,3))}return Wy=i,Wy}var $X=IX();const h_=Ze($X);var LX=["x","y"];function Mc(e){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_b.apply(this,arguments)}function AP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function zl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(n),!0).forEach(function(a){DX(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function DX(e,t,n){return t=FX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FX(e){var t=zX(e,"string");return Mc(t)=="symbol"?t:t+""}function zX(e,t){if(Mc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Mc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BX(e,t){if(e==null)return{};var n=qX(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function qX(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function UX(e,t){var n=e.x,a=e.y,s=BX(e,LX),i="".concat(n),l=parseInt(i,10),u="".concat(a),d=parseInt(u,10),h="".concat(t.height||s.height),p=parseInt(h,10),m="".concat(t.width||s.width),g=parseInt(m,10);return zl(zl(zl(zl(zl({},t),s),l?{x:l}:{}),d?{y:d}:{}),{},{height:p,width:g,name:t.name,radius:t.radius})}function PP(e){return V.createElement(s_,_b({shapeType:"rectangle",propTransformer:UX,activeClassName:"recharts-active-bar"},e))}var WX=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof t=="number")return t;var i=ge(a)||u9(a);return i?t(a,s):(i||Qs(),n)}},HX=["value","background"],f_;function yo(e){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(e)}function KX(e,t){if(e==null)return{};var n=GX(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function GX(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Bh.apply(this,arguments)}function OP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(n),!0).forEach(function(a){Ha(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function VX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EP(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,p_(a.key),a)}}function QX(e,t,n){return t&&EP(e.prototype,t),n&&EP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function YX(e,t,n){return t=qh(t),XX(e,m_()?Reflect.construct(t,n||[],qh(e).constructor):t.apply(e,n))}function XX(e,t){if(t&&(yo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JX(e)}function JX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m_=function(){return!!e})()}function qh(e){return qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qh(e)}function ZX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tb(e,t)}function Tb(e,t){return Tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Tb(e,t)}function Ha(e,t,n){return t=p_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p_(e){var t=eJ(e,"string");return yo(t)=="symbol"?t:t+""}function eJ(e,t){if(yo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(yo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xa=(function(e){function t(){var n;VX(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=YX(this,t,[].concat(s)),Ha(n,"state",{isAnimationFinished:!1}),Ha(n,"id",$o("recharts-bar-")),Ha(n,"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),l&&l()}),Ha(n,"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),l&&l()}),n}return ZX(t,e),QX(t,[{key:"renderRectanglesStatically",value:function(a){var s=this,i=this.props,l=i.shape,u=i.dataKey,d=i.activeIndex,h=i.activeBar,p=Te(this.props,!1);return a&&a.map(function(m,g){var j=g===d,v=j?h:l,w=At(At(At({},p),m),{},{isActive:j,option:v,index:g,dataKey:u,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return V.createElement(Ge,Bh({className:"recharts-bar-rectangle"},Ks(s.props,m,g),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(g)}),V.createElement(PP,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,i=s.data,l=s.layout,u=s.isAnimationActive,d=s.animationBegin,h=s.animationDuration,p=s.animationEasing,m=s.animationId,g=this.state.prevData;return V.createElement(Rn,{begin:d,duration:h,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var v=j.t,w=i.map(function(x,S){var O=g&&g[S];if(O){var P=_r(O.x,x.x),N=_r(O.y,x.y),C=_r(O.width,x.width),A=_r(O.height,x.height);return At(At({},x),{},{x:P(v),y:N(v),width:C(v),height:A(v)})}if(l==="horizontal"){var E=_r(0,x.height),M=E(v);return At(At({},x),{},{y:x.y+x.height-M,height:M})}var R=_r(0,x.width),I=R(v);return At(At({},x),{},{width:I})});return V.createElement(Ge,null,a.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,l=this.state.prevData;return i&&s&&s.length&&(!l||!au(l,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,i=s.data,l=s.dataKey,u=s.activeIndex,d=Te(this.props.background,!1);return i.map(function(h,p){h.value;var m=h.background,g=KX(h,HX);if(!m)return null;var j=At(At(At(At(At({},g),{},{fill:"#eee"},m),d),Ks(a.props,h,p)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return V.createElement(PP,Bh({key:"background-bar-".concat(p),option:a.props.background,isActive:p===u},j))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.data,u=i.xAxis,d=i.yAxis,h=i.layout,p=i.children,m=Ir(p,su);if(!m)return null;var g=h==="vertical"?l[0].height/2:l[0].width/2,j=function(x,S){var O=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:O,errorVal:$t(x,S)}},v={clipPath:a?"url(#clipPath-".concat(s,")"):null};return V.createElement(Ge,v,m.map(function(w){return V.cloneElement(w,{key:"error-bar-".concat(s,"-").concat(w.props.dataKey),data:l,xAxis:u,yAxis:d,layout:h,offset:g,dataPointFormatter:j})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,l=a.className,u=a.xAxis,d=a.yAxis,h=a.left,p=a.top,m=a.width,g=a.height,j=a.isAnimationActive,v=a.background,w=a.id;if(s||!i||!i.length)return null;var x=this.state.isAnimationFinished,S=Be("recharts-bar",l),O=u&&u.allowDataOverflow,P=d&&d.allowDataOverflow,N=O||P,C=ze(w)?this.id:w;return V.createElement(Ge,{className:S},O||P?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(C)},V.createElement("rect",{x:O?h:h-m/2,y:P?p:p-g/2,width:O?m:m*2,height:P?g:g*2}))):null,V.createElement(Ge,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(C,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,C),(!j||x)&&na.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])})(b.PureComponent);f_=Xa;Ha(Xa,"displayName","Bar");Ha(Xa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ei.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ha(Xa,"getComposedData",function(e){var t=e.props,n=e.item,a=e.barPosition,s=e.bandSize,i=e.xAxis,l=e.yAxis,u=e.xAxisTicks,d=e.yAxisTicks,h=e.stackedData,p=e.dataStartIndex,m=e.displayedData,g=e.offset,j=kK(a,n);if(!j)return null;var v=t.layout,w=n.type.defaultProps,x=w!==void 0?At(At({},w),n.props):n.props,S=x.dataKey,O=x.children,P=x.minPointSize,N=v==="horizontal"?l:i,C=h?N.scale.domain():null,A=TK({numericAxis:N}),E=Ir(O,Nf),M=m.map(function(R,I){var T,$,W,X,B,q;h?T=CK(h[p+I],C):(T=$t(R,S),Array.isArray(T)||(T=[A,T]));var U=WX(P,f_.defaultProps.minPointSize)(T[1],I);if(v==="horizontal"){var G,Y=[l.scale(T[0]),l.scale(T[1])],z=Y[0],F=Y[1];$=aA({axis:i,ticks:u,bandSize:s,offset:j.offset,entry:R,index:I}),W=(G=F??z)!==null&&G!==void 0?G:void 0,X=j.size;var D=z-F;if(B=Number.isNaN(D)?0:D,q={x:$,y:l.y,width:X,height:l.height},Math.abs(U)>0&&Math.abs(B)<Math.abs(U)){var K=lr(B||U)*(Math.abs(U)-Math.abs(B));W-=K,B+=K}}else{var te=[i.scale(T[0]),i.scale(T[1])],de=te[0],xe=te[1];if($=de,W=aA({axis:l,ticks:d,bandSize:s,offset:j.offset,entry:R,index:I}),X=xe-de,B=j.size,q={x:i.x,y:W,width:i.width,height:B},Math.abs(U)>0&&Math.abs(X)<Math.abs(U)){var ie=lr(X||U)*(Math.abs(U)-Math.abs(X));X+=ie}}return At(At(At({},R),{},{x:$,y:W,width:X,height:B,value:h?T:T[1],payload:R,background:q},E&&E[I]&&E[I].props),{},{tooltipPayload:[B6(n,R)],tooltipPosition:{x:$+X/2,y:W+B/2}})});return At({data:M,layout:v},g)});function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function tJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _P(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,x_(a.key),a)}}function rJ(e,t,n){return t&&_P(e.prototype,t),n&&_P(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function TP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(n),!0).forEach(function(a){qf(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function qf(e,t,n){return t=x_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x_(e){var t=nJ(e,"string");return Ic(t)=="symbol"?t:t+""}function nJ(e,t){if(Ic(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Ic(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g_=function(t,n,a,s,i){var l=t.width,u=t.height,d=t.layout,h=t.children,p=Object.keys(n),m={left:a.left,leftMirror:a.left,right:l-a.right,rightMirror:l-a.right,top:a.top,topMirror:a.top,bottom:u-a.bottom,bottomMirror:u-a.bottom},g=!!Er(h,Xa);return p.reduce(function(j,v){var w=n[v],x=w.orientation,S=w.domain,O=w.padding,P=O===void 0?{}:O,N=w.mirror,C=w.reversed,A="".concat(x).concat(N?"Mirror":""),E,M,R,I,T;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var $=S[1]-S[0],W=1/0,X=w.categoricalDomain.sort(f9);if(X.forEach(function(te,de){de>0&&(W=Math.min((te||0)-(X[de-1]||0),W))}),Number.isFinite(W)){var B=W/$,q=w.layout==="vertical"?a.height:a.width;if(w.padding==="gap"&&(E=B*q/2),w.padding==="no-gap"){var U=cr(t.barCategoryGap,B*q),G=B*q/2;E=G-U-(G-U)/q*U}}}s==="xAxis"?M=[a.left+(P.left||0)+(E||0),a.left+a.width-(P.right||0)-(E||0)]:s==="yAxis"?M=d==="horizontal"?[a.top+a.height-(P.bottom||0),a.top+(P.top||0)]:[a.top+(P.top||0)+(E||0),a.top+a.height-(P.bottom||0)-(E||0)]:M=w.range,C&&(M=[M[1],M[0]]);var Y=L6(w,i,g),z=Y.scale,F=Y.realScaleType;z.domain(S).range(M),D6(z);var D=F6(z,hn(hn({},w),{},{realScaleType:F}));s==="xAxis"?(T=x==="top"&&!N||x==="bottom"&&N,R=a.left,I=m[A]-T*w.height):s==="yAxis"&&(T=x==="left"&&!N||x==="right"&&N,R=m[A]-T*w.width,I=a.top);var K=hn(hn(hn({},w),D),{},{realScaleType:F,x:R,y:I,scale:z,width:s==="xAxis"?a.width:w.width,height:s==="yAxis"?a.height:w.height});return K.bandSize=Sh(K,D),!w.hide&&s==="xAxis"?m[A]+=(T?-1:1)*K.height:w.hide||(m[A]+=(T?-1:1)*K.width),hn(hn({},j),{},qf({},v,K))},{})},y_=function(t,n){var a=t.x,s=t.y,i=n.x,l=n.y;return{x:Math.min(a,i),y:Math.min(s,l),width:Math.abs(i-a),height:Math.abs(l-s)}},aJ=function(t){var n=t.x1,a=t.y1,s=t.x2,i=t.y2;return y_({x:n,y:a},{x:s,y:i})},v_=(function(){function e(t){tJ(this,e),this.scale=t}return rJ(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(s){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+d}return this.scale(n)}}},{key:"isInRange",value:function(n){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?n>=s&&n<=i:n>=i&&n<=s}}],[{key:"create",value:function(n){return new e(n)}}])})();qf(v_,"EPS",1e-4);var dw=function(t){var n=Object.keys(t).reduce(function(a,s){return hn(hn({},a),{},qf({},s,v_.create(t[s])))},{});return hn(hn({},n),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.bandAware,u=i.position;return TX(s,function(d,h){return n[h].apply(d,{bandAware:l,position:u})})},isInRange:function(s){return h_(s,function(i,l){return n[l].isInRange(i)})}})};function sJ(e){return(e%180+180)%180}var iJ=function(t){var n=t.width,a=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=sJ(s),l=i*Math.PI/180,u=Math.atan(a/n),d=l>u&&l<Math.PI-u?a/Math.sin(l):n/Math.cos(l);return Math.abs(d)},Hy,RP;function oJ(){if(RP)return Hy;RP=1;var e=In(),t=Zc(),n=bf();function a(s){return function(i,l,u){var d=Object(i);if(!t(i)){var h=e(l,3);i=n(i),l=function(m){return h(d[m],m,d)}}var p=s(i,l,u);return p>-1?d[h?i[p]:p]:void 0}}return Hy=a,Hy}var Ky,MP;function lJ(){if(MP)return Ky;MP=1;var e=l_();function t(n){var a=e(n),s=a%1;return a===a?s?a-s:a:0}return Ky=t,Ky}var Gy,IP;function cJ(){if(IP)return Gy;IP=1;var e=vE(),t=In(),n=lJ(),a=Math.max;function s(i,l,u){var d=i==null?0:i.length;if(!d)return-1;var h=u==null?0:n(u);return h<0&&(h=a(d+h,0)),e(i,t(l,3),h)}return Gy=s,Gy}var Vy,$P;function uJ(){if($P)return Vy;$P=1;var e=oJ(),t=cJ(),n=e(t);return Vy=n,Vy}var dJ=uJ();const hJ=Ze(dJ);var fJ=I3();const mJ=Ze(fJ);var pJ=mJ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),hw=b.createContext(void 0),fw=b.createContext(void 0),b_=b.createContext(void 0),j_=b.createContext({}),w_=b.createContext(void 0),N_=b.createContext(0),S_=b.createContext(0),LP=function(t){var n=t.state,a=n.xAxisMap,s=n.yAxisMap,i=n.offset,l=t.clipPathId,u=t.children,d=t.width,h=t.height,p=pJ(i);return V.createElement(hw.Provider,{value:a},V.createElement(fw.Provider,{value:s},V.createElement(j_.Provider,{value:i},V.createElement(b_.Provider,{value:p},V.createElement(w_.Provider,{value:l},V.createElement(N_.Provider,{value:h},V.createElement(S_.Provider,{value:d},u)))))))},xJ=function(){return b.useContext(w_)},k_=function(t){var n=b.useContext(hw);n==null&&Qs();var a=n[t];return a==null&&Qs(),a},gJ=function(){var t=b.useContext(hw);return Ma(t)},yJ=function(){var t=b.useContext(fw),n=hJ(t,function(a){return h_(a.domain,Number.isFinite)});return n||Ma(t)},C_=function(t){var n=b.useContext(fw);n==null&&Qs();var a=n[t];return a==null&&Qs(),a},vJ=function(){var t=b.useContext(b_);return t},bJ=function(){return b.useContext(j_)},mw=function(){return b.useContext(S_)},pw=function(){return b.useContext(N_)};function vo(e){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(e)}function jJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wJ(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,P_(a.key),a)}}function NJ(e,t,n){return t&&wJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SJ(e,t,n){return t=Uh(t),kJ(e,A_()?Reflect.construct(t,n||[],Uh(e).constructor):t.apply(e,n))}function kJ(e,t){if(t&&(vo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CJ(e)}function CJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A_=function(){return!!e})()}function Uh(e){return Uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uh(e)}function AJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rb(e,t)}function Rb(e,t){return Rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Rb(e,t)}function DP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function FP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(n),!0).forEach(function(a){xw(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function xw(e,t,n){return t=P_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P_(e){var t=PJ(e,"string");return vo(t)=="symbol"?t:t+""}function PJ(e,t){if(vo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(vo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function OJ(e,t){return RJ(e)||TJ(e,t)||_J(e,t)||EJ()}function EJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _J(e,t){if(e){if(typeof e=="string")return zP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zP(e,t)}}function zP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function TJ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,u=[],d=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){h=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function RJ(e){if(Array.isArray(e))return e}function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Mb.apply(this,arguments)}var MJ=function(t,n){var a;return V.isValidElement(t)?a=V.cloneElement(t,n):Fe(t)?a=t(n):a=V.createElement("line",Mb({},n,{className:"recharts-reference-line-line"})),a},IJ=function(t,n,a,s,i,l,u,d,h){var p=i.x,m=i.y,g=i.width,j=i.height;if(a){var v=h.y,w=t.y.apply(v,{position:l});if(_n(h,"discard")&&!t.y.isInRange(w))return null;var x=[{x:p+g,y:w},{x:p,y:w}];return d==="left"?x.reverse():x}if(n){var S=h.x,O=t.x.apply(S,{position:l});if(_n(h,"discard")&&!t.x.isInRange(O))return null;var P=[{x:O,y:m+j},{x:O,y:m}];return u==="top"?P.reverse():P}if(s){var N=h.segment,C=N.map(function(A){return t.apply(A,{position:l})});return _n(h,"discard")&&PX(C,function(A){return!t.isInRange(A)})?null:C}return null};function $J(e){var t=e.x,n=e.y,a=e.segment,s=e.xAxisId,i=e.yAxisId,l=e.shape,u=e.className,d=e.alwaysShow,h=xJ(),p=k_(s),m=C_(i),g=vJ();if(!h||!g)return null;pn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var j=dw({x:p.scale,y:m.scale}),v=Lt(t),w=Lt(n),x=a&&a.length===2,S=IJ(j,v,w,x,g,e.position,p.orientation,m.orientation,e);if(!S)return null;var O=OJ(S,2),P=O[0],N=P.x,C=P.y,A=O[1],E=A.x,M=A.y,R=_n(e,"hidden")?"url(#".concat(h,")"):void 0,I=FP(FP({clipPath:R},Te(e,!0)),{},{x1:N,y1:C,x2:E,y2:M});return V.createElement(Ge,{className:Be("recharts-reference-line",u)},MJ(l,I),Ht.renderCallByParent(e,aJ({x1:N,y1:C,x2:E,y2:M})))}var gw=(function(e){function t(){return jJ(this,t),SJ(this,t,arguments)}return AJ(t,e),NJ(t,[{key:"render",value:function(){return V.createElement($J,this.props)}}])})(V.Component);xw(gw,"displayName","ReferenceLine");xw(gw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ib.apply(this,arguments)}function bo(e){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(e)}function BP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function qP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(n),!0).forEach(function(a){Uf(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function LJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DJ(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,E_(a.key),a)}}function FJ(e,t,n){return t&&DJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zJ(e,t,n){return t=Wh(t),BJ(e,O_()?Reflect.construct(t,n||[],Wh(e).constructor):t.apply(e,n))}function BJ(e,t){if(t&&(bo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qJ(e)}function qJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O_=function(){return!!e})()}function Wh(e){return Wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wh(e)}function UJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$b(e,t)}function $b(e,t){return $b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},$b(e,t)}function Uf(e,t,n){return t=E_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E_(e){var t=WJ(e,"string");return bo(t)=="symbol"?t:t+""}function WJ(e,t){if(bo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(bo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var HJ=function(t){var n=t.x,a=t.y,s=t.xAxis,i=t.yAxis,l=dw({x:s.scale,y:i.scale}),u=l.apply({x:n,y:a},{bandAware:!0});return _n(t,"discard")&&!l.isInRange(u)?null:u},Wf=(function(e){function t(){return LJ(this,t),zJ(this,t,arguments)}return UJ(t,e),FJ(t,[{key:"render",value:function(){var a=this.props,s=a.x,i=a.y,l=a.r,u=a.alwaysShow,d=a.clipPathId,h=Lt(s),p=Lt(i);if(pn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!p)return null;var m=HJ(this.props);if(!m)return null;var g=m.x,j=m.y,v=this.props,w=v.shape,x=v.className,S=_n(this.props,"hidden")?"url(#".concat(d,")"):void 0,O=qP(qP({clipPath:S},Te(this.props,!0)),{},{cx:g,cy:j});return V.createElement(Ge,{className:Be("recharts-reference-dot",x)},t.renderDot(w,O),Ht.renderCallByParent(this.props,{x:g-l,y:j-l,width:2*l,height:2*l}))}}])})(V.Component);Uf(Wf,"displayName","ReferenceDot");Uf(Wf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Uf(Wf,"renderDot",function(e,t){var n;return V.isValidElement(e)?n=V.cloneElement(e,t):Fe(e)?n=e(t):n=V.createElement(If,Ib({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Lb.apply(this,arguments)}function jo(e){"@babel/helpers - typeof";return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jo(e)}function UP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function WP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(n),!0).forEach(function(a){Hf(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function KJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GJ(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,T_(a.key),a)}}function VJ(e,t,n){return t&&GJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QJ(e,t,n){return t=Hh(t),YJ(e,__()?Reflect.construct(t,n||[],Hh(e).constructor):t.apply(e,n))}function YJ(e,t){if(t&&(jo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XJ(e)}function XJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function __(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(__=function(){return!!e})()}function Hh(e){return Hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hh(e)}function JJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Db(e,t)}function Db(e,t){return Db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Db(e,t)}function Hf(e,t,n){return t=T_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T_(e){var t=ZJ(e,"string");return jo(t)=="symbol"?t:t+""}function ZJ(e,t){if(jo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(jo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eZ=function(t,n,a,s,i){var l=i.x1,u=i.x2,d=i.y1,h=i.y2,p=i.xAxis,m=i.yAxis;if(!p||!m)return null;var g=dw({x:p.scale,y:m.scale}),j={x:t?g.x.apply(l,{position:"start"}):g.x.rangeMin,y:a?g.y.apply(d,{position:"start"}):g.y.rangeMin},v={x:n?g.x.apply(u,{position:"end"}):g.x.rangeMax,y:s?g.y.apply(h,{position:"end"}):g.y.rangeMax};return _n(i,"discard")&&(!g.isInRange(j)||!g.isInRange(v))?null:y_(j,v)},Kf=(function(e){function t(){return KJ(this,t),QJ(this,t,arguments)}return JJ(t,e),VJ(t,[{key:"render",value:function(){var a=this.props,s=a.x1,i=a.x2,l=a.y1,u=a.y2,d=a.className,h=a.alwaysShow,p=a.clipPathId;pn(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Lt(s),g=Lt(i),j=Lt(l),v=Lt(u),w=this.props.shape;if(!m&&!g&&!j&&!v&&!w)return null;var x=eZ(m,g,j,v,this.props);if(!x&&!w)return null;var S=_n(this.props,"hidden")?"url(#".concat(p,")"):void 0;return V.createElement(Ge,{className:Be("recharts-reference-area",d)},t.renderRect(w,WP(WP({clipPath:S},Te(this.props,!0)),x)),Ht.renderCallByParent(this.props,x))}}])})(V.Component);Hf(Kf,"displayName","ReferenceArea");Hf(Kf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Hf(Kf,"renderRect",function(e,t){var n;return V.isValidElement(e)?n=V.cloneElement(e,t):Fe(e)?n=e(t):n=V.createElement(uw,Lb({},t,{className:"recharts-reference-area-rect"})),n});function R_(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var a=[],s=0;s<e.length;s+=t)a.push(e[s]);return a}function tZ(e,t,n){var a={width:e.width+t.width,height:e.height+t.height};return iJ(a,n)}function rZ(e,t,n){var a=n==="width",s=e.x,i=e.y,l=e.width,u=e.height;return t===1?{start:a?s:i,end:a?s+l:i+u}:{start:a?s+l:i+u,end:a?s:i}}function Kh(e,t,n,a,s){if(e*t<e*a||e*t>e*s)return!1;var i=n();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-s)<=0}function nZ(e,t){return R_(e,t+1)}function aZ(e,t,n,a,s){for(var i=(a||[]).slice(),l=t.start,u=t.end,d=0,h=1,p=l,m=function(){var v=a==null?void 0:a[d];if(v===void 0)return{v:R_(a,h)};var w=d,x,S=function(){return x===void 0&&(x=n(v,w)),x},O=v.coordinate,P=d===0||Kh(e,O,S,p,u);P||(d=0,p=l,h+=1),P&&(p=O+e*(S()/2+s),d+=h)},g;h<=i.length;)if(g=m(),g)return g.v;return[]}function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function HP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(n),!0).forEach(function(a){sZ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function sZ(e,t,n){return t=iZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iZ(e){var t=oZ(e,"string");return $c(t)=="symbol"?t:t+""}function oZ(e,t){if($c(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if($c(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lZ(e,t,n,a,s){for(var i=(a||[]).slice(),l=i.length,u=t.start,d=t.end,h=function(g){var j=i[g],v,w=function(){return v===void 0&&(v=n(j,g)),v};if(g===l-1){var x=e*(j.coordinate+e*w()/2-d);i[g]=j=tr(tr({},j),{},{tickCoord:x>0?j.coordinate-x*e:j.coordinate})}else i[g]=j=tr(tr({},j),{},{tickCoord:j.coordinate});var S=Kh(e,j.tickCoord,w,u,d);S&&(d=j.tickCoord-e*(w()/2+s),i[g]=tr(tr({},j),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return i}function cZ(e,t,n,a,s,i){var l=(a||[]).slice(),u=l.length,d=t.start,h=t.end;if(i){var p=a[u-1],m=n(p,u-1),g=e*(p.coordinate+e*m/2-h);l[u-1]=p=tr(tr({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate});var j=Kh(e,p.tickCoord,function(){return m},d,h);j&&(h=p.tickCoord-e*(m/2+s),l[u-1]=tr(tr({},p),{},{isShow:!0}))}for(var v=i?u-1:u,w=function(O){var P=l[O],N,C=function(){return N===void 0&&(N=n(P,O)),N};if(O===0){var A=e*(P.coordinate-e*C()/2-d);l[O]=P=tr(tr({},P),{},{tickCoord:A<0?P.coordinate-A*e:P.coordinate})}else l[O]=P=tr(tr({},P),{},{tickCoord:P.coordinate});var E=Kh(e,P.tickCoord,C,d,h);E&&(d=P.tickCoord+e*(C()/2+s),l[O]=tr(tr({},P),{},{isShow:!0}))},x=0;x<v;x++)w(x);return l}function yw(e,t,n){var a=e.tick,s=e.ticks,i=e.viewBox,l=e.minTickGap,u=e.orientation,d=e.interval,h=e.tickFormatter,p=e.unit,m=e.angle;if(!s||!s.length||!a)return[];if(ge(d)||ei.isSsr)return nZ(s,typeof d=="number"&&ge(d)?d:0);var g=[],j=u==="top"||u==="bottom"?"width":"height",v=p&&j==="width"?Gl(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},w=function(P,N){var C=Fe(h)?h(P.value,N):P.value;return j==="width"?tZ(Gl(C,{fontSize:t,letterSpacing:n}),v,m):Gl(C,{fontSize:t,letterSpacing:n})[j]},x=s.length>=2?lr(s[1].coordinate-s[0].coordinate):1,S=rZ(i,x,j);return d==="equidistantPreserveStart"?aZ(x,S,w,s,l):(d==="preserveStart"||d==="preserveStartEnd"?g=cZ(x,S,w,s,l,d==="preserveStartEnd"):g=lZ(x,S,w,s,l),g.filter(function(O){return O.isShow}))}var uZ=["viewBox"],dZ=["viewBox"],hZ=["ticks"];function wo(e){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(e)}function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Di.apply(this,arguments)}function KP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(n),!0).forEach(function(a){vw(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Qy(e,t){if(e==null)return{};var n=fZ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function fZ(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function mZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GP(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,I_(a.key),a)}}function pZ(e,t,n){return t&&GP(e.prototype,t),n&&GP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xZ(e,t,n){return t=Gh(t),gZ(e,M_()?Reflect.construct(t,n||[],Gh(e).constructor):t.apply(e,n))}function gZ(e,t){if(t&&(wo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yZ(e)}function yZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M_=function(){return!!e})()}function Gh(e){return Gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gh(e)}function vZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fb(e,t)}function Fb(e,t){return Fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Fb(e,t)}function vw(e,t,n){return t=I_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I_(e){var t=bZ(e,"string");return wo(t)=="symbol"?t:t+""}function bZ(e,t){if(wo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(wo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bo=(function(e){function t(n){var a;return mZ(this,t),a=xZ(this,t,[n]),a.state={fontSize:"",letterSpacing:""},a}return vZ(t,e),pZ(t,[{key:"shouldComponentUpdate",value:function(a,s){var i=a.viewBox,l=Qy(a,uZ),u=this.props,d=u.viewBox,h=Qy(u,dZ);return!zi(i,d)||!zi(l,h)||!zi(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.x,l=s.y,u=s.width,d=s.height,h=s.orientation,p=s.tickSize,m=s.mirror,g=s.tickMargin,j,v,w,x,S,O,P=m?-1:1,N=a.tickSize||p,C=ge(a.tickCoord)?a.tickCoord:a.coordinate;switch(h){case"top":j=v=a.coordinate,x=l+ +!m*d,w=x-P*N,O=w-P*g,S=C;break;case"left":w=x=a.coordinate,v=i+ +!m*u,j=v-P*N,S=j-P*g,O=C;break;case"right":w=x=a.coordinate,v=i+ +m*u,j=v+P*N,S=j+P*g,O=C;break;default:j=v=a.coordinate,x=l+ +m*d,w=x+P*N,O=w+P*g,S=C;break}return{line:{x1:j,y1:w,x2:v,y2:x},tick:{x:S,y:O}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,l;switch(s){case"left":l=i?"start":"end";break;case"right":l=i?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,l="end";switch(s){case"left":case"right":l="middle";break;case"top":l=i?"start":"end";break;default:l=i?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,u=a.height,d=a.orientation,h=a.mirror,p=a.axisLine,m=Rt(Rt(Rt({},Te(this.props,!1)),Te(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var g=+(d==="top"&&!h||d==="bottom"&&h);m=Rt(Rt({},m),{},{x1:s,y1:i+g*u,x2:s+l,y2:i+g*u})}else{var j=+(d==="left"&&!h||d==="right"&&h);m=Rt(Rt({},m),{},{x1:s+j*l,y1:i,x2:s+j*l,y2:i+u})}return V.createElement("line",Di({},m,{className:Be("recharts-cartesian-axis-line",Mr(p,"className"))}))}},{key:"renderTicks",value:function(a,s,i){var l=this,u=this.props,d=u.tickLine,h=u.stroke,p=u.tick,m=u.tickFormatter,g=u.unit,j=yw(Rt(Rt({},this.props),{},{ticks:a}),s,i),v=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),x=Te(this.props,!1),S=Te(p,!1),O=Rt(Rt({},x),{},{fill:"none"},Te(d,!1)),P=j.map(function(N,C){var A=l.getTickLineCoord(N),E=A.line,M=A.tick,R=Rt(Rt(Rt(Rt({textAnchor:v,verticalAnchor:w},x),{},{stroke:"none",fill:h},S),M),{},{index:C,payload:N,visibleTicksCount:j.length,tickFormatter:m});return V.createElement(Ge,Di({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Ks(l.props,N,C)),d&&V.createElement("line",Di({},O,E,{className:Be("recharts-cartesian-axis-tick-line",Mr(d,"className"))})),p&&t.renderTickItem(p,R,"".concat(Fe(m)?m(N.value,C):N.value).concat(g||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},P)}},{key:"render",value:function(){var a=this,s=this.props,i=s.axisLine,l=s.width,u=s.height,d=s.ticksGenerator,h=s.className,p=s.hide;if(p)return null;var m=this.props,g=m.ticks,j=Qy(m,hZ),v=g;return Fe(d)&&(v=g&&g.length>0?d(this.props):d(j)),l<=0||u<=0||!v||!v.length?null:V.createElement(Ge,{className:Be("recharts-cartesian-axis",h),ref:function(x){a.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Ht.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,i){var l,u=Be(s.className,"recharts-cartesian-axis-tick-value");return V.isValidElement(a)?l=V.cloneElement(a,Rt(Rt({},s),{},{className:u})):Fe(a)?l=a(Rt(Rt({},s),{},{className:u})):l=V.createElement(Gs,Di({},s,{className:"recharts-cartesian-axis-tick-value"}),i),l}}])})(b.Component);vw(Bo,"displayName","CartesianAxis");vw(Bo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var jZ=["x1","y1","x2","y2","key"],wZ=["offset"];function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function VP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function rr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(n),!0).forEach(function(a){NZ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function NZ(e,t,n){return t=SZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SZ(e){var t=kZ(e,"string");return Ys(t)=="symbol"?t:t+""}function kZ(e,t){if(Ys(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Ys(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ps.apply(this,arguments)}function QP(e,t){if(e==null)return{};var n=CZ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function CZ(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var AZ=function(t){var n=t.fill;if(!n||n==="none")return null;var a=t.fillOpacity,s=t.x,i=t.y,l=t.width,u=t.height,d=t.ry;return V.createElement("rect",{x:s,y:i,ry:d,width:l,height:u,stroke:"none",fill:n,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function $_(e,t){var n;if(V.isValidElement(e))n=V.cloneElement(e,t);else if(Fe(e))n=e(t);else{var a=t.x1,s=t.y1,i=t.x2,l=t.y2,u=t.key,d=QP(t,jZ),h=Te(d,!1);h.offset;var p=QP(h,wZ);n=V.createElement("line",Ps({},p,{x1:a,y1:s,x2:i,y2:l,fill:"none",key:u}))}return n}function PZ(e){var t=e.x,n=e.width,a=e.horizontal,s=a===void 0?!0:a,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(u,d){var h=rr(rr({},e),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return $_(s,h)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function OZ(e){var t=e.y,n=e.height,a=e.vertical,s=a===void 0?!0:a,i=e.verticalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(u,d){var h=rr(rr({},e),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return $_(s,h)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function EZ(e){var t=e.horizontalFill,n=e.fillOpacity,a=e.x,s=e.y,i=e.width,l=e.height,u=e.horizontalPoints,d=e.horizontal,h=d===void 0?!0:d;if(!h||!t||!t.length)return null;var p=u.map(function(g){return Math.round(g+s-s)}).sort(function(g,j){return g-j});s!==p[0]&&p.unshift(0);var m=p.map(function(g,j){var v=!p[j+1],w=v?s+l-g:p[j+1]-g;if(w<=0)return null;var x=j%t.length;return V.createElement("rect",{key:"react-".concat(j),y:g,x:a,height:w,width:i,stroke:"none",fill:t[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function _Z(e){var t=e.vertical,n=t===void 0?!0:t,a=e.verticalFill,s=e.fillOpacity,i=e.x,l=e.y,u=e.width,d=e.height,h=e.verticalPoints;if(!n||!a||!a.length)return null;var p=h.map(function(g){return Math.round(g+i-i)}).sort(function(g,j){return g-j});i!==p[0]&&p.unshift(0);var m=p.map(function(g,j){var v=!p[j+1],w=v?i+u-g:p[j+1]-g;if(w<=0)return null;var x=j%a.length;return V.createElement("rect",{key:"react-".concat(j),x:g,y:l,width:w,height:d,stroke:"none",fill:a[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var TZ=function(t,n){var a=t.xAxis,s=t.width,i=t.height,l=t.offset;return $6(yw(rr(rr(rr({},Bo.defaultProps),a),{},{ticks:ea(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.left,l.left+l.width,n)},RZ=function(t,n){var a=t.yAxis,s=t.width,i=t.height,l=t.offset;return $6(yw(rr(rr(rr({},Bo.defaultProps),a),{},{ticks:ea(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.top,l.top+l.height,n)},_i={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function bw(e){var t,n,a,s,i,l,u=mw(),d=pw(),h=bJ(),p=rr(rr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:_i.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:_i.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:_i.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:_i.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:_i.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:_i.verticalFill,x:ge(e.x)?e.x:h.left,y:ge(e.y)?e.y:h.top,width:ge(e.width)?e.width:h.width,height:ge(e.height)?e.height:h.height}),m=p.x,g=p.y,j=p.width,v=p.height,w=p.syncWithTicks,x=p.horizontalValues,S=p.verticalValues,O=gJ(),P=yJ();if(!ge(j)||j<=0||!ge(v)||v<=0||!ge(m)||m!==+m||!ge(g)||g!==+g)return null;var N=p.verticalCoordinatesGenerator||TZ,C=p.horizontalCoordinatesGenerator||RZ,A=p.horizontalPoints,E=p.verticalPoints;if((!A||!A.length)&&Fe(C)){var M=x&&x.length,R=C({yAxis:P?rr(rr({},P),{},{ticks:M?x:P.ticks}):void 0,width:u,height:d,offset:h},M?!0:w);pn(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ys(R),"]")),Array.isArray(R)&&(A=R)}if((!E||!E.length)&&Fe(N)){var I=S&&S.length,T=N({xAxis:O?rr(rr({},O),{},{ticks:I?S:O.ticks}):void 0,width:u,height:d,offset:h},I?!0:w);pn(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ys(T),"]")),Array.isArray(T)&&(E=T)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(AZ,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),V.createElement(PZ,Ps({},p,{offset:h,horizontalPoints:A,xAxis:O,yAxis:P})),V.createElement(OZ,Ps({},p,{offset:h,verticalPoints:E,xAxis:O,yAxis:P})),V.createElement(EZ,Ps({},p,{horizontalPoints:A})),V.createElement(_Z,Ps({},p,{verticalPoints:E})))}bw.displayName="CartesianGrid";var MZ=["type","layout","connectNulls","ref"],IZ=["key"];function No(e){"@babel/helpers - typeof";return No=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},No(e)}function YP(e,t){if(e==null)return{};var n=$Z(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function $Z(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Zl.apply(this,arguments)}function XP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(n),!0).forEach(function(a){fn(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ti(e){return zZ(e)||FZ(e)||DZ(e)||LZ()}function LZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DZ(e,t){if(e){if(typeof e=="string")return zb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zb(e,t)}}function FZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zZ(e){if(Array.isArray(e))return zb(e)}function zb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function BZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JP(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,D_(a.key),a)}}function qZ(e,t,n){return t&&JP(e.prototype,t),n&&JP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function UZ(e,t,n){return t=Vh(t),WZ(e,L_()?Reflect.construct(t,n||[],Vh(e).constructor):t.apply(e,n))}function WZ(e,t){if(t&&(No(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HZ(e)}function HZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L_=function(){return!!e})()}function Vh(e){return Vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vh(e)}function KZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bb(e,t)}function Bb(e,t){return Bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Bb(e,t)}function fn(e,t,n){return t=D_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D_(e){var t=GZ(e,"string");return No(t)=="symbol"?t:t+""}function GZ(e,t){if(No(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(No(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var So=(function(e){function t(){var n;BZ(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=UZ(this,t,[].concat(s)),fn(n,"state",{isAnimationFinished:!0,totalLength:0}),fn(n,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),fn(n,"getStrokeDasharray",function(l,u,d){var h=d.reduce(function(S,O){return S+O});if(!h)return n.generateSimpleStrokeDasharray(u,l);for(var p=Math.floor(l/h),m=l%h,g=u-l,j=[],v=0,w=0;v<d.length;w+=d[v],++v)if(w+d[v]>m){j=[].concat(Ti(d.slice(0,v)),[m-w]);break}var x=j.length%2===0?[0,g]:[g];return[].concat(Ti(t.repeat(d,p)),Ti(j),x).map(function(S){return"".concat(S,"px")}).join(", ")}),fn(n,"id",$o("recharts-line-")),fn(n,"pathRef",function(l){n.mainCurve=l}),fn(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),fn(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return KZ(t,e),qZ(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.points,u=i.xAxis,d=i.yAxis,h=i.layout,p=i.children,m=Ir(p,su);if(!m)return null;var g=function(w,x){return{x:w.x,y:w.y,value:w.value,errorVal:$t(w.payload,x)}},j={clipPath:a?"url(#clipPath-".concat(s,")"):null};return V.createElement(Ge,j,m.map(function(v){return V.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:l,xAxis:u,yAxis:d,layout:h,dataPointFormatter:g})}))}},{key:"renderDots",value:function(a,s,i){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,h=u.points,p=u.dataKey,m=Te(this.props,!1),g=Te(d,!0),j=h.map(function(w,x){var S=Pr(Pr(Pr({key:"dot-".concat(x),r:3},m),g),{},{index:x,cx:w.x,cy:w.y,value:w.value,dataKey:p,payload:w.payload,points:h});return t.renderDotItem(d,S)}),v={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return V.createElement(Ge,Zl({className:"recharts-line-dots",key:"dots"},v),j)}},{key:"renderCurveStatically",value:function(a,s,i,l){var u=this.props,d=u.type,h=u.layout,p=u.connectNulls;u.ref;var m=YP(u,MZ),g=Pr(Pr(Pr({},Te(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:a},l),{},{type:d,layout:h,connectNulls:p});return V.createElement(Ah,Zl({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,s){var i=this,l=this.props,u=l.points,d=l.strokeDasharray,h=l.isAnimationActive,p=l.animationBegin,m=l.animationDuration,g=l.animationEasing,j=l.animationId,v=l.animateNewValues,w=l.width,x=l.height,S=this.state,O=S.prevPoints,P=S.totalLength;return V.createElement(Rn,{begin:p,duration:m,isActive:h,easing:g,from:{t:0},to:{t:1},key:"line-".concat(j),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var C=N.t;if(O){var A=O.length/u.length,E=u.map(function($,W){var X=Math.floor(W*A);if(O[X]){var B=O[X],q=_r(B.x,$.x),U=_r(B.y,$.y);return Pr(Pr({},$),{},{x:q(C),y:U(C)})}if(v){var G=_r(w*2,$.x),Y=_r(x/2,$.y);return Pr(Pr({},$),{},{x:G(C),y:Y(C)})}return Pr(Pr({},$),{},{x:$.x,y:$.y})});return i.renderCurveStatically(E,a,s)}var M=_r(0,P),R=M(C),I;if(d){var T="".concat(d).split(/[,\s]+/gim).map(function($){return parseFloat($)});I=i.getStrokeDasharray(R,P,T)}else I=i.generateSimpleStrokeDasharray(P,R);return i.renderCurveStatically(u,a,s,{strokeDasharray:I})})}},{key:"renderCurve",value:function(a,s){var i=this.props,l=i.points,u=i.isAnimationActive,d=this.state,h=d.prevPoints,p=d.totalLength;return u&&l&&l.length&&(!h&&p>0||!au(h,l))?this.renderCurveWithAnimation(a,s):this.renderCurveStatically(l,a,s)}},{key:"render",value:function(){var a,s=this.props,i=s.hide,l=s.dot,u=s.points,d=s.className,h=s.xAxis,p=s.yAxis,m=s.top,g=s.left,j=s.width,v=s.height,w=s.isAnimationActive,x=s.id;if(i||!u||!u.length)return null;var S=this.state.isAnimationFinished,O=u.length===1,P=Be("recharts-line",d),N=h&&h.allowDataOverflow,C=p&&p.allowDataOverflow,A=N||C,E=ze(x)?this.id:x,M=(a=Te(l,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},R=M.r,I=R===void 0?3:R,T=M.strokeWidth,$=T===void 0?2:T,W=w9(l)?l:{},X=W.clipDot,B=X===void 0?!0:X,q=I*2+$;return V.createElement(Ge,{className:P},N||C?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(E)},V.createElement("rect",{x:N?g:g-j/2,y:C?m:m-v/2,width:N?j:j*2,height:C?v:v*2})),!B&&V.createElement("clipPath",{id:"clipPath-dots-".concat(E)},V.createElement("rect",{x:g-q/2,y:m-q/2,width:j+q,height:v+q}))):null,!O&&this.renderCurve(A,E),this.renderErrorBar(A,E),(O||l)&&this.renderDots(A,B,E),(!w||S)&&na.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:s.curPoints}:a.points!==s.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,s){for(var i=a.length%2!==0?[].concat(Ti(a),[0]):a,l=[],u=0;u<s;++u)l=[].concat(Ti(l),Ti(i));return l}},{key:"renderDotItem",value:function(a,s){var i;if(V.isValidElement(a))i=V.cloneElement(a,s);else if(Fe(a))i=a(s);else{var l=s.key,u=YP(s,IZ),d=Be("recharts-line-dot",typeof a!="boolean"?a.className:"");i=V.createElement(If,Zl({key:l},u,{className:d}))}return i}}])})(b.PureComponent);fn(So,"displayName","Line");fn(So,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ei.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});fn(So,"getComposedData",function(e){var t=e.props,n=e.xAxis,a=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,l=e.dataKey,u=e.bandSize,d=e.displayedData,h=e.offset,p=t.layout,m=d.map(function(g,j){var v=$t(g,l);return p==="horizontal"?{x:nA({axis:n,ticks:s,bandSize:u,entry:g,index:j}),y:ze(v)?null:a.scale(v),value:v,payload:g}:{x:ze(v)?null:n.scale(v),y:nA({axis:a,ticks:i,bandSize:u,entry:g,index:j}),value:v,payload:g}});return Pr({points:m,layout:p},h)});function ko(e){"@babel/helpers - typeof";return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ko(e)}function VZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QZ(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,B_(a.key),a)}}function YZ(e,t,n){return t&&QZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XZ(e,t,n){return t=Qh(t),JZ(e,F_()?Reflect.construct(t,n||[],Qh(e).constructor):t.apply(e,n))}function JZ(e,t){if(t&&(ko(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZZ(e)}function ZZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F_=function(){return!!e})()}function Qh(e){return Qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qh(e)}function eee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qb(e,t)}function qb(e,t){return qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},qb(e,t)}function z_(e,t,n){return t=B_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B_(e){var t=tee(e,"string");return ko(t)=="symbol"?t:t+""}function tee(e,t){if(ko(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(ko(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ub.apply(this,arguments)}function ree(e){var t=e.xAxisId,n=mw(),a=pw(),s=k_(t);return s==null?null:b.createElement(Bo,Ub({},s,{className:Be("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return ea(l,!0)}}))}var qo=(function(e){function t(){return VZ(this,t),XZ(this,t,arguments)}return eee(t,e),YZ(t,[{key:"render",value:function(){return b.createElement(ree,this.props)}}])})(b.Component);z_(qo,"displayName","XAxis");z_(qo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Co(e){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Co(e)}function nee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aee(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,W_(a.key),a)}}function see(e,t,n){return t&&aee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iee(e,t,n){return t=Yh(t),oee(e,q_()?Reflect.construct(t,n||[],Yh(e).constructor):t.apply(e,n))}function oee(e,t){if(t&&(Co(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lee(e)}function lee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q_=function(){return!!e})()}function Yh(e){return Yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yh(e)}function cee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wb(e,t)}function Wb(e,t){return Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Wb(e,t)}function U_(e,t,n){return t=W_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W_(e){var t=uee(e,"string");return Co(t)=="symbol"?t:t+""}function uee(e,t){if(Co(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Co(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Hb.apply(this,arguments)}var dee=function(t){var n=t.yAxisId,a=mw(),s=pw(),i=C_(n);return i==null?null:b.createElement(Bo,Hb({},i,{className:Be("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(u){return ea(u,!0)}}))},Uo=(function(e){function t(){return nee(this,t),iee(this,t,arguments)}return cee(t,e),see(t,[{key:"render",value:function(){return b.createElement(dee,this.props)}}])})(b.Component);U_(Uo,"displayName","YAxis");U_(Uo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function ZP(e){return pee(e)||mee(e)||fee(e)||hee()}function hee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fee(e,t){if(e){if(typeof e=="string")return Kb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kb(e,t)}}function mee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pee(e){if(Array.isArray(e))return Kb(e)}function Kb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Gb=function(t,n,a,s,i){var l=Ir(t,gw),u=Ir(t,Wf),d=[].concat(ZP(l),ZP(u)),h=Ir(t,Kf),p="".concat(s,"Id"),m=s[0],g=n;if(d.length&&(g=d.reduce(function(w,x){if(x.props[p]===a&&_n(x.props,"extendDomain")&&ge(x.props[m])){var S=x.props[m];return[Math.min(w[0],S),Math.max(w[1],S)]}return w},g)),h.length){var j="".concat(m,"1"),v="".concat(m,"2");g=h.reduce(function(w,x){if(x.props[p]===a&&_n(x.props,"extendDomain")&&ge(x.props[j])&&ge(x.props[v])){var S=x.props[j],O=x.props[v];return[Math.min(w[0],S,O),Math.max(w[1],S,O)]}return w},g)}return i&&i.length&&(g=i.reduce(function(w,x){return ge(x)?[Math.min(w[0],x),Math.max(w[1],x)]:w},g)),g},Yy={exports:{}},eO;function xee(){return eO||(eO=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function s(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function i(d,h,p,m,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var j=new s(p,m||d,g),v=n?n+h:h;return d._events[v]?d._events[v].fn?d._events[v]=[d._events[v],j]:d._events[v].push(j):(d._events[v]=j,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new a:delete d._events[h]}function u(){this._events=new a,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)t.call(p,m)&&h.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=n?n+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,j=m.length,v=new Array(j);g<j;g++)v[g]=m[g].fn;return v},u.prototype.listenerCount=function(h){var p=n?n+h:h,m=this._events[p];return m?m.fn?1:m.length:0},u.prototype.emit=function(h,p,m,g,j,v){var w=n?n+h:h;if(!this._events[w])return!1;var x=this._events[w],S=arguments.length,O,P;if(x.fn){switch(x.once&&this.removeListener(h,x.fn,void 0,!0),S){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,p),!0;case 3:return x.fn.call(x.context,p,m),!0;case 4:return x.fn.call(x.context,p,m,g),!0;case 5:return x.fn.call(x.context,p,m,g,j),!0;case 6:return x.fn.call(x.context,p,m,g,j,v),!0}for(P=1,O=new Array(S-1);P<S;P++)O[P-1]=arguments[P];x.fn.apply(x.context,O)}else{var N=x.length,C;for(P=0;P<N;P++)switch(x[P].once&&this.removeListener(h,x[P].fn,void 0,!0),S){case 1:x[P].fn.call(x[P].context);break;case 2:x[P].fn.call(x[P].context,p);break;case 3:x[P].fn.call(x[P].context,p,m);break;case 4:x[P].fn.call(x[P].context,p,m,g);break;default:if(!O)for(C=1,O=new Array(S-1);C<S;C++)O[C-1]=arguments[C];x[P].fn.apply(x[P].context,O)}}return!0},u.prototype.on=function(h,p,m){return i(this,h,p,m,!1)},u.prototype.once=function(h,p,m){return i(this,h,p,m,!0)},u.prototype.removeListener=function(h,p,m,g){var j=n?n+h:h;if(!this._events[j])return this;if(!p)return l(this,j),this;var v=this._events[j];if(v.fn)v.fn===p&&(!g||v.once)&&(!m||v.context===m)&&l(this,j);else{for(var w=0,x=[],S=v.length;w<S;w++)(v[w].fn!==p||g&&!v[w].once||m&&v[w].context!==m)&&x.push(v[w]);x.length?this._events[j]=x.length===1?x[0]:x:l(this,j)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(Yy)),Yy.exports}var gee=xee();const yee=Ze(gee);var Xy=new yee,Jy="recharts.syncMouseEvents";function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function vee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bee(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,H_(a.key),a)}}function jee(e,t,n){return t&&bee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zy(e,t,n){return t=H_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H_(e){var t=wee(e,"string");return Lc(t)=="symbol"?t:t+""}function wee(e,t){if(Lc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Lc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nee=(function(){function e(){vee(this,e),Zy(this,"activeIndex",0),Zy(this,"coordinateList",[]),Zy(this,"layout","horizontal")}return jee(e,[{key:"setDetails",value:function(n){var a,s=n.coordinateList,i=s===void 0?null:s,l=n.container,u=l===void 0?null:l,d=n.layout,h=d===void 0?null:d,p=n.offset,m=p===void 0?null:p,g=n.mouseHandlerCallback,j=g===void 0?null:g;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=u??this.container,this.layout=h??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=j??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,l=s.y,u=s.height,d=this.coordinateList[this.activeIndex].coordinate,h=((n=window)===null||n===void 0?void 0:n.scrollX)||0,p=((a=window)===null||a===void 0?void 0:a.scrollY)||0,m=i+d+h,g=l+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:m,pageY:g})}}}])})();function See(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],s=e==null?void 0:e[1];if(a&&s&&ge(a)&&ge(s))return!0}return!1}function kee(e,t,n,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?a:n.width-1,height:e==="horizontal"?n.height-1:a}}function K_(e){var t=e.cx,n=e.cy,a=e.radius,s=e.startAngle,i=e.endAngle,l=ot(t,n,a,s),u=ot(t,n,a,i);return{points:[l,u],cx:t,cy:n,radius:a,startAngle:s,endAngle:i}}function Cee(e,t,n){var a,s,i,l;if(e==="horizontal")a=t.x,i=a,s=n.top,l=n.top+n.height;else if(e==="vertical")s=t.y,l=s,a=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,d=t.cy,h=t.innerRadius,p=t.outerRadius,m=t.angle,g=ot(u,d,h,m),j=ot(u,d,p,m);a=g.x,s=g.y,i=j.x,l=j.y}else return K_(t);return[{x:a,y:s},{x:i,y:l}]}function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function tO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(n),!0).forEach(function(a){Aee(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Aee(e,t,n){return t=Pee(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pee(e){var t=Oee(e,"string");return Dc(t)=="symbol"?t:t+""}function Oee(e,t){if(Dc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Dc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eee(e){var t,n,a=e.element,s=e.tooltipEventType,i=e.isActive,l=e.activeCoordinate,u=e.activePayload,d=e.offset,h=e.activeTooltipIndex,p=e.tooltipAxisBandSize,m=e.layout,g=e.chartName,j=(t=a.props.cursor)!==null&&t!==void 0?t:(n=a.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!a||!j||!i||!l||g!=="ScatterChart"&&s!=="axis")return null;var v,w=Ah;if(g==="ScatterChart")v=l,w=JQ;else if(g==="BarChart")v=kee(m,l,d,p),w=uw;else if(m==="radial"){var x=K_(l),S=x.cx,O=x.cy,P=x.radius,N=x.startAngle,C=x.endAngle;v={cx:S,cy:O,startAngle:N,endAngle:C,innerRadius:P,outerRadius:P},w=G6}else v={points:Cee(m,l,d)},w=Ah;var A=Md(Md(Md(Md({stroke:"#ccc",pointerEvents:"none"},d),v),Te(j,!1)),{},{payload:u,payloadIndex:h,className:Be("recharts-tooltip-cursor",j.className)});return b.isValidElement(j)?b.cloneElement(j,A):b.createElement(w,A)}var _ee=["item"],Tee=["children","className","width","height","style","compact","title","desc"];function Ao(e){"@babel/helpers - typeof";return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ao(e)}function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fi.apply(this,arguments)}function rO(e,t){return Iee(e)||Mee(e,t)||V_(e,t)||Ree()}function Ree(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mee(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,l,u=[],d=!0,h=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(u.push(a.value),u.length!==t);d=!0);}catch(p){h=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function Iee(e){if(Array.isArray(e))return e}function nO(e,t){if(e==null)return{};var n=$ee(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function $ee(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Lee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dee(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Q_(a.key),a)}}function Fee(e,t,n){return t&&Dee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zee(e,t,n){return t=Xh(t),Bee(e,G_()?Reflect.construct(t,n||[],Xh(e).constructor):t.apply(e,n))}function Bee(e,t){if(t&&(Ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qee(e)}function qee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G_=function(){return!!e})()}function Xh(e){return Xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xh(e)}function Uee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vb(e,t)}function Vb(e,t){return Vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Vb(e,t)}function Po(e){return Kee(e)||Hee(e)||V_(e)||Wee()}function Wee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V_(e,t){if(e){if(typeof e=="string")return Qb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qb(e,t)}}function Hee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kee(e){if(Array.isArray(e))return Qb(e)}function Qb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function aO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(n),!0).forEach(function(a){Ie(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ie(e,t,n){return t=Q_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q_(e){var t=Gee(e,"string");return Ao(t)=="symbol"?t:t+""}function Gee(e,t){if(Ao(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Ao(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vee={xAxis:["bottom","top"],yAxis:["left","right"]},Qee={width:"100%",height:"100%"},Y_={x:0,y:0};function Id(e){return e}var Yee=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},Xee=function(t,n,a,s){var i=n.find(function(p){return p&&p.index===a});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var l=i.coordinate,u=s.radius;return ue(ue(ue({},s),ot(s.cx,s.cy,u,l)),{},{angle:l,radius:u})}var d=i.coordinate,h=s.angle;return ue(ue(ue({},s),ot(s.cx,s.cy,d,h)),{},{angle:h,radius:d})}return Y_},Gf=function(t,n){var a=n.graphicalItems,s=n.dataStartIndex,i=n.dataEndIndex,l=(a??[]).reduce(function(u,d){var h=d.props.data;return h&&h.length?[].concat(Po(u),Po(h)):u},[]);return l.length>0?l:t&&t.length&&ge(s)&&ge(i)?t.slice(s,i+1):[]};function X_(e){return e==="number"?[0,"auto"]:void 0}var Yb=function(t,n,a,s){var i=t.graphicalItems,l=t.tooltipAxis,u=Gf(n,t);return a<0||!i||!i.length||a>=u.length?null:i.reduce(function(d,h){var p,m=(p=h.props.data)!==null&&p!==void 0?p:n;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(l.dataKey&&!l.allowDuplicatedCategory){var j=m===void 0?u:m;g=Jd(j,l.dataKey,s)}else g=m&&m[a]||u[a];return g?[].concat(Po(d),[B6(h,g)]):d},[])},sO=function(t,n,a,s){var i=s||{x:t.chartX,y:t.chartY},l=Yee(i,a),u=t.orderedTooltipTicks,d=t.tooltipAxis,h=t.tooltipTicks,p=vK(l,u,h,d);if(p>=0&&h){var m=h[p]&&h[p].value,g=Yb(t,n,p,m),j=Xee(a,u,p,i);return{activeTooltipIndex:p,activeLabel:m,activePayload:g,activeCoordinate:j}}return null},Jee=function(t,n){var a=n.axes,s=n.graphicalItems,i=n.axisType,l=n.axisIdKey,u=n.stackGroups,d=n.dataStartIndex,h=n.dataEndIndex,p=t.layout,m=t.children,g=t.stackOffset,j=I6(p,i);return a.reduce(function(v,w){var x,S=w.type.defaultProps!==void 0?ue(ue({},w.type.defaultProps),w.props):w.props,O=S.type,P=S.dataKey,N=S.allowDataOverflow,C=S.allowDuplicatedCategory,A=S.scale,E=S.ticks,M=S.includeHidden,R=S[l];if(v[R])return v;var I=Gf(t.data,{graphicalItems:s.filter(function(D){var K,te=l in D.props?D.props[l]:(K=D.type.defaultProps)===null||K===void 0?void 0:K[l];return te===R}),dataStartIndex:d,dataEndIndex:h}),T=I.length,$,W,X;See(S.domain,N,O)&&($=ub(S.domain,null,N),j&&(O==="number"||A!=="auto")&&(X=Ql(I,P,"category")));var B=X_(O);if(!$||$.length===0){var q,U=(q=S.domain)!==null&&q!==void 0?q:B;if(P){if($=Ql(I,P,O),O==="category"&&j){var G=h9($);C&&G?(W=$,$=Dh(0,T)):C||($=oA(U,$,w).reduce(function(D,K){return D.indexOf(K)>=0?D:[].concat(Po(D),[K])},[]))}else if(O==="category")C?$=$.filter(function(D){return D!==""&&!ze(D)}):$=oA(U,$,w).reduce(function(D,K){return D.indexOf(K)>=0||K===""||ze(K)?D:[].concat(Po(D),[K])},[]);else if(O==="number"){var Y=SK(I,s.filter(function(D){var K,te,de=l in D.props?D.props[l]:(K=D.type.defaultProps)===null||K===void 0?void 0:K[l],xe="hide"in D.props?D.props.hide:(te=D.type.defaultProps)===null||te===void 0?void 0:te.hide;return de===R&&(M||!xe)}),P,i,p);Y&&($=Y)}j&&(O==="number"||A!=="auto")&&(X=Ql(I,P,"category"))}else j?$=Dh(0,T):u&&u[R]&&u[R].hasStack&&O==="number"?$=g==="expand"?[0,1]:z6(u[R].stackGroups,d,h):$=M6(I,s.filter(function(D){var K=l in D.props?D.props[l]:D.type.defaultProps[l],te="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return K===R&&(M||!te)}),O,p,!0);if(O==="number")$=Gb(m,$,R,i,E),U&&($=ub(U,$,N));else if(O==="category"&&U){var z=U,F=$.every(function(D){return z.indexOf(D)>=0});F&&($=z)}}return ue(ue({},v),{},Ie({},R,ue(ue({},S),{},{axisType:i,domain:$,categoricalDomain:X,duplicateDomain:W,originalDomain:(x=S.domain)!==null&&x!==void 0?x:B,isCategorical:j,layout:p})))},{})},Zee=function(t,n){var a=n.graphicalItems,s=n.Axis,i=n.axisType,l=n.axisIdKey,u=n.stackGroups,d=n.dataStartIndex,h=n.dataEndIndex,p=t.layout,m=t.children,g=Gf(t.data,{graphicalItems:a,dataStartIndex:d,dataEndIndex:h}),j=g.length,v=I6(p,i),w=-1;return a.reduce(function(x,S){var O=S.type.defaultProps!==void 0?ue(ue({},S.type.defaultProps),S.props):S.props,P=O[l],N=X_("number");if(!x[P]){w++;var C;return v?C=Dh(0,j):u&&u[P]&&u[P].hasStack?(C=z6(u[P].stackGroups,d,h),C=Gb(m,C,P,i)):(C=ub(N,M6(g,a.filter(function(A){var E,M,R=l in A.props?A.props[l]:(E=A.type.defaultProps)===null||E===void 0?void 0:E[l],I="hide"in A.props?A.props.hide:(M=A.type.defaultProps)===null||M===void 0?void 0:M.hide;return R===P&&!I}),"number",p),s.defaultProps.allowDataOverflow),C=Gb(m,C,P,i)),ue(ue({},x),{},Ie({},P,ue(ue({axisType:i},s.defaultProps),{},{hide:!0,orientation:Mr(Vee,"".concat(i,".").concat(w%2),null),domain:C,originalDomain:N,isCategorical:v,layout:p})))}return x},{})},ete=function(t,n){var a=n.axisType,s=a===void 0?"xAxis":a,i=n.AxisComp,l=n.graphicalItems,u=n.stackGroups,d=n.dataStartIndex,h=n.dataEndIndex,p=t.children,m="".concat(s,"Id"),g=Ir(p,i),j={};return g&&g.length?j=Jee(t,{axes:g,graphicalItems:l,axisType:s,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:h}):l&&l.length&&(j=Zee(t,{Axis:i,graphicalItems:l,axisType:s,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:h})),j},tte=function(t){var n=Ma(t),a=ea(n,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:$j(a,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Sh(n,a)}},iO=function(t){var n=t.children,a=t.defaultShowTooltip,s=Er(n,go),i=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(l=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!a}},rte=function(t){return!t||!t.length?!1:t.some(function(n){var a=ta(n&&n.type);return a&&a.indexOf("Bar")>=0})},oO=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},nte=function(t,n){var a=t.props,s=t.graphicalItems,i=t.xAxisMap,l=i===void 0?{}:i,u=t.yAxisMap,d=u===void 0?{}:u,h=a.width,p=a.height,m=a.children,g=a.margin||{},j=Er(m,go),v=Er(m,Qa),w=Object.keys(d).reduce(function(C,A){var E=d[A],M=E.orientation;return!E.mirror&&!E.hide?ue(ue({},C),{},Ie({},M,C[M]+E.width)):C},{left:g.left||0,right:g.right||0}),x=Object.keys(l).reduce(function(C,A){var E=l[A],M=E.orientation;return!E.mirror&&!E.hide?ue(ue({},C),{},Ie({},M,Mr(C,"".concat(M))+E.height)):C},{top:g.top||0,bottom:g.bottom||0}),S=ue(ue({},x),w),O=S.bottom;j&&(S.bottom+=j.props.height||go.defaultProps.height),v&&n&&(S=wK(S,s,a,n));var P=h-S.left-S.right,N=p-S.top-S.bottom;return ue(ue({brushBottom:O},S),{},{width:Math.max(P,0),height:Math.max(N,0)})},ate=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},jw=function(t){var n=t.chartName,a=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,l=t.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=t.axisComponents,h=t.legendContent,p=t.formatAxisMap,m=t.defaultProps,g=function(S,O){var P=O.graphicalItems,N=O.stackGroups,C=O.offset,A=O.updateId,E=O.dataStartIndex,M=O.dataEndIndex,R=S.barSize,I=S.layout,T=S.barGap,$=S.barCategoryGap,W=S.maxBarSize,X=oO(I),B=X.numericAxisName,q=X.cateAxisName,U=rte(P),G=[];return P.forEach(function(Y,z){var F=Gf(S.data,{graphicalItems:[Y],dataStartIndex:E,dataEndIndex:M}),D=Y.type.defaultProps!==void 0?ue(ue({},Y.type.defaultProps),Y.props):Y.props,K=D.dataKey,te=D.maxBarSize,de=D["".concat(B,"Id")],xe=D["".concat(q,"Id")],ie={},ee=d.reduce(function(dr,en){var ai=O["".concat(en.axisType,"Map")],Wo=D["".concat(en.axisType,"Id")];ai&&ai[Wo]||en.axisType==="zAxis"||Qs();var Ho=ai[Wo];return ue(ue({},dr),{},Ie(Ie({},en.axisType,Ho),"".concat(en.axisType,"Ticks"),ea(Ho)))},ie),oe=ee[q],ke=ee["".concat(q,"Ticks")],$e=N&&N[de]&&N[de].hasStack&&RK(Y,N[de].stackGroups),re=ta(Y.type).indexOf("Bar")>=0,be=Sh(oe,ke),je=[],tt=U&&bK({barSize:R,stackGroups:N,totalSize:ate(ee,q)});if(re){var gt,Ft,Zr=ze(te)?W:te,yn=(gt=(Ft=Sh(oe,ke,!0))!==null&&Ft!==void 0?Ft:Zr)!==null&&gt!==void 0?gt:0;je=jK({barGap:T,barCategoryGap:$,bandSize:yn!==be?yn:be,sizeList:tt[xe],maxBarSize:Zr}),yn!==be&&(je=je.map(function(dr){return ue(ue({},dr),{},{position:ue(ue({},dr.position),{},{offset:dr.position.offset-yn/2})})}))}var vn=Y&&Y.type&&Y.type.getComposedData;vn&&G.push({props:ue(ue({},vn(ue(ue({},ee),{},{displayedData:F,props:S,dataKey:K,item:Y,bandSize:be,barPosition:je,offset:C,stackedData:$e,layout:I,dataStartIndex:E,dataEndIndex:M}))),{},Ie(Ie(Ie({key:Y.key||"item-".concat(z)},B,ee[B]),q,ee[q]),"animationId",A)),childIndex:k9(Y,S.children),item:Y})}),G},j=function(S,O){var P=S.props,N=S.dataStartIndex,C=S.dataEndIndex,A=S.updateId;if(!j5({props:P}))return null;var E=P.children,M=P.layout,R=P.stackOffset,I=P.data,T=P.reverseStackOrder,$=oO(M),W=$.numericAxisName,X=$.cateAxisName,B=Ir(E,a),q=_K(I,B,"".concat(W,"Id"),"".concat(X,"Id"),R,T),U=d.reduce(function(D,K){var te="".concat(K.axisType,"Map");return ue(ue({},D),{},Ie({},te,ete(P,ue(ue({},K),{},{graphicalItems:B,stackGroups:K.axisType===W&&q,dataStartIndex:N,dataEndIndex:C}))))},{}),G=nte(ue(ue({},U),{},{props:P,graphicalItems:B}),O==null?void 0:O.legendBBox);Object.keys(U).forEach(function(D){U[D]=p(P,U[D],G,D.replace("Map",""),n)});var Y=U["".concat(X,"Map")],z=tte(Y),F=g(P,ue(ue({},U),{},{dataStartIndex:N,dataEndIndex:C,updateId:A,graphicalItems:B,stackGroups:q,offset:G}));return ue(ue({formattedGraphicalItems:F,graphicalItems:B,offset:G,stackGroups:q},z),U)},v=(function(x){function S(O){var P,N,C;return Lee(this,S),C=zee(this,S,[O]),Ie(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ie(C,"accessibilityManager",new Nee),Ie(C,"handleLegendBBoxUpdate",function(A){if(A){var E=C.state,M=E.dataStartIndex,R=E.dataEndIndex,I=E.updateId;C.setState(ue({legendBBox:A},j({props:C.props,dataStartIndex:M,dataEndIndex:R,updateId:I},ue(ue({},C.state),{},{legendBBox:A}))))}}),Ie(C,"handleReceiveSyncEvent",function(A,E,M){if(C.props.syncId===A){if(M===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(E)}}),Ie(C,"handleBrushChange",function(A){var E=A.startIndex,M=A.endIndex;if(E!==C.state.dataStartIndex||M!==C.state.dataEndIndex){var R=C.state.updateId;C.setState(function(){return ue({dataStartIndex:E,dataEndIndex:M},j({props:C.props,dataStartIndex:E,dataEndIndex:M,updateId:R},C.state))}),C.triggerSyncEvent({dataStartIndex:E,dataEndIndex:M})}}),Ie(C,"handleMouseEnter",function(A){var E=C.getMouseInfo(A);if(E){var M=ue(ue({},E),{},{isTooltipActive:!0});C.setState(M),C.triggerSyncEvent(M);var R=C.props.onMouseEnter;Fe(R)&&R(M,A)}}),Ie(C,"triggeredAfterMouseMove",function(A){var E=C.getMouseInfo(A),M=E?ue(ue({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(M),C.triggerSyncEvent(M);var R=C.props.onMouseMove;Fe(R)&&R(M,A)}),Ie(C,"handleItemMouseEnter",function(A){C.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),Ie(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Ie(C,"handleMouseMove",function(A){A.persist(),C.throttleTriggeredAfterMouseMove(A)}),Ie(C,"handleMouseLeave",function(A){C.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};C.setState(E),C.triggerSyncEvent(E);var M=C.props.onMouseLeave;Fe(M)&&M(E,A)}),Ie(C,"handleOuterEvent",function(A){var E=S9(A),M=Mr(C.props,"".concat(E));if(E&&Fe(M)){var R,I;/.*touch.*/i.test(E)?I=C.getMouseInfo(A.changedTouches[0]):I=C.getMouseInfo(A),M((R=I)!==null&&R!==void 0?R:{},A)}}),Ie(C,"handleClick",function(A){var E=C.getMouseInfo(A);if(E){var M=ue(ue({},E),{},{isTooltipActive:!0});C.setState(M),C.triggerSyncEvent(M);var R=C.props.onClick;Fe(R)&&R(M,A)}}),Ie(C,"handleMouseDown",function(A){var E=C.props.onMouseDown;if(Fe(E)){var M=C.getMouseInfo(A);E(M,A)}}),Ie(C,"handleMouseUp",function(A){var E=C.props.onMouseUp;if(Fe(E)){var M=C.getMouseInfo(A);E(M,A)}}),Ie(C,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),Ie(C,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.handleMouseDown(A.changedTouches[0])}),Ie(C,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.handleMouseUp(A.changedTouches[0])}),Ie(C,"handleDoubleClick",function(A){var E=C.props.onDoubleClick;if(Fe(E)){var M=C.getMouseInfo(A);E(M,A)}}),Ie(C,"handleContextMenu",function(A){var E=C.props.onContextMenu;if(Fe(E)){var M=C.getMouseInfo(A);E(M,A)}}),Ie(C,"triggerSyncEvent",function(A){C.props.syncId!==void 0&&Xy.emit(Jy,C.props.syncId,A,C.eventEmitterSymbol)}),Ie(C,"applySyncEvent",function(A){var E=C.props,M=E.layout,R=E.syncMethod,I=C.state.updateId,T=A.dataStartIndex,$=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)C.setState(ue({dataStartIndex:T,dataEndIndex:$},j({props:C.props,dataStartIndex:T,dataEndIndex:$,updateId:I},C.state)));else if(A.activeTooltipIndex!==void 0){var W=A.chartX,X=A.chartY,B=A.activeTooltipIndex,q=C.state,U=q.offset,G=q.tooltipTicks;if(!U)return;if(typeof R=="function")B=R(G,A);else if(R==="value"){B=-1;for(var Y=0;Y<G.length;Y++)if(G[Y].value===A.activeLabel){B=Y;break}}var z=ue(ue({},U),{},{x:U.left,y:U.top}),F=Math.min(W,z.x+z.width),D=Math.min(X,z.y+z.height),K=G[B]&&G[B].value,te=Yb(C.state,C.props.data,B),de=G[B]?{x:M==="horizontal"?G[B].coordinate:F,y:M==="horizontal"?D:G[B].coordinate}:Y_;C.setState(ue(ue({},A),{},{activeLabel:K,activeCoordinate:de,activePayload:te,activeTooltipIndex:B}))}else C.setState(A)}),Ie(C,"renderCursor",function(A){var E,M=C.state,R=M.isTooltipActive,I=M.activeCoordinate,T=M.activePayload,$=M.offset,W=M.activeTooltipIndex,X=M.tooltipAxisBandSize,B=C.getTooltipEventType(),q=(E=A.props.active)!==null&&E!==void 0?E:R,U=C.props.layout,G=A.key||"_recharts-cursor";return V.createElement(Eee,{key:G,activeCoordinate:I,activePayload:T,activeTooltipIndex:W,chartName:n,element:A,isActive:q,layout:U,offset:$,tooltipAxisBandSize:X,tooltipEventType:B})}),Ie(C,"renderPolarAxis",function(A,E,M){var R=Mr(A,"type.axisType"),I=Mr(C.state,"".concat(R,"Map")),T=A.type.defaultProps,$=T!==void 0?ue(ue({},T),A.props):A.props,W=I&&I[$["".concat(R,"Id")]];return b.cloneElement(A,ue(ue({},W),{},{className:Be(R,W.className),key:A.key||"".concat(E,"-").concat(M),ticks:ea(W,!0)}))}),Ie(C,"renderPolarGrid",function(A){var E=A.props,M=E.radialLines,R=E.polarAngles,I=E.polarRadius,T=C.state,$=T.radiusAxisMap,W=T.angleAxisMap,X=Ma($),B=Ma(W),q=B.cx,U=B.cy,G=B.innerRadius,Y=B.outerRadius;return b.cloneElement(A,{polarAngles:Array.isArray(R)?R:ea(B,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(I)?I:ea(X,!0).map(function(z){return z.coordinate}),cx:q,cy:U,innerRadius:G,outerRadius:Y,key:A.key||"polar-grid",radialLines:M})}),Ie(C,"renderLegend",function(){var A=C.state.formattedGraphicalItems,E=C.props,M=E.children,R=E.width,I=E.height,T=C.props.margin||{},$=R-(T.left||0)-(T.right||0),W=T6({children:M,formattedGraphicalItems:A,legendWidth:$,legendContent:h});if(!W)return null;var X=W.item,B=nO(W,_ee);return b.cloneElement(X,ue(ue({},B),{},{chartWidth:R,chartHeight:I,margin:T,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Ie(C,"renderTooltip",function(){var A,E=C.props,M=E.children,R=E.accessibilityLayer,I=Er(M,Gr);if(!I)return null;var T=C.state,$=T.isTooltipActive,W=T.activeCoordinate,X=T.activePayload,B=T.activeLabel,q=T.offset,U=(A=I.props.active)!==null&&A!==void 0?A:$;return b.cloneElement(I,{viewBox:ue(ue({},q),{},{x:q.left,y:q.top}),active:U,label:B,payload:U?X:[],coordinate:W,accessibilityLayer:R})}),Ie(C,"renderBrush",function(A){var E=C.props,M=E.margin,R=E.data,I=C.state,T=I.offset,$=I.dataStartIndex,W=I.dataEndIndex,X=I.updateId;return b.cloneElement(A,{key:A.key||"_recharts-brush",onChange:Ed(C.handleBrushChange,A.props.onChange),data:R,x:ge(A.props.x)?A.props.x:T.left,y:ge(A.props.y)?A.props.y:T.top+T.height+T.brushBottom-(M.bottom||0),width:ge(A.props.width)?A.props.width:T.width,startIndex:$,endIndex:W,updateId:"brush-".concat(X)})}),Ie(C,"renderReferenceElement",function(A,E,M){if(!A)return null;var R=C,I=R.clipPathId,T=C.state,$=T.xAxisMap,W=T.yAxisMap,X=T.offset,B=A.type.defaultProps||{},q=A.props,U=q.xAxisId,G=U===void 0?B.xAxisId:U,Y=q.yAxisId,z=Y===void 0?B.yAxisId:Y;return b.cloneElement(A,{key:A.key||"".concat(E,"-").concat(M),xAxis:$[G],yAxis:W[z],viewBox:{x:X.left,y:X.top,width:X.width,height:X.height},clipPathId:I})}),Ie(C,"renderActivePoints",function(A){var E=A.item,M=A.activePoint,R=A.basePoint,I=A.childIndex,T=A.isRange,$=[],W=E.props.key,X=E.item.type.defaultProps!==void 0?ue(ue({},E.item.type.defaultProps),E.item.props):E.item.props,B=X.activeDot,q=X.dataKey,U=ue(ue({index:I,dataKey:q,cx:M.x,cy:M.y,r:4,fill:cw(E.item),strokeWidth:2,stroke:"#fff",payload:M.payload,value:M.value},Te(B,!1)),Zd(B));return $.push(S.renderActiveDot(B,U,"".concat(W,"-activePoint-").concat(I))),R?$.push(S.renderActiveDot(B,ue(ue({},U),{},{cx:R.x,cy:R.y}),"".concat(W,"-basePoint-").concat(I))):T&&$.push(null),$}),Ie(C,"renderGraphicChild",function(A,E,M){var R=C.filterFormatItem(A,E,M);if(!R)return null;var I=C.getTooltipEventType(),T=C.state,$=T.isTooltipActive,W=T.tooltipAxis,X=T.activeTooltipIndex,B=T.activeLabel,q=C.props.children,U=Er(q,Gr),G=R.props,Y=G.points,z=G.isRange,F=G.baseLine,D=R.item.type.defaultProps!==void 0?ue(ue({},R.item.type.defaultProps),R.item.props):R.item.props,K=D.activeDot,te=D.hide,de=D.activeBar,xe=D.activeShape,ie=!!(!te&&$&&U&&(K||de||xe)),ee={};I!=="axis"&&U&&U.props.trigger==="click"?ee={onClick:Ed(C.handleItemMouseEnter,A.props.onClick)}:I!=="axis"&&(ee={onMouseLeave:Ed(C.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:Ed(C.handleItemMouseEnter,A.props.onMouseEnter)});var oe=b.cloneElement(A,ue(ue({},R.props),ee));function ke(en){return typeof W.dataKey=="function"?W.dataKey(en.payload):null}if(ie)if(X>=0){var $e,re;if(W.dataKey&&!W.allowDuplicatedCategory){var be=typeof W.dataKey=="function"?ke:"payload.".concat(W.dataKey.toString());$e=Jd(Y,be,B),re=z&&F&&Jd(F,be,B)}else $e=Y==null?void 0:Y[X],re=z&&F&&F[X];if(xe||de){var je=A.props.activeIndex!==void 0?A.props.activeIndex:X;return[b.cloneElement(A,ue(ue(ue({},R.props),ee),{},{activeIndex:je})),null,null]}if(!ze($e))return[oe].concat(Po(C.renderActivePoints({item:R,activePoint:$e,basePoint:re,childIndex:X,isRange:z})))}else{var tt,gt=(tt=C.getItemByXY(C.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:oe},Ft=gt.graphicalItem,Zr=Ft.item,yn=Zr===void 0?A:Zr,vn=Ft.childIndex,dr=ue(ue(ue({},R.props),ee),{},{activeIndex:vn});return[b.cloneElement(yn,dr),null,null]}return z?[oe,null,null]:[oe,null]}),Ie(C,"renderCustomized",function(A,E,M){return b.cloneElement(A,ue(ue({key:"recharts-customized-".concat(M)},C.props),C.state))}),Ie(C,"renderMap",{CartesianGrid:{handler:Id,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Id},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Id},YAxis:{handler:Id},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((P=O.id)!==null&&P!==void 0?P:$o("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=TE(C.triggeredAfterMouseMove,(N=O.throttleDelay)!==null&&N!==void 0?N:1e3/60),C.state={},C}return Uee(S,x),Fee(S,[{key:"componentDidMount",value:function(){var P,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var P=this.props,N=P.children,C=P.data,A=P.height,E=P.layout,M=Er(N,Gr);if(M){var R=M.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,T=Yb(this.state,C,R,I),$=this.state.tooltipTicks[R].coordinate,W=(this.state.offset.top+A)/2,X=E==="horizontal",B=X?{x:$,y:W}:{y:$,x:W},q=this.state.formattedGraphicalItems.find(function(G){var Y=G.item;return Y.type.name==="Scatter"});q&&(B=ue(ue({},B),q.props.points[R].tooltipPosition),T=q.props.points[R].tooltipPayload);var U={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:I,activePayload:T,activeCoordinate:B};this.setState(U),this.renderCursor(M),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(P,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==P.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==P.margin){var C,A;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(P){Tv([Er(P.children,Gr)],[Er(this.props.children,Gr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var P=Er(this.props.children,Gr);if(P&&typeof P.props.shared=="boolean"){var N=P.props.shared?"axis":"item";return u.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(P){if(!this.container)return null;var N=this.container,C=N.getBoundingClientRect(),A=dq(C),E={chartX:Math.round(P.pageX-A.left),chartY:Math.round(P.pageY-A.top)},M=C.width/N.offsetWidth||1,R=this.inRange(E.chartX,E.chartY,M);if(!R)return null;var I=this.state,T=I.xAxisMap,$=I.yAxisMap,W=this.getTooltipEventType(),X=sO(this.state,this.props.data,this.props.layout,R);if(W!=="axis"&&T&&$){var B=Ma(T).scale,q=Ma($).scale,U=B&&B.invert?B.invert(E.chartX):null,G=q&&q.invert?q.invert(E.chartY):null;return ue(ue({},E),{},{xValue:U,yValue:G},X)}return X?ue(ue({},E),X):null}},{key:"inRange",value:function(P,N){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,E=P/C,M=N/C;if(A==="horizontal"||A==="vertical"){var R=this.state.offset,I=E>=R.left&&E<=R.left+R.width&&M>=R.top&&M<=R.top+R.height;return I?{x:E,y:M}:null}var T=this.state,$=T.angleAxisMap,W=T.radiusAxisMap;if($&&W){var X=Ma($);return uA({x:E,y:M},X)}return null}},{key:"parseEventsOfWrapper",value:function(){var P=this.props.children,N=this.getTooltipEventType(),C=Er(P,Gr),A={};C&&N==="axis"&&(C.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Zd(this.props,this.handleOuterEvent);return ue(ue({},E),A)}},{key:"addListener",value:function(){Xy.on(Jy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Xy.removeListener(Jy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(P,N,C){for(var A=this.state.formattedGraphicalItems,E=0,M=A.length;E<M;E++){var R=A[E];if(R.item===P||R.props.key===P.key||N===ta(R.item.type)&&C===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var P=this.clipPathId,N=this.state.offset,C=N.left,A=N.top,E=N.height,M=N.width;return V.createElement("defs",null,V.createElement("clipPath",{id:P},V.createElement("rect",{x:C,y:A,height:E,width:M})))}},{key:"getXScales",value:function(){var P=this.state.xAxisMap;return P?Object.entries(P).reduce(function(N,C){var A=rO(C,2),E=A[0],M=A[1];return ue(ue({},N),{},Ie({},E,M.scale))},{}):null}},{key:"getYScales",value:function(){var P=this.state.yAxisMap;return P?Object.entries(P).reduce(function(N,C){var A=rO(C,2),E=A[0],M=A[1];return ue(ue({},N),{},Ie({},E,M.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(P){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[P])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(P){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[P])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(P){var N=this.state,C=N.formattedGraphicalItems,A=N.activeItem;if(C&&C.length)for(var E=0,M=C.length;E<M;E++){var R=C[E],I=R.props,T=R.item,$=T.type.defaultProps!==void 0?ue(ue({},T.type.defaultProps),T.props):T.props,W=ta(T.type);if(W==="Bar"){var X=(I.data||[]).find(function(G){return TQ(P,G)});if(X)return{graphicalItem:R,payload:X}}else if(W==="RadialBar"){var B=(I.data||[]).find(function(G){return uA(P,G)});if(B)return{graphicalItem:R,payload:B}}else if(zf(R,A)||Bf(R,A)||Tc(R,A)){var q=tX({graphicalItem:R,activeTooltipItem:A,itemData:$.data}),U=$.activeIndex===void 0?q:$.activeIndex;return{graphicalItem:ue(ue({},R),{},{childIndex:U}),payload:Tc(R,A)?$.data[q]:R.props.data[q]}}}return null}},{key:"render",value:function(){var P=this;if(!j5(this))return null;var N=this.props,C=N.children,A=N.className,E=N.width,M=N.height,R=N.style,I=N.compact,T=N.title,$=N.desc,W=nO(N,Tee),X=Te(W,!1);if(I)return V.createElement(LP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(Mv,Fi({},X,{width:E,height:M,title:T,desc:$}),this.renderClipPath(),N5(C,this.renderMap)));if(this.props.accessibilityLayer){var B,q;X.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,X.role=(q=this.props.role)!==null&&q!==void 0?q:"application",X.onKeyDown=function(G){P.accessibilityManager.keyboardEvent(G)},X.onFocus=function(){P.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return V.createElement(LP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",Fi({className:Be("recharts-wrapper",A),style:ue({position:"relative",cursor:"default",width:E,height:M},R)},U,{ref:function(Y){P.container=Y}}),V.createElement(Mv,Fi({},X,{width:E,height:M,title:T,desc:$,style:Qee}),this.renderClipPath(),N5(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(b.Component);Ie(v,"displayName",n),Ie(v,"defaultProps",ue({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ie(v,"getDerivedStateFromProps",function(x,S){var O=x.dataKey,P=x.data,N=x.children,C=x.width,A=x.height,E=x.layout,M=x.stackOffset,R=x.margin,I=S.dataStartIndex,T=S.dataEndIndex;if(S.updateId===void 0){var $=iO(x);return ue(ue(ue({},$),{},{updateId:0},j(ue(ue({props:x},$),{},{updateId:0}),S)),{},{prevDataKey:O,prevData:P,prevWidth:C,prevHeight:A,prevLayout:E,prevStackOffset:M,prevMargin:R,prevChildren:N})}if(O!==S.prevDataKey||P!==S.prevData||C!==S.prevWidth||A!==S.prevHeight||E!==S.prevLayout||M!==S.prevStackOffset||!zi(R,S.prevMargin)){var W=iO(x),X={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},B=ue(ue({},sO(S,P,E)),{},{updateId:S.updateId+1}),q=ue(ue(ue({},W),X),B);return ue(ue(ue({},q),j(ue({props:x},q),S)),{},{prevDataKey:O,prevData:P,prevWidth:C,prevHeight:A,prevLayout:E,prevStackOffset:M,prevMargin:R,prevChildren:N})}if(!Tv(N,S.prevChildren)){var U,G,Y,z,F=Er(N,go),D=F&&(U=(G=F.props)===null||G===void 0?void 0:G.startIndex)!==null&&U!==void 0?U:I,K=F&&(Y=(z=F.props)===null||z===void 0?void 0:z.endIndex)!==null&&Y!==void 0?Y:T,te=D!==I||K!==T,de=!ze(P),xe=de&&!te?S.updateId:S.updateId+1;return ue(ue({updateId:xe},j(ue(ue({props:x},S),{},{updateId:xe,dataStartIndex:D,dataEndIndex:K}),S)),{},{prevChildren:N,dataStartIndex:D,dataEndIndex:K})}return null}),Ie(v,"renderActiveDot",function(x,S,O){var P;return b.isValidElement(x)?P=b.cloneElement(x,S):Fe(x)?P=x(S):P=V.createElement(If,S),V.createElement(Ge,{className:"recharts-active-dot",key:O},P)});var w=b.forwardRef(function(S,O){return V.createElement(v,Fi({},S,{ref:O}))});return w.displayName=v.displayName,w},ste=jw({chartName:"LineChart",GraphicalChild:So,axisComponents:[{axisType:"xAxis",AxisComp:qo},{axisType:"yAxis",AxisComp:Uo}],formatAxisMap:g_}),ite=jw({chartName:"BarChart",GraphicalChild:Xa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:qo},{axisType:"yAxis",AxisComp:Uo}],formatAxisMap:g_}),ote=jw({chartName:"PieChart",GraphicalChild:ha,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ff},{axisType:"radiusAxis",AxisComp:Lf}],formatAxisMap:UK,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const lO=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316"],lte=[{value:"day",label:"Last 24 Hours"},{value:"week",label:"Last 7 Days"},{value:"month",label:"This Month"}];function cte({metrics:e,loading:t}){const n=[{title:"Total Executions",value:(e==null?void 0:e.totalExecutions)??0,format:a=>a.toLocaleString(),color:"text-blue-600",bgColor:"bg-blue-50"},{title:"Success Rate",value:(e==null?void 0:e.overallSuccessRate)??0,format:a=>`${a}%`,color:((e==null?void 0:e.overallSuccessRate)??0)>=95?"text-green-600":((e==null?void 0:e.overallSuccessRate)??0)>=80?"text-yellow-600":"text-red-600",bgColor:((e==null?void 0:e.overallSuccessRate)??0)>=95?"bg-green-50":((e==null?void 0:e.overallSuccessRate)??0)>=80?"bg-yellow-50":"bg-red-50"},{title:"Avg Latency",value:(e==null?void 0:e.avgLatencyMs)??0,format:a=>`${a}ms`,color:"text-purple-600",bgColor:"bg-purple-50"},{title:"Total Cost",value:(e==null?void 0:e.totalCostCents)??0,format:a=>`$${(a/100).toFixed(2)}`,color:"text-amber-600",bgColor:"bg-amber-50"},{title:"Active Agents",value:(e==null?void 0:e.totalAgents)??0,format:a=>a.toString(),color:"text-teal-600",bgColor:"bg-teal-50"},{title:"Unique Users",value:(e==null?void 0:e.uniqueUsers)??0,format:a=>a.toString(),color:"text-indigo-600",bgColor:"bg-indigo-50"}];return r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:n.map(a=>r.jsxs("div",{className:`${a.bgColor} rounded-lg p-4 ${t?"animate-pulse":""}`,children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:a.title}),r.jsx("p",{className:`text-2xl font-bold ${a.color}`,children:t?"-":a.format(a.value)})]},a.title))})}function ute({data:e,loading:t}){return t?r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Executions Over Time"}),r.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]}):r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Executions Over Time"}),r.jsx(Dj,{width:"100%",height:256,children:r.jsxs(ste,{data:e,children:[r.jsx(bw,{strokeDasharray:"3 3"}),r.jsx(qo,{dataKey:"date",tick:{fontSize:12},tickFormatter:n=>new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),r.jsx(Uo,{tick:{fontSize:12}}),r.jsx(Gr,{labelFormatter:n=>new Date(n).toLocaleDateString(),formatter:(n,a)=>[n.toLocaleString(),a]}),r.jsx(Qa,{}),r.jsx(So,{type:"monotone",dataKey:"executions",stroke:"#3B82F6",strokeWidth:2,dot:!1,name:"Executions"}),r.jsx(So,{type:"monotone",dataKey:"successCount",stroke:"#10B981",strokeWidth:2,dot:!1,name:"Successful"})]})})]})}function dte({agents:e,loading:t}){if(t||e.length===0)return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),r.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const n=e.filter(a=>a.totalCostCents>0).slice(0,8).map(a=>({name:a.agentName||a.agentId.slice(0,8),value:a.totalCostCents}));return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),r.jsx(Dj,{width:"100%",height:256,children:r.jsxs(ote,{children:[r.jsx(ha,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:({name:a,percent:s})=>`${a} (${(s*100).toFixed(0)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:n.map((a,s)=>r.jsx(Nf,{fill:lO[s%lO.length]},`cell-${s}`))}),r.jsx(Gr,{formatter:a=>[`$${(a/100).toFixed(2)}`,"Cost"]})]})})]})}function hte({agents:e,loading:t}){if(t||e.length===0)return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Latency Distribution"}),r.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const n=e.slice(0,10).map(a=>({name:a.agentName||a.agentId.slice(0,8),avgLatency:a.avgLatencyMs,p95Latency:a.p95LatencyMs}));return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Latency by Agent"}),r.jsx(Dj,{width:"100%",height:256,children:r.jsxs(ite,{data:n,children:[r.jsx(bw,{strokeDasharray:"3 3"}),r.jsx(qo,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:60}),r.jsx(Uo,{tick:{fontSize:12}}),r.jsx(Gr,{formatter:a=>[`${a}ms`,""]}),r.jsx(Qa,{}),r.jsx(Xa,{dataKey:"avgLatency",fill:"#8B5CF6",name:"Avg Latency (ms)"}),r.jsx(Xa,{dataKey:"p95Latency",fill:"#EC4899",name:"P95 Latency (ms)"})]})})]})}function fte({agents:e,loading:t}){return t?r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Performance"}),r.jsx("div",{className:"space-y-2",children:[...Array(5)].map((n,a)=>r.jsx("div",{className:"h-12 bg-gray-100 animate-pulse rounded"},a))})]}):r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm overflow-x-auto",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Performance"}),r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Agent"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Executions"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Success"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Latency"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cost"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Rating"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(n=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsx("span",{className:"font-medium text-gray-900",children:n.agentName||n.agentId.slice(0,8)})}),r.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:n.totalExecutions.toLocaleString()}),r.jsx("td",{className:"px-4 py-3 text-right",children:r.jsxs("span",{className:`px-2 py-1 rounded text-sm ${n.successRate>=95?"bg-green-100 text-green-800":n.successRate>=80?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[n.successRate,"%"]})}),r.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:[n.avgLatencyMs,"ms"]}),r.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:["$",(n.totalCostCents/100).toFixed(2)]}),r.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:n.avgRating>0?n.avgRating.toFixed(1):"-"})]},n.agentId))})]})]})}function mte({trends:e,loading:t}){if(t||e.length===0)return null;const n=i=>{switch(i){case"up":return"^";case"down":return"v";default:return"-"}},a=i=>{const l=["successRate","totalExecutions","uniqueUsers","avgRating"].includes(i.metric),u=["avgLatencyMs","totalCostCents"].includes(i.metric);return i.direction==="stable"?"text-gray-600 bg-gray-100":i.direction==="up"&&l||i.direction==="down"&&u?"text-green-600 bg-green-100":"text-red-600 bg-red-100"},s=i=>i.replace(/([A-Z])/g," $1").replace(/^./,l=>l.toUpperCase()).replace("Ms"," (ms)").replace("Cents"," ($)");return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trends vs Previous Period"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:e.map(i=>r.jsxs("div",{className:`rounded-lg p-3 ${a(i)}`,children:[r.jsx("p",{className:"text-xs font-medium mb-1",children:s(i.metric)}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-lg font-bold",children:n(i.direction)}),r.jsxs("span",{className:"text-sm",children:[i.changePercent>0?"+":"",i.changePercent.toFixed(1),"%"]})]})]},i.metric))})]})}function pte({entries:e,loading:t}){if(t)return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Leaderboard"}),r.jsx("div",{className:"space-y-2",children:[...Array(5)].map((a,s)=>r.jsx("div",{className:"h-12 bg-gray-100 animate-pulse rounded"},s))})]});const n=a=>{switch(a){case"up":return r.jsx("span",{className:"text-green-500",children:"^"});case"down":return r.jsx("span",{className:"text-red-500",children:"v"});default:return r.jsx("span",{className:"text-gray-400",children:"-"})}};return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Leaderboard"}),r.jsx("div",{className:"space-y-2",children:e.map(a=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`w-8 h-8 flex items-center justify-center rounded-full font-bold ${a.rank===1?"bg-yellow-400 text-yellow-900":a.rank===2?"bg-gray-300 text-gray-700":a.rank===3?"bg-orange-400 text-orange-900":"bg-gray-200 text-gray-600"}`,children:a.rank}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:a.agentName||a.agentId.slice(0,8)}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Score: ",a.score.toFixed(1)," ",n(a.trend)]})]})]}),r.jsxs("div",{className:"text-right text-sm",children:[r.jsxs("p",{className:"text-gray-600",children:[a.executions.toLocaleString()," executions"]}),r.jsxs("p",{className:"text-gray-500",children:[a.successRate,"% success"]})]})]},a.agentId))})]})}function xte({data:e,loading:t}){if(t)return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Execution Heatmap"}),r.jsx("div",{className:"h-64 bg-gray-100 animate-pulse rounded"})]});const n=Array.from({length:24},(u,d)=>d),a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=Array.from({length:7},()=>Array(24).fill(0));let i=1;e.forEach(u=>{const h=new Date(u.date).getDay();h>=0&&h<7&&u.hour>=0&&u.hour<24&&(s[h][u.hour]+=u.value,i=Math.max(i,s[h][u.hour]))});const l=u=>{if(u===0)return"bg-gray-100";const d=u/i;return d<.2?"bg-blue-100":d<.4?"bg-blue-200":d<.6?"bg-blue-300":d<.8?"bg-blue-400":"bg-blue-500"};return r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Execution Heatmap (by Day/Hour)"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("div",{className:"min-w-max",children:[r.jsx("div",{className:"flex gap-0.5 mb-1 ml-12",children:n.map(u=>r.jsx("div",{className:"w-6 text-xs text-gray-500 text-center",title:`${u}:00`,children:u%3===0?u:""},u))}),a.map((u,d)=>r.jsxs("div",{className:"flex gap-0.5 items-center",children:[r.jsx("span",{className:"w-10 text-xs text-gray-600 text-right pr-2",children:u}),n.map(h=>r.jsx("div",{className:`w-6 h-6 rounded-sm ${l(s[d][h])} cursor-pointer hover:ring-2 hover:ring-blue-400`,title:`${u} ${h}:00 - ${s[d][h]} executions`},h))]},u)),r.jsxs("div",{className:"flex items-center gap-2 mt-4 ml-12",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Less"}),r.jsx("div",{className:"w-4 h-4 bg-gray-100 rounded-sm"}),r.jsx("div",{className:"w-4 h-4 bg-blue-100 rounded-sm"}),r.jsx("div",{className:"w-4 h-4 bg-blue-200 rounded-sm"}),r.jsx("div",{className:"w-4 h-4 bg-blue-300 rounded-sm"}),r.jsx("div",{className:"w-4 h-4 bg-blue-400 rounded-sm"}),r.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-sm"}),r.jsx("span",{className:"text-xs text-gray-500",children:"More"})]})]})})]})}function gte({anomalies:e,loading:t}){return t||e.length===0?null:r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-red-500",children:"!"})," Anomalies Detected"]}),r.jsx("div",{className:"space-y-2",children:e.slice(0,5).map((n,a)=>r.jsx("div",{className:`p-3 rounded-lg border-l-4 ${n.severity==="critical"?"bg-red-50 border-red-500":"bg-yellow-50 border-yellow-500"}`,children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium capitalize",children:n.metric.replace(/([A-Z])/g," $1")}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Value: ",n.value.toLocaleString()," (expected: ~",n.expectedValue.toLocaleString(),")"]})]}),r.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${n.severity==="critical"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[n.deviationPercent>0?"+":"",n.deviationPercent.toFixed(0),"%"]})]})},a))})]})}function yte({onExport:e,loading:t}){const[n,a]=b.useState(!1);return r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>a(!n),disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:t?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin",children:"..."}),"Exporting..."]}):r.jsx(r.Fragment,{children:"Export"})}),n&&!t&&r.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:[r.jsx("button",{onClick:()=>{e("csv"),a(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-100 rounded-t-lg",children:"Export as CSV"}),r.jsx("button",{onClick:()=>{e("pdf"),a(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-100 rounded-b-lg",children:"Export as PDF"})]})]})}function vte(){const[e,t]=b.useState("week"),[n,a]=b.useState(!0),[s,i]=b.useState(!1),[l,u]=b.useState(null),[d,h]=b.useState(!1),[p,m]=b.useState(!0),[g,j]=b.useState(null),[v,w]=b.useState([]),[x,S]=b.useState([]),[O,P]=b.useState([]),[N,C]=b.useState([]),A=b.useCallback(async()=>{var M,R,I,T;a(!0),u(null);try{const[$,W,X,B]=await Promise.all([fetch(`/api/analytics/overview?period=${e}`,{credentials:"include"}),fetch(`/api/analytics/agents?period=${e}`,{credentials:"include"}),fetch(`/api/analytics/leaderboard?period=${e}&limit=10`,{credentials:"include"}),fetch(`/api/analytics/trends?period=${e}`,{credentials:"include"})]);if(Ro($)){h(!0);return}if(!$.ok)throw new Error("Failed to fetch overview");if(!W.ok)throw new Error("Failed to fetch agent metrics");if(!X.ok)throw new Error("Failed to fetch leaderboard");if(!B.ok)throw new Error("Failed to fetch trends");const[q,U,G,Y]=await Promise.all([$.json(),W.json(),X.json(),B.json()]);j(q.data),w(((M=U.data)==null?void 0:M.agents)||[]),S(((R=G.data)==null?void 0:R.leaderboard)||[]),P(((I=Y.data)==null?void 0:I.trends)||[]),C(((T=Y.data)==null?void 0:T.anomalies)||[])}catch($){u($ instanceof Error?$.message:"Failed to load analytics"),console.error("Analytics fetch error:",$)}finally{a(!1)}},[e]),E=async M=>{i(!0);try{const R=await fetch("/api/analytics/report",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:"Agent Performance Report",sections:["overview","agents","leaderboard","costs"],format:M,period:e})});if(!R.ok)throw new Error("Export failed");const I=await R.blob(),T=window.URL.createObjectURL(I),$=document.createElement("a");$.href=T,$.download=`analytics-report-${new Date().toISOString().split("T")[0]}.${M}`,document.body.appendChild($),$.click(),document.body.removeChild($),window.URL.revokeObjectURL(T)}catch(R){console.error("Export error:",R),u("Failed to export report")}finally{i(!1)}};return b.useEffect(()=>{A()},[A]),b.useEffect(()=>{if(!p)return;const M=setInterval(A,6e4);return()=>clearInterval(M)},[p,A]),d?r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Agent performance and execution metrics"})]}),r.jsx(Yc,{title:"Analytics Dashboard",description:"The analytics dashboard is currently being set up. This feature will display agent performance metrics, execution trends, and leaderboards once the backend service is activated.",onRetry:A})]}):r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Agent performance and execution metrics"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("select",{value:e,onChange:M=>t(M.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:lte.map(M=>r.jsx("option",{value:M.value,children:M.label},M.value))}),r.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("input",{type:"checkbox",checked:p,onChange:M=>m(M.target.checked),className:"rounded"}),"Auto-refresh"]}),r.jsx(yte,{onExport:E,loading:s})]})]}),l&&r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:[l,r.jsx("button",{onClick:A,className:"ml-4 underline hover:no-underline",children:"Retry"})]}),r.jsx("div",{className:"mb-6",children:r.jsx(gte,{anomalies:N,loading:n})}),r.jsx("div",{className:"mb-6",children:r.jsx(cte,{metrics:g,loading:n})}),r.jsx("div",{className:"mb-6",children:r.jsx(mte,{trends:O,loading:n})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[r.jsx(ute,{data:(g==null?void 0:g.dailyTrend)||[],loading:n}),r.jsx(dte,{agents:v,loading:n})]}),r.jsx("div",{className:"mb-6",children:r.jsx(hte,{agents:v,loading:n})}),r.jsx("div",{className:"mb-6",children:r.jsx(xte,{data:((g==null?void 0:g.dailyTrend)||[]).flatMap(M=>Array.from({length:24},(R,I)=>({date:M.date,hour:I,value:Math.floor(M.executions*(I>=9&&I<=17?.08:.02))}))),loading:n})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(fte,{agents:v,loading:n}),r.jsx(pte,{entries:x,loading:n})]})]})}const bte=()=>{const[e,t]=b.useState([]),[n,a]=b.useState(null),[s,i]=b.useState(null),[l,u]=b.useState(null),[d,h]=b.useState(null),[p,m]=b.useState([]),[g,j]=b.useState("monthly"),[v,w]=b.useState(!0),[x,S]=b.useState(null);b.useEffect(()=>{O()},[]);const O=async()=>{try{w(!0),S(null);const[R,I,T,$]=await Promise.all([fetch("/api/billing/plans"),fetch("/api/billing/subscription"),fetch("/api/billing/usage"),fetch("/api/billing/invoices")]);if(!R.ok||!I.ok||!T.ok)throw new Error("Failed to load billing data");const W=await R.json(),X=await I.json(),B=await T.json(),q=await $.json();t(W.plans),a(X.subscription),i(B.usage),u(B.limits),h(B.percentages),m(q.invoices)}catch(R){S(R instanceof Error?R.message:"An error occurred")}finally{w(!1)}},P=async R=>{try{const I=await fetch("/api/billing/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planId:R,billingInterval:g})});if(!I.ok){const $=await I.json();throw new Error($.error||"Failed to create checkout session")}const{url:T}=await I.json();T&&(window.location.href=T)}catch(I){S(I instanceof Error?I.message:"Failed to upgrade")}},N=async()=>{try{const R=await fetch("/api/billing/portal",{method:"POST",headers:{"Content-Type":"application/json"}});if(!R.ok){const T=await R.json();throw new Error(T.error||"Failed to open billing portal")}const{url:I}=await R.json();I&&(window.location.href=I)}catch(R){S(R instanceof Error?R.message:"Failed to open billing portal")}},C=async()=>{if(confirm("Are you sure you want to cancel your subscription?"))try{const R=await fetch("/api/billing/cancel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({immediately:!1})});if(!R.ok){const I=await R.json();throw new Error(I.error||"Failed to cancel subscription")}await O()}catch(R){S(R instanceof Error?R.message:"Failed to cancel")}},A=async()=>{try{const R=await fetch("/api/billing/reactivate",{method:"POST",headers:{"Content-Type":"application/json"}});if(!R.ok){const I=await R.json();throw new Error(I.error||"Failed to reactivate subscription")}await O()}catch(R){S(R instanceof Error?R.message:"Failed to reactivate")}},E=R=>R===-1?"Unlimited":R.toLocaleString(),M=R=>`${(R/1073741824).toFixed(2)} GB`;return v?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Billing & Subscription"}),x&&r.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[x,r.jsx("button",{onClick:()=>S(null),className:"ml-4 text-red-500 hover:text-red-700",children:"Dismiss"})]}),n&&r.jsxs("section",{className:"mb-8 p-6 bg-white rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Current Plan"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.plan.name}),r.jsxs("p",{className:"text-gray-500",children:[n.billingInterval==="yearly"?"Annual":"Monthly"," billing"]}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Current period ends:"," ",new Date(n.currentPeriodEnd).toLocaleDateString()]}),n.cancelAtPeriodEnd&&r.jsx("p",{className:"text-sm text-orange-600 mt-2",children:"Subscription will be canceled at period end"})]}),r.jsxs("div",{className:"flex gap-3",children:[n.hasStripeSubscription&&r.jsx("button",{onClick:N,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Manage Billing"}),n.cancelAtPeriodEnd?r.jsx("button",{onClick:A,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Reactivate"}):n.planId!=="free"?r.jsx("button",{onClick:C,className:"px-4 py-2 text-red-600 border border-red-300 rounded-lg hover:bg-red-50",children:"Cancel Plan"}):null]})]})]}),s&&l&&d&&r.jsxs("section",{className:"mb-8 p-6 bg-white rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Usage"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsx(Bl,{label:"Executions",current:s.executions,limit:l.executionsPerMonth,percentage:d.executions}),r.jsx(Bl,{label:"API Requests (Daily)",current:s.api_requests,limit:l.apiRequestsPerDay,percentage:d.api_requests}),r.jsx(Bl,{label:"Agents",current:s.agents,limit:l.agents,percentage:d.agents}),r.jsx(Bl,{label:"Workflows",current:s.workflows,limit:l.workflows,percentage:d.workflows}),r.jsx(Bl,{label:"Team Members",current:s.team_members,limit:l.teamMembers,percentage:d.team_members}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-gray-600",children:"Storage"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[M(s.storage_bytes)," / ",E(l.storageGb)," GB"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(d.storage_bytes,100)}%`}})})]})]})]}),r.jsxs("section",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Available Plans"}),r.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>j("monthly"),className:`px-4 py-2 rounded-md transition ${g==="monthly"?"bg-white shadow text-blue-600":"text-gray-600"}`,children:"Monthly"}),r.jsxs("button",{onClick:()=>j("yearly"),className:`px-4 py-2 rounded-md transition ${g==="yearly"?"bg-white shadow text-blue-600":"text-gray-600"}`,children:["Yearly",r.jsx("span",{className:"ml-1 text-xs text-green-600",children:"Save 17%"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(R=>r.jsxs("div",{className:`p-6 bg-white rounded-lg shadow relative ${R.popular?"ring-2 ring-blue-500":""}`,children:[R.popular&&r.jsx("span",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white text-xs px-3 py-1 rounded-full",children:"Most Popular"}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:R.name}),r.jsx("p",{className:"text-gray-500 text-sm mb-4",children:R.description}),r.jsxs("div",{className:"mb-6",children:[r.jsx("span",{className:"text-3xl font-bold",children:g==="yearly"?R.pricing.yearly:R.pricing.monthly}),R.pricing.monthlyRaw>0&&r.jsxs("span",{className:"text-gray-500",children:["/",g==="yearly"?"year":"month"]})]}),r.jsxs("ul",{className:"space-y-2 mb-6 text-sm",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," ",E(R.limits.agents)," Agents"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," ",E(R.limits.workflows)," Workflows"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," ",E(R.limits.executionsPerMonth)," Executions/month"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," ",E(R.limits.teamMembers)," Team members"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," ",R.limits.storageGb," GB Storage"]}),R.features.githubIntegration&&r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," GitHub Integration"]}),R.features.advancedAnalytics&&r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," Advanced Analytics"]}),R.features.prioritySupport&&r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," Priority Support"]}),R.features.sso&&r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Hn,{})," SSO"]})]}),(n==null?void 0:n.planId)===R.id?r.jsx("button",{disabled:!0,className:"w-full py-2 bg-gray-100 text-gray-500 rounded-lg cursor-not-allowed",children:"Current Plan"}):R.id==="free"?r.jsx("button",{disabled:!0,className:"w-full py-2 bg-gray-100 text-gray-500 rounded-lg cursor-not-allowed",children:"Free"}):R.pricing.monthlyRaw===-1?r.jsx("a",{href:"mailto:sales@kyndof.com",className:"block w-full py-2 text-center border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50",children:"Contact Sales"}):r.jsxs("button",{onClick:()=>P(R.id),className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[n&&n.planId!=="free"?"Switch to":"Upgrade to"," ",R.name]})]},R.id))})]}),p.length>0&&r.jsxs("section",{className:"p-6 bg-white rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Invoice History"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Period"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Amount"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),r.jsx("tbody",{children:p.map(R=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:new Date(R.createdAt).toLocaleDateString()}),r.jsxs("td",{className:"py-3 px-4",children:[new Date(R.periodStart).toLocaleDateString()," -"," ",new Date(R.periodEnd).toLocaleDateString()]}),r.jsx("td",{className:"py-3 px-4",children:R.amountFormatted}),r.jsx("td",{className:"py-3 px-4",children:r.jsx(jte,{status:R.status})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex gap-2",children:[R.hostedInvoiceUrl&&r.jsx("a",{href:R.hostedInvoiceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"View"}),R.invoicePdfUrl&&r.jsx("a",{href:R.invoicePdfUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"PDF"})]})})]},R.id))})]})})]})]})},Bl=({label:e,current:t,limit:n,percentage:a})=>{const s=l=>l===-1?"Unlimited":l.toLocaleString(),i=l=>l>=90?"bg-red-500":l>=75?"bg-orange-500":"bg-blue-600";return r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-gray-600",children:e}),r.jsxs("span",{className:"text-sm text-gray-500",children:[t.toLocaleString()," / ",s(n)]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`${i(a)} h-2 rounded-full transition-all`,style:{width:`${Math.min(a,100)}%`}})})]})},Hn=()=>r.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),jte=({status:e})=>{const t={paid:"bg-green-100 text-green-800",open:"bg-yellow-100 text-yellow-800",draft:"bg-gray-100 text-gray-800",void:"bg-red-100 text-red-800",uncollectible:"bg-red-100 text-red-800"};return r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${t[e]||t.draft}`,children:e.charAt(0).toUpperCase()+e.slice(1)})};function wte(){const[e,t]=b.useState(null),[n,a]=b.useState([]),[s,i]=b.useState(null),[l,u]=b.useState(!0),[d,h]=b.useState(null),[p,m]=b.useState(!1),[g,j]=b.useState("month"),[v,w]=b.useState(""),[x,S]=b.useState(!1),{user:O}=Za();b.useEffect(()=>{P()},[g]);const P=async()=>{try{u(!0),h(null);const[I,T,$]=await Promise.all([fetch(`/api/costs/summary?period=${g}`,{credentials:"include"}),fetch("/api/costs/daily?days=30",{credentials:"include"}),fetch("/api/costs/budget",{credentials:"include"})]);if(Ro(I)){m(!0);return}if(!I.ok||!T.ok||!$.ok)throw new Error("Failed to fetch cost data");const[W,X,B]=await Promise.all([I.json(),T.json(),$.json()]);t(W.data),a(X.data.trend),i(B.data),B.data.budgetCents&&w((B.data.budgetCents/100).toString())}catch(I){h(I instanceof Error?I.message:"Unknown error")}finally{u(!1)}},N=async()=>{try{S(!0);const I=v?Math.round(parseFloat(v)*100):null,T=await fetch("/api/costs/budget",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({budgetCents:I})});if(!T.ok){const $=await T.json();throw new Error($.message||"Failed to update budget")}await P()}catch(I){h(I instanceof Error?I.message:"Failed to update budget")}finally{S(!1)}},C=I=>`$${(I/100).toFixed(2)}`,A=I=>I.toLocaleString(),E=I=>{switch(I){case"exceeded":return"bg-red-500";case"critical":return"bg-orange-500";case"warning":return"bg-yellow-500";default:return"bg-green-500"}},M=I=>{switch(I){case"exceeded":return"bg-red-100 text-red-800";case"critical":return"bg-orange-100 text-orange-800";case"warning":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},R=()=>Math.max(...n.map(I=>I.totalCostCents),1);return p?r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cost Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Monitor and manage your AI agent spending."})]}),r.jsx(Yc,{title:"Cost Dashboard",description:"The cost dashboard is currently being set up. This feature will display spending analytics, budget tracking, and cost breakdowns by agent and model once the backend service is activated.",onRetry:P})]}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cost Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Monitor and manage your AI agent spending."})]}),d&&r.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsx("p",{className:"text-red-800",children:d})}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Monthly Budget"}),s&&r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${M(s.status)}`,children:s.status==="exceeded"?"Budget Exceeded":s.status==="critical"?"Critical":s.status==="warning"?"Warning":"On Track"})]}),l?r.jsx("div",{className:"h-20 bg-gray-200 animate-pulse rounded"}):s?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[r.jsx("span",{className:"text-4xl font-bold text-gray-900",children:C(s.spentCents)}),s.budgetCents&&r.jsxs("span",{className:"text-xl text-gray-500",children:["/ ",C(s.budgetCents)]}),r.jsxs("span",{className:"text-lg text-gray-500",children:["(",s.usedPercent,"%)"]})]}),s.budgetCents&&r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-4",children:r.jsx("div",{className:`h-4 rounded-full transition-all ${E(s.status)}`,style:{width:`${Math.min(s.usedPercent,100)}%`}})}),r.jsx("p",{className:"text-gray-600",children:s.budgetCents?`${C(s.remainingCents)} remaining this month`:"No budget limit set"})]}):r.jsx("p",{className:"text-gray-500",children:"No budget data available"}),r.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Set Monthly Budget (USD)"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),r.jsx("input",{type:"number",value:v,onChange:I=>w(I.target.value),placeholder:"500.00",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsx("button",{onClick:N,disabled:x,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:x?"Saving...":"Save"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to remove budget limit. Alerts at 80%, 90%, and 100%."})]})]}),r.jsx("div",{className:"mb-6 flex gap-2",children:["day","week","month"].map(I=>r.jsx("button",{onClick:()=>j(I),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${g===I?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:I==="day"?"Today":I==="week"?"This Week":"This Month"},I))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Cost"}),l?r.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):r.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:C((e==null?void 0:e.totalCostCents)??0)})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Requests"}),l?r.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):r.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:A((e==null?void 0:e.requestCount)??0)})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Input Tokens"}),l?r.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A((e==null?void 0:e.totalInputTokens)??0)})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Output Tokens"}),l?r.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"}):r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A((e==null?void 0:e.totalOutputTokens)??0)})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cost by Agent"}),l?r.jsx("div",{className:"space-y-4",children:[1,2,3].map(I=>r.jsx("div",{className:"h-12 bg-gray-200 animate-pulse rounded"},I))}):e!=null&&e.byAgent&&e.byAgent.length>0?r.jsx("div",{className:"space-y-4",children:e.byAgent.map(I=>{const T=e.totalCostCents>0?Math.round(I.totalCostCents/e.totalCostCents*100):0;return r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-sm",children:""})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsx("span",{className:"font-medium text-gray-900",children:I.agentName||I.agentId.slice(0,8)}),r.jsxs("span",{className:"text-sm text-gray-600",children:[C(I.totalCostCents)," (",T,"%)"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"h-2 bg-indigo-600 rounded-full transition-all",style:{width:`${T}%`}})}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[A(I.requestCount)," requests"]})]})]},I.agentId)})}):r.jsx("p",{className:"text-gray-500",children:"No agent cost data available"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Daily Cost Trend (Last 30 Days)"}),l?r.jsx("div",{className:"h-48 bg-gray-200 animate-pulse rounded"}):n.length>0?r.jsx("div",{className:"h-48 flex items-end gap-1",children:n.slice(-30).map(I=>{const T=I.totalCostCents>0?Math.max(I.totalCostCents/R()*100,4):2;return r.jsxs("div",{className:"flex-1 group relative",title:`${I.date}: ${C(I.totalCostCents)}`,children:[r.jsx("div",{className:"bg-indigo-500 hover:bg-indigo-600 rounded-t transition-all cursor-pointer",style:{height:`${T}%`}}),r.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:r.jsxs("div",{className:"bg-gray-900 text-white text-xs rounded py-1 px-2 whitespace-nowrap",children:[I.date,": ",C(I.totalCostCents)]})})]},I.date)})}):r.jsx("p",{className:"text-gray-500",children:"No trend data available"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cost by Model"}),l?r.jsx("div",{className:"space-y-2",children:[1,2,3].map(I=>r.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"},I))}):e!=null&&e.byModel&&Object.keys(e.byModel).length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Model"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cost"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Requests"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Avg/Request"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:Object.entries(e.byModel).sort(([,I],[,T])=>T.costCents-I.costCents).map(([I,T])=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:I}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:C(T.costCents)}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:A(T.requests)}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:C(T.requests>0?Math.round(T.costCents/T.requests):0)})]},I))})]})}):r.jsx("p",{className:"text-gray-500",children:"No model cost data available"})]})]})}const Nte=["agents:read","agents:execute","workflows:read","workflows:write","workflows:execute","executions:read","webhooks:manage","organization:read"],Ste=["agent.execution.started","agent.execution.completed","agent.execution.failed","workflow.started","workflow.completed","workflow.failed","approval.requested","approval.completed","approval.rejected","api_key.created","api_key.revoked"],kte=()=>{const[e,t]=b.useState("keys"),[n,a]=b.useState([]),[s,i]=b.useState([]),[l,u]=b.useState(null),[d,h]=b.useState(!0),[p,m]=b.useState(null),[g,j]=b.useState(!1),[v,w]=b.useState(""),[x,S]=b.useState([]),[O,P]=b.useState("free"),[N,C]=b.useState(null),[A,E]=b.useState(!1),[M,R]=b.useState(""),[I,T]=b.useState([]),[$,W]=b.useState(null),X=b.useCallback(async()=>{h(!0),m(null);try{const[K,te,de]=await Promise.all([fetch("/api/organization/api-keys"),fetch("/api/organization/webhooks"),fetch("/api/organization/usage")]);if(K.ok){const xe=await K.json();a(xe.data||[])}if(te.ok){const xe=await te.json();i(xe.data||[])}if(de.ok){const xe=await de.json();u(xe.data||null)}}catch(K){m("Failed to load data"),console.error("Error fetching developer portal data:",K)}finally{h(!1)}},[]);b.useEffect(()=>{X()},[X]);const B=async()=>{try{const K=await fetch("/api/organization/api-keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:v,scopes:x,rateLimitTier:O})});if(K.ok){const te=await K.json();C(te.data.key),a(de=>[...de,te.data]),w(""),S([]),P("free")}else{const te=await K.json();m(te.message||"Failed to create API key")}}catch{m("Failed to create API key")}},q=async K=>{if(confirm("Are you sure you want to revoke this API key? This action cannot be undone."))try{(await fetch(`/api/organization/api-keys/${K}`,{method:"DELETE"})).ok&&a(de=>de.map(xe=>xe.id===K?{...xe,status:"revoked"}:xe))}catch{m("Failed to revoke API key")}},U=async()=>{try{const K=await fetch("/api/organization/webhooks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:M,events:I})});if(K.ok){const te=await K.json();W(te.data.secret),i(de=>[...de,te.data]),R(""),T([])}else{const te=await K.json();m(te.message||"Failed to create webhook")}}catch{m("Failed to create webhook")}},G=async K=>{if(confirm("Are you sure you want to delete this webhook?"))try{(await fetch(`/api/organization/webhooks/${K}`,{method:"DELETE"})).ok&&i(de=>de.filter(xe=>xe.id!==K))}catch{m("Failed to delete webhook")}},Y=async K=>{try{const de=await(await fetch(`/api/organization/webhooks/${K}/test`,{method:"POST"})).json();de.data.success?alert(`Webhook test successful! Response time: ${de.data.latencyMs}ms`):alert(`Webhook test failed: ${de.data.error||"Unknown error"}`)}catch{alert("Failed to test webhook")}},z=K=>K?new Date(K).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",F=K=>{switch(K){case"enterprise":return"bg-purple-100 text-purple-800";case"pro":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},D=K=>{switch(K){case"active":return"bg-green-100 text-green-800";case"revoked":return"bg-red-100 text-red-800";case"expired":return"bg-yellow-100 text-yellow-800";case"disabled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return d?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Developer Portal"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage API keys, webhooks, and access API documentation"})]}),p&&r.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[p,r.jsx("button",{onClick:()=>m(null),className:"ml-2 text-red-500 hover:text-red-700",children:"Dismiss"})]}),l&&r.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Requests"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalRequests.toLocaleString()})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Rate Limit (per minute)"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.rateLimits.minute.remaining," / ",l.rateLimits.minute.limit]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Resets in ",l.rateLimits.minute.resetInSeconds,"s"]})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Rate Limit (per day)"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.rateLimits.day.remaining.toLocaleString()," / ",l.rateLimits.day.limit.toLocaleString()]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Resets in ",Math.floor(l.rateLimits.day.resetInSeconds/3600),"h"]})]})]}),r.jsx("div",{className:"border-b border-gray-200 mb-6",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:["keys","webhooks","docs"].map(K=>r.jsxs("button",{onClick:()=>t(K),className:`py-2 px-1 border-b-2 font-medium text-sm ${e===K?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[K==="keys"&&"API Keys",K==="webhooks"&&"Webhooks",K==="docs"&&"Documentation"]},K))})}),e==="keys"&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"API Keys"}),r.jsx("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create API Key"})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Key Prefix"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tier"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Used"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Requests"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[n.map(K=>r.jsxs("tr",{children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:K.name}),r.jsxs("div",{className:"text-xs text-gray-500",children:[K.scopes.slice(0,3).join(", "),K.scopes.length>3&&` +${K.scopes.length-3} more`]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:[K.keyPrefix,"..."]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${F(K.rateLimitTier)}`,children:K.rateLimitTier})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${D(K.status)}`,children:K.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:z(K.lastUsedAt)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:K.totalRequests.toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:K.status==="active"&&r.jsx("button",{onClick:()=>q(K.id),className:"text-red-600 hover:text-red-900",children:"Revoke"})})]},K.id)),n.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"No API keys found. Create one to get started."})})]})]})})]}),e==="webhooks"&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Webhooks"}),r.jsx("button",{onClick:()=>E(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Webhook"})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"URL"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Events"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Delivery"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[s.map(K=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:K.url})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-sm text-gray-500",children:[K.events.slice(0,2).join(", "),K.events.length>2&&` +${K.events.length-2} more`]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${D(K.status)}`,children:K.status}),K.failureCount>0&&r.jsxs("span",{className:"ml-2 text-xs text-red-500",children:["(",K.failureCount," failures)"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:K.lastSuccess?r.jsx("span",{className:"text-green-600",children:z(K.lastSuccess)}):K.lastFailure?r.jsx("span",{className:"text-red-600",children:z(K.lastFailure)}):"Never"}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm space-x-2",children:[r.jsx("button",{onClick:()=>Y(K.id),className:"text-blue-600 hover:text-blue-900",children:"Test"}),r.jsx("button",{onClick:()=>G(K.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},K.id)),s.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No webhooks configured. Create one to receive event notifications."})})]})]})})]}),e==="docs"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"API Documentation"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"The Nubabel API allows you to programmatically manage agents, workflows, and executions."}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"Base URL"}),r.jsxs("code",{className:"block mt-1 p-2 bg-gray-100 rounded text-sm",children:[window.location.origin,"/api/v1"]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"Authentication"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Include your API key in the Authorization header:"}),r.jsx("code",{className:"block mt-1 p-2 bg-gray-100 rounded text-sm",children:"Authorization: Bearer YOUR_API_KEY"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"OpenAPI Specification"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Download the full OpenAPI 3.0 specification for API clients:"}),r.jsx("a",{href:"/api/v1/docs/openapi.yaml",className:"inline-block mt-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded text-sm",download:!0,children:"Download OpenAPI Spec"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Available Endpoints"}),r.jsx("div",{className:"space-y-3",children:[{method:"GET",path:"/agents",desc:"List available agents"},{method:"POST",path:"/agents/:id/execute",desc:"Execute an agent"},{method:"GET",path:"/workflows",desc:"List workflows"},{method:"POST",path:"/workflows",desc:"Create a workflow"},{method:"POST",path:"/workflows/:id/execute",desc:"Execute a workflow"},{method:"GET",path:"/executions",desc:"List executions"},{method:"GET",path:"/executions/:id",desc:"Get execution details"},{method:"GET",path:"/webhooks",desc:"List webhooks"},{method:"POST",path:"/webhooks",desc:"Create a webhook"},{method:"GET",path:"/organization",desc:"Get organization info"}].map(K=>r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("span",{className:`px-2 py-1 rounded text-xs font-mono mr-3 ${K.method==="GET"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:K.method}),r.jsx("code",{className:"text-gray-900",children:K.path}),r.jsx("span",{className:"ml-3 text-gray-500",children:K.desc})]},K.path))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Rate Limits by Tier"}),r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-gray-500",children:[r.jsx("th",{className:"pb-2",children:"Tier"}),r.jsx("th",{className:"pb-2",children:"Per Minute"}),r.jsx("th",{className:"pb-2",children:"Per Day"})]})}),r.jsxs("tbody",{className:"text-gray-900",children:[r.jsxs("tr",{children:[r.jsx("td",{className:"py-1",children:"Free"}),r.jsx("td",{children:"60"}),r.jsx("td",{children:"1,000"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-1",children:"Pro"}),r.jsx("td",{children:"300"}),r.jsx("td",{children:"10,000"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-1",children:"Enterprise"}),r.jsx("td",{children:"1,000"}),r.jsx("td",{children:"100,000"})]})]})]})]})]}),g&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:N?r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"API Key Created"}),r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-4",children:[r.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Copy this key now. It won't be shown again!"}),r.jsx("code",{className:"block p-2 bg-white rounded border text-sm break-all",children:N})]}),r.jsx("button",{onClick:()=>{navigator.clipboard.writeText(N),alert("Copied to clipboard!")},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mb-2",children:"Copy to Clipboard"}),r.jsx("button",{onClick:()=>{j(!1),C(null)},className:"w-full px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Done"})]}):r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create API Key"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("input",{type:"text",value:v,onChange:K=>w(K.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"My API Key"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tier"}),r.jsxs("select",{value:O,onChange:K=>P(K.target.value),className:"w-full px-3 py-2 border rounded-lg",children:[r.jsx("option",{value:"free",children:"Free (60/min, 1K/day)"}),r.jsx("option",{value:"pro",children:"Pro (300/min, 10K/day)"}),r.jsx("option",{value:"enterprise",children:"Enterprise (1K/min, 100K/day)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scopes"}),r.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:Nte.map(K=>r.jsxs("label",{className:"flex items-center text-sm",children:[r.jsx("input",{type:"checkbox",checked:x.includes(K),onChange:te=>{te.target.checked?S(de=>[...de,K]):S(de=>de.filter(xe=>xe!==K))},className:"mr-2"}),K]},K))})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:B,disabled:!v||x.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Create"})]})]})})}),A&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:$?r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Webhook Created"}),r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-4",children:[r.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Copy this secret now. It won't be shown again!"}),r.jsx("code",{className:"block p-2 bg-white rounded border text-sm break-all",children:$})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Use this secret to verify webhook signatures. Include it in your webhook handler to validate that requests come from Nubabel."}),r.jsx("button",{onClick:()=>{navigator.clipboard.writeText($),alert("Copied to clipboard!")},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mb-2",children:"Copy to Clipboard"}),r.jsx("button",{onClick:()=>{E(!1),W(null)},className:"w-full px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Done"})]}):r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create Webhook"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),r.jsx("input",{type:"url",value:M,onChange:K=>R(K.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"https://example.com/webhook"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Events"}),r.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-48 overflow-y-auto",children:Ste.map(K=>r.jsxs("label",{className:"flex items-center text-sm",children:[r.jsx("input",{type:"checkbox",checked:I.includes(K),onChange:te=>{te.target.checked?T(de=>[...de,K]):T(de=>de.filter(xe=>xe!==K))},className:"mr-2"}),K]},K))})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:U,disabled:!M||I.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Create"})]})]})})})]})};function Cte(){const{slug:e}=Zh(),[t,n]=b.useState(null),[a,s]=b.useState([]),[i,l]=b.useState(null),[u,d]=b.useState([]),[h,p]=b.useState([]),[m,g]=b.useState(!1),[j,v]=b.useState(!0),[w,x]=b.useState(!1),[S,O]=b.useState(null),[P,N]=b.useState("overview"),[C,A]=b.useState(null),E=b.useCallback(async()=>{if(e){v(!0);try{const U=await ce({url:`/api/marketplace/extensions/${e}`,method:"GET"});n(U.extension)}catch(U){U instanceof Ve&&U.status===404?O("Extension not found"):O("Failed to load extension")}finally{v(!1)}}},[e]),M=b.useCallback(async()=>{if(e)try{const U=await ce({url:`/api/marketplace/extensions/${e}/reviews`,method:"GET"});s(U.reviews.items),l(U.summary)}catch(U){console.error("Failed to fetch reviews:",U)}},[e]),R=b.useCallback(async()=>{if(e)try{const U=await ce({url:`/api/marketplace/extensions/${e}/versions`,method:"GET"});d(U.versions)}catch(U){console.error("Failed to fetch versions:",U)}},[e]),I=b.useCallback(async()=>{if(e)try{const U=await ce({url:`/api/marketplace/extensions/${e}/similar`,method:"GET"});p(U.extensions)}catch(U){console.error("Failed to fetch similar:",U)}},[e]),T=b.useCallback(async()=>{try{const U=await ce({url:"/api/marketplace/installed",method:"GET"});g(U.installed.some(G=>G.extension.slug===e))}catch{}},[e]);b.useEffect(()=>{E(),M(),R(),I(),T()},[E,M,R,I,T]);const $=async()=>{if(t){x(!0);try{await ce({url:`/api/marketplace/extensions/${t.id}/install`,method:"POST"}),g(!0)}catch(U){const G=U instanceof Ve?U.message:"Install failed";alert(G)}finally{x(!1)}}},W=async()=>{if(!(!t||!confirm("Are you sure you want to uninstall this extension?")))try{await ce({url:`/api/marketplace/extensions/${t.id}/uninstall`,method:"POST"}),g(!1)}catch(U){const G=U instanceof Ve?U.message:"Uninstall failed";alert(G)}},X=U=>U>=1e6?`${(U/1e6).toFixed(1)}M`:U>=1e3?`${(U/1e3).toFixed(1)}K`:String(U),B=U=>{if(U.pricing==="free")return"Free";if(!U.price)return"Paid";const G=(U.price.amount/100).toFixed(2),Y=U.price.interval?`/${U.price.interval}`:"";return`$${G}${Y}`},q=(U,G="sm")=>{const Y=[],z=G==="lg"?"text-xl":"text-sm";for(let F=1;F<=5;F++)Y.push(r.jsx("span",{className:`${F<=U?"text-yellow-400":"text-gray-300"} ${z}`,children:""},F));return Y};return j?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):S||!t?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:S||"Extension not found"}),r.jsx(ht,{to:"/marketplace",className:"text-indigo-600 hover:text-indigo-800",children:" Back to Marketplace"})]}):r.jsxs("div",{children:[r.jsxs("nav",{className:"mb-4 text-sm",children:[r.jsx(ht,{to:"/marketplace",className:"text-indigo-600 hover:text-indigo-800",children:"Marketplace"}),r.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),r.jsx("span",{className:"text-gray-600",children:t.name})]}),r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:r.jsxs("div",{className:"flex gap-6",children:[r.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:t.icon?r.jsx("img",{src:t.icon,alt:"",className:"w-16 h-16 rounded-xl"}):r.jsx("span",{className:"text-4xl",children:""})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),r.jsxs("p",{className:"text-gray-500 flex items-center gap-2 mt-1",children:[r.jsx("span",{children:t.publisherName}),t.publisherVerified&&r.jsx("span",{className:"text-blue-500",title:"Verified Publisher",children:" Verified"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`px-3 py-1.5 rounded-lg text-sm font-medium ${t.pricing==="free"?"bg-green-100 text-green-700":t.pricing==="freemium"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:B(t)}),m?r.jsx("button",{onClick:W,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Uninstall"}):r.jsx("button",{onClick:$,disabled:w,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:w?"Installing...":"Install"})]})]}),r.jsx("p",{className:"text-gray-600 mt-3",children:t.description}),r.jsxs("div",{className:"flex items-center gap-6 mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[q(Math.round(t.stats.rating)),r.jsxs("span",{className:"text-gray-600 ml-1",children:[t.stats.rating.toFixed(1)," (",t.stats.reviewCount," reviews)"]})]}),r.jsx("span",{className:"text-gray-400",children:"|"}),r.jsxs("span",{className:"text-gray-600",children:[X(t.stats.downloads)," downloads"]}),r.jsx("span",{className:"text-gray-400",children:"|"}),r.jsxs("span",{className:"text-gray-600",children:[X(t.stats.activeInstalls)," active installs"]}),r.jsx("span",{className:"text-gray-400",children:"|"}),r.jsxs("span",{className:"text-gray-600",children:["v",t.version]})]}),t.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:t.tags.map(U=>r.jsx(ht,{to:`/marketplace?q=${U}`,className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs hover:bg-gray-200",children:U},U))})]})]})}),r.jsx("div",{className:"border-b border-gray-200 mb-6",children:r.jsx("div",{className:"flex gap-6",children:["overview","reviews","versions"].map(U=>r.jsxs("button",{onClick:()=>N(U),className:`py-3 text-sm font-medium border-b-2 -mb-px ${P===U?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[U==="overview"&&"Overview",U==="reviews"&&`Reviews (${t.stats.reviewCount})`,U==="versions"&&"Version History"]},U))})}),r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsxs("div",{className:"col-span-2",children:[P==="overview"&&r.jsxs("div",{children:[t.screenshots.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Screenshots"}),r.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:t.screenshots.map((U,G)=>r.jsx("img",{src:U,alt:`Screenshot ${G+1}`,onClick:()=>A(U),className:"h-48 rounded-lg border border-gray-200 cursor-pointer hover:opacity-90"},G))})]}),r.jsxs("div",{className:"prose max-w-none",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Description"}),r.jsx("div",{className:"text-gray-600 whitespace-pre-wrap",children:t.longDescription})]})]}),P==="reviews"&&r.jsxs("div",{children:[i&&r.jsx("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:r.jsxs("div",{className:"flex items-center gap-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-gray-900",children:i.average.toFixed(1)}),r.jsx("div",{className:"flex justify-center mt-1",children:q(Math.round(i.average),"lg")}),r.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[i.count," reviews"]})]}),r.jsx("div",{className:"flex-1",children:[5,4,3,2,1].map(U=>r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-sm text-gray-600 w-3",children:U}),r.jsx("span",{className:"text-yellow-400",children:""}),r.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-yellow-400",style:{width:`${i.count>0?i.distribution[U]/i.count*100:0}%`}})}),r.jsx("span",{className:"text-sm text-gray-500 w-8",children:i.distribution[U]||0})]},U))})]})}),a.length===0?r.jsx("div",{className:"text-center py-12 text-gray-500",children:"No reviews yet. Be the first to review!"}):r.jsx("div",{className:"space-y-4",children:a.map(U=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:U.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[q(U.rating),r.jsxs("span",{className:"text-sm text-gray-500",children:["by ",U.userName,"  ",new Date(U.createdAt).toLocaleDateString()]})]})]}),r.jsxs("span",{className:"text-sm text-gray-400",children:[U.helpfulCount," found helpful"]})]}),r.jsx("p",{className:"text-gray-600 mt-2",children:U.body}),U.publisherResponse&&r.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg border-l-4 border-indigo-400",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Publisher Response"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:U.publisherResponse.body})]})]},U.id))})]}),P==="versions"&&r.jsx("div",{className:"space-y-4",children:u.map(U=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"font-medium text-gray-900",children:["v",U.version]}),r.jsx("span",{className:"text-sm text-gray-500",children:U.publishedAt?new Date(U.publishedAt).toLocaleDateString():"Unpublished"})]}),U.changelog&&r.jsx("div",{className:"text-gray-600 text-sm mt-2 whitespace-pre-wrap",children:U.changelog})]},U.id))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Information"}),r.jsxs("dl",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-500",children:"Version"}),r.jsx("dd",{className:"text-gray-900",children:t.version})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-500",children:"Category"}),r.jsx("dd",{className:"text-gray-900",children:t.category})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-500",children:"Min Nubabel"}),r.jsx("dd",{className:"text-gray-900",children:t.requirements.nubabelVersion})]}),t.publishedAt&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-500",children:"Published"}),r.jsx("dd",{className:"text-gray-900",children:new Date(t.publishedAt).toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-500",children:"Updated"}),r.jsx("dd",{className:"text-gray-900",children:new Date(t.updatedAt).toLocaleDateString()})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Links"}),r.jsxs("div",{className:"space-y-2",children:[t.repositoryUrl&&r.jsxs("a",{href:t.repositoryUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[r.jsx("span",{children:""})," Source Code"]}),t.documentationUrl&&r.jsxs("a",{href:t.documentationUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[r.jsx("span",{children:""})," Documentation"]}),t.demoUrl&&r.jsxs("a",{href:t.demoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[r.jsx("span",{children:""})," Live Demo"]})]})]}),t.requirements.permissions.length>0&&r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Permissions"}),r.jsx("ul",{className:"space-y-1 text-sm text-gray-600",children:t.requirements.permissions.map(U=>r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-amber-500",children:""})," ",U]},U))})]}),h.length>0&&r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Similar Extensions"}),r.jsx("div",{className:"space-y-3",children:h.slice(0,4).map(U=>r.jsxs(ht,{to:`/marketplace/${U.slug}`,className:"flex items-center gap-3 hover:bg-gray-50 p-2 -mx-2 rounded-lg",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:U.icon?r.jsx("img",{src:U.icon,alt:"",className:"w-6 h-6 rounded"}):r.jsx("span",{children:""})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:U.name}),r.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[r.jsx("span",{className:"text-yellow-400",children:""})," ",U.stats.rating.toFixed(1)]})]})]},U.id))})]})]})]}),C&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",onClick:()=>A(null),children:r.jsx("img",{src:C,alt:"",className:"max-w-full max-h-full rounded-lg"})})]})}function Ate(){var A;const[e,t]=b.useState(null),[n,a]=b.useState([]),[s,i]=b.useState(null),[l,u]=b.useState(!0),[d,h]=b.useState(null),[p,m]=b.useState(!1),[g,j]=b.useState(null),[v,w]=b.useState(30);b.useEffect(()=>{x()},[v]);const x=async()=>{u(!0),h(null);try{const[E,M]=await Promise.all([fetch(`/api/feedback/analysis?days=${v}`,{credentials:"include"}),fetch("/api/feedback/actions",{credentials:"include"})]);if(Ro(E)){m(!0);return}if(!E.ok||!M.ok)throw new Error("Failed to fetch feedback data");const R=await E.json(),I=await M.json();t(R),a(I.actions),i(I.stats)}catch(E){h(E instanceof Error?E.message:"An error occurred")}finally{u(!1)}},S=async E=>{j(E);try{if(!(await fetch(`/api/feedback/actions/${E}/apply`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to apply action");await x()}catch(M){h(M instanceof Error?M.message:"Failed to apply action")}finally{j(null)}},O=async E=>{j(E);try{if(!(await fetch(`/api/feedback/actions/${E}/dismiss`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to dismiss action");await x()}catch(M){h(M instanceof Error?M.message:"Failed to dismiss action")}finally{j(null)}},P=async()=>{try{if(!(await fetch("/api/feedback/process",{method:"POST",credentials:"include"})).ok)throw new Error("Failed to process feedback");await x()}catch(E){h(E instanceof Error?E.message:"Failed to process feedback")}},N=E=>{switch(E){case"positive":return"text-green-600 bg-green-100";case"negative":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},C=E=>{switch(E){case"high":return"text-red-600 bg-red-100";case"medium":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}};return p?r.jsxs("div",{className:"p-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Feedback Insights"}),r.jsx(Yc,{title:"Feedback Analysis",description:"Feedback analysis is currently being set up. This feature will display feedback analytics, sentiment patterns, and improvement recommendations once the backend service is activated.",onRetry:x})]}):l?r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),r.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(E=>r.jsx("div",{className:"h-24 bg-gray-200 rounded"},E))})]})}):r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Feedback Insights"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("select",{value:v,onChange:E=>w(parseInt(E.target.value)),className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[r.jsx("option",{value:7,children:"Last 7 days"}),r.jsx("option",{value:30,children:"Last 30 days"}),r.jsx("option",{value:90,children:"Last 90 days"})]}),r.jsx("button",{onClick:P,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Process Pending"})]})]}),d&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 text-red-700",children:d}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Feedback"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(e==null?void 0:e.totalCount)||0})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pending Actions"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:(s==null?void 0:s.pending)||0})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Applied Actions"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:(s==null?void 0:s.applied)||0})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Success Rate"}),r.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:s?`${(s.successRate*100).toFixed(0)}%`:"N/A"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sentiment Distribution"}),r.jsxs("div",{className:"space-y-3",children:[(e==null?void 0:e.sentimentDistribution)&&Object.entries(e.sentimentDistribution).map(([E,M])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${N(E)}`,children:E}),r.jsx("span",{className:"text-gray-700 font-medium",children:M})]},E)),(!(e!=null&&e.sentimentDistribution)||Object.keys(e.sentimentDistribution).length===0)&&r.jsx("p",{className:"text-gray-500 text-sm",children:"No sentiment data available"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Category Distribution"}),r.jsxs("div",{className:"space-y-3",children:[(e==null?void 0:e.categoryDistribution)&&Object.entries(e.categoryDistribution).sort((E,M)=>M[1]-E[1]).slice(0,5).map(([E,M])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-700",children:E.replace(/_/g," ")}),r.jsx("span",{className:"bg-gray-100 px-3 py-1 rounded-full text-sm font-medium text-gray-700",children:M})]},E)),(!(e!=null&&e.categoryDistribution)||Object.keys(e.categoryDistribution).length===0)&&r.jsx("p",{className:"text-gray-500 text-sm",children:"No category data available"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recommended Actions"})}),r.jsx("div",{className:"divide-y divide-gray-200",children:n.length===0?r.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:"No pending actions"}):n.map(E=>r.jsx("div",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${C(E.priority)}`,children:E.priority}),r.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:E.type.replace(/_/g," ")}),E.autoApplicable&&r.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded",children:"Auto-applicable"})]}),r.jsx("p",{className:"mt-2 text-gray-900",children:E.description}),r.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Est. impact: ",E.estimatedImpact.affectedRequests," requests, +",(E.estimatedImpact.expectedImprovement*100).toFixed(0),"% improvement"]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsx("button",{onClick:()=>S(E.id),disabled:g===E.id,className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700 disabled:opacity-50",children:g===E.id?"...":"Apply"}),r.jsx("button",{onClick:()=>O(E.id),disabled:g===E.id,className:"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 disabled:opacity-50",children:"Dismiss"})]})]})},E.id))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Feedback"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Sentiment"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Request"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[(A=e==null?void 0:e.recentFeedback)==null?void 0:A.slice(0,10).map(E=>{var M;return r.jsxs("tr",{children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[E.type,E.rating&&r.jsxs("span",{className:"ml-1",children:["(",E.rating,"/5)"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.sentiment&&r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${N(E.sentiment)}`,children:E.sentiment})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((M=E.category)==null?void 0:M.replace(/_/g," "))||"-"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:E.originalRequest}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(E.createdAt).toLocaleDateString()})]},E.id)}),(!(e!=null&&e.recentFeedback)||e.recentFeedback.length===0)&&r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No feedback yet"})})]})]})})]})]})}const Ri={person:"#4CAF50",agent:"#2196F3",team:"#9C27B0",project:"#FF9800",task:"#FFEB3B",document:"#795548",goal:"#E91E63",workflow:"#00BCD4"},ev={person:"People",agent:"Agents",team:"Teams",project:"Projects",task:"Tasks",document:"Documents",goal:"Goals",workflow:"Workflows"};function Pte(){const[e,t]=b.useState(!1),[n,a]=b.useState(null),[s,i]=b.useState(!1),[l,u]=b.useState(null),[d,h]=b.useState(null),[p,m]=b.useState(null),[g,j]=b.useState([]),[v,w]=b.useState(""),[x,S]=b.useState([]),[O,P]=b.useState([]),[N,C]=b.useState(!1),A=b.useRef(null),E=b.useRef(null),M=b.useCallback(async()=>{try{const B=await fetch("/api/knowledge-graph/stats",{credentials:"include"});if(Ro(B)){i(!0);return}if(!B.ok)throw new Error("Failed to fetch stats");const q=await B.json();u(q)}catch(B){console.error("Error fetching stats:",B)}},[]),R=b.useCallback(async B=>{t(!0),a(null);try{let q="/api/knowledge-graph/visualization";B&&B.length>0&&(q=`/api/knowledge-graph/visualization/filtered?nodeTypes=${B.join(",")}`);const U=await fetch(q,{credentials:"include"});if(!U.ok)throw new Error("Failed to fetch graph");const G=await U.json();h(G)}catch(q){a(q instanceof Error?q.message:"Unknown error")}finally{t(!1)}},[]),I=async()=>{C(!0),a(null);try{const B=await fetch("/api/knowledge-graph/build",{method:"POST",credentials:"include"});if(!B.ok)throw new Error("Failed to build graph");const q=await B.json();alert(`Graph built: ${q.nodeCount} nodes, ${q.edgeCount} edges`),await Promise.all([M(),R(O)])}catch(B){a(B instanceof Error?B.message:"Failed to build graph")}finally{C(!1)}},T=async()=>{if(!v.trim()){S([]);return}try{const B=await fetch(`/api/knowledge-graph/search?q=${encodeURIComponent(v)}&limit=10`,{credentials:"include"});if(!B.ok)throw new Error("Search failed");const q=await B.json();S(q.nodes||[])}catch(B){console.error("Search error:",B)}},$=async B=>{try{const q=await fetch(`/api/knowledge-graph/related/${B}?depth=2&limit=20`,{credentials:"include"});if(!q.ok)throw new Error("Failed to fetch related nodes");const U=await q.json();j(U.related||[])}catch(q){console.error("Error fetching related:",q)}},W=async B=>{m(B),await $(B.id)},X=B=>{P(q=>q.includes(B)?q.filter(G=>G!==B):[...q,B])};return b.useEffect(()=>{R(O)},[O,R]),b.useEffect(()=>{M(),R()},[M,R]),b.useEffect(()=>{if(!d||!A.current)return;const B=A.current,q=B.getContext("2d");if(!q)return;const U=B.parentElement;U&&(B.width=U.clientWidth,B.height=U.clientHeight),q.fillStyle="#1a1a2e",q.fillRect(0,0,B.width,B.height);const G=d.nodes.map(F=>({...F,x:Math.random()*B.width,y:Math.random()*B.height,vx:0,vy:0})),Y=new Map(G.map(F=>[F.id,F]));for(let F=0;F<100;F++){for(let D=0;D<G.length;D++)for(let K=D+1;K<G.length;K++){const te=G[K].x-G[D].x,de=G[K].y-G[D].y,xe=Math.sqrt(te*te+de*de)||1,ie=1e3/(xe*xe);G[D].vx-=te/xe*ie,G[D].vy-=de/xe*ie,G[K].vx+=te/xe*ie,G[K].vy+=de/xe*ie}for(const D of d.edges){const K=Y.get(D.from),te=Y.get(D.to);if(K&&te){const de=te.x-K.x,xe=te.y-K.y,ie=Math.sqrt(de*de+xe*xe)||1,ee=ie*.01;K.vx+=de/ie*ee,K.vy+=xe/ie*ee,te.vx-=de/ie*ee,te.vy-=xe/ie*ee}}for(const D of G)D.vx+=(B.width/2-D.x)*.001,D.vy+=(B.height/2-D.y)*.001;for(const D of G)D.x+=D.vx*.1,D.y+=D.vy*.1,D.vx*=.9,D.vy*=.9,D.x=Math.max(50,Math.min(B.width-50,D.x)),D.y=Math.max(50,Math.min(B.height-50,D.y))}q.strokeStyle="#4a4a6a",q.lineWidth=1;for(const F of d.edges){const D=Y.get(F.from),K=Y.get(F.to);D&&K&&(q.beginPath(),q.moveTo(D.x,D.y),q.lineTo(K.x,K.y),q.stroke())}for(const F of G){const D=Ri[F.group]||"#9E9E9E",K=F.size||15;q.beginPath(),q.arc(F.x,F.y,K,0,Math.PI*2),q.fillStyle=D,q.fill(),q.strokeStyle=(p==null?void 0:p.id)===F.id?"#ffffff":"#000000",q.lineWidth=(p==null?void 0:p.id)===F.id?3:1,q.stroke(),q.fillStyle="#ffffff",q.font="11px sans-serif",q.textAlign="center",q.fillText(F.label.slice(0,15),F.x,F.y+K+12)}E.current=G;const z=F=>{const D=B.getBoundingClientRect(),K=F.clientX-D.left,te=F.clientY-D.top;for(const de of G)if(Math.sqrt((K-de.x)**2+(te-de.y)**2)<=(de.size||15)){W(de);return}m(null),j([])};return B.addEventListener("click",z),()=>B.removeEventListener("click",z)},[d,p]),s?r.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[r.jsxs("div",{className:"border-b border-gray-800 px-6 py-4",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Knowledge Graph"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Explore relationships between entities in your organization"})]}),r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-12 text-center max-w-lg",children:[r.jsx("svg",{className:"w-12 h-12 mx-auto text-blue-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.42 15.17l-5.28-3.3a.5.5 0 010-.84l5.28-3.3a.5.5 0 01.76.42v6.6a.5.5 0 01-.76.42zM20 7l-8 5 8 5V7z"})}),r.jsx("h3",{className:"text-lg font-semibold text-blue-300 mb-2",children:"Knowledge Graph"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"The knowledge graph is currently being set up. This feature will visualize entity relationships once the backend service is activated."}),r.jsx("button",{onClick:()=>{i(!1),M(),R()},className:"mt-4 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Retry"})]})})]}):r.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[r.jsx("div",{className:"border-b border-gray-800 px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Knowledge Graph"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Explore relationships between entities in your organization"})]}),r.jsx("button",{onClick:I,disabled:N,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Building...":"Rebuild Graph"})]})}),r.jsxs("div",{className:"flex h-[calc(100vh-80px)]",children:[r.jsxs("div",{className:"w-80 border-r border-gray-800 p-4 overflow-y-auto",children:[l&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Statistics"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[r.jsx("div",{className:"text-2xl font-bold",children:l.nodeCount}),r.jsx("div",{className:"text-gray-400",children:"Nodes"})]}),r.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[r.jsx("div",{className:"text-2xl font-bold",children:l.edgeCount}),r.jsx("div",{className:"text-gray-400",children:"Edges"})]}),r.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[r.jsx("div",{className:"text-2xl font-bold",children:l.density.toFixed(3)}),r.jsx("div",{className:"text-gray-400",children:"Density"})]}),r.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[r.jsx("div",{className:"text-2xl font-bold",children:l.averageDegree.toFixed(1)}),r.jsx("div",{className:"text-gray-400",children:"Avg Degree"})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Search"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:v,onChange:B=>w(B.target.value),onKeyDown:B=>B.key==="Enter"&&T(),placeholder:"Search nodes...",className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded text-sm focus:outline-none focus:border-blue-500"}),r.jsx("button",{onClick:T,className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded",children:"Search"})]}),x.length>0&&r.jsx("div",{className:"mt-2 bg-gray-800 rounded max-h-40 overflow-y-auto",children:x.map(B=>r.jsxs("button",{onClick:()=>W(B),className:"w-full px-3 py-2 text-left hover:bg-gray-700 text-sm flex items-center gap-2",children:[r.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Ri[B.group]||"#9E9E9E"}}),B.label]},B.id))})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Filter by Type"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(ev).map(([B,q])=>r.jsx("button",{onClick:()=>X(B),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${O.includes(B)?"opacity-100":O.length>0?"opacity-40":"opacity-100"}`,style:{backgroundColor:O.includes(B)||O.length===0?Ri[B]:"#4a4a6a"},children:q},B))}),O.length>0&&r.jsx("button",{onClick:()=>P([]),className:"mt-2 text-xs text-blue-400 hover:text-blue-300",children:"Clear filters"})]}),p&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Selected Node"}),r.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:Ri[p.group]||"#9E9E9E"}}),r.jsx("span",{className:"font-semibold",children:p.label})]}),r.jsxs("div",{className:"text-xs text-gray-400 mb-3",children:["Type: ",ev[p.group]||p.group]}),g.length>0&&r.jsxs("div",{children:[r.jsxs("div",{className:"text-xs font-semibold text-gray-400 mb-2",children:["Related (",g.length,")"]}),r.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:g.map(B=>r.jsxs("div",{className:"flex items-center gap-2 text-xs p-1 hover:bg-gray-700 rounded cursor-pointer",onClick:()=>W({id:B.node.id,label:B.node.label,group:B.node.type}),children:[r.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Ri[B.node.type]||"#9E9E9E"}}),r.jsx("span",{className:"flex-1 truncate",children:B.node.label}),r.jsx("span",{className:"text-gray-500",children:B.edge.type})]},B.node.id))})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Legend"}),r.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(ev).map(([B,q])=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Ri[B]}}),q]},B))})]})]}),r.jsxs("div",{className:"flex-1 relative",children:[e&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900/80 z-10",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full mx-auto mb-2"}),r.jsx("div",{className:"text-gray-400",children:"Loading graph..."})]})}),n&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-red-400",children:[r.jsx("div",{className:"text-lg mb-2",children:"Error loading graph"}),r.jsx("div",{className:"text-sm",children:n}),r.jsx("button",{onClick:()=>R(O),className:"mt-4 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded",children:"Retry"})]})}),!e&&!n&&d&&d.nodes.length===0&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-gray-400",children:[r.jsx("div",{className:"text-lg mb-2",children:"No graph data"}),r.jsx("div",{className:"text-sm mb-4",children:"Build the graph to visualize entity relationships"}),r.jsx("button",{onClick:I,disabled:N,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded disabled:opacity-50",children:N?"Building...":"Build Graph"})]})}),r.jsx("canvas",{ref:A,className:"w-full h-full cursor-pointer",style:{display:e||n?"none":"block"}})]})]})]})}function Ote(){const[e,t]=ef(),[n,a]=b.useState([]),[s,i]=b.useState([]),[l,u]=b.useState([]),[d,h]=b.useState(null),[p,m]=b.useState(0),[g,j]=b.useState(!0),[v,w]=b.useState(e.get("q")||""),[x,S]=b.useState(e.get("category")||""),[O,P]=b.useState(e.get("pricing")||""),[N,C]=b.useState(e.get("sort")||"popular"),[A,E]=b.useState(1),[M,R]=b.useState([]),[I,T]=b.useState(null),$=b.useCallback(async()=>{j(!0);try{const D=new URLSearchParams;v&&D.set("q",v),x&&D.set("category",x),O&&D.set("pricing",O),D.set("sort",N),D.set("page",String(A)),D.set("limit","20");const te=await ce({url:`${v?"/api/marketplace/search":"/api/marketplace/extensions"}?${D.toString()}`,method:"GET"});a(te.extensions||te.items||[]),m(te.total),te.facets&&h(te.facets)}catch(D){console.error("Failed to fetch extensions:",D)}finally{j(!1)}},[v,x,O,N,A]),W=b.useCallback(async()=>{try{const D=await ce({url:"/api/marketplace/featured",method:"GET"});i(D.extensions)}catch(D){console.error("Failed to fetch featured:",D)}},[]),X=b.useCallback(async()=>{try{const D=await ce({url:"/api/marketplace/categories",method:"GET"});u(D.categories)}catch(D){console.error("Failed to fetch categories:",D)}},[]),B=b.useCallback(async()=>{try{const D=await ce({url:"/api/marketplace/suggestions",method:"GET"});R(D.suggestions||[])}catch{}},[]);b.useEffect(()=>{X(),W(),B()},[X,W,B]),b.useEffect(()=>{$()},[$]),b.useEffect(()=>{const D=new URLSearchParams;v&&D.set("q",v),x&&D.set("category",x),O&&D.set("pricing",O),N!=="popular"&&D.set("sort",N),t(D)},[v,x,O,N,t]);const q=D=>{D.preventDefault(),E(1),$()},U=async D=>{T(D);try{await ce({url:`/api/marketplace/suggestions/${D}/accept`,method:"POST"}),R(K=>K.filter(te=>te.patternId!==D))}catch(K){console.error("Failed to accept suggestion:",K)}finally{T(null)}},G=async D=>{try{await ce({url:`/api/marketplace/suggestions/${D}/dismiss`,method:"POST"}),R(K=>K.filter(te=>te.patternId!==D))}catch(K){console.error("Failed to dismiss suggestion:",K)}},Y=D=>D>=1e6?`${(D/1e6).toFixed(1)}M`:D>=1e3?`${(D/1e3).toFixed(1)}K`:String(D),z=D=>{if(D.pricing==="free")return"Free";if(!D.price)return"Paid";const K=(D.price.amount/100).toFixed(2),te=D.price.interval?`/${D.price.interval}`:"";return`$${K}${te}`},F=D=>{const K=[];for(let te=1;te<=5;te++)K.push(r.jsx("span",{className:te<=D?"text-yellow-400":"text-gray-300",children:""},te));return K};return r.jsxs("div",{className:"min-h-screen",children:[r.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-12 px-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Extension Marketplace"}),r.jsx("p",{className:"text-indigo-100 mb-6",children:"Discover and install extensions to supercharge your workspace"}),r.jsxs("form",{onSubmit:q,className:"flex gap-3 max-w-2xl",children:[r.jsx("input",{type:"text",value:v,onChange:D=>w(D.target.value),placeholder:"Search extensions...",className:"flex-1 px-4 py-3 rounded-lg text-gray-900 focus:ring-2 focus:ring-white"}),r.jsx("button",{type:"submit",className:"px-6 py-3 bg-white text-indigo-600 rounded-lg font-medium hover:bg-indigo-50",children:"Search"})]})]})}),r.jsxs("div",{className:"max-w-6xl mx-auto py-8 px-6",children:[r.jsx("div",{className:"mb-8 bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-xl p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Looking for MCP Servers & External Tools?"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Connect to Smithery, Glama, ComfyUI, CivitAI, and more external ecosystems"})]})]}),r.jsx(ht,{to:"/marketplace-hub",className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 whitespace-nowrap",children:"Browse External Tools"})]})}),!v&&s.length>0&&r.jsxs("div",{className:"mb-10",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Featured Extensions"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.slice(0,3).map(D=>r.jsx(ht,{to:`/marketplace/${D.slug}`,className:"bg-gradient-to-br from-indigo-50 to-purple-50 border border-indigo-100 rounded-xl p-5 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-white rounded-xl flex items-center justify-center shadow-sm",children:D.icon?r.jsx("img",{src:D.icon,alt:"",className:"w-10 h-10 rounded-lg"}):r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:D.name}),r.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs rounded-full",children:"Featured"})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:D.description}),r.jsx("div",{className:"flex items-center gap-3 mt-2 text-sm",children:r.jsxs("span",{className:"flex items-center text-yellow-500",children:[F(Math.round(D.stats.rating)),r.jsxs("span",{className:"text-gray-500 ml-1",children:["(",D.stats.reviewCount,")"]})]})})]})]})},D.id))})]}),M.length>0&&r.jsxs("div",{className:"mb-10",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"AI-Suggested Skills"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Skills automatically detected from your team's usage patterns"})]}),r.jsxs("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:[M.length," suggestion",M.length!==1?"s":""]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:M.map(D=>r.jsxs("div",{className:"bg-white border border-purple-200 rounded-xl p-5 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-lg",children:D.patternType==="composite"?"":D.patternType==="sequence"?"":""})}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"h-2 w-16 bg-gray-200 rounded-full overflow-hidden",title:`${Math.round(D.confidence*100)}% confidence`,children:r.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:`${D.confidence*100}%`}})}),r.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(D.confidence*100),"%"]})]})]}),r.jsx("h3",{className:"font-semibold text-gray-900",children:D.suggestedName}),r.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:D.suggestedDescription}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:D.suggestedTriggers.slice(0,3).map(K=>r.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:K},K))}),r.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Detected ",D.frequency,"x as ",D.patternType," pattern"]}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsx("button",{onClick:()=>U(D.patternId),disabled:I===D.patternId,className:"flex-1 px-3 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 disabled:opacity-50",children:I===D.patternId?"Creating...":"Create Skill"}),r.jsx("button",{onClick:()=>G(D.patternId),className:"px-3 py-2 border border-gray-300 text-gray-600 rounded-lg text-sm hover:bg-gray-50",children:"Dismiss"})]})]},D.patternId))})]}),r.jsxs("div",{className:"flex gap-8",children:[r.jsxs("div",{className:"w-56 flex-shrink-0",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Categories"}),r.jsxs("ul",{className:"space-y-1",children:[r.jsx("li",{children:r.jsx("button",{onClick:()=>{S(""),E(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm ${x?"text-gray-600 hover:bg-gray-100":"bg-indigo-100 text-indigo-700"}`,children:"All Categories"})}),l.map(D=>r.jsx("li",{children:r.jsxs("button",{onClick:()=>{S(D.slug),E(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm flex items-center justify-between ${x===D.slug?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:[r.jsx("span",{children:D.name}),D.extensionCount!==void 0&&r.jsx("span",{className:"text-xs text-gray-400",children:D.extensionCount})]})},D.id))]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Pricing"}),r.jsx("ul",{className:"space-y-1",children:["","free","paid","freemium"].map(D=>r.jsx("li",{children:r.jsx("button",{onClick:()=>{P(D),E(1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm ${O===D?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:D===""?"All":D.charAt(0).toUpperCase()+D.slice(1)})},D))})]}),d&&d.tags.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Popular Tags"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:d.tags.slice(0,10).map(D=>r.jsx("button",{onClick:()=>w(D.name),className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs hover:bg-gray-200",children:D.name},D.name))})]})]}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:[p," extension",p!==1?"s":""," found"]}),r.jsxs("select",{value:N,onChange:D=>{C(D.target.value),E(1)},className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[r.jsx("option",{value:"popular",children:"Most Popular"}),r.jsx("option",{value:"recent",children:"Recently Added"}),r.jsx("option",{value:"rating",children:"Highest Rated"}),r.jsx("option",{value:"trending",children:"Trending"})]})]}),g?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):n.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-4xl mb-4",children:""}),r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No extensions found"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Try adjusting your search or filters"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(D=>r.jsx(ht,{to:`/marketplace/${D.slug}`,className:"bg-white border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center flex-shrink-0",children:D.icon?r.jsx("img",{src:D.icon,alt:"",className:"w-8 h-8 rounded-lg"}):r.jsx("span",{className:"text-xl",children:""})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-medium text-gray-900 truncate",children:D.name}),D.publisherVerified&&r.jsx("span",{className:"text-blue-500",title:"Verified Publisher",children:""})]}),r.jsx("p",{className:"text-sm text-gray-500 truncate",children:D.publisherName}),r.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:D.description}),r.jsxs("div",{className:"flex items-center justify-between mt-3",children:[r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsxs("span",{className:"flex items-center text-yellow-500",children:[" ",D.stats.rating.toFixed(1)]}),r.jsxs("span",{className:"text-gray-400",children:[Y(D.stats.downloads)," downloads"]})]}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${D.pricing==="free"?"bg-green-100 text-green-700":D.pricing==="freemium"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:z(D)})]})]})]})},D.id))}),p>20&&r.jsxs("div",{className:"flex items-center justify-center gap-2 mt-8",children:[r.jsx("button",{onClick:()=>E(D=>Math.max(1,D-1)),disabled:A===1,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm disabled:opacity-50",children:"Previous"}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",A," of ",Math.ceil(p/20)]}),r.jsx("button",{onClick:()=>E(D=>D+1),disabled:A>=Math.ceil(p/20),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm disabled:opacity-50",children:"Next"})]})]})]})]})]})}const Mi={smithery:"bg-purple-100 text-purple-800","mcp-registry":"bg-blue-100 text-blue-800",glama:"bg-green-100 text-green-800",comfyui:"bg-orange-100 text-orange-800",civitai:"bg-pink-100 text-pink-800","langchain-hub":"bg-yellow-100 text-yellow-800"},cO={mcp_server:"",workflow:"",prompt:"",skill:"",extension:""};function Ete(){const[e,t]=b.useState(""),[n,a]=b.useState([]),[s,i]=b.useState(""),[l,u]=b.useState([]),[d,h]=b.useState([]),[p,m]=b.useState([]),[g,j]=b.useState(!1),[v,w]=b.useState(null),[x,S]=b.useState(!1),[O,P]=b.useState(!1),[N,C]=b.useState(""),[A,E]=b.useState(!1),[M,R]=b.useState(null),[I,T]=b.useState({}),[$,W]=b.useState({smitheryApiKey:"",civitaiApiKey:"",langchainApiKey:""}),[X,B]=b.useState(!1),q=[{id:"smithery",name:"Smithery",types:["mcp_server"]},{id:"mcp-registry",name:"MCP Registry",types:["mcp_server"]},{id:"glama",name:"Glama",types:["mcp_server"]},{id:"comfyui",name:"ComfyUI",types:["workflow","extension"]},{id:"civitai",name:"CivitAI",types:["workflow"]},{id:"langchain-hub",name:"LangChain Hub",types:["prompt","skill"]}],U=[{id:"",name:"All Types"},{id:"mcp_server",name:"MCP Servers"},{id:"workflow",name:"Workflows"},{id:"prompt",name:"Prompts"},{id:"skill",name:"Skills"}],G=b.useCallback(async()=>{var ee;try{const oe=await ce({url:"/api/marketplace-hub/installed",method:"GET"});h(((ee=oe.data)==null?void 0:ee.items)||[])}catch(oe){console.error("Failed to fetch installed:",oe)}},[]),Y=b.useCallback(async()=>{try{const ee=await ce({url:"/api/marketplace-hub/settings",method:"GET"});T(ee.data||{})}catch(ee){console.error("Failed to fetch settings:",ee)}},[]);b.useEffect(()=>{G(),Y()},[G,Y]);const z=async()=>{var ee;if(e.trim()){j(!0),R(null);try{const oe=new URLSearchParams({q:e});n.length>0&&oe.set("sources",n.join(",")),s&&oe.set("type",s),oe.set("limit","30");const ke=await ce({url:`/api/marketplace-hub/search?${oe.toString()}`,method:"GET"});u(((ee=ke.data)==null?void 0:ee.items)||[])}catch(oe){R("Search failed. Please try again."),console.error("Search failed:",oe)}finally{j(!1)}}},F=async ee=>{w(ee.id),R(null);try{await ce({url:"/api/marketplace-hub/install",method:"POST",data:{source:ee.source,itemId:ee.id}}),await G(),alert(`Successfully installed: ${ee.name}`)}catch(oe){R(`Failed to install ${ee.name}`),console.error("Install failed:",oe)}finally{w(null)}},D=async ee=>{try{await ce({url:`/api/marketplace-hub/uninstall/${ee}`,method:"DELETE"}),await G()}catch(oe){R("Failed to uninstall"),console.error("Uninstall failed:",oe)}},K=async()=>{var ee;if(N.trim()){E(!0),R(null);try{const oe=await ce({url:"/api/marketplace-hub/recommend",method:"POST",data:{request:N}});m(((ee=oe.data)==null?void 0:ee.recommendations)||[])}catch(oe){R("Recommendation failed. Please try again."),console.error("Recommend failed:",oe)}finally{E(!1)}}},te=ee=>{a(oe=>oe.includes(ee)?oe.filter(ke=>ke!==ee):[...oe,ee])},de=async()=>{B(!0),R(null);try{const ee={};if($.smitheryApiKey&&(ee.smitheryApiKey=$.smitheryApiKey),$.civitaiApiKey&&(ee.civitaiApiKey=$.civitaiApiKey),$.langchainApiKey&&(ee.langchainApiKey=$.langchainApiKey),Object.keys(ee).length===0){R("Please enter at least one API key");return}await ce({url:"/api/marketplace-hub/settings/api-keys",method:"PUT",data:ee}),await Y(),W({smitheryApiKey:"",civitaiApiKey:"",langchainApiKey:""}),alert("API keys saved successfully")}catch(ee){R("Failed to save API keys"),console.error("Save API keys failed:",ee)}finally{B(!1)}},xe=async ee=>{if(confirm(`Are you sure you want to delete ${ee}?`))try{await ce({url:`/api/marketplace-hub/settings/api-keys/${ee}`,method:"DELETE"}),await Y()}catch(oe){R(`Failed to delete ${ee}`),console.error("Delete API key failed:",oe)}},ie=ee=>d.some(oe=>oe.extensionId===ee);return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Marketplace Hub"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Connect external AI ecosystems - MCP servers, workflows, prompts, and more"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[r.jsxs("div",{className:"flex gap-4 mb-4",children:[r.jsx("input",{type:"text",placeholder:"Search across all marketplaces...",value:e,onChange:ee=>t(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&z(),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("button",{onClick:z,disabled:g,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:g?"Searching...":"Search"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[r.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"Sources:"}),q.map(ee=>r.jsx("button",{onClick:()=>te(ee.id),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${n.includes(ee.id)||n.length===0?Mi[ee.id]||"bg-gray-200 text-gray-800":"bg-gray-100 text-gray-400"}`,children:ee.name},ee.id))]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"Type:"}),U.map(ee=>r.jsx("button",{onClick:()=>i(ee.id),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${s===ee.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:ee.name},ee.id))]})]}),M&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:M}),l.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Search Results (",l.length,")"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(ee=>r.jsxs("div",{className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xl",children:cO[ee.type]||""}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Mi[ee.source]||"bg-gray-100 text-gray-800"}`,children:ee.source})]}),ee.version&&r.jsxs("span",{className:"text-xs text-gray-500",children:["v",ee.version]})]}),r.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:ee.name}),r.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:ee.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex gap-3 text-xs text-gray-500",children:[ee.downloads!==void 0&&r.jsxs("span",{children:[" ",ee.downloads.toLocaleString()]}),ee.stars!==void 0&&r.jsxs("span",{children:[" ",ee.stars.toLocaleString()]}),ee.rating!==void 0&&r.jsxs("span",{children:["Rating: ",ee.rating.toFixed(1)]})]}),r.jsx("button",{onClick:()=>F(ee),disabled:v===ee.id||ie(ee.id),className:`px-3 py-1 rounded text-sm font-medium ${ie(ee.id)?"bg-green-100 text-green-700 cursor-default":v===ee.id?"bg-gray-100 text-gray-500":"bg-blue-600 text-white hover:bg-blue-700"}`,children:ie(ee.id)?"Installed":v===ee.id?"Installing...":"Install"})]})]},`${ee.source}-${ee.id}`))})]}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"AI-Powered Recommendations"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Describe what you want to do, and we'll find the right tools"}),r.jsxs("div",{className:"flex gap-4 mb-4",children:[r.jsx("input",{type:"text",placeholder:"e.g., I need to send messages to Slack channels...",value:N,onChange:ee=>C(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&K(),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),r.jsx("button",{onClick:K,disabled:A,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:A?"Finding...":"Get Recommendations"})]}),p.length>0&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map((ee,oe)=>r.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:cO[ee.item.type]||""}),r.jsx("span",{className:"font-semibold",children:ee.item.name})]}),r.jsxs("span",{className:"text-xs text-purple-600 font-medium",children:[Math.round(ee.confidence*100),"% match"]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:ee.reason}),r.jsx("button",{onClick:()=>F(ee.item),disabled:v===ee.item.id||ie(ee.item.id),className:"w-full py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50 text-sm",children:ie(ee.item.id)?"Installed":"Install"})]},oe))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsxs("button",{onClick:()=>S(!x),className:"w-full px-6 py-4 flex items-center justify-between text-left",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Installed Extensions (",d.length,")"]}),r.jsx("p",{className:"text-sm text-gray-500",children:"External tools installed in your workspace"})]}),r.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${x?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),x&&d.length>0&&r.jsx("div",{className:"px-6 pb-6",children:r.jsx("div",{className:"divide-y divide-gray-100",children:d.map(ee=>r.jsxs("div",{className:"py-3 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:ee.name}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${Mi[ee.source]||"bg-gray-100"}`,children:ee.source})]}),r.jsxs("span",{className:"text-xs text-gray-500",children:["v",ee.version,"  Installed ",new Date(ee.installedAt).toLocaleDateString()]})]}),r.jsx("button",{onClick:()=>D(ee.extensionId),className:"text-red-600 hover:text-red-700 text-sm",children:"Uninstall"})]},ee.id))})}),x&&d.length===0&&r.jsx("div",{className:"px-6 pb-6 text-center text-gray-500",children:"No external extensions installed yet"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow mt-6",children:[r.jsxs("button",{onClick:()=>P(!O),className:"w-full px-6 py-4 flex items-center justify-between text-left",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"API Key Settings"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Optional: Configure API keys for premium features or higher rate limits"})]}),r.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${O?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),O&&r.jsxs("div",{className:"px-6 pb-6 space-y-4",children:[r.jsxs("p",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:["API keys are ",r.jsx("strong",{children:"optional"}),". External sources work without keys, but keys may unlock premium features or bypass rate limits."]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Mi.smithery}`,children:"Smithery"}),I.smitheryApiKeySet&&r.jsx("span",{className:"text-green-600 text-xs",children:"Configured"})]}),I.smitheryApiKeySet&&r.jsx("button",{onClick:()=>xe("smitheryApiKey"),className:"text-red-600 hover:text-red-700 text-xs",children:"Remove"})]}),r.jsx("input",{type:"password",placeholder:I.smitheryApiKeySet?I.smitheryApiKey||"":"Enter Smithery API key",value:$.smitheryApiKey,onChange:ee=>W(oe=>({...oe,smitheryApiKey:ee.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For premium MCP servers access"})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Mi.civitai}`,children:"CivitAI"}),I.civitaiApiKeySet&&r.jsx("span",{className:"text-green-600 text-xs",children:"Configured"})]}),I.civitaiApiKeySet&&r.jsx("button",{onClick:()=>xe("civitaiApiKey"),className:"text-red-600 hover:text-red-700 text-xs",children:"Remove"})]}),r.jsx("input",{type:"password",placeholder:I.civitaiApiKeySet?I.civitaiApiKey||"":"Enter CivitAI API key",value:$.civitaiApiKey,onChange:ee=>W(oe=>({...oe,civitaiApiKey:ee.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-pink-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For higher rate limits and NSFW content access"})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Mi["langchain-hub"]}`,children:"LangChain Hub"}),I.langchainApiKeySet&&r.jsx("span",{className:"text-green-600 text-xs",children:"Configured"})]}),I.langchainApiKeySet&&r.jsx("button",{onClick:()=>xe("langchainApiKey"),className:"text-red-600 hover:text-red-700 text-xs",children:"Remove"})]}),r.jsx("input",{type:"password",placeholder:I.langchainApiKeySet?I.langchainApiKey||"":"Enter LangChain Hub API key",value:$.langchainApiKey,onChange:ee=>W(oe=>({...oe,langchainApiKey:ee.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-yellow-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For private prompts and chains access"})]}),r.jsx("button",{onClick:de,disabled:X,className:"w-full py-2 bg-gray-900 text-white rounded-lg font-medium hover:bg-gray-800 disabled:opacity-50",children:X?"Saving...":"Save API Keys"})]})]})]})})}const uO={company_info:{title:"Company Information",titleKo:" ",description:"Tell us about your company",descriptionKo:"  "},google_workspace:{title:"Connect Google Workspace",titleKo:"Google Workspace ",description:"Import team members automatically",descriptionKo:"  "},select_template:{title:"Select Template",titleKo:" ",description:"Choose a template that fits your industry",descriptionKo:"   "},customize_agents:{title:"Customize Agents",titleKo:" ",description:"Configure your AI agents",descriptionKo:"AI  "},connect_slack:{title:"Connect Slack",titleKo:"Slack ",description:"Use agents in Slack",descriptionKo:"Slack  "},invite_team:{title:"Invite Team",titleKo:" ",description:"Invite colleagues to collaborate",descriptionKo:"   "},first_workflow:{title:"Your First Workflow",titleKo:" ",description:"Try running an automated workflow",descriptionKo:"  "},completed:{title:"All Done!",titleKo:"!",description:"You're ready to go",descriptionKo:" "}},tv=["company_info","google_workspace","select_template","customize_agents","connect_slack","invite_team","first_workflow","completed"];function _te(){var G;const e=Js(),{user:t}=Za(),[n,a]=b.useState(null),[s,i]=b.useState([]),[l,u]=b.useState(!0),[d,h]=b.useState(!1),[p,m]=b.useState(null),[g,j]=b.useState(""),[v,w]=b.useState(""),[x,S]=b.useState(""),[O,P]=b.useState(null),[N,C]=b.useState([]),[A,E]=b.useState("");b.useEffect(()=>{M(),R()},[]);const M=async()=>{try{const z=await(await fetch("/api/onboarding/state",{credentials:"include"})).json();if(z.data)a(z.data),z.data.data&&(j(z.data.data.companyName||""),w(z.data.data.industry||""),S(z.data.data.teamSize||""),P(z.data.data.templateId||null),C(z.data.data.selectedAgents||[]));else{const D=await(await fetch("/api/onboarding/start",{method:"POST",credentials:"include"})).json();a(D.data)}}catch(Y){m(Y instanceof Error?Y.message:"Failed to load")}finally{u(!1)}},R=async()=>{try{const z=await(await fetch("/api/onboarding/templates",{credentials:"include"})).json();i(z.data||[])}catch(Y){console.error("Failed to fetch templates",Y)}},I=async(Y,z)=>{h(!0),m(null);try{const D=await(await fetch(`/api/onboarding/step/${Y}/complete`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({data:z})})).json();if(!D.success)throw new Error(D.error);a(D.data),D.data.isComplete&&e("/dashboard")}catch(F){m(F instanceof Error?F.message:"Failed to complete step")}finally{h(!1)}},T=async Y=>{h(!0),m(null);try{const F=await(await fetch(`/api/onboarding/step/${Y}/skip`,{method:"POST",credentials:"include"})).json();if(!F.success)throw new Error(F.error);a(F.data)}catch(z){m(z instanceof Error?z.message:"Failed to skip step")}finally{h(!1)}},$=()=>{if(!g.trim()){m("Company name is required");return}I("company_info",{companyName:g,industry:v,teamSize:x})},W=async()=>{if(!O){m("Please select a template");return}h(!0),m(null);try{const z=await(await fetch(`/api/onboarding/templates/${O}/apply`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({customizations:{enabledAgents:N}})})).json();if(!z.success)throw new Error(z.error);await M()}catch(Y){m(Y instanceof Error?Y.message:"Failed to apply template")}finally{h(!1)}},X=()=>{const Y=A.split(/[,\n]/).map(z=>z.trim()).filter(z=>z);if(Y.length===0){T("invite_team");return}I("invite_team",{invitedEmails:Y})},B=(n==null?void 0:n.currentStep)||"company_info",q=uO[B],U=tv.indexOf(B);return l?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):n!=null&&n.isComplete?(e("/dashboard"),null):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"text-sm text-gray-500",children:["Step ",U+1," of ",tv.length-1]}),r.jsxs("span",{className:"text-sm font-medium text-indigo-600",children:[(n==null?void 0:n.progress)||0,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"h-2 bg-indigo-600 rounded-full transition-all",style:{width:`${(n==null?void 0:n.progress)||0}%`}})})]})}),r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:q.titleKo}),r.jsx("p",{className:"text-gray-600",children:q.descriptionKo})]}),p&&r.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsx("p",{className:"text-red-800",children:p})}),B==="company_info"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),r.jsx("input",{type:"text",value:g,onChange:Y=>j(Y.target.value),placeholder:"Acme Inc.",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industry"}),r.jsxs("select",{value:v,onChange:Y=>w(Y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"Select industry"}),r.jsx("option",{value:"technology",children:"Technology"}),r.jsx("option",{value:"agency",children:"Marketing/Design Agency"}),r.jsx("option",{value:"retail",children:"E-Commerce/Retail"}),r.jsx("option",{value:"manufacturing",children:"Manufacturing"}),r.jsx("option",{value:"consulting",children:"Consulting"}),r.jsx("option",{value:"healthcare",children:"Healthcare"}),r.jsx("option",{value:"finance",children:"Finance"}),r.jsx("option",{value:"education",children:"Education"}),r.jsx("option",{value:"other",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Size"}),r.jsxs("select",{value:x,onChange:Y=>S(Y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"Select team size"}),r.jsx("option",{value:"1-5",children:"1-5 people"}),r.jsx("option",{value:"6-20",children:"6-20 people"}),r.jsx("option",{value:"21-50",children:"21-50 people"}),r.jsx("option",{value:"51-200",children:"51-200 people"}),r.jsx("option",{value:"200+",children:"200+ people"})]})]}),r.jsx("button",{onClick:$,disabled:d,className:"w-full py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Saving...":"Continue"})]}),B==="google_workspace"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12.545 10.239v3.821h5.445c-.712 2.315-2.647 3.972-5.445 3.972a6.033 6.033 0 110-12.064c1.498 0 2.866.549 3.921 1.453l2.814-2.814A9.969 9.969 0 0012.545 2C7.021 2 2.543 6.477 2.543 12s4.478 10 10.002 10c8.396 0 10.249-7.85 9.426-11.748l-9.426-.013z"})})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connect Google Workspace"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Import your team members automatically from Google Workspace"}),r.jsxs("a",{href:"/api/google/oauth/install",className:"inline-flex items-center px-6 py-3 bg-white border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50",children:[r.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Connect with Google"]})]}),r.jsx("div",{className:"flex justify-between pt-4",children:r.jsx("button",{onClick:()=>T("google_workspace"),disabled:d,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"Skip for now"})})]}),B==="select_template"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(Y=>r.jsxs("button",{onClick:()=>P(Y.id),className:`p-6 border-2 rounded-xl text-left transition ${O===Y.id?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx("div",{className:"text-3xl mb-2",children:Y.icon}),r.jsx("h3",{className:"font-semibold text-gray-900",children:Y.nameKo}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Y.descriptionKo}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[Y.agents.filter(z=>z.enabled).length," agents,"," ",Y.id==="custom"?"configure yourself":"pre-configured"]})]},Y.id))}),r.jsx("button",{onClick:W,disabled:d||!O,className:"w-full py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Applying template...":"Continue"})]}),B==="customize_agents"&&r.jsxs("div",{className:"space-y-6",children:[O&&r.jsx("div",{className:"space-y-4",children:(G=s.find(Y=>Y.id===O))==null?void 0:G.agents.map(Y=>r.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx("input",{type:"checkbox",checked:Y.enabled||N.includes(Y.id),onChange:z=>{z.target.checked?C([...N,Y.id]):C(N.filter(F=>F!==Y.id))},className:"h-4 w-4 text-indigo-600 rounded"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("div",{className:"font-medium text-gray-900",children:Y.name}),r.jsx("div",{className:"text-sm text-gray-500",children:Y.description})]})]},Y.id))}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>T("customize_agents"),disabled:d,className:"flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Use defaults"}),r.jsx("button",{onClick:()=>I("customize_agents",{selectedAgents:N}),disabled:d,className:"flex-1 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Saving...":"Continue"})]})]}),B==="connect_slack"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-10 h-10 text-purple-600",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connect Slack"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Use your AI agents directly in Slack channels"}),r.jsxs("a",{href:"/api/slack/oauth/install",className:"inline-flex items-center px-6 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313z"})}),"Add to Slack"]})]}),r.jsx("div",{className:"flex justify-between pt-4",children:r.jsx("button",{onClick:()=>T("connect_slack"),disabled:d,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"Skip for now"})})]}),B==="invite_team"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Member Emails"}),r.jsx("textarea",{value:A,onChange:Y=>E(Y.target.value),placeholder:"Enter email addresses (one per line or comma-separated)",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"You can also invite team members later from Settings"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>T("invite_team"),disabled:d,className:"flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Skip for now"}),r.jsx("button",{onClick:X,disabled:d,className:"flex-1 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:d?"Sending...":A.trim()?"Send Invites":"Continue"})]})]}),B==="first_workflow"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Try Your First Workflow"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"We've set up some sample workflows for you. Let's run one to see how it works!"}),r.jsx("button",{onClick:()=>{I("first_workflow",{firstWorkflowCompleted:!0})},className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700",children:"Run Sample Workflow"})]}),r.jsx("div",{className:"flex justify-between pt-4",children:r.jsx("button",{onClick:()=>T("first_workflow"),disabled:d,className:"px-6 py-2 text-gray-600 hover:text-gray-900",children:"I'll try it later"})})]}),B==="completed"&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx("svg",{className:"w-12 h-12 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"You're all set!"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"Your workspace is ready. Let's start automating your work."}),r.jsx("button",{onClick:()=>e("/dashboard"),className:"px-8 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700",children:"Go to Dashboard"})]})]}),B!=="completed"&&r.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:tv.slice(0,-1).map(Y=>{const z=n==null?void 0:n.completedSteps.includes(Y),F=n==null?void 0:n.skippedSteps.includes(Y),D=Y===B;return r.jsx("div",{className:`w-3 h-3 rounded-full ${z?"bg-green-500":F?"bg-gray-300":D?"bg-indigo-600":"bg-gray-200"}`,title:uO[Y].title},Y)})})]})]})}const Tte=["Data & Analytics","Engineering","Marketing","Operations","Finance","HR","Sales","Customer Success","Product","Design"],ql={new_agent:{emoji:"",title:"  ",titleEn:"Add New Agent",description:" AI   "},new_team:{emoji:"",title:"  ",titleEn:"Create New Team",description:"   Function "},process_modification:{emoji:"",title:" ",titleEn:"Modify Process",description:" SOP  "},role_change:{emoji:"",title:" ",titleEn:"Change Role",description:"   "}},dO={step:1,changeType:null,teamFunction:"",entityName:"",description:"",selectedSkills:[],selectedTools:[],customSkills:[],customTools:[],permissions:{read:[],write:[],deny:[]},analysis:null};function Rte(){var G,Y;const e=Js(),[t,n]=b.useState(dO),[a,s]=b.useState(!1),[i,l]=b.useState(!1),[u,d]=b.useState(null),[h,p]=b.useState(null),[m,g]=b.useState(""),[j,v]=b.useState(""),[w,x]=b.useState(""),[S,O]=b.useState(""),[P,N]=b.useState(""),C=b.useCallback(async()=>{if(!(!t.changeType||!t.teamFunction||!t.entityName||!t.description)){s(!0),d(null);try{const z=await ce({url:"/api/org-changes/analyze",method:"POST",data:{changeType:t.changeType,teamFunction:t.teamFunction,entityName:t.entityName,description:t.description}});n(F=>({...F,analysis:z,selectedSkills:z.suggestedSkills,selectedTools:z.suggestedTools}))}catch(z){const F=z instanceof Ve?z.message:"   ";d(F)}finally{s(!1)}}},[t.changeType,t.teamFunction,t.entityName,t.description]);b.useEffect(()=>{t.step===3&&!t.analysis&&C()},[t.step,t.analysis,C]);const A=z=>{n(F=>({...F,changeType:z}))},E=()=>{if(d(null),t.step===1&&!t.changeType){d("  ");return}if(t.step===2){if(!t.teamFunction){d("/Function ");return}if(!t.entityName.trim()){d(" ");return}if(!t.description.trim()){d(" ");return}}n(z=>({...z,step:z.step+1}))},M=()=>{d(null),n(z=>({...z,step:z.step-1}))},R=async()=>{if(!t.analysis){d("  .   .");return}l(!0),d(null);try{const z=await ce({url:"/api/org-changes/wizard",method:"POST",data:{changeType:t.changeType,teamFunction:t.teamFunction,entityName:t.entityName,description:t.description,selectedSkills:[...t.selectedSkills,...t.customSkills],selectedTools:[...t.selectedTools,...t.customTools],permissions:t.permissions,analysis:t.analysis}});p({prUrl:z.prUrl,changeId:z.changeId})}catch(z){const F=z instanceof Ve?z.message:"    ";d(F)}finally{l(!1)}},I=z=>{n(F=>({...F,selectedSkills:F.selectedSkills.includes(z)?F.selectedSkills.filter(D=>D!==z):[...F.selectedSkills,z]}))},T=z=>{n(F=>({...F,selectedTools:F.selectedTools.includes(z)?F.selectedTools.filter(D=>D!==z):[...F.selectedTools,z]}))},$=()=>{m.trim()&&!t.customSkills.includes(m.trim())&&(n(z=>({...z,customSkills:[...z.customSkills,m.trim()]})),g(""))},W=()=>{j.trim()&&!t.customTools.includes(j.trim())&&(n(z=>({...z,customTools:[...z.customTools,j.trim()]})),v(""))},X=(z,F,D)=>{F.trim()&&!t.permissions[z].includes(F.trim())&&(n(K=>({...K,permissions:{...K.permissions,[z]:[...K.permissions[z],F.trim()]}})),D(""))},B=(z,F)=>{n(D=>({...D,permissions:{...D.permissions,[z]:D.permissions[z].filter(K=>K!==F)}}))},q=z=>{switch(z){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-red-100 text-red-800"}},U=z=>{switch(z){case"low":return"";case"medium":return"";case"high":return""}};return h?r.jsx("div",{className:"max-w-3xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"  !"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"PR    ."}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Pull Request"}),r.jsx("a",{href:h.prUrl,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 font-medium",children:h.prUrl})]}),r.jsxs("div",{className:"flex gap-4 justify-center",children:[r.jsx("button",{onClick:()=>e("/org-changes"),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"  "}),r.jsx("button",{onClick:()=>{n(dO),p(null)},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"  "})]})]})}):r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  "}),r.jsx("p",{className:"text-gray-600",children:" , ,     "})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4,5].map(z=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium ${z===t.step?"bg-indigo-600 text-white":z<t.step?"bg-indigo-100 text-indigo-600":"bg-gray-200 text-gray-500"}`,children:z<t.step?"":z}),z<5&&r.jsx("div",{className:`w-16 h-1 mx-2 ${z<t.step?"bg-indigo-600":"bg-gray-200"}`})]},z))}),r.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[r.jsx("span",{className:t.step>=1?"text-indigo-600":"text-gray-500",children:" "}),r.jsx("span",{className:t.step>=2?"text-indigo-600":"text-gray-500",children:" "}),r.jsx("span",{className:t.step>=3?"text-indigo-600":"text-gray-500",children:" & "}),r.jsx("span",{className:t.step>=4?"text-indigo-600":"text-gray-500",children:" "}),r.jsx("span",{className:t.step>=5?"text-indigo-600":"text-gray-500",children:" & "})]})]}),u&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:u}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[t.step===1&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"  "}),r.jsx("p",{className:"text-gray-600 mb-6",children:"   ?"}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.keys(ql).map(z=>{const F=ql[z],D=t.changeType===z;return r.jsxs("button",{onClick:()=>A(z),className:`p-4 rounded-lg border-2 text-left transition-all ${D?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-indigo-300 hover:bg-gray-50"}`,children:[r.jsx("div",{className:"text-3xl mb-2",children:F.emoji}),r.jsx("div",{className:"font-semibold text-gray-900",children:F.title}),r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:F.titleEn}),r.jsx("div",{className:"text-sm text-gray-600",children:F.description})]},z)})})]}),t.step===2&&r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:[t.changeType&&ql[t.changeType].emoji," ",t.changeType&&ql[t.changeType].title," (Step 2/5)"]}),r.jsx("p",{className:"text-gray-600 mb-6",children:"  "}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"/Function"}),r.jsxs("select",{value:t.teamFunction,onChange:z=>n(F=>({...F,teamFunction:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:""}),Tte.map(z=>r.jsx("option",{value:z,children:z},z))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t.changeType==="new_agent"?" ":t.changeType==="new_team"?" ":" "}),r.jsx("input",{type:"text",value:t.entityName,onChange:z=>n(F=>({...F,entityName:z.target.value})),placeholder:t.changeType==="new_agent"?": data-agent":": Data Analytics Team",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),r.jsx("textarea",{value:t.description,onChange:z=>n(F=>({...F,description:z.target.value})),placeholder:" /    ",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsx("div",{className:"mt-4 p-4 bg-indigo-50 rounded-lg",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("span",{className:"text-xl mr-2",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-indigo-900",children:"AI "}),r.jsxs("div",{className:"text-sm text-indigo-700",children:['  "',t.teamFunction||" ",'"       .']})]})]})})]})]}),t.step===3&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" &   (Step 3/5)"}),a?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"AI     ..."})]}):r.jsxs("div",{className:"space-y-6",children:[t.analysis&&r.jsx("div",{className:"p-4 bg-indigo-50 rounded-lg",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("span",{className:"text-xl mr-2",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-indigo-900 mb-1",children:"AI "}),r.jsxs("div",{className:"text-sm text-indigo-700",children:['"',t.teamFunction,'"     ,    .       .']})]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (Skills)"}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(G=t.analysis)==null?void 0:G.suggestedSkills.map(z=>r.jsx("button",{onClick:()=>I(z),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${t.selectedSkills.includes(z)?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:z},z)),t.customSkills.map(z=>r.jsxs("button",{onClick:()=>n(F=>({...F,customSkills:F.customSkills.filter(D=>D!==z)})),className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700 hover:bg-green-200",children:[z," "]},z))]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:m,onChange:z=>g(z.target.value),onKeyPress:z=>z.key==="Enter"&&$(),placeholder:"  ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("button",{onClick:$,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:""})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"/MCP  (Tools)"}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(Y=t.analysis)==null?void 0:Y.suggestedTools.map(z=>r.jsx("button",{onClick:()=>T(z),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${t.selectedTools.includes(z)?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:z},z)),t.customTools.map(z=>r.jsxs("button",{onClick:()=>n(F=>({...F,customTools:F.customTools.filter(D=>D!==z)})),className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700 hover:bg-green-200",children:[z," "]},z))]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:j,onChange:z=>v(z.target.value),onKeyPress:z=>z.key==="Enter"&&W(),placeholder:"  ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("button",{onClick:W,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:""})]})]})]})]}),t.step===4&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"  (Step 4/5)"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"     .     ."}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Read)"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.read.map(z=>r.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm flex items-center gap-1",children:[z,r.jsx("button",{onClick:()=>B("read",z),className:"ml-1 hover:text-blue-900",children:""})]},z))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:w,onChange:z=>x(z.target.value),onKeyPress:z=>z.key==="Enter"&&X("read",w,x),placeholder:"/sops/brand/*, /docs/product/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("button",{onClick:()=>X("read",w,x),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 text-sm",children:""})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Write)"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.write.map(z=>r.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm flex items-center gap-1",children:[z,r.jsx("button",{onClick:()=>B("write",z),className:"ml-1 hover:text-green-900",children:""})]},z))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:S,onChange:z=>O(z.target.value),onKeyPress:z=>z.key==="Enter"&&X("write",S,O),placeholder:"/sops/brand/* (PR only)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("button",{onClick:()=>X("write",S,O),className:"px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 text-sm",children:""})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (Deny)"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.permissions.deny.map(z=>r.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm flex items-center gap-1",children:[z,r.jsx("button",{onClick:()=>B("deny",z),className:"ml-1 hover:text-red-900",children:""})]},z))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:P,onChange:z=>N(z.target.value),onKeyPress:z=>z.key==="Enter"&&X("deny",P,N),placeholder:"/org/hr/*, /docs/finance/confidential/*",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("button",{onClick:()=>X("deny",P,N),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 text-sm",children:""})]})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"  "}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("li",{children:[r.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/sops/brand/*"})," - brand   "]}),r.jsxs("li",{children:[r.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/docs/**/*"})," - docs    ()"]}),r.jsxs("li",{children:[r.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"/config/agents/*.yaml"})," - agents  YAML "]})]})]})]})]}),t.step===5&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" &  (Step 5/5)"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"   ."}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700",children:""}),r.jsxs("div",{className:"p-4 space-y-3",children:[r.jsxs("div",{className:"flex",children:[r.jsx("span",{className:"w-32 text-gray-500",children:" :"}),r.jsx("span",{className:"font-medium",children:t.changeType&&ql[t.changeType].title})]}),r.jsxs("div",{className:"flex",children:[r.jsx("span",{className:"w-32 text-gray-500",children:"/Function:"}),r.jsx("span",{className:"font-medium",children:t.teamFunction})]}),r.jsxs("div",{className:"flex",children:[r.jsx("span",{className:"w-32 text-gray-500",children:":"}),r.jsx("span",{className:"font-medium",children:t.entityName})]}),r.jsxs("div",{className:"flex",children:[r.jsx("span",{className:"w-32 text-gray-500",children:":"}),r.jsx("span",{className:"text-gray-700",children:t.description})]}),r.jsxs("div",{className:"flex",children:[r.jsx("span",{className:"w-32 text-gray-500",children:":"}),r.jsx("span",{className:"flex flex-wrap gap-1",children:[...t.selectedSkills,...t.customSkills].map(z=>r.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 rounded text-xs",children:z},z))})]}),r.jsxs("div",{className:"flex",children:[r.jsx("span",{className:"w-32 text-gray-500",children:":"}),r.jsx("span",{className:"flex flex-wrap gap-1",children:[...t.selectedTools,...t.customTools].map(z=>r.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 rounded text-xs",children:z},z))})]})]})]}),t.analysis&&r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[r.jsxs("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700 flex items-center gap-2",children:[r.jsx("span",{children:" "}),r.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${q(t.analysis.riskLevel)}`,children:[": ",U(t.analysis.riskLevel)]})]}),r.jsxs("div",{className:"p-4 space-y-3",children:[t.analysis.impactedAgents.length>0&&r.jsxs("div",{className:"flex items-start",children:[r.jsx("span",{className:"text-lg mr-2",children:""}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500 text-sm",children:"  :"}),r.jsx("div",{className:"font-medium",children:t.analysis.impactedAgents.join(", ")})]})]}),t.analysis.impactedSOPs.length>0&&r.jsxs("div",{className:"flex items-start",children:[r.jsx("span",{className:"text-lg mr-2",children:""}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500 text-sm",children:"  SOP:"}),r.jsx("div",{className:"font-medium",children:t.analysis.impactedSOPs.join(", ")})]})]}),t.analysis.recommendations.length>0&&r.jsxs("div",{className:"flex items-start",children:[r.jsx("span",{className:"text-lg mr-2",children:""}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500 text-sm",children:" :"}),r.jsx("ul",{className:"mt-1 space-y-1",children:t.analysis.recommendations.slice(0,3).map((z,F)=>r.jsx("li",{className:"text-sm text-gray-700",children:z},F))})]})]})]})]}),t.analysis&&r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gray-50 px-4 py-2 font-medium text-gray-700",children:" PR "}),r.jsxs("div",{className:"p-4 font-mono text-sm",children:[t.analysis.filesCreated.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("span",{className:"text-green-600",children:":"}),t.analysis.filesCreated.map(z=>r.jsxs("div",{className:"ml-4 text-gray-600",children:["+ ",z]},z))]}),t.analysis.filesModified.length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-yellow-600",children:":"}),t.analysis.filesModified.map(z=>r.jsxs("div",{className:"ml-4 text-gray-600",children:["~ ",z]},z))]})]})]})]})]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("button",{onClick:t.step===1?()=>e("/org-changes"):M,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:t.step===1?"":" "}),t.step<5?r.jsx("button",{onClick:E,disabled:a,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:" "}):r.jsx("button",{onClick:R,disabled:i,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?" ...":"  PR "})]})]})}function Mte(){const[e,t]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState(null),[l,u]=b.useState(!1),[d,h]=b.useState("all"),[p,m]=b.useState(!1);b.useEffect(()=>{g()},[d]);const g=async()=>{try{a(!0);const P=new URLSearchParams;d!=="all"&&P.set("type",d),P.set("status","active"),P.set("limit","50");const N=await fetch(`/api/patterns?${P}`,{credentials:"include"});if(Ro(N)){u(!0);return}if(!N.ok)throw new Error("Failed to fetch patterns");const C=await N.json();t(C.patterns),i(null)}catch(P){i(P instanceof Error?P.message:"Unknown error")}finally{a(!1)}},j=async()=>{try{if(m(!0),!(await fetch("/api/patterns/analyze",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({lookbackDays:30,generateDrafts:!0})})).ok)throw new Error("Failed to run analysis");await g()}catch(P){i(P instanceof Error?P.message:"Analysis failed")}finally{m(!1)}},v=async P=>{try{if(!(await fetch(`/api/patterns/${P}/dismiss`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to dismiss pattern");t(e.filter(C=>C.id!==P))}catch(N){i(N instanceof Error?N.message:"Failed to dismiss")}},w=async P=>{try{const N=await fetch(`/api/patterns/${P}/generate-sop`,{method:"POST",credentials:"include"});if(!N.ok)throw new Error("Failed to generate SOP");const C=await N.json();window.location.href=`/sop-drafts/${C.draft.id}`}catch(N){i(N instanceof Error?N.message:"Failed to generate SOP")}},x=()=>{const P={sequence:0,cluster:0,time:0};let N=0;for(const C of e)P[C.type]++,N+=C.confidence;return{total:e.length,byType:P,avgConfidence:e.length>0?N/e.length:0}},S=P=>{var C;const N=P.data;switch(P.type){case"sequence":return r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Sequence:"})," ",((C=N.sequence)==null?void 0:C.join("  "))||"N/A"]});case"cluster":return r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Intent:"})," ",N.commonIntent||"Similar requests"]});case"time":return r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Schedule:"})," ",N.description||"Recurring pattern"]});default:return null}},O=x();return l?r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pattern Insights"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Detected patterns that could be automated as SOPs"})]}),r.jsx(Yc,{title:"Pattern Detection",description:"Pattern detection is currently being set up. This feature will analyze user actions and suggest automation opportunities once the backend service is activated.",onRetry:g})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pattern Insights"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Detected patterns that could be automated as SOPs"})]}),r.jsx("button",{onClick:j,disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:p?"Analyzing...":"Run Analysis"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Patterns"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:O.total})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Sequence Patterns"}),r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:O.byType.sequence})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Request Clusters"}),r.jsx("div",{className:"text-2xl font-bold text-green-600",children:O.byType.cluster})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Time Patterns"}),r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:O.byType.time})]})]}),r.jsx("div",{className:"flex gap-2 mb-6",children:["all","sequence","cluster","time"].map(P=>r.jsx("button",{onClick:()=>h(P),className:`px-4 py-2 rounded-lg ${d===P?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:P.charAt(0).toUpperCase()+P.slice(1)},P))}),s&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsx("p",{className:"text-red-700",children:s})}),n?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading patterns..."})]}):e.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[r.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No patterns detected"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Run an analysis to detect automation opportunities from user actions."}),r.jsx("button",{onClick:j,disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Run Analysis Now"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(P=>r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${P.type==="sequence"?"bg-blue-100 text-blue-700":P.type==="cluster"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:P.type}),r.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(P.confidence*100),"% confidence"]})]}),r.jsx("div",{className:"mb-3",children:S(P)}),r.jsxs("div",{className:"flex gap-4 text-sm text-gray-500 mb-4",children:[r.jsxs("span",{children:["Frequency: ",P.frequency]}),r.jsx("span",{children:""}),r.jsx("span",{children:new Date(P.createdAt).toLocaleDateString()})]}),r.jsx("div",{className:"h-2 bg-gray-200 rounded-full mb-4",children:r.jsx("div",{className:`h-full rounded-full ${P.confidence>=.8?"bg-green-500":P.confidence>=.6?"bg-yellow-500":"bg-red-500"}`,style:{width:`${P.confidence*100}%`}})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>w(P.id),className:"flex-1 px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Generate SOP"}),r.jsx("button",{onClick:()=>v(P.id),className:"px-3 py-2 text-gray-600 text-sm border border-gray-300 rounded hover:bg-gray-50",children:"Dismiss"})]})]},P.id))})]})})}function Ite(){const[e,t]=b.useState(null),[n,a]=b.useState([]),[s,i]=b.useState(null),[l,u]=b.useState([]),[d,h]=b.useState(!0),[p,m]=b.useState(!1),[g,j]=b.useState(!1),[v,w]=b.useState("30d"),[x,S]=b.useState("overview"),[O,P]=b.useState({name:"",slug:"",email:"",website:"",description:""}),N=b.useCallback(async()=>{try{const T=await ce({url:"/api/marketplace/publishers/me",method:"GET"});return t(T.publisher),!0}catch(T){return T instanceof Ve&&T.status===404&&j(!0),!1}},[]),C=b.useCallback(async()=>{try{const T=await ce({url:"/api/marketplace/publishers/me/extensions",method:"GET"});a(T.extensions)}catch(T){console.error("Failed to fetch extensions:",T)}},[]),A=b.useCallback(async()=>{try{const T=await ce({url:`/api/marketplace/publishers/me/analytics?period=${v}`,method:"GET"});i(T.analytics)}catch(T){console.error("Failed to fetch analytics:",T)}},[v]),E=b.useCallback(async()=>{try{const T=await ce({url:"/api/marketplace/publishers/me/payouts",method:"GET"});u(T.payouts)}catch(T){console.error("Failed to fetch payouts:",T)}},[]);b.useEffect(()=>{(async()=>{h(!0),await N()&&await Promise.all([C(),A(),E()]),h(!1)})()},[N,C,A,E]),b.useEffect(()=>{e&&A()},[v,e,A]);const M=async T=>{T.preventDefault(),m(!0);try{const $=await ce({url:"/api/marketplace/publishers/register",method:"POST",data:O});t($.publisher),j(!1)}catch($){const W=$ instanceof Ve?$.message:"Registration failed";alert(W)}finally{m(!1)}},R=T=>T>=1e6?`${(T/1e6).toFixed(1)}M`:T>=1e3?`${(T/1e3).toFixed(1)}K`:String(T),I=T=>`$${(T/100).toFixed(2)}`;return d?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):g?r.jsxs("div",{className:"max-w-xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Become a Publisher"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Create and share extensions with the Nubabel community"})]}),r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:r.jsxs("form",{onSubmit:M,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Publisher Name *"}),r.jsx("input",{type:"text",value:O.name,onChange:T=>P({...O,name:T.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Acme Inc."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Publisher Slug *"}),r.jsx("input",{type:"text",value:O.slug,onChange:T=>P({...O,slug:T.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),required:!0,pattern:"[a-z0-9-]+",className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"acme-inc"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"URL-friendly identifier (lowercase, hyphens only)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email *"}),r.jsx("input",{type:"email",value:O.email,onChange:T=>P({...O,email:T.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"publisher@example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),r.jsx("input",{type:"url",value:O.website,onChange:T=>P({...O,website:T.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"https://example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:O.description,onChange:T=>P({...O,description:T.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",rows:3,placeholder:"Tell us about your organization..."})]}),r.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 font-medium",children:p?"Registering...":"Register as Publisher"})]})})]}):e?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Publisher Dashboard"}),r.jsxs("p",{className:"text-gray-600",children:[e.name,e.verified&&r.jsx("span",{className:"ml-2 text-blue-500",children:" Verified"})]})]}),r.jsx(ht,{to:"/marketplace/submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Submit Extension"})]}),r.jsx("div",{className:"border-b border-gray-200 mb-6",children:r.jsx("div",{className:"flex gap-6",children:["overview","extensions","payouts"].map(T=>r.jsxs("button",{onClick:()=>S(T),className:`py-3 text-sm font-medium border-b-2 -mb-px ${x===T?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[T==="overview"&&"Overview",T==="extensions"&&`Extensions (${n.length})`,T==="payouts"&&"Payouts"]},T))})}),x==="overview"&&s&&r.jsxs("div",{children:[r.jsx("div",{className:"flex justify-end mb-4",children:r.jsxs("select",{value:v,onChange:T=>w(T.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[r.jsx("option",{value:"7d",children:"Last 7 days"}),r.jsx("option",{value:"30d",children:"Last 30 days"}),r.jsx("option",{value:"90d",children:"Last 90 days"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Downloads"}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:R(s.totalDownloads)})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Active Installs"}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:R(s.totalInstalls)})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Revenue"}),r.jsx("div",{className:"text-3xl font-bold text-green-600 mt-1",children:I(s.totalRevenue)})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Extensions"}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:n.length})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Download Trend"}),r.jsx("div",{className:"h-48 flex items-end gap-1",children:s.downloadTrend.slice(-30).map((T,$)=>{const W=Math.max(...s.downloadTrend.map(B=>B.count))||1,X=T.count/W*100;return r.jsx("div",{className:"flex-1 bg-indigo-500 rounded-t hover:bg-indigo-600 transition-colors",style:{height:`${Math.max(X,2)}%`},title:`${T.date}: ${T.count} downloads`},$)})})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Extension Performance"}),r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[r.jsx("th",{className:"pb-3",children:"Extension"}),r.jsx("th",{className:"pb-3 text-right",children:"Downloads"}),r.jsx("th",{className:"pb-3 text-right",children:"Installs"}),r.jsx("th",{className:"pb-3 text-right",children:"Revenue"}),r.jsx("th",{className:"pb-3 text-right",children:"Rating"})]})}),r.jsx("tbody",{children:s.extensionStats.map(T=>r.jsxs("tr",{className:"border-b last:border-b-0",children:[r.jsx("td",{className:"py-3 font-medium text-gray-900",children:T.name}),r.jsx("td",{className:"py-3 text-right text-gray-600",children:R(T.downloads)}),r.jsx("td",{className:"py-3 text-right text-gray-600",children:R(T.installs)}),r.jsx("td",{className:"py-3 text-right text-green-600",children:I(T.revenue)}),r.jsxs("td",{className:"py-3 text-right",children:[r.jsx("span",{className:"text-yellow-500",children:""})," ",T.rating.toFixed(1)]})]},T.extensionId))})]})]})]}),x==="extensions"&&r.jsx("div",{className:"bg-white rounded-xl border border-gray-200",children:n.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-4xl mb-4",children:""}),r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No extensions yet"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Submit your first extension to get started"}),r.jsx(ht,{to:"/marketplace/submit",className:"inline-block mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Submit Extension"})]}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[r.jsx("th",{className:"p-4",children:"Extension"}),r.jsx("th",{className:"p-4",children:"Status"}),r.jsx("th",{className:"p-4 text-right",children:"Downloads"}),r.jsx("th",{className:"p-4 text-right",children:"Rating"}),r.jsx("th",{className:"p-4 text-right",children:"Pricing"})]})}),r.jsx("tbody",{children:n.map(T=>r.jsxs("tr",{className:"border-b last:border-b-0 hover:bg-gray-50",children:[r.jsx("td",{className:"p-4",children:r.jsx(ht,{to:`/marketplace/${T.slug}`,className:"font-medium text-indigo-600 hover:text-indigo-800",children:T.name})}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${T.status==="published"?"bg-green-100 text-green-700":T.status==="review"?"bg-yellow-100 text-yellow-700":T.status==="rejected"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:T.status})}),r.jsx("td",{className:"p-4 text-right text-gray-600",children:R(T.stats.downloads)}),r.jsxs("td",{className:"p-4 text-right",children:[r.jsx("span",{className:"text-yellow-500",children:""})," ",T.stats.rating.toFixed(1),r.jsxs("span",{className:"text-gray-400 text-sm ml-1",children:["(",T.stats.reviewCount,")"]})]}),r.jsx("td",{className:"p-4 text-right",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${T.pricing==="free"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:T.pricing})})]},T.id))})]})}),x==="payouts"&&r.jsxs("div",{children:[!e.payoutEnabled&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-yellow-800",children:"Set up payouts"}),r.jsx("p",{className:"text-sm text-yellow-700",children:"Connect your Stripe account to receive payments from paid extensions."})]}),r.jsx("button",{className:"ml-auto px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 text-sm",children:"Connect Stripe"})]})}),r.jsx("div",{className:"bg-white rounded-xl border border-gray-200",children:l.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-4xl mb-4",children:""}),r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No payouts yet"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Payouts are processed monthly for paid extension revenue"})]}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-sm text-gray-500 border-b",children:[r.jsx("th",{className:"p-4",children:"Period"}),r.jsx("th",{className:"p-4",children:"Amount"}),r.jsx("th",{className:"p-4",children:"Status"}),r.jsx("th",{className:"p-4",children:"Paid Date"})]})}),r.jsx("tbody",{children:l.map(T=>r.jsxs("tr",{className:"border-b last:border-b-0",children:[r.jsxs("td",{className:"p-4 text-gray-900",children:[new Date(T.periodStart).toLocaleDateString()," -"," ",new Date(T.periodEnd).toLocaleDateString()]}),r.jsx("td",{className:"p-4 font-medium text-green-600",children:I(T.amount)}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${T.status==="completed"?"bg-green-100 text-green-700":T.status==="processing"?"bg-blue-100 text-blue-700":T.status==="failed"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:T.status})}),r.jsx("td",{className:"p-4 text-gray-600",children:T.paidAt?new Date(T.paidAt).toLocaleDateString():"-"})]},T.id))})]})})]})]}):null}function $te(){const[e,t]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState(null),[l,u]=b.useState(null),[d,h]=b.useState("all"),[p,m]=b.useState(""),[g,j]=b.useState(!1);b.useEffect(()=>{v()},[d]);const v=async()=>{try{a(!0);const N=new URLSearchParams;d!=="all"&&N.set("status",d),N.set("limit","50");const C=await fetch(`/api/sop-drafts?${N}`,{credentials:"include"});if(!C.ok)throw new Error("Failed to fetch drafts");const A=await C.json();t(A.drafts),i(null)}catch(N){i(N instanceof Error?N.message:"Unknown error")}finally{a(!1)}},w=async N=>{try{if(!(await fetch(`/api/sop-drafts/${N}/approve`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to approve draft");t(e.map(A=>A.id===N?{...A,status:"approved",reviewedAt:new Date().toISOString()}:A)),u(null)}catch(C){i(C instanceof Error?C.message:"Failed to approve")}},x=async N=>{try{if(!(await fetch(`/api/sop-drafts/${N}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:p})})).ok)throw new Error("Failed to reject draft");t(e.map(A=>A.id===N?{...A,status:"rejected",reviewedAt:new Date().toISOString(),rejectionReason:p}:A)),j(!1),m(""),u(null)}catch(C){i(C instanceof Error?C.message:"Failed to reject")}},S=async N=>{try{const C=await fetch(`/api/sop-drafts/${N.id}/yaml`,{credentials:"include"});if(!C.ok)throw new Error("Failed to download YAML");const A=await C.blob(),E=window.URL.createObjectURL(A),M=document.createElement("a");M.href=E,M.download=`${N.name.replace(/\s+/g,"_")}.yaml`,document.body.appendChild(M),M.click(),document.body.removeChild(M),window.URL.revokeObjectURL(E)}catch(C){i(C instanceof Error?C.message:"Failed to download")}},O=N=>{switch(N){case"draft":return"bg-gray-100 text-gray-700";case"pending_review":return"bg-yellow-100 text-yellow-700";case"approved":return"bg-green-100 text-green-700";case"rejected":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},P=N=>{switch(N){case"automated":return"";case"manual":return"";case"approval":return"";default:return""}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"SOP Drafts"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Review and approve auto-generated SOPs"})]}),r.jsx("a",{href:"/patterns",className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"View Patterns"})]}),r.jsx("div",{className:"flex gap-2 mb-6",children:["all","draft","pending_review","approved","rejected"].map(N=>r.jsx("button",{onClick:()=>h(N),className:`px-4 py-2 rounded-lg ${d===N?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:N==="all"?"All":N.replace("_"," ").replace(/\b\w/g,C=>C.toUpperCase())},N))}),s&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsx("p",{className:"text-red-700",children:s})}),r.jsxs("div",{className:"flex gap-6",children:[r.jsx("div",{className:"w-1/3",children:n?r.jsx("div",{className:"text-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):e.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:r.jsx("p",{className:"text-gray-600",children:"No drafts found"})}):r.jsx("div",{className:"space-y-3",children:e.map(N=>r.jsxs("div",{onClick:()=>u(N),className:`bg-white rounded-lg shadow p-4 cursor-pointer hover:shadow-md transition-shadow ${(l==null?void 0:l.id)===N.id?"ring-2 ring-blue-500":""}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:"font-medium text-gray-900 truncate",children:N.name}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${O(N.status)}`,children:N.status.replace("_"," ")})]}),r.jsx("p",{className:"text-sm text-gray-600 truncate",children:N.description}),r.jsxs("div",{className:"flex gap-2 mt-2 text-xs text-gray-500",children:[r.jsx("span",{children:N.function}),r.jsx("span",{children:""}),r.jsxs("span",{children:[N.steps.length," steps"]}),r.jsx("span",{children:""}),r.jsxs("span",{children:[Math.round(N.confidence*100),"%"]})]})]},N.id))})}),r.jsx("div",{className:"flex-1",children:l?r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsxs("div",{className:"p-6 border-b",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:l.name}),r.jsx("p",{className:"text-gray-600 mt-1",children:l.description})]}),r.jsx("span",{className:`px-3 py-1 rounded-full ${O(l.status)}`,children:l.status.replace("_"," ")})]}),r.jsxs("div",{className:"flex gap-4 mt-4 text-sm text-gray-500",children:[r.jsxs("span",{children:["Function: ",l.function]}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Source: ",l.sourceType]}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Confidence: ",Math.round(l.confidence*100),"%"]})]})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Workflow Steps"}),r.jsx("div",{className:"space-y-3",children:l.steps.map((N,C)=>r.jsxs("div",{className:"flex gap-3 items-start",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-sm",children:C+1}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:P(N.type)}),r.jsx("span",{className:"font-medium",children:N.name}),r.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-gray-100 text-gray-600",children:N.type})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:N.description}),N.agentId&&r.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Agent: ",N.agentId]}),N.toolName&&r.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Tool: ",N.toolName]})]})]},N.id))})]}),l.status==="rejected"&&l.rejectionReason&&r.jsx("div",{className:"px-6 pb-6",children:r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-red-700 mb-1",children:"Rejection Reason"}),r.jsx("p",{className:"text-red-600",children:l.rejectionReason})]})}),(l.status==="draft"||l.status==="pending_review")&&r.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>S(l),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-white",children:"Download YAML"}),r.jsx("button",{onClick:()=>{j(!0)},className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50",children:"Reject"}),r.jsx("button",{onClick:()=>w(l.id),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Approve"})]}),l.status==="approved"&&r.jsx("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:r.jsx("button",{onClick:()=>S(l),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Download YAML"})})]}):r.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[r.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),r.jsx("p",{className:"text-gray-600",children:"Select a draft to view details"})]})})]})]}),g&&l&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Reject Draft"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Please provide a reason for rejecting this draft:"}),r.jsx("textarea",{value:p,onChange:N=>m(N.target.value),placeholder:"Enter rejection reason...",className:"w-full border border-gray-300 rounded-lg p-3 mb-4 h-32"}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>{j(!1),m("")},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:()=>x(l.id),disabled:!p.trim(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:"Reject"})]})]})})]})}const Lte={automated:{icon:"",label:"Automated",bgColor:"bg-blue-50",borderColor:"border-blue-300",textColor:"text-blue-700",selectedBorder:"border-blue-500"},manual:{icon:"",label:"Manual",bgColor:"bg-amber-50",borderColor:"border-amber-300",textColor:"text-amber-700",selectedBorder:"border-amber-500"},approval_required:{icon:"",label:"Approval",bgColor:"bg-green-50",borderColor:"border-green-300",textColor:"text-green-700",selectedBorder:"border-green-500"}};function Dte({step:e,index:t,isSelected:n,isDragging:a,onSelect:s,onDragStart:i,onDragEnd:l}){const u=b.useMemo(()=>Lte[e.type],[e.type]);return r.jsxs("div",{draggable:!0,onDragStart:i,onDragEnd:l,onClick:s,className:`
        relative p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
        ${u.bgColor}
        ${n?u.selectedBorder+" ring-2 ring-offset-2 ring-indigo-300":u.borderColor}
        ${a?"opacity-50 scale-95":"opacity-100"}
        hover:shadow-md
        min-w-[180px] max-w-[220px]
      `,children:[r.jsx("div",{className:"absolute -top-2 -left-2 w-6 h-6 rounded-full bg-gray-700 text-white text-xs flex items-center justify-center font-bold",children:t+1}),r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-lg",children:u.icon}),r.jsx("span",{className:`text-xs font-medium ${u.textColor}`,children:u.label})]}),r.jsx("h3",{className:"font-medium text-gray-900 text-sm truncate mb-1",children:e.name}),r.jsxs("div",{className:"text-xs text-gray-500 space-y-0.5",children:[e.agent&&r.jsxs("p",{className:"truncate",children:[r.jsx("span",{className:"text-gray-400",children:"agent:"})," ",e.agent]}),e.tool&&r.jsxs("p",{className:"truncate",children:[r.jsx("span",{className:"text-gray-400",children:"tool:"})," ",e.tool]}),e.assignee&&r.jsxs("p",{className:"truncate",children:[r.jsx("span",{className:"text-gray-400",children:"assignee:"})," ",e.assignee]}),e.approver&&r.jsxs("p",{className:"truncate",children:[r.jsx("span",{className:"text-gray-400",children:"approver:"})," ",e.approver]}),e.timeout&&r.jsxs("p",{className:"truncate",children:[r.jsx("span",{className:"text-gray-400",children:"timeout:"})," ",e.timeout]})]}),e.conditional&&r.jsx("div",{className:"mt-2 px-2 py-1 bg-purple-100 rounded text-xs text-purple-700 truncate",children:" Conditional"}),r.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-4 h-4 rounded-full bg-gray-400 border-2 border-white"})]})}function Fte({steps:e,selectedStepIndex:t,onSelectStep:n,onReorderSteps:a,onAddStep:s}){const[i,l]=b.useState(null),[u,d]=b.useState(null),h=b.useRef(null),p=b.useCallback(w=>x=>{x.dataTransfer.effectAllowed="move",x.dataTransfer.setData("text/plain",String(w)),l(w)},[]),m=b.useCallback(()=>{l(null),d(null)},[]),g=b.useCallback(w=>x=>{x.preventDefault(),x.dataTransfer.dropEffect="move",i!==null&&w!==i&&d(w)},[i]),j=b.useCallback(w=>x=>{x.preventDefault();const S=parseInt(x.dataTransfer.getData("text/plain"),10);!isNaN(S)&&S!==w&&a(S,w),l(null),d(null)},[a]),v=w=>w>=e.length-1?null:r.jsxs("div",{className:"flex justify-center my-2",children:[r.jsx("div",{className:"w-0.5 h-8 bg-gray-300"}),r.jsx("svg",{className:"absolute",style:{marginTop:"20px"},width:"12",height:"12",viewBox:"0 0 12 12",children:r.jsx("polygon",{points:"6,12 0,0 12,0",fill:"#D1D5DB"})})]});return r.jsxs("div",{className:"flex-1 bg-gray-50 overflow-auto",ref:h,children:[r.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add Step:"}),r.jsxs("button",{onClick:()=>s("automated"),className:"flex items-center gap-1 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-sm hover:bg-blue-100 transition-colors",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Automated"})]}),r.jsxs("button",{onClick:()=>s("manual"),className:"flex items-center gap-1 px-3 py-1.5 bg-amber-50 text-amber-700 rounded-lg text-sm hover:bg-amber-100 transition-colors",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Manual"})]}),r.jsxs("button",{onClick:()=>s("approval_required"),className:"flex items-center gap-1 px-3 py-1.5 bg-green-50 text-green-700 rounded-lg text-sm hover:bg-green-100 transition-colors",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Approval"})]})]})}),r.jsx("div",{className:"p-8 min-h-[400px]",children:e.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[r.jsx("div",{className:"text-5xl mb-4",children:""}),r.jsx("p",{className:"text-lg font-medium",children:"No steps yet"}),r.jsx("p",{className:"text-sm",children:"Click the buttons above to add steps to your SOP"})]}):r.jsxs("div",{className:"flex flex-col items-center",children:[e.map((w,x)=>r.jsxs("div",{children:[u===x&&i!==null&&r.jsx("div",{className:"h-16 w-48 border-2 border-dashed border-indigo-400 bg-indigo-50 rounded-lg mb-4 flex items-center justify-center",children:r.jsx("span",{className:"text-sm text-indigo-600",children:"Drop here"})}),r.jsx("div",{onDragOver:g(x),onDrop:j(x),children:r.jsx(Dte,{step:w,index:x,isSelected:t===x,isDragging:i===x,onSelect:()=>n(x),onDragStart:p(x),onDragEnd:m})}),v(x)]},w.id+"-"+x)),u===e.length&&i!==null&&r.jsx("div",{className:"h-16 w-48 border-2 border-dashed border-indigo-400 bg-indigo-50 rounded-lg flex items-center justify-center",onDragOver:w=>{w.preventDefault(),d(e.length)},onDrop:j(e.length),children:r.jsx("span",{className:"text-sm text-indigo-600",children:"Drop here"})})]})}),t!==null&&r.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>n(null),style:{pointerEvents:"none"}})]})}function zte({step:e,onUpdate:t,onDelete:n,onClose:a}){var g,j;const[s,i]=b.useState(e),[l,u]=b.useState("");if(b.useEffect(()=>{i(e)},[e]),!s)return r.jsx("div",{className:"w-80 border-l border-gray-200 bg-gray-50 p-4",children:r.jsx("p",{className:"text-gray-500 text-sm",children:"Select a step to configure"})});const d=(v,w)=>{const x={...s,[v]:w};i(x),t(x)},h=v=>{const w={...s,conditional:{when:v}};i(w),t(w)},p=()=>{if(!l.trim())return;const v=[...s.checklist||[],l.trim()];d("checklist",v),u("")},m=v=>{var x;const w=((x=s.checklist)==null?void 0:x.filter((S,O)=>O!==v))||[];d("checklist",w.length>0?w:void 0)};return r.jsxs("div",{className:"w-80 border-l border-gray-200 bg-white overflow-y-auto",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Step Configuration"}),r.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 text-xl",children:""})]}),r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),r.jsxs("select",{value:s.type,onChange:v=>d("type",v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"automated",children:" Automated"}),r.jsx("option",{value:"manual",children:" Manual"}),r.jsx("option",{value:"approval_required",children:" Approval Required"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),r.jsx("input",{type:"text",value:s.id,onChange:v=>d("id",v.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"step-id"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("input",{type:"text",value:s.name,onChange:v=>d("name",v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Step name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:s.description||"",onChange:v=>d("description",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",rows:2,placeholder:"Optional description"})]}),s.type==="automated"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agent"}),r.jsx("input",{type:"text",value:s.agent||"",onChange:v=>d("agent",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., cs-agent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tool"}),r.jsx("input",{type:"text",value:s.tool||"",onChange:v=>d("tool",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., send_email"})]})]}),s.type==="manual"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignee"}),r.jsx("input",{type:"text",value:s.assignee||"",onChange:v=>d("assignee",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., cs-manager"})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:s.requires_approval||!1,onChange:v=>d("requires_approval",v.target.checked),className:"rounded border-gray-300"}),r.jsx("span",{className:"text-gray-700",children:"Requires Approval"})]})})]}),s.type==="approval_required"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Approver"}),r.jsx("input",{type:"text",value:s.approver||"",onChange:v=>d("approver",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., team-lead"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timeout"}),r.jsxs("select",{value:s.timeout||"",onChange:v=>d("timeout",v.target.value||void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"No timeout"}),r.jsx("option",{value:"5m",children:"5 minutes"}),r.jsx("option",{value:"15m",children:"15 minutes"}),r.jsx("option",{value:"30m",children:"30 minutes"}),r.jsx("option",{value:"1h",children:"1 hour"}),r.jsx("option",{value:"2h",children:"2 hours"}),r.jsx("option",{value:"4h",children:"4 hours"}),r.jsx("option",{value:"8h",children:"8 hours"}),r.jsx("option",{value:"24h",children:"24 hours"}),r.jsx("option",{value:"48h",children:"48 hours"}),r.jsx("option",{value:"72h",children:"72 hours"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conditional (when)"}),r.jsx("input",{type:"text",value:((g=s.conditional)==null?void 0:g.when)||"",onChange:v=>v.target.value?h(v.target.value):d("conditional",void 0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., {{risk_score}} >= 7"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Use ","{{variable}}"," syntax for template variables"]})]}),(s.type==="manual"||s.type==="approval_required")&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Checklist"}),r.jsxs("div",{className:"space-y-2",children:[(j=s.checklist)==null?void 0:j.map((v,w)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"flex-1 text-sm text-gray-600 bg-gray-50 px-2 py-1 rounded",children:v}),r.jsx("button",{onClick:()=>m(w),className:"text-red-500 hover:text-red-700 text-sm",children:""})]},w)),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:l,onChange:v=>u(v.target.value),onKeyDown:v=>v.key==="Enter"&&p(),className:"flex-1 border border-gray-300 rounded px-2 py-1 text-sm",placeholder:"Add checklist item"}),r.jsx("button",{onClick:p,className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"Add"})]})]})]}),r.jsx("div",{className:"pt-4 border-t border-gray-200",children:r.jsx("button",{onClick:n,className:"w-full px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 text-sm font-medium",children:"Delete Step"})})]})]})}function Bte({sopId:e,isOpen:t,onClose:n}){const[a,s]=b.useState("{}"),[i,l]=b.useState(null),[u,d]=b.useState(!1),[h,p]=b.useState(null),[m,g]=b.useState(0),j=async()=>{if(e){d(!0),p(null);try{const x=JSON.parse(a),S=await ce({url:`/api/sops/${e}/simulate`,method:"POST",data:{input:x}});l(S.simulation),g(0)}catch(x){x instanceof SyntaxError?p("Invalid JSON in input data"):x instanceof Ve?p(x.message):p("Failed to simulate SOP")}finally{d(!1)}}},v=x=>{if(x<60)return`${x}m`;const S=Math.floor(x/60),O=x%60;if(S<24)return O>0?`${S}h ${O}m`:`${S}h`;const P=Math.floor(S/24),N=S%24;return N>0?`${P}d ${N}h`:`${P}d`},w=x=>{switch(x){case"automated":return{icon:"",color:"bg-blue-100 text-blue-700"};case"manual":return{icon:"",color:"bg-amber-100 text-amber-700"};case"approval_required":return{icon:"",color:"bg-green-100 text-green-700"};default:return{icon:"",color:"bg-gray-100 text-gray-700"}}};return t?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Preview Execution"}),r.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),r.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Data (JSON)"}),r.jsx("textarea",{value:a,onChange:x=>s(x.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 font-mono text-sm h-32 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:'{"customer": {"email": "test@example.com", "company_name": "Acme Inc"}}'}),r.jsx("button",{onClick:j,disabled:u||!e,className:"mt-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 text-sm font-medium",children:u?"Simulating...":"Run Simulation"})]}),h&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:h}),i&&r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6 p-4 bg-indigo-50 rounded-lg",children:[r.jsx("h3",{className:"font-medium text-indigo-900 mb-2",children:i.sopName}),r.jsxs("div",{className:"flex gap-6 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-indigo-600",children:"Total Steps:"})," ",r.jsx("span",{className:"font-medium",children:i.totalSteps})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-indigo-600",children:"Est. Duration:"})," ",r.jsx("span",{className:"font-medium",children:v(i.estimatedTotalDuration)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-indigo-600",children:"Will Execute:"})," ",r.jsxs("span",{className:"font-medium",children:[i.steps.filter(x=>x.willExecute).length," steps"]})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Execution Flow"}),r.jsx("div",{className:"space-y-3",children:i.steps.map((x,S)=>{const O=w(x.type),P=S===m;return r.jsx("div",{onClick:()=>g(S),className:`
                          p-4 rounded-lg border-2 cursor-pointer transition-all
                          ${P?"border-indigo-400 bg-indigo-50":"border-gray-200 hover:border-gray-300"}
                          ${x.willExecute?"":"opacity-50"}
                        `,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${x.willExecute?"bg-gray-700 text-white":"bg-gray-300 text-gray-600"}`,children:S+1}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${O.color}`,children:[O.icon," ",x.type.replace("_"," ")]}),!x.willExecute&&r.jsx("span",{className:"px-2 py-0.5 bg-gray-200 text-gray-600 rounded text-xs",children:"Will Skip"})]}),r.jsx("h5",{className:"font-medium text-gray-900",children:x.name}),x.description&&r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:x.description}),x.skipReason&&r.jsxs("p",{className:"text-sm text-amber-600 mt-1",children:["Reason: ",x.skipReason]}),P&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 space-y-2 text-sm",children:[x.agent&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Agent:"})," ",r.jsx("span",{className:"font-mono",children:x.agent})]}),x.tool&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Tool:"})," ",r.jsx("span",{className:"font-mono",children:x.tool})]}),x.assignee&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Assignee:"})," ",r.jsx("span",{children:x.assignee})]}),x.approver&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Approver:"})," ",r.jsx("span",{children:x.approver})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Est. Duration:"})," ",r.jsx("span",{children:v(x.estimatedDuration)})]}),x.checklist&&x.checklist.length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Checklist:"}),r.jsx("ul",{className:"mt-1 ml-4 list-disc",children:x.checklist.map((N,C)=>r.jsx("li",{className:"text-gray-600",children:N},C))})]}),x.resolvedInput&&Object.keys(x.resolvedInput).length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Resolved Input:"}),r.jsx("pre",{className:"mt-1 p-2 bg-gray-100 rounded text-xs overflow-auto",children:JSON.stringify(x.resolvedInput,null,2)})]})]})]}),r.jsx("div",{className:"text-xs text-gray-500",children:v(x.estimatedDuration)})]})},x.id)})})]}),i.exceptionHandlers.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Exception Handlers"}),r.jsx("div",{className:"space-y-2",children:i.exceptionHandlers.map((x,S)=>r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm flex items-center gap-3",children:[r.jsx("span",{className:"text-amber-500",children:""}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:x.condition}),r.jsx("span",{className:"text-gray-400 mx-2",children:""}),r.jsx("span",{className:"text-indigo-600",children:x.action}),x.target&&r.jsxs("span",{className:"text-gray-500",children:[" (target: ",x.target,")"]})]})]},S))})]})]})]})]})}):null}const qte=[{value:"brand",label:"Brand"},{value:"finance",label:"Finance"},{value:"ops",label:"Operations"},{value:"cs",label:"Customer Success"},{value:"hr",label:"HR"},{value:"engineering",label:"Engineering"},{value:"product",label:"Product"},{value:"sales",label:"Sales"}];function Ute(){const{id:e}=Zh(),t=Js(),n=!!e,[a,s]=b.useState([]),[i,l]=b.useState(!0),[u,d]=b.useState({id:"",name:"",function:"ops",owner:"",version:"1.0.0"}),[h,p]=b.useState([{pattern:""}]),[m,g]=b.useState([]),[j,v]=b.useState([]),[w,x]=b.useState(null),[S,O]=b.useState(!1),[P,N]=b.useState(!1),[C,A]=b.useState(null),[E,M]=b.useState(null),[R,I]=b.useState(!1),[T,$]=b.useState(!1),[W,X]=b.useState(""),[B,q]=b.useState("editor"),U=b.useCallback(async()=>{try{const re=await ce({url:"/api/sops",method:"GET"});s(re.sops)}catch(re){console.error("Failed to fetch SOP list:",re)}finally{l(!1)}},[]),G=b.useCallback(async re=>{O(!0),A(null);try{const je=(await ce({url:`/api/sops/${re}`,method:"GET"})).sop;d(je.metadata),p(je.triggers),g(je.steps),v(je.exception_handling||[])}catch(be){be instanceof Ve?A(be.message):A("Failed to load SOP")}finally{O(!1)}},[]),Y=b.useCallback(async()=>{if(e)try{const re=await fetch(`/api/sops/${e}/yaml`,{credentials:"include"});if(re.ok){const be=await re.text();X(be)}}catch(re){console.error("Failed to fetch YAML:",re)}},[e]);b.useEffect(()=>{U()},[U]),b.useEffect(()=>{e?G(e):(d({id:"",name:"",function:"ops",owner:"",version:"1.0.0"}),p([{pattern:""}]),g([]),v([]),x(null))},[e,G]),b.useEffect(()=>{T&&e&&Y()},[T,e,Y]);const z=re=>{const be={id:`step-${Date.now()}`,name:`New ${re==="automated"?"Automated":re==="manual"?"Manual":"Approval"} Step`,type:re};g([...m,be]),x(m.length)},F=re=>{if(w===null)return;const be=[...m];be[w]=re,g(be)},D=()=>{if(w===null)return;const re=m.filter((be,je)=>je!==w);g(re),x(null)},K=(re,be)=>{const je=[...m],[tt]=je.splice(re,1);je.splice(be,0,tt),g(je),w===re&&x(be)},te=()=>{p([...h,{pattern:""}])},de=(re,be)=>{const je=[...h];je[re]={pattern:be},p(je)},xe=re=>{h.length<=1||p(h.filter((be,je)=>je!==re))},ie=()=>{v([...j,{condition:"",action:"notify_owner"}])},ee=(re,be,je)=>{const tt=[...j];tt[re]={...tt[re],[be]:je},v(tt)},oe=re=>{v(j.filter((be,je)=>je!==re))},ke=async()=>{if(!u.id.trim()){A("SOP ID is required");return}if(!u.name.trim()){A("SOP name is required");return}if(!u.owner.trim()){A("Owner is required");return}if(h.every(be=>!be.pattern.trim())){A("At least one trigger pattern is required");return}if(m.length===0){A("At least one step is required");return}N(!0),A(null),M(null);const re={metadata:u,triggers:h.filter(be=>be.pattern.trim()),steps:m,exception_handling:j.filter(be=>be.condition.trim())};try{n?(await ce({url:`/api/sops/${e}`,method:"PUT",data:re}),M("SOP updated successfully")):(await ce({url:"/api/sops",method:"POST",data:re}),M("SOP created successfully"),t(`/sops/${u.id}`)),U()}catch(be){be instanceof Ve?A(be.message):A("Failed to save SOP")}finally{N(!1)}},$e=async()=>{if(!(!e||!confirm("Are you sure you want to delete this SOP?")))try{await ce({url:`/api/sops/${e}`,method:"DELETE"}),t("/sops"),U()}catch(re){re instanceof Ve?A(re.message):A("Failed to delete SOP")}};return S?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading SOP..."})]})}):r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("nav",{className:"text-sm mb-1",children:[r.jsx(ht,{to:"/sops",className:"text-indigo-600 hover:text-indigo-800",children:"SOPs"}),r.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),r.jsx("span",{className:"text-gray-600",children:n?u.name||e:"New SOP"})]}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit SOP":"Create New SOP"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[n&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>$(!T),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 text-sm font-medium",children:T?"Hide YAML":"View YAML"}),r.jsx("button",{onClick:()=>I(!0),className:"px-4 py-2 text-indigo-700 bg-indigo-100 rounded-lg hover:bg-indigo-200 text-sm font-medium",children:"Preview"}),r.jsx("button",{onClick:$e,className:"px-4 py-2 text-red-700 bg-red-50 rounded-lg hover:bg-red-100 text-sm font-medium",children:"Delete"})]}),r.jsx("button",{onClick:ke,disabled:P,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 text-sm font-medium",children:P?"Saving...":n?"Update SOP":"Create SOP"})]})]}),C&&r.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:C}),E&&r.jsx("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:E})]}),r.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[r.jsxs("div",{className:"w-56 border-r border-gray-200 bg-gray-50 overflow-y-auto",children:[r.jsx("div",{className:"p-4",children:r.jsxs(ht,{to:"/sops/new",className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 text-sm font-medium",children:[r.jsx("span",{children:"+"}),r.jsx("span",{children:"New SOP"})]})}),r.jsx("nav",{className:"px-2 pb-4",children:i?r.jsx("p",{className:"text-sm text-gray-500 px-2",children:"Loading..."}):a.length===0?r.jsx("p",{className:"text-sm text-gray-500 px-2",children:"No SOPs yet"}):a.map(re=>r.jsxs(ht,{to:`/sops/${re.id}`,className:`block px-3 py-2 rounded-lg text-sm mb-1 transition-colors ${e===re.id?"bg-indigo-100 text-indigo-700":"text-gray-700 hover:bg-gray-100"}`,children:[r.jsx("div",{className:"font-medium truncate",children:re.name}),r.jsxs("div",{className:"text-xs text-gray-500",children:[re.function,"  ",re.stepCount," steps"]})]},re.id))})]}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx("div",{className:"bg-white border-b border-gray-200 px-6",children:r.jsx("div",{className:"flex gap-6",children:["editor","triggers","exceptions"].map(re=>r.jsxs("button",{onClick:()=>q(re),className:`py-3 text-sm font-medium border-b-2 transition-colors ${B===re?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[re==="editor"&&"Step Editor",re==="triggers"&&"Triggers & Metadata",re==="exceptions"&&"Exception Handlers"]},re))})}),B==="editor"&&r.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[r.jsx(Fte,{steps:m,selectedStepIndex:w,onSelectStep:x,onReorderSteps:K,onAddStep:z}),r.jsx(zte,{step:w!==null?m[w]:null,onUpdate:F,onDelete:D,onClose:()=>x(null)})]}),B==="triggers"&&r.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:r.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"SOP Metadata"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SOP ID *"}),r.jsx("input",{type:"text",value:u.id,onChange:re=>d({...u,id:re.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),disabled:n,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm disabled:bg-gray-100",placeholder:"e.g., customer-onboarding"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:u.name,onChange:re=>d({...u,name:re.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"e.g., Customer Onboarding"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Function *"}),r.jsx("select",{value:u.function,onChange:re=>d({...u,function:re.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:qte.map(re=>r.jsx("option",{value:re.value,children:re.label},re.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner *"}),r.jsx("input",{type:"text",value:u.owner,onChange:re=>d({...u,owner:re.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"e.g., cs-team-lead"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version"}),r.jsx("input",{type:"text",value:u.version,onChange:re=>d({...u,version:re.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:"1.0.0"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Triggers"}),r.jsx("button",{onClick:te,className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"+ Add Trigger"})]}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Triggers determine when this SOP is automatically invoked. Add patterns that match user messages or events."}),r.jsx("div",{className:"space-y-3",children:h.map((re,be)=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:re.pattern,onChange:je=>de(be,je.target.value),className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm",placeholder:'e.g., "  " or "new customer onboarding"'}),h.length>1&&r.jsx("button",{onClick:()=>xe(be),className:"px-3 py-2 text-red-500 hover:text-red-700",children:""})]},be))})]})]})}),B==="exceptions"&&r.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:r.jsx("div",{className:"max-w-3xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Exception Handlers"}),r.jsx("button",{onClick:ie,className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200",children:"+ Add Handler"})]}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Define how the SOP should respond to errors, timeouts, and other exceptional conditions."}),j.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("p",{children:"No exception handlers defined"}),r.jsx("p",{className:"text-sm",children:'Click "Add Handler" to create one'})]}):r.jsx("div",{className:"space-y-4",children:j.map((re,be)=>r.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Condition"}),r.jsxs("select",{value:re.condition,onChange:je=>ee(be,"condition",je.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",children:[r.jsx("option",{value:"",children:"Select condition..."}),r.jsx("option",{value:"step.failed",children:"Step Failed"}),r.jsx("option",{value:"step.timeout",children:"Step Timeout"}),r.jsx("option",{value:"approval.rejected",children:"Approval Rejected"}),r.jsx("option",{value:"approval.timeout",children:"Approval Timeout"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Action"}),r.jsxs("select",{value:re.action,onChange:je=>ee(be,"action",je.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",children:[r.jsx("option",{value:"notify_owner",children:"Notify Owner"}),r.jsx("option",{value:"escalate",children:"Escalate"}),r.jsx("option",{value:"retry_with_modification",children:"Retry with Modification"}),r.jsx("option",{value:"halt_and_escalate",children:"Halt and Escalate"}),r.jsx("option",{value:"return_to_step",children:"Return to Step"}),r.jsx("option",{value:"send_reminder",children:"Send Reminder"}),r.jsx("option",{value:"request_revision",children:"Request Revision"}),r.jsx("option",{value:"page_executive",children:"Page Executive"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Target"}),r.jsx("input",{type:"text",value:re.target||"",onChange:je=>ee(be,"target",je.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"e.g., team-lead"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Message Template"}),r.jsx("input",{type:"text",value:re.message||"",onChange:je=>ee(be,"message",je.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"e.g., SOP failed: {{step.name}}"})]})]}),r.jsx("button",{onClick:()=>oe(be),className:"text-red-500 hover:text-red-700 text-lg",children:""})]})},be))})]})})})]})]}),T&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"YAML Configuration"}),r.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),r.jsx("div",{className:"flex-1 overflow-auto p-4",children:r.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg text-sm font-mono whitespace-pre-wrap",children:W||"Loading..."})}),r.jsx("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:r.jsx("button",{onClick:()=>{navigator.clipboard.writeText(W)},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"Copy to Clipboard"})})]})}),r.jsx(Bte,{sopId:e||null,isOpen:R,onClose:()=>I(!1)})]})}function Wte(e){return e>=80?"text-green-600":e>=60?"text-yellow-600":e>=40?"text-orange-600":"text-red-600"}function Hte(e){return e>=80?"bg-green-100":e>=60?"bg-yellow-100":e>=40?"bg-orange-100":"bg-red-100"}function J_(e){switch(e){case"healthy":return"bg-green-100 text-green-800";case"degraded":return"bg-yellow-100 text-yellow-800";case"unhealthy":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function Kte(e){switch(e){case"critical":return"text-red-600";case"high":return"text-orange-600";case"medium":return"text-yellow-600";default:return"text-blue-600"}}function ww(e){switch(e){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}}function hO(e){return new Date(e).toLocaleDateString()}function Z_(e){return new Date(e).toLocaleString()}function fO(e){switch(e){case"up":return"";case"down":return"";default:return""}}function Gte({score:e,status:t}){return r.jsxs("div",{className:`rounded-lg p-6 ${Hte(e)} text-center`,children:[r.jsx("div",{className:`text-6xl font-bold ${Wte(e)}`,children:e}),r.jsx("div",{className:"text-lg font-medium text-gray-700 mt-2",children:"Health Score"}),r.jsx("div",{className:`inline-block mt-2 px-3 py-1 rounded-full text-sm font-medium ${J_(t)}`,children:t.charAt(0).toUpperCase()+t.slice(1)})]})}function rv({title:e,value:t,subtitle:n}){return r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:e}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t}),n&&r.jsx("div",{className:"text-xs text-gray-400 mt-1",children:n})]})}function Vte({agent:e}){return r.jsxs("div",{className:`bg-white rounded-lg shadow p-4 border-l-4 ${e.status==="healthy"?"border-green-500":e.status==="degraded"?"border-yellow-500":"border-red-500"}`,children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500",children:e.agentId})]}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${J_(e.status)}`,children:e.status})]}),r.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Executions:"})," ",r.jsx("span",{className:"font-medium",children:e.metrics.totalExecutions}),r.jsx("span",{className:"ml-1 text-gray-400",children:fO(e.trends.executionsTrend)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Success:"})," ",r.jsxs("span",{className:`font-medium ${e.metrics.successRate>=90?"text-green-600":e.metrics.successRate>=70?"text-yellow-600":"text-red-600"}`,children:[e.metrics.successRate.toFixed(1),"%"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Latency:"})," ",r.jsxs("span",{className:"font-medium",children:[e.metrics.avgLatencyMs,"ms"]}),r.jsx("span",{className:"ml-1 text-gray-400",children:fO(e.trends.latencyTrend)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Errors:"})," ",r.jsxs("span",{className:`font-medium ${e.metrics.errorRate<=5?"text-green-600":e.metrics.errorRate<=15?"text-yellow-600":"text-red-600"}`,children:[e.metrics.errorRate.toFixed(1),"%"]})]})]}),e.lastError&&r.jsx("div",{className:"mt-2 p-2 bg-red-50 rounded text-xs text-red-700 truncate",children:e.lastError.message})]})}function Qte({anomaly:e}){return r.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-orange-500",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("div",{className:`text-sm font-medium ${Kte(e.severity)}`,children:e.type.replace(/_/g," ").toUpperCase()}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${ww(e.severity)}`,children:e.severity})]}),r.jsx("p",{className:"text-gray-700 text-sm mt-2",children:e.description}),r.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Detected: ",Z_(e.detectedAt)]})]})}function Yte({gap:e}){return r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:e.title}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${ww(e.severity)}`,children:e.severity})]}),r.jsx("p",{className:"text-gray-600 text-sm mt-2",children:e.description}),r.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded text-sm text-blue-700",children:[r.jsx("span",{className:"font-medium",children:"Action:"})," ",e.suggestedAction]})]})}function Xte({recommendation:e,onAccept:t,onReject:n}){return r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:e.title}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${ww(e.priority)}`,children:e.priority})]}),r.jsx("p",{className:"text-gray-600 text-sm mt-2",children:e.description}),r.jsxs("div",{className:"mt-2 text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Impact:"})," ",r.jsx("span",{className:"text-gray-700",children:e.impact})]}),r.jsxs("div",{className:"mt-2 p-2 bg-green-50 rounded text-sm text-green-700",children:[r.jsx("span",{className:"font-medium",children:"Action:"})," ",e.suggestedAction]}),r.jsxs("div",{className:"mt-3 flex gap-2",children:[r.jsx("button",{onClick:()=>t(e.id),className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"Accept"}),r.jsx("button",{onClick:()=>n(e.id),className:"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300",children:"Dismiss"})]})]})}function Jte(){const[e,t]=b.useState(null),[n,a]=b.useState([]),[s,i]=b.useState([]),[l,u]=b.useState([]),[d,h]=b.useState(!0),[p,m]=b.useState(null),[g,j]=b.useState(!1),[v,w]=b.useState(!0),[x,S]=b.useState("agents"),O=b.useCallback(async()=>{try{const[E,M,R,I]=await Promise.all([fetch("/api/meta-agent/health",{credentials:"include"}),fetch("/api/meta-agent/knowledge/gaps",{credentials:"include"}),fetch("/api/meta-agent/recommendations",{credentials:"include"}),fetch("/api/meta-agent/reports?limit=5",{credentials:"include"})]);if(Ro(E)){j(!0),h(!1);return}if(!E.ok)throw new Error("Failed to fetch health data");const T=await E.json();if(t(T.data),M.ok){const $=await M.json();a($.data||[])}if(R.ok){const $=await R.json();i($.data||[])}if(I.ok){const $=await I.json();u($.data||[])}m(null)}catch(E){m(E instanceof Error?E.message:"Unknown error")}finally{h(!1)}},[]);b.useEffect(()=>{O()},[O]),b.useEffect(()=>{if(!v)return;const E=setInterval(O,6e4);return()=>clearInterval(E)},[v,O]);const P=async E=>{try{(await fetch(`/api/meta-agent/recommendations/${E}/accept`,{method:"POST",credentials:"include"})).ok&&i(R=>R.filter(I=>I.id!==E))}catch(M){console.error("Failed to accept recommendation",M)}},N=async E=>{try{(await fetch(`/api/meta-agent/recommendations/${E}/reject`,{method:"POST",credentials:"include"})).ok&&i(R=>R.filter(I=>I.id!==E))}catch(M){console.error("Failed to reject recommendation",M)}},C=async()=>{try{(await fetch("/api/meta-agent/reports/generate",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"daily"})})).ok&&O()}catch(E){console.error("Failed to generate report",E)}},A=async()=>{try{h(!0),(await fetch("/api/meta-agent/system-check",{method:"POST",credentials:"include"})).ok&&O()}catch(E){console.error("Failed to run system check",E)}finally{h(!1)}};return d&&!e?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):g?r.jsx(Yc,{title:"System Health Monitoring",description:"System health monitoring is currently being set up. This feature will display agent status, health scores, and recommendations once the backend service is activated.",onRetry:O}):p&&!e?r.jsxs("div",{className:"bg-red-50 p-4 rounded-lg text-red-700",children:[r.jsx("h3",{className:"font-medium",children:"Error loading system health"}),r.jsx("p",{children:p}),r.jsx("button",{onClick:O,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Retry"})]}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Health"}),r.jsxs("p",{className:"text-gray-500",children:["Last updated: ",e?Z_(e.timestamp):"N/A"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:A,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Run System Check"}),r.jsx("button",{onClick:C,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Generate Report"}),r.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 rounded",children:[r.jsx("input",{type:"checkbox",checked:v,onChange:E=>w(E.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Auto-refresh"})]})]})]}),e&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(Gte,{score:e.overallScore,status:e.status}),r.jsx(rv,{title:"Total Agents",value:e.summary.totalAgents,subtitle:`${e.summary.healthyAgents} healthy, ${e.summary.degradedAgents} degraded, ${e.summary.unhealthyAgents} unhealthy`}),r.jsx(rv,{title:"Executions (24h)",value:e.summary.totalExecutionsLast24h.toLocaleString(),subtitle:`${e.summary.overallSuccessRate.toFixed(1)}% success rate`}),r.jsx(rv,{title:"Active Issues",value:e.anomalies.length,subtitle:`${e.anomalies.filter(E=>E.severity==="critical"||E.severity==="high").length} critical/high`})]}),e&&e.anomalies.filter(E=>E.severity==="critical").length>0&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"font-medium text-red-800",children:"Critical Issues Detected"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:e.anomalies.filter(E=>E.severity==="critical").map((E,M)=>r.jsx(Qte,{anomaly:E},M))})]}),r.jsx("div",{className:"border-b border-gray-200 mb-6",children:r.jsx("nav",{className:"flex gap-4",children:["agents","gaps","recommendations","reports"].map(E=>r.jsxs("button",{onClick:()=>S(E),className:`py-2 px-4 border-b-2 font-medium text-sm ${x===E?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[E==="agents"&&`Agents (${(e==null?void 0:e.agents.length)||0})`,E==="gaps"&&`Knowledge Gaps (${n.length})`,E==="recommendations"&&`Recommendations (${s.length})`,E==="reports"&&`Reports (${l.length})`]},E))})}),x==="agents"&&e&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.agents.map(E=>r.jsx(Vte,{agent:E},E.agentId))}),x==="gaps"&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.length===0?r.jsx("p",{className:"text-gray-500 col-span-2",children:"No knowledge gaps detected."}):n.slice(0,10).map((E,M)=>r.jsx(Yte,{gap:E},M))}),x==="recommendations"&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.length===0?r.jsx("p",{className:"text-gray-500 col-span-2",children:"No pending recommendations."}):s.map(E=>r.jsx(Xte,{recommendation:E,onAccept:P,onReject:N},E.id))}),x==="reports"&&r.jsx("div",{className:"space-y-4",children:l.length===0?r.jsx("p",{className:"text-gray-500",children:"No reports generated yet."}):l.map(E=>r.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-gray-900",children:[E.type.charAt(0).toUpperCase()+E.type.slice(1)," Report"]}),r.jsxs("p",{className:"text-sm text-gray-500",children:[hO(E.periodStart)," - ",hO(E.periodEnd)]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("a",{href:`/api/meta-agent/reports/${E.id}?format=html`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm rounded hover:bg-blue-200",children:"View HTML"}),r.jsx("a",{href:`/api/meta-agent/reports/${E.id}?format=markdown`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded hover:bg-gray-200",children:"Markdown"})]})]},E.id))})]})}function Zte(){const{currentOrganization:e}=Za(),[t,n]=b.useState("experiments"),[a,s]=b.useState([]),[i,l]=b.useState(null),[u,d]=b.useState([]),[h,p]=b.useState(!0),[m,g]=b.useState("");b.useEffect(()=>{j()},[e]);async function j(){p(!0);try{const[x,S,O]=await Promise.all([ce({url:"/api/optimization/experiments"}),ce({url:"/api/optimization/costs",params:{days:30}}),ce({url:"/api/optimization/models"})]);s(x.experiments||[]),l(S.analysis||null),d(O.models||[])}catch(x){console.error("Failed to load optimization data:",x)}finally{p(!1)}}async function v(x){try{await ce({method:"POST",url:`/api/optimization/experiments/${x}/start`}),await j()}catch(S){console.error("Failed to start experiment:",S)}}async function w(x){try{await ce({method:"POST",url:`/api/optimization/experiments/${x}/stop`}),await j()}catch(S){console.error("Failed to stop experiment:",S)}}return h?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Agent Performance Optimization"}),r.jsx("div",{className:"flex border-b mb-6",children:["experiments","prompts","routing","models","costs"].map(x=>r.jsx("button",{onClick:()=>n(x),className:`px-4 py-2 capitalize ${t===x?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:x},x))}),t==="experiments"&&r.jsx(ere,{experiments:a,onStart:v,onStop:w}),t==="prompts"&&r.jsx(nre,{selectedAgent:m,onAgentChange:g}),t==="routing"&&r.jsx(are,{selectedAgent:m,onAgentChange:g}),t==="models"&&r.jsx(sre,{models:u}),t==="costs"&&i&&r.jsx(ire,{analysis:i})]})}function ere({experiments:e,onStart:t,onStop:n}){const a=e.filter(i=>i.status==="running"),s=e.filter(i=>i.status==="completed");return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Active Experiments"}),a.length===0?r.jsx("p",{className:"text-gray-500",children:"No active experiments"}):r.jsx("div",{className:"space-y-4",children:a.map(i=>r.jsx(tre,{experiment:i,onStart:t,onStop:n},i.id))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Completed Experiments"}),s.length===0?r.jsx("p",{className:"text-gray-500",children:"No completed experiments"}):r.jsx("div",{className:"space-y-4",children:s.map(i=>r.jsx(rre,{experiment:i},i.id))})]})]})}function tre({experiment:e,onStart:t,onStop:n}){const a={draft:"bg-gray-100 text-gray-800",running:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"};return r.jsx("div",{className:"border rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:e.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Agent: ",e.agentId," | Type: ",e.type]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Traffic Split: ",(e.trafficSplit*100).toFixed(0),"% treatment"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-1 rounded text-xs ${a[e.status]}`,children:e.status}),e.status==="draft"&&r.jsx("button",{onClick:()=>t(e.id),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Start"}),e.status==="running"&&r.jsx("button",{onClick:()=>n(e.id),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Stop"})]})]})})}function rre({experiment:e}){const t=e.results;return t?r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:e.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Agent: ",e.agentId]})]}),t.isSignificant&&r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs",children:"Significant Result"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[r.jsx("p",{className:"text-sm font-medium",children:"Control"}),r.jsxs("p",{className:"text-lg",children:[(t.controlVariant.successRate*100).toFixed(1),"%"]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["n=",t.controlVariant.sampleSize]})]}),r.jsxs("div",{className:"bg-blue-50 rounded p-3",children:[r.jsx("p",{className:"text-sm font-medium",children:"Treatment"}),r.jsxs("p",{className:"text-lg",children:[(t.treatmentVariant.successRate*100).toFixed(1),"%"]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["n=",t.treatmentVariant.sampleSize]})]})]}),r.jsxs("div",{className:"mt-4 text-sm",children:[r.jsxs("p",{children:["Improvement: ",r.jsxs("strong",{children:[t.improvement.toFixed(1),"%"]})]}),r.jsxs("p",{children:["Confidence: ",r.jsxs("strong",{children:[(t.confidence*100).toFixed(1),"%"]})]}),t.winner&&r.jsxs("p",{className:"text-green-600 mt-2",children:["Winner: ",t.winner===t.treatmentVariant.variantId?"Treatment":"Control"]})]})]}):null}function nre({selectedAgent:e,onAgentChange:t}){const[n,a]=b.useState([]),[s,i]=b.useState(!1);async function l(u){if(u){i(!0);try{const d=await ce({url:`/api/optimization/agents/${u}/prompts`});a(d.variants||[])}catch(d){console.error("Failed to load prompts:",d)}finally{i(!1)}}}return b.useEffect(()=>{e&&l(e)},[e]),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Prompt Performance"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Agent"}),r.jsx("input",{type:"text",value:e,onChange:u=>t(u.target.value),placeholder:"Enter agent ID...",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s?r.jsx("p",{className:"text-gray-500",children:"Loading..."}):n.length===0?r.jsx("p",{className:"text-gray-500",children:"No prompt variants found"}):r.jsx("div",{className:"space-y-4",children:n.map(u=>{var d;return r.jsxs("div",{className:`border rounded-lg p-4 ${u.isActive?"border-green-500 bg-green-50":""}`,children:[r.jsx("div",{className:"flex justify-between items-start",children:r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:["Version ",u.version,u.isActive&&r.jsx("span",{className:"ml-2 text-xs bg-green-600 text-white px-2 py-0.5 rounded",children:"Active"})]}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Success Rate: ",(u.successRate*100).toFixed(1),"% | Avg Latency: ",u.avgLatencyMs,"ms | Sample: ",u.sampleSize]})]})}),r.jsxs("div",{className:"mt-2 bg-gray-50 p-2 rounded text-sm font-mono max-h-32 overflow-auto",children:[(d=u.systemPrompt)==null?void 0:d.substring(0,200),"..."]})]},u.id)})})]})}function are({selectedAgent:e,onAgentChange:t}){var h,p;const[n,a]=b.useState(null),[s,i]=b.useState(null),[l,u]=b.useState(!1);async function d(m){if(m){u(!0);try{const[g,j]=await Promise.all([ce({url:`/api/optimization/agents/${m}/routing/analysis`}),ce({method:"POST",url:`/api/optimization/agents/${m}/routing/suggestions`})]);a(g.analysis||null),i(j||null)}catch(g){console.error("Failed to load routing:",g)}finally{u(!1)}}}return b.useEffect(()=>{e&&d(e)},[e]),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Routing Analysis"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Agent"}),r.jsx("input",{type:"text",value:e,onChange:m=>t(m.target.value),placeholder:"Enter agent ID...",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l?r.jsx("p",{className:"text-gray-500",children:"Loading..."}):n?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold",children:n.totalMatches}),r.jsx("p",{className:"text-sm text-gray-500",children:"Total Matches"})]}),r.jsxs("div",{className:"bg-green-50 rounded p-4 text-center",children:[r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[(n.correctRate*100).toFixed(1),"%"]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Correct Rate"})]}),r.jsxs("div",{className:"bg-red-50 rounded p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-red-600",children:n.totalMatches-n.correctMatches}),r.jsx("p",{className:"text-sm text-gray-500",children:"Misroutes"})]})]}),n.problematicKeywords.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Problematic Keywords"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n.problematicKeywords.map(m=>r.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm",children:m},m))})]}),s&&r.jsxs(r.Fragment,{children:[((h=s.additions)==null?void 0:h.length)>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Suggested Additions"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:s.additions.slice(0,10).map(m=>r.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-sm",title:m.reason,children:["+ ",m.keyword]},m.keyword))})]}),((p=s.removals)==null?void 0:p.length)>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Suggested Removals"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:s.removals.map(m=>r.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded text-sm",children:["- ",m]},m))})]})]})]}):r.jsx("p",{className:"text-gray-500",children:"Enter an agent ID to see routing analysis"})]})}function sre({models:e}){return r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Available Models"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Model"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Provider"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Capabilities"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cost ($/1K tokens)"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Accuracy"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(t=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-3 whitespace-nowrap font-medium",children:t.name}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-gray-500",children:t.provider}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:t.capabilities.map(n=>r.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-800 rounded text-xs",children:n},n))})}),r.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-gray-500",children:["$",Number(t.inputCostPer1K).toFixed(4)," / $",Number(t.outputCostPer1K).toFixed(4)]}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.benchmarkAccuracy?`${(t.benchmarkAccuracy*100).toFixed(0)}%`:"-"})]},t.name))})]})})]})}function ire({analysis:e}){return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost Summary (30 days)"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[r.jsxs("p",{className:"text-2xl font-bold",children:["$",(e.totalCostCents/100).toFixed(2)]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Total Cost"})]}),r.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold",children:e.totalRequests.toLocaleString()}),r.jsx("p",{className:"text-sm text-gray-500",children:"Total Requests"})]}),r.jsxs("div",{className:"bg-gray-50 rounded p-4 text-center",children:[r.jsxs("p",{className:"text-2xl font-bold",children:["$",(e.avgCostPerRequest/100).toFixed(4)]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Avg Cost/Request"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost by Agent"}),r.jsx("div",{className:"space-y-2",children:e.byAgent.slice(0,10).map(t=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-32 truncate text-sm",children:t.agentId}),r.jsx("div",{className:"flex-1 mx-4",children:r.jsx("div",{className:"bg-gray-200 rounded-full h-4 overflow-hidden",children:r.jsx("div",{className:"bg-blue-600 h-full",style:{width:`${t.percentOfTotal}%`}})})}),r.jsxs("div",{className:"w-24 text-right text-sm",children:["$",(t.costCents/100).toFixed(2)]}),r.jsxs("div",{className:"w-16 text-right text-sm text-gray-500",children:[t.percentOfTotal.toFixed(1),"%"]})]},t.agentId))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost by Model"}),r.jsx("div",{className:"space-y-2",children:e.byModel.map(t=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-48 truncate text-sm",children:t.model}),r.jsx("div",{className:"flex-1 mx-4",children:r.jsx("div",{className:"bg-gray-200 rounded-full h-4 overflow-hidden",children:r.jsx("div",{className:"bg-green-600 h-full",style:{width:`${t.percentOfTotal}%`}})})}),r.jsxs("div",{className:"w-24 text-right text-sm",children:["$",(t.costCents/100).toFixed(2)]}),r.jsxs("div",{className:"w-16 text-right text-sm text-gray-500",children:[t.percentOfTotal.toFixed(1),"%"]})]},t.model))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Optimization Recommendations"}),e.recommendations.length===0?r.jsx("p",{className:"text-gray-500",children:"No recommendations at this time"}):r.jsx("div",{className:"space-y-4",children:e.recommendations.map((t,n)=>r.jsx("div",{className:"border rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium capitalize",children:t.strategy.replace(/_/g," ")}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.description})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-lg font-bold text-green-600",children:["~",t.estimatedSavingsPercent,"% savings"]}),r.jsxs("div",{className:"flex gap-2 mt-1 justify-end",children:[r.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${t.implementationEffort==="low"?"bg-green-100 text-green-800":t.implementationEffort==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.implementationEffort," effort"]}),r.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${t.qualityImpact==="none"?"bg-green-100 text-green-800":t.qualityImpact==="minor"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.qualityImpact," quality impact"]})]})]})]})},n))})]})]})}function ore({status:e}){const t={active:{color:"bg-green-100 text-green-800",icon:r.jsx(Yd,{className:"w-3 h-3"}),label:"Active"},rate_limited:{color:"bg-yellow-100 text-yellow-800",icon:r.jsx(nc,{className:"w-3 h-3"}),label:"Rate Limited"},exhausted:{color:"bg-red-100 text-red-800",icon:r.jsx(nc,{className:"w-3 h-3"}),label:"Exhausted"},cooldown:{color:"bg-blue-100 text-blue-800",icon:r.jsx(tL,{className:"w-3 h-3"}),label:"Cooldown"}},{color:n,icon:a,label:s}=t[e]||{color:"bg-gray-100 text-gray-800",icon:null,label:e};return r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${n}`,children:[a,s]})}function lre({percent:e}){const t=e>=90?"bg-red-500":e>=70?"bg-yellow-500":"bg-green-500";return r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${t}`,style:{width:`${Math.min(100,e)}%`}})})}function cre({isOpen:e,onClose:t,onSubmit:n,initialData:a}){const[s,i]=b.useState({nickname:a.nickname,priority:a.priority}),[l,u]=b.useState(!1),[d,h]=b.useState(null);b.useEffect(()=>{i({nickname:a.nickname,priority:a.priority}),h(null)},[a,e]);const p=async m=>{m.preventDefault(),u(!0),h(null);try{await n(s),t()}catch(g){h(g instanceof Error?g.message:"Failed to save account")}finally{u(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Edit Account"}),d&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:d}),r.jsxs("form",{onSubmit:p,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nickname"}),r.jsx("input",{type:"text",value:s.nickname,onChange:m=>i({...s,nickname:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., work, personal, backup-1",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:a.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-200 rounded-md bg-gray-50 text-gray-500"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Email is set when connecting the account"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority (higher = preferred)"}),r.jsx("input",{type:"number",value:s.priority,onChange:m=>i({...s,priority:parseInt(m.target.value)||100}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",min:1,max:1e3})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${a.hasCredentials?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:a.hasCredentials?"Credentials saved":"No credentials"}),!a.hasCredentials&&r.jsx("span",{className:"text-gray-500",children:'Use "Connect Account" to add credentials'})]})}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:l?"Saving...":"Update"})]})]})]})}):null}function ure(){const[e,t]=b.useState([]),[n,a]=b.useState(null),[s,i]=b.useState(!0),[l,u]=b.useState(null),[d,h]=b.useState(!1),[p,m]=b.useState(null),g=b.useCallback(async()=>{try{const{data:S}=await Rr.get("/api/claude-max-accounts");t(S.accounts),a(S.summary),u(null)}catch(S){u(S instanceof Error?S.message:"Failed to load accounts")}finally{i(!1)}},[]);b.useEffect(()=>{g();const S=setInterval(g,3e4);return()=>clearInterval(S)},[g]),b.useEffect(()=>{const S=O=>{var P;((P=O.data)==null?void 0:P.type)==="claude-connect-success"&&g()};return window.addEventListener("message",S),()=>window.removeEventListener("message",S)},[g]);const j=()=>{const P=(window.screen.width-700)/2,N=(window.screen.height-800)/2;window.open("/claude-connect","claude-connect",`width=700,height=800,left=${P},top=${N},resizable=yes,scrollbars=yes`)},v=async S=>{p&&(await Rr.patch(`/api/claude-max-accounts/${p.id}`,{nickname:S.nickname,priority:S.priority}),await g())},w=async S=>{confirm("Are you sure you want to delete this account?")&&(await Rr.delete(`/api/claude-max-accounts/${S}`),await g())},x=async S=>{await Rr.post(`/api/claude-max-accounts/${S}/reset-status`),await g()};return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Xd,{className:"w-8 h-8 animate-spin text-indigo-600"})}):r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Claude Max Accounts"}),r.jsx("p",{className:"text-gray-600",children:"Manage your Claude Max subscription accounts for AI execution"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:g,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 flex items-center gap-2",children:[r.jsx(Xd,{className:"w-4 h-4"}),"Refresh"]}),r.jsxs("button",{onClick:j,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 flex items-center gap-2",children:[r.jsx(pj,{className:"w-4 h-4"}),"Connect Claude Account"]})]})]}),e.length===0&&r.jsx("div",{className:"mb-6 p-6 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg text-white",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"p-3 bg-white/20 rounded-lg",children:r.jsx(A3,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Get Started with Claude Max"}),r.jsx("p",{className:"text-indigo-100 mb-4",children:"Connect your Claude Max subscription to enable AI-powered workflows. The connection process takes less than a minute."}),r.jsx("button",{onClick:j,className:"px-4 py-2 bg-white text-indigo-600 rounded-md hover:bg-indigo-50 font-medium",children:"Connect Your First Account"})]})]})}),l&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md text-red-700",children:l}),n&&e.length>0&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Accounts"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.total})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[r.jsx(Yd,{className:"w-3 h-3 text-green-500"})," Active"]}),r.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.active})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[r.jsx(nc,{className:"w-3 h-3 text-yellow-500"})," Rate Limited"]}),r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:n.rateLimited})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[r.jsx(kL,{className:"w-3 h-3 text-red-500"})," Exhausted"]}),r.jsx("div",{className:"text-2xl font-bold text-red-600",children:n.exhausted})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Avg Usage"}),r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[n.averageUsage.toFixed(1),"%"]})]})]}),e.length>0&&r.jsx("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Active"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(S=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"font-medium text-gray-900",children:S.nickname}),r.jsx("div",{className:"text-sm text-gray-500",children:S.email}),S.hasCredentials&&r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 mt-1",children:"Connected"})]}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsx(ore,{status:S.status}),S.cooldownUntil&&new Date(S.cooldownUntil)>new Date&&r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Until ",new Date(S.cooldownUntil).toLocaleTimeString()]})]}),r.jsx("td",{className:"px-6 py-4 w-40",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(lre,{percent:S.estimatedUsagePercent}),r.jsxs("span",{className:"text-sm text-gray-600 w-12",children:[S.estimatedUsagePercent.toFixed(0),"%"]})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-900",children:S.priority}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:S.lastActiveAt?new Date(S.lastActiveAt).toLocaleString():"Never"}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[S.status!=="active"&&r.jsx("button",{onClick:()=>x(S.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Reset Status",children:r.jsx(fL,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>{m(S),h(!0)},className:"p-2 text-gray-600 hover:bg-gray-100 rounded",title:"Edit",children:r.jsx(uL,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>w(S.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Delete",children:r.jsx(vL,{className:"w-4 h-4"})})]})})]},S.id))})]})}),p&&r.jsx(cre,{isOpen:d,onClose:()=>{h(!1),m(null)},onSubmit:v,initialData:p})]})}function dre(){const[e,t]=b.useState("init"),[n,a]=b.useState(null),[s,i]=b.useState(""),[l,u]=b.useState(""),[d,h]=b.useState(null),[p,m]=b.useState(""),[g,j]=b.useState(100),[v,w]=b.useState(null),[x,S]=b.useState(!1),[O,P]=b.useState(0);b.useEffect(()=>{N()},[]);const N=async()=>{try{S(!0),w(null);const{data:I}=await Rr.post("/api/claude-connect/init");a(I);const{data:T}=await Rr.get(`/api/claude-connect/bookmarklet/${I.code}`);i(T.bookmarkletCode);const W=`(async()=>{const sk=document.cookie.match(/sessionKey=([^;]+)/);if(!sk){console.error('Not logged in');return;}const r=await fetch('${window.location.origin}/api/claude-connect/receive-token',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({token:sk[1],code:'${I.code}'})});const d=await r.json();console.log(d.success?'Success! Return to Nubabel.':'Error: '+d.error);})();`;u(W),t("instructions")}catch(I){w(I instanceof Error?I.message:"Failed to initialize connection"),t("error")}finally{S(!1)}},C=b.useCallback(async()=>{if(!n)return!1;try{const{data:I}=await Rr.get(`/api/claude-connect/poll/${n.code}`);return I.status==="received"?(t("naming"),!0):!1}catch{return!1}},[n]);b.useEffect(()=>{if(e!=="waiting"||!n)return;const I=setInterval(async()=>{P(W=>W+1),await C()&&clearInterval(I)},2e3),T=setTimeout(()=>{clearInterval(I),e==="waiting"&&(w("Connection timed out. Please try again."),t("error"))},3e5);return()=>{clearInterval(I),clearTimeout(T)}},[e,n,C]);const A=async I=>{const T=I==="bookmarklet"?s:l;await navigator.clipboard.writeText(T),h(I),setTimeout(()=>h(null),2e3)},E=()=>{P(0),t("waiting")},M=async()=>{var I,T;if(!(!n||!p.trim()))try{S(!0),w(null);const{data:$}=await Rr.post("/api/claude-connect/complete",{code:n.code,nickname:p.trim(),priority:g});t("success"),window.opener&&window.opener.postMessage({type:"claude-connect-success",accountId:$.id},"*")}catch($){w(((T=(I=$.response)==null?void 0:I.data)==null?void 0:T.error)||$.message||"Failed to create account")}finally{S(!1)}},R=()=>{window.opener?window.close():window.location.href="/admin/claude-max-accounts"};return x&&e==="init"?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Xd,{className:"w-8 h-8 animate-spin text-indigo-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Initializing connection..."})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Connect Claude Account"}),r.jsx("p",{className:"text-gray-600",children:"Link your Claude Max subscription to Nubabel for AI-powered workflows"})]}),r.jsx("div",{className:"flex items-center justify-center mb-8",children:["Login","Extract","Connect"].map((I,T)=>{const $=e==="init"||e==="instructions"?0:e==="waiting"?1:e==="naming"||e==="success"?2:0,W=T<=$,X=T===$;return r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${W?X?"bg-indigo-600 text-white":"bg-green-500 text-white":"bg-gray-200 text-gray-500"}`,children:W&&!X?r.jsx(Fs,{className:"w-4 h-4"}):T+1}),r.jsx("span",{className:`ml-2 text-sm ${X?"text-indigo-600 font-medium":"text-gray-500"}`,children:I}),T<2&&r.jsx(X7,{className:"w-4 h-4 text-gray-400 mx-4"})]},I)})}),e==="error"&&r.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(nc,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connection Failed"}),r.jsx("p",{className:"text-gray-600 mb-6",children:v}),r.jsx("button",{onClick:N,className:"px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Try Again"})]})}),e==="instructions"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"w-6 h-6 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-sm",children:"1"}),"Open Claude and Log In"]}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Open claude.ai in a new tab and make sure you're logged in to your Claude Max account."}),r.jsxs("a",{href:"https://claude.ai",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:["Open claude.ai",r.jsx(A3,{className:"w-4 h-4"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"w-6 h-6 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-sm",children:"2"}),"Extract Your Session (Choose One Method)"]}),r.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(V7,{className:"w-4 h-4"}),"Option A: Bookmarklet (Recommended)"]}),r.jsxs("ol",{className:"list-decimal list-inside text-sm text-gray-600 space-y-1 mb-3",children:[r.jsx("li",{children:"Copy the code below"}),r.jsx("li",{children:"Create a new bookmark in your browser"}),r.jsx("li",{children:"Paste the code as the URL"}),r.jsx("li",{children:"While on claude.ai, click the bookmark"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{readOnly:!0,value:s,className:"w-full h-20 p-2 text-xs font-mono bg-gray-100 border rounded resize-none"}),r.jsx("button",{onClick:()=>A("bookmarklet"),className:"absolute top-2 right-2 p-1.5 bg-white border rounded hover:bg-gray-50",title:"Copy to clipboard",children:d==="bookmarklet"?r.jsx(Fs,{className:"w-4 h-4 text-green-500"}):r.jsx(cS,{className:"w-4 h-4 text-gray-500"})})]})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(gL,{className:"w-4 h-4"}),"Option B: Browser Console"]}),r.jsxs("ol",{className:"list-decimal list-inside text-sm text-gray-600 space-y-1 mb-3",children:[r.jsx("li",{children:"On claude.ai, open DevTools (F12 or Cmd+Option+I)"}),r.jsx("li",{children:"Go to the Console tab"}),r.jsx("li",{children:"Paste the code below and press Enter"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{readOnly:!0,value:l,className:"w-full h-16 p-2 text-xs font-mono bg-gray-100 border rounded resize-none"}),r.jsx("button",{onClick:()=>A("script"),className:"absolute top-2 right-2 p-1.5 bg-white border rounded hover:bg-gray-50",title:"Copy to clipboard",children:d==="script"?r.jsx(Fs,{className:"w-4 h-4 text-green-500"}):r.jsx(cS,{className:"w-4 h-4 text-gray-500"})})]})]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("button",{onClick:E,className:"px-6 py-3 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 font-medium",children:"I've Extracted My Session - Continue"}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Click after running the bookmarklet or console script"})]})]}),e==="waiting"&&r.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Xd,{className:"w-12 h-12 animate-spin text-indigo-600 mx-auto mb-4"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Waiting for Token..."}),r.jsxs("p",{className:"text-gray-600 mb-4",children:["Run the bookmarklet or console script on claude.ai.",r.jsx("br",{}),"This page will update automatically when we receive your session."]}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Checking... (",O," attempts)"]})]})}),e==="naming"&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx(Yd,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Token Received!"}),r.jsx("p",{className:"text-gray-600",children:"Now give your account a nickname to identify it."})]}),v&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:v}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Nickname"}),r.jsx("input",{type:"text",value:p,onChange:I=>m(I.target.value),placeholder:"e.g., work-account, personal, team-shared",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority (higher = preferred)"}),r.jsx("input",{type:"number",value:g,onChange:I=>j(parseInt(I.target.value)||100),min:1,max:1e3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),r.jsx("button",{onClick:M,disabled:x||!p.trim(),className:"w-full px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Creating Account...":"Complete Connection"})]})]}),e==="success"&&r.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Yd,{className:"w-10 h-10 text-green-500"})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Successfully Connected!"}),r.jsxs("p",{className:"text-gray-600 mb-6",children:['Your Claude Max account "',p,'" has been linked to Nubabel.']}),r.jsx("button",{onClick:R,className:"px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:window.opener?"Close Window":"Go to Accounts"})]})}),r.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"Security Note"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Your session token is encrypted and stored securely. Nubabel never sees your Claude password. The token is only used to make API calls on your behalf."})]})]})})}const hre=S3((e,t)=>({workflows:[],categories:[],selectedWorkflow:null,executions:[],isLoading:!1,isExecuting:!1,error:null,viewMode:"grid",filters:{category:"",search:"",isActive:null,isSkill:null},pagination:{total:0,limit:50,offset:0},fetchWorkflows:async()=>{const{filters:n,pagination:a}=t();e({isLoading:!0,error:null});try{const s=new URLSearchParams;n.category&&s.set("category",n.category),n.search&&s.set("search",n.search),n.isActive!==null&&s.set("isActive",String(n.isActive)),n.isSkill!==null&&s.set("isSkill",String(n.isSkill)),s.set("limit",String(a.limit)),s.set("offset",String(a.offset));const i=await ce({url:`/api/n8n/workflows?${s.toString()}`,method:"GET"});e({workflows:i.data,pagination:i.pagination,isLoading:!1})}catch(s){const i=s instanceof Error?s.message:"Failed to fetch workflows";e({error:i,isLoading:!1})}},fetchCategories:async()=>{try{const n=await ce({url:"/api/n8n/categories",method:"GET"});e({categories:n})}catch(n){console.error("Failed to fetch categories:",n)}},fetchWorkflowExecutions:async n=>{try{const a=await ce({url:`/api/n8n/workflows/${n}/executions`,method:"GET"});e({executions:a})}catch(a){console.error("Failed to fetch executions:",a)}},createWorkflow:async n=>{e({isLoading:!0,error:null});try{const a=await ce({url:"/api/n8n/workflows",method:"POST",data:n});return e(s=>({workflows:[a,...s.workflows],isLoading:!1})),a}catch(a){const s=a instanceof Error?a.message:"Failed to create workflow";throw e({error:s,isLoading:!1}),a}},updateWorkflow:async(n,a)=>{e({isLoading:!0,error:null});try{const s=await ce({url:`/api/n8n/workflows/${n}`,method:"PUT",data:a});return e(i=>{var l;return{workflows:i.workflows.map(u=>u.id===n?s:u),selectedWorkflow:((l=i.selectedWorkflow)==null?void 0:l.id)===n?s:i.selectedWorkflow,isLoading:!1}}),s}catch(s){const i=s instanceof Error?s.message:"Failed to update workflow";throw e({error:i,isLoading:!1}),s}},deleteWorkflow:async n=>{e({isLoading:!0,error:null});try{await ce({url:`/api/n8n/workflows/${n}`,method:"DELETE"}),e(a=>{var s;return{workflows:a.workflows.filter(i=>i.id!==n),selectedWorkflow:((s=a.selectedWorkflow)==null?void 0:s.id)===n?null:a.selectedWorkflow,isLoading:!1}})}catch(a){const s=a instanceof Error?a.message:"Failed to delete workflow";throw e({error:s,isLoading:!1}),a}},executeWorkflow:async(n,a)=>{e({isExecuting:!0,error:null});try{const s=await ce({url:`/api/n8n/workflows/${n}/execute`,method:"POST",data:{inputData:a}});return e(i=>({executions:[s,...i.executions],isExecuting:!1})),s}catch(s){const i=s instanceof Error?s.message:"Failed to execute workflow";throw e({error:i,isExecuting:!1}),s}},activateWorkflow:async n=>{try{const a=await ce({url:`/api/n8n/workflows/${n}/activate`,method:"POST"});e(s=>({workflows:s.workflows.map(i=>i.id===n?a:i)}))}catch(a){const s=a instanceof Error?a.message:"Failed to activate workflow";throw e({error:s}),a}},deactivateWorkflow:async n=>{try{const a=await ce({url:`/api/n8n/workflows/${n}/deactivate`,method:"POST"});e(s=>({workflows:s.workflows.map(i=>i.id===n?a:i)}))}catch(a){const s=a instanceof Error?a.message:"Failed to deactivate workflow";throw e({error:s}),a}},setFilters:n=>{e(a=>({filters:{...a.filters,...n},pagination:{...a.pagination,offset:0}})),t().fetchWorkflows()},setViewMode:n=>{e({viewMode:n})},setSelectedWorkflow:n=>{e({selectedWorkflow:n,executions:[]}),n&&t().fetchWorkflowExecutions(n.id)},setPage:n=>{e(a=>({pagination:{...a.pagination,offset:n}})),t().fetchWorkflows()},clearError:()=>{e({error:null})}})),mO=JSON.stringify({name:"New Workflow",nodes:[],connections:{},settings:{}},null,2);function pO(e){try{const t=JSON.parse(e);return!t.name||typeof t.name!="string"?{valid:!1,error:"Workflow JSON must have a 'name' field"}:Array.isArray(t.nodes)?typeof t.connections!="object"?{valid:!1,error:"Workflow JSON must have a 'connections' object"}:{valid:!0}:{valid:!1,error:"Workflow JSON must have a 'nodes' array"}}catch{return{valid:!1,error:"Invalid JSON format"}}}function fre({workflow:e,onView:t,onEdit:n,onDelete:a,onExecute:s,onToggleActive:i}){var l;return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:e.description||"No description"})]}),r.jsx("div",{className:"ml-3 flex-shrink-0",children:r.jsx("button",{onClick:i,className:`px-2 py-1 text-xs font-medium rounded-full ${e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:e.isActive?"Active":"Inactive"})})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("span",{className:"px-2 py-1 text-xs bg-indigo-100 text-indigo-800 rounded",children:e.category}),e.isSkill&&r.jsx("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded",children:"Skill"})]}),e.tags.length>0&&r.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.tags.slice(0,3).map(u=>r.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded",children:u},u)),e.tags.length>3&&r.jsxs("span",{className:"px-2 py-0.5 text-xs text-gray-500",children:["+",e.tags.length-3]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[r.jsxs("div",{className:"text-xs text-gray-500",children:[((l=e._count)==null?void 0:l.executions)??0," executions"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-900 text-sm",children:"View"}),r.jsx("button",{onClick:n,className:"text-indigo-600 hover:text-indigo-800 text-sm",children:"Edit"}),r.jsx("button",{onClick:s,className:"px-3 py-1 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700",children:"Run"}),r.jsx("button",{onClick:a,className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]})]})}function mre({workflow:e,onView:t,onEdit:n,onDelete:a,onExecute:s,onToggleActive:i}){var l;return r.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 hover:bg-gray-50 flex items-center gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-medium text-gray-900 truncate",children:e.name}),r.jsx("span",{className:"px-2 py-0.5 text-xs bg-indigo-100 text-indigo-800 rounded",children:e.category}),e.isSkill&&r.jsx("span",{className:"px-2 py-0.5 text-xs bg-purple-100 text-purple-800 rounded",children:"Skill"})]}),r.jsx("p",{className:"text-sm text-gray-500 truncate mt-0.5",children:e.description||"No description"})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[((l=e._count)==null?void 0:l.executions)??0," runs"]}),r.jsx("button",{onClick:i,className:`px-2 py-1 text-xs font-medium rounded-full ${e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:e.isActive?"Active":"Inactive"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-900 text-sm",children:"View"}),r.jsx("button",{onClick:n,className:"text-indigo-600 hover:text-indigo-800 text-sm",children:"Edit"}),r.jsx("button",{onClick:s,className:"px-3 py-1 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700",children:"Run"}),r.jsx("button",{onClick:a,className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]})}function xO({isOpen:e,onClose:t,onSubmit:n,initialData:a,title:s,isLoading:i}){const[l,u]=b.useState({name:"",description:"",category:"uncategorized",tags:"",workflowJson:mO,isActive:!1}),[d,h]=b.useState(null);b.useEffect(()=>{u(a?{name:a.name,description:a.description||"",category:a.category,tags:a.tags.join(", "),workflowJson:JSON.stringify(a.workflowJson,null,2),isActive:a.isActive}:{name:"",description:"",category:"uncategorized",tags:"",workflowJson:mO,isActive:!1}),h(null)},[a,e]);const p=g=>{u(v=>({...v,workflowJson:g}));const j=pO(g);h(j.valid?null:j.error??null)},m=()=>{const g=pO(l.workflowJson);if(!g.valid){h(g.error??"Invalid JSON");return}n(l)};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:g=>g.stopPropagation(),children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s})}),r.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:l.name,onChange:g=>u(j=>({...j,name:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"My Workflow"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:l.description,onChange:g=>u(j=>({...j,description:g.target.value})),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Describe what this workflow does..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),r.jsx("input",{type:"text",value:l.category,onChange:g=>u(j=>({...j,category:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"uncategorized"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma-separated)"}),r.jsx("input",{type:"text",value:l.tags,onChange:g=>u(j=>({...j,tags:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"slack, notifications"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:l.isActive,onChange:g=>u(j=>({...j,isActive:g.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),r.jsx("label",{htmlFor:"isActive",className:"text-sm text-gray-700",children:"Active (workflow can be triggered)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Workflow JSON *"}),r.jsx("textarea",{value:l.workflowJson,onChange:g=>p(g.target.value),rows:12,className:`w-full px-3 py-2 border rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${d?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Enter workflow JSON..."}),d&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:d})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),r.jsx("button",{onClick:m,disabled:i||!l.name||!!d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":a?"Update":"Create"})]})]})}):null}function pre({isOpen:e,onClose:t,onExecute:n,workflowName:a,isExecuting:s}){const[i,l]=b.useState("{}"),[u,d]=b.useState(null),h=m=>{l(m);try{JSON.parse(m),d(null)}catch{d("Invalid JSON")}},p=()=>{try{const m=JSON.parse(i);n(m)}catch{d("Invalid JSON")}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full",onClick:m=>m.stopPropagation(),children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Execute: ",a]})}),r.jsxs("div",{className:"p-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Input Data (JSON)"}),r.jsx("textarea",{value:i,onChange:m=>h(m.target.value),rows:6,className:`w-full px-3 py-2 border rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500 ${u?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"{}"}),u&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:u})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),r.jsx("button",{onClick:p,disabled:s||!!u,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Executing...":"Execute"})]})]})}):null}function xre({isOpen:e,onClose:t,onConfirm:n,workflowName:a,isLoading:s}){return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",onClick:i=>i.stopPropagation(),children:[r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Delete Workflow"}),r.jsxs("p",{className:"text-gray-600",children:["Are you sure you want to delete ",r.jsx("strong",{children:a}),"? This action cannot be undone."]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),r.jsx("button",{onClick:n,disabled:s,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:s?"Deleting...":"Delete"})]})]})}):null}function gre({workflow:e,executions:t,onClose:n}){const a=s=>{switch(s){case"success":return"bg-green-100 text-green-800";case"error":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";case"waiting":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs("div",{className:"fixed inset-y-0 right-0 w-96 bg-white shadow-xl z-40 flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Execution History"}),r.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:"Close"})]}),r.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[r.jsx("h3",{className:"font-medium text-gray-900",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500",children:e.category})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:t.length===0?r.jsx("div",{className:"p-4 text-center text-gray-500",children:"No executions yet"}):r.jsx("div",{className:"divide-y divide-gray-200",children:t.slice(0,10).map(s=>r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${a(s.status)}`,children:s.status}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(s.startedAt).toLocaleString()})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",s.id.slice(0,8),"..."]})]},s.id))})})]})}function yre(){const{workflows:e,categories:t,executions:n,isLoading:a,isExecuting:s,error:i,viewMode:l,filters:u,pagination:d,fetchWorkflows:h,fetchCategories:p,createWorkflow:m,updateWorkflow:g,deleteWorkflow:j,executeWorkflow:v,activateWorkflow:w,deactivateWorkflow:x,setFilters:S,setViewMode:O,setSelectedWorkflow:P,setPage:N,clearError:C}=hre(),[A,E]=b.useState(!1),[M,R]=b.useState(null),[I,T]=b.useState(null),[$,W]=b.useState(null),[X,B]=b.useState(null);b.useEffect(()=>{h(),p()},[h,p]);const q=b.useCallback(async te=>{const de={name:te.name,description:te.description||void 0,category:te.category,tags:te.tags.split(",").map(xe=>xe.trim()).filter(Boolean),workflowJson:JSON.parse(te.workflowJson),isActive:te.isActive};await m(de),E(!1)},[m]),U=b.useCallback(async te=>{if(!M)return;const de={name:te.name,description:te.description||void 0,category:te.category,tags:te.tags.split(",").map(xe=>xe.trim()).filter(Boolean),workflowJson:JSON.parse(te.workflowJson),isActive:te.isActive};await g(M.id,de),R(null)},[M,g]),G=b.useCallback(async()=>{$&&(await j($.id),W(null))},[$,j]),Y=b.useCallback(async te=>{I&&(await v(I.id,te),T(null))},[I,v]),z=b.useCallback(async te=>{te.isActive?await x(te.id):await w(te.id)},[w,x]),F=b.useCallback(te=>{P(te),B(te)},[P]),D=Math.ceil(d.total/d.limit),K=Math.floor(d.offset/d.limit)+1;return r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"n8n Workflows"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your n8n automation workflows"})]}),r.jsxs("button",{onClick:()=>E(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:"+"}),"Create Workflow"]})]}),i&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg flex items-center justify-between",children:[r.jsx("span",{children:i}),r.jsx("button",{onClick:C,className:"text-red-600 hover:text-red-800",children:"Dismiss"})]}),r.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[r.jsx("input",{type:"text",value:u.search,onChange:te=>S({search:te.target.value}),placeholder:"Search workflows...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsxs("select",{value:u.category,onChange:te=>S({category:te.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"All Categories"}),t.map(te=>r.jsxs("option",{value:te.name,children:[te.name," (",te.count,")"]},te.name))]}),r.jsxs("select",{value:u.isActive===null?"":String(u.isActive),onChange:te=>S({isActive:te.target.value===""?null:te.target.value==="true"}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"true",children:"Active"}),r.jsx("option",{value:"false",children:"Inactive"})]}),r.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[r.jsx("button",{onClick:()=>O("grid"),className:`px-3 py-2 ${l==="grid"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Grid"}),r.jsx("button",{onClick:()=>O("list"),className:`px-3 py-2 ${l==="list"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"List"})]})]}),a?r.jsx("div",{className:"flex items-center justify-center min-h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflows..."})]})}):e.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"No workflows found"}),r.jsx("p",{className:"text-gray-600 mb-4",children:u.search||u.category||u.isActive!==null?"Try adjusting your filters":"Create your first n8n workflow to get started"}),!u.search&&!u.category&&u.isActive===null&&r.jsx("button",{onClick:()=>E(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create Workflow"})]})}):l==="grid"?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(te=>r.jsx(fre,{workflow:te,onView:()=>F(te),onEdit:()=>R(te),onDelete:()=>W(te),onExecute:()=>T(te),onToggleActive:()=>z(te)},te.id))}):r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.map(te=>r.jsx(mre,{workflow:te,onView:()=>F(te),onEdit:()=>R(te),onDelete:()=>W(te),onExecute:()=>T(te),onToggleActive:()=>z(te)},te.id))}),D>1&&r.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",d.offset+1,"-",Math.min(d.offset+d.limit,d.total)," of ",d.total]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>N(Math.max(0,d.offset-d.limit)),disabled:d.offset===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),r.jsxs("span",{className:"px-3 py-1 text-gray-700",children:["Page ",K," of ",D]}),r.jsx("button",{onClick:()=>N(d.offset+d.limit),disabled:K>=D,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),r.jsx(xO,{isOpen:A,onClose:()=>E(!1),onSubmit:q,title:"Create Workflow",isLoading:a}),r.jsx(xO,{isOpen:!!M,onClose:()=>R(null),onSubmit:U,initialData:M??void 0,title:"Edit Workflow",isLoading:a}),r.jsx(pre,{isOpen:!!I,onClose:()=>T(null),onExecute:Y,workflowName:(I==null?void 0:I.name)??"",isExecuting:s}),r.jsx(xre,{isOpen:!!$,onClose:()=>W(null),onConfirm:G,workflowName:($==null?void 0:$.name)??"",isLoading:a}),X&&r.jsx(gre,{workflow:X,executions:n,onClose:()=>{B(null),P(null)}})]})}const vre={active:3,queued:7,completedToday:24,failedToday:2},bre=[{id:"op-1",type:"debug",description:"Fix TypeScript compilation errors in authentication module",status:"running",startedAt:new Date(Date.now()-12e4).toISOString()},{id:"op-2",type:"implement",description:"Add rate limiting to API endpoints",status:"queued",startedAt:new Date(Date.now()-6e4).toISOString()},{id:"op-3",type:"fix",description:"Resolve memory leak in WebSocket connection handler",status:"running",startedAt:new Date(Date.now()-3e5).toISOString()}],jre=[{id:"pr-1",prUrl:"https://github.com/org/repo/pull/123",summary:"Implement user authentication with OAuth2",filesChanged:12,additions:456,deletions:89,diff:"// Sample diff content here..."}],wre=[{id:"op-h1",type:"implement",description:"Add database indexing for performance optimization",status:"completed",startedAt:new Date(Date.now()-72e5).toISOString(),duration:18e4,prUrl:"https://github.com/org/repo/pull/120"},{id:"op-h2",type:"fix",description:"Fix CORS configuration for production environment",status:"failed",startedAt:new Date(Date.now()-54e5).toISOString(),duration:45e3,error:"Unable to access production config file"}];function Nre(){const[e]=b.useState(vre),[t,n]=b.useState(bre),[a,s]=b.useState(jre),[i]=b.useState(wre),[l,u]=b.useState(null),[d,h]=b.useState(!1);b.useEffect(()=>{const P=setInterval(()=>{p()},5e3);return()=>clearInterval(P)},[]);const p=async()=>{},m=async()=>{h(!0),await p(),setTimeout(()=>h(!1),500)},g=async P=>{try{s(N=>N.filter(C=>C.id!==P))}catch(N){console.error("Failed to approve:",N)}},j=async P=>{try{s(N=>N.filter(C=>C.id!==P))}catch(N){console.error("Failed to reject:",N)}},v=async P=>{try{n(N=>N.filter(C=>C.id!==P))}catch(N){console.error("Failed to cancel:",N)}},w=P=>{const N=Math.floor(P/1e3),C=Math.floor(N/60);return C>0?`${C}m ${N%60}s`:`${N}s`},x=P=>w(Date.now()-new Date(P).getTime()),S=P=>{const N={debug:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",implement:"bg-purple-500/10 text-purple-400 border-purple-500/30",fix:"bg-orange-500/10 text-orange-400 border-orange-500/30",refactor:"bg-blue-500/10 text-blue-400 border-blue-500/30"};return N[P]||N.debug},O=P=>{const N={queued:r.jsx("span",{className:"px-2.5 py-1 rounded-md text-xs font-mono bg-slate-700 text-slate-300 border border-slate-600",children:"QUEUED"}),running:r.jsx("span",{className:"px-2.5 py-1 rounded-md text-xs font-mono bg-blue-500/20 text-blue-300 border border-blue-500/50 animate-pulse",children:"RUNNING"}),completed:r.jsx("span",{className:"px-2.5 py-1 rounded-md text-xs font-mono bg-green-500/20 text-green-300 border border-green-500/50",children:"COMPLETE"}),failed:r.jsx("span",{className:"px-2.5 py-1 rounded-md text-xs font-mono bg-red-500/20 text-red-300 border border-red-500/50",children:"FAILED"})};return N[P]||N.queued};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:[r.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#1e293b_1px,transparent_1px),linear-gradient(to_bottom,#1e293b_1px,transparent_1px)] bg-[size:4rem_4rem] opacity-20"}),r.jsxs("div",{className:"relative max-w-[1800px] mx-auto px-8 py-10",children:[r.jsx("div",{className:"mb-10",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[r.jsx("h1",{className:"text-4xl font-black text-white tracking-tight",children:"AGENT OPERATIONS"}),r.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400 animate-pulse shadow-lg shadow-green-400/50"})]}),r.jsx("p",{className:"text-slate-400 text-lg font-mono",children:"Monitor and manage autonomous code changes in real-time"})]}),r.jsxs("button",{onClick:m,disabled:d,className:"px-5 py-2.5 bg-slate-800 hover:bg-slate-700 text-white rounded-lg border border-slate-700 transition-all disabled:opacity-50 font-mono text-sm flex items-center gap-2",children:[r.jsx("svg",{className:`w-4 h-4 ${d?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),d?"REFRESHING...":"REFRESH"]})]})}),r.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-10",children:[r.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 border border-slate-700 rounded-xl p-6 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-slate-400 font-mono text-sm uppercase tracking-wider",children:"Active"}),r.jsx("div",{className:"h-8 w-8 rounded-lg bg-blue-500/20 flex items-center justify-center",children:r.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-400 animate-pulse"})})]}),r.jsx("div",{className:"text-5xl font-black text-white mb-1",children:e.active}),r.jsx("div",{className:"text-xs text-slate-500 font-mono",children:"operations running"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 border border-slate-700 rounded-xl p-6 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-slate-400 font-mono text-sm uppercase tracking-wider",children:"Queued"}),r.jsx("div",{className:"h-8 w-8 rounded-lg bg-slate-700 flex items-center justify-center",children:r.jsxs("svg",{className:"w-5 h-5 text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:[r.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),r.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})})]}),r.jsx("div",{className:"text-5xl font-black text-white mb-1",children:e.queued}),r.jsx("div",{className:"text-xs text-slate-500 font-mono",children:"waiting to execute"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 border border-slate-700 rounded-xl p-6 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-slate-400 font-mono text-sm uppercase tracking-wider",children:"Completed"}),r.jsx("div",{className:"h-8 w-8 rounded-lg bg-green-500/20 flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]}),r.jsx("div",{className:"text-5xl font-black text-white mb-1",children:e.completedToday}),r.jsx("div",{className:"text-xs text-slate-500 font-mono",children:"today"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 border border-slate-700 rounded-xl p-6 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-slate-400 font-mono text-sm uppercase tracking-wider",children:"Failed"}),r.jsx("div",{className:"h-8 w-8 rounded-lg bg-red-500/20 flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]}),r.jsx("div",{className:"text-5xl font-black text-white mb-1",children:e.failedToday}),r.jsx("div",{className:"text-xs text-slate-500 font-mono",children:"today"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"xl:col-span-2",children:[r.jsxs("div",{className:"bg-slate-900/50 backdrop-blur border border-slate-700 rounded-xl shadow-2xl overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-slate-700 bg-slate-900/80",children:r.jsx("h2",{className:"text-xl font-bold text-white font-mono uppercase tracking-wide",children:"Active Operations"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-slate-800 bg-slate-900/50",children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Operation ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Description"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Elapsed"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-800",children:t.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:r.jsx("div",{className:"text-slate-500 font-mono text-sm",children:"No active operations"})})}):t.map(P=>r.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"font-mono text-sm text-slate-300",children:P.id})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2.5 py-1 rounded-md text-xs font-mono uppercase border ${S(P.type)}`,children:P.type})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-slate-200 max-w-md",children:P.description})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:O(P.status)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm font-mono text-slate-400",children:x(P.startedAt)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"px-3 py-1.5 text-xs font-mono bg-slate-800 hover:bg-slate-700 text-slate-300 rounded border border-slate-600 transition-colors",children:"View"}),P.status==="running"&&r.jsx("button",{onClick:()=>v(P.id),className:"px-3 py-1.5 text-xs font-mono bg-red-900/30 hover:bg-red-900/50 text-red-300 rounded border border-red-700 transition-colors",children:"Cancel"})]})})]},P.id))})]})})]}),r.jsxs("div",{className:"mt-8 bg-slate-900/50 backdrop-blur border border-slate-700 rounded-xl shadow-2xl overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-slate-700 bg-slate-900/80",children:r.jsx("h2",{className:"text-xl font-bold text-white font-mono uppercase tracking-wide",children:"Recent History"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-slate-800 bg-slate-900/50",children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Description"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Duration"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"Result"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-mono font-semibold text-slate-400 uppercase tracking-wider",children:"PR"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-800",children:i.map(P=>r.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"font-mono text-sm text-slate-300",children:P.id})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2.5 py-1 rounded-md text-xs font-mono uppercase border ${S(P.type)}`,children:P.type})}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"text-sm text-slate-200 max-w-md",children:P.description}),P.error&&r.jsx("div",{className:"text-xs text-red-400 mt-1 font-mono",children:P.error})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm font-mono text-slate-400",children:P.duration?w(P.duration):"-"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:O(P.status)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:P.prUrl?r.jsx("a",{href:P.prUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-sm font-mono underline",children:"View PR"}):r.jsx("span",{className:"text-slate-600",children:"-"})})]},P.id))})]})})]})]}),r.jsx("div",{className:"xl:col-span-1",children:r.jsxs("div",{className:"bg-slate-900/50 backdrop-blur border border-slate-700 rounded-xl shadow-2xl overflow-hidden sticky top-6",children:[r.jsx("div",{className:"px-6 py-4 border-b border-slate-700 bg-slate-900/80",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-white font-mono uppercase tracking-wide",children:"Approval Queue"}),r.jsxs("span",{className:"px-2.5 py-1 bg-amber-500/20 text-amber-300 border border-amber-500/50 rounded-md text-xs font-mono font-semibold",children:[a.length," PENDING"]})]})}),r.jsx("div",{className:"p-6 space-y-4 max-h-[800px] overflow-y-auto",children:a.length===0?r.jsx("div",{className:"text-center py-12 text-slate-500 font-mono text-sm",children:"No pending approvals"}):a.map(P=>r.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-5 hover:border-slate-600 transition-colors",children:[r.jsx("div",{className:"mb-3",children:r.jsxs("a",{href:P.prUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 font-mono text-sm font-semibold underline",children:["PR #",P.prUrl.split("/").pop()]})}),r.jsx("div",{className:"text-sm text-slate-200 mb-4",children:P.summary}),r.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[r.jsxs("div",{className:"bg-slate-900/50 rounded px-3 py-2 border border-slate-700",children:[r.jsx("div",{className:"text-xs text-slate-400 font-mono mb-1",children:"Files"}),r.jsx("div",{className:"text-lg font-bold text-white",children:P.filesChanged})]}),r.jsxs("div",{className:"bg-slate-900/50 rounded px-3 py-2 border border-slate-700",children:[r.jsx("div",{className:"text-xs text-slate-400 font-mono mb-1",children:"+Add"}),r.jsx("div",{className:"text-lg font-bold text-green-400",children:P.additions})]}),r.jsxs("div",{className:"bg-slate-900/50 rounded px-3 py-2 border border-slate-700",children:[r.jsx("div",{className:"text-xs text-slate-400 font-mono mb-1",children:"-Del"}),r.jsx("div",{className:"text-lg font-bold text-red-400",children:P.deletions})]})]}),P.diff&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("button",{onClick:()=>u(l===P.id?null:P.id),className:"text-xs text-slate-400 hover:text-slate-200 font-mono mb-2 flex items-center gap-1",children:[r.jsx("svg",{className:`w-3 h-3 transition-transform ${l===P.id?"rotate-90":""}`,fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),l===P.id?"Hide":"Show"," diff preview"]}),l===P.id&&r.jsx("pre",{className:"bg-slate-950 border border-slate-700 rounded p-3 text-xs font-mono text-slate-300 overflow-x-auto",children:P.diff})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>g(P.id),className:"flex-1 px-4 py-2.5 bg-green-600 hover:bg-green-500 text-white rounded-lg font-mono text-sm font-semibold transition-colors",children:"APPROVE"}),r.jsx("button",{onClick:()=>j(P.id),className:"px-4 py-2.5 bg-slate-800 hover:bg-slate-700 text-slate-300 border border-slate-600 rounded-lg font-mono text-sm transition-colors",children:"REJECT"})]})]},P.id))})]})})]})]})]})}const Sre={blue:"bg-blue-50 border-blue-200 text-blue-600",green:"bg-green-50 border-green-200 text-green-600",yellow:"bg-yellow-50 border-yellow-200 text-yellow-600",red:"bg-red-50 border-red-200 text-red-600",purple:"bg-purple-50 border-purple-200 text-purple-600",gray:"bg-gray-50 border-gray-200 text-gray-600"},kre={blue:"text-blue-500",green:"text-green-500",yellow:"text-yellow-500",red:"text-red-500",purple:"text-purple-500",gray:"text-gray-500"};function Ka({title:e,value:t,icon:n,description:a,trend:s="neutral",change:i,color:l="blue",onClick:u}){const[d,h]=b.useState(0);b.useEffect(()=>{if(typeof t!="number")return;const g=800,j=Date.now(),v=()=>{const w=Date.now()-j,x=Math.min(w/g,1),S=1-Math.pow(1-x,3);h(Math.round(S*t)),x<1&&requestAnimationFrame(v)};v()},[t]);const p={up:"text-green-600",down:"text-red-600",neutral:"text-gray-500"},m={up:"",down:"",neutral:""};return r.jsx("div",{className:`
        bg-white rounded-xl shadow-sm border p-5
        transition-all duration-200
        ${u?"cursor-pointer hover:shadow-md hover:scale-[1.02]":""}
      `,onClick:u,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:typeof t=="number"?d.toLocaleString():t}),a&&r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:a}),i!==void 0&&r.jsxs("p",{className:`text-sm mt-2 ${p[s]}`,children:[m[s]," ",i>0?"+":"",i,"% from last period"]})]}),r.jsx("div",{className:`p-3 rounded-lg ${Sre[l]}`,children:r.jsx("span",{className:kre[l],children:n})})]})})}function Cre(e){return e>=.9?{label:"Critical",color:"bg-red-500",bgColor:"bg-red-100"}:e>=.8?{label:"High",color:"bg-orange-500",bgColor:"bg-orange-100"}:e>=.6?{label:"Normal",color:"bg-green-500",bgColor:"bg-green-100"}:e>=.3?{label:"Low",color:"bg-blue-500",bgColor:"bg-blue-100"}:{label:"Idle",color:"bg-gray-400",bgColor:"bg-gray-100"}}const Are={sm:"h-1.5",md:"h-2.5",lg:"h-4"};function Fc({workload:e,size:t="md",showPercentage:n=!1,showStatus:a=!1}){const s=Cre(e),i=Math.round(e*100);return r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`flex-1 ${s.bgColor} rounded-full overflow-hidden ${Are[t]}`,children:r.jsx("div",{className:`${s.color} h-full rounded-full transition-all duration-500`,style:{width:`${i}%`}})}),n&&r.jsxs("span",{className:"text-sm font-medium text-gray-600 w-12 text-right",children:[i,"%"]})]}),a&&r.jsx("span",{className:`text-xs mt-1 inline-block ${s.label==="Critical"?"text-red-600":s.label==="High"?"text-orange-600":s.label==="Normal"?"text-green-600":s.label==="Low"?"text-blue-600":"text-gray-500"}`,children:s.label})]})}const Pre={critical:{bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800",iconColor:"text-red-500",icon:"",label:"Critical"},high:{bgColor:"bg-orange-50",borderColor:"border-orange-200",textColor:"text-orange-800",iconColor:"text-orange-500",icon:"",label:"High"},medium:{bgColor:"bg-yellow-50",borderColor:"border-yellow-200",textColor:"text-yellow-800",iconColor:"text-yellow-500",icon:"",label:"Medium"},low:{bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-800",iconColor:"text-blue-500",icon:"",label:"Low"}};function Ore({issue:e,onAction:t,compact:n=!1}){const a=Pre[e.severity];return n?r.jsxs("div",{className:`
          flex items-center gap-2 px-3 py-2 rounded-lg border
          ${a.bgColor} ${a.borderColor}
        `,children:[r.jsx("span",{children:a.icon}),r.jsx("span",{className:`text-sm font-medium ${a.textColor}`,children:e.title})]}):r.jsx("div",{className:`
        rounded-lg border p-4
        ${a.bgColor} ${a.borderColor}
      `,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-xl",children:a.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:`text-xs font-semibold uppercase ${a.iconColor}`,children:a.label}),r.jsx("span",{className:"text-xs text-gray-400",children:new Date(e.detectedAt).toLocaleString()})]}),r.jsx("h4",{className:`font-semibold ${a.textColor}`,children:e.title}),r.jsx("p",{className:`text-sm mt-1 ${a.textColor} opacity-80`,children:e.description}),e.affectedAgents.length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Affected: "}),r.jsx("span",{className:"text-xs font-medium",children:e.affectedAgents.join(", ")})]}),e.suggestedActions.length>0&&r.jsxs("div",{className:"mt-3 space-y-1",children:[r.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Suggested Actions:"}),r.jsx("ul",{className:"space-y-1",children:e.suggestedActions.map((s,i)=>r.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{className:t?"cursor-pointer hover:underline":"",onClick:()=>t==null?void 0:t(s),children:s})]},i))})]})]})]})})}const Ere={critical:{bgColor:"bg-red-50",borderColor:"border-red-200",badgeColor:"bg-red-100 text-red-700",icon:""},high:{bgColor:"bg-orange-50",borderColor:"border-orange-200",badgeColor:"bg-orange-100 text-orange-700",icon:""},medium:{bgColor:"bg-yellow-50",borderColor:"border-yellow-200",badgeColor:"bg-yellow-100 text-yellow-700",icon:""},low:{bgColor:"bg-blue-50",borderColor:"border-blue-200",badgeColor:"bg-blue-100 text-blue-700",icon:""}},_re={template:"Template",team_composition:"Team",position:"Position",skill_development:"Skills",resource_allocation:"Resources",structure_optimization:"Structure"};function Tre({recommendation:e,onAction:t}){const n=Ere[e.priority];return r.jsx("div",{className:`
        rounded-lg border p-4
        ${n.bgColor} ${n.borderColor}
      `,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-xl",children:n.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded ${n.badgeColor}`,children:e.priority.toUpperCase()}),r.jsx("span",{className:"text-xs text-gray-500 px-2 py-0.5 bg-white rounded",children:_re[e.type]||e.type})]}),r.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:e.title}),r.jsx("p",{className:"text-sm text-gray-600",children:e.description}),e.estimatedImpact&&r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Expected Impact: ",e.estimatedImpact]}),e.actions.length>0&&r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:e.actions.map((a,s)=>r.jsx("button",{onClick:()=>t==null?void 0:t(a.action,a.params),className:`
                    px-3 py-1.5 text-sm font-medium rounded-md
                    bg-white border border-gray-200 text-gray-700
                    hover:bg-gray-50 hover:border-gray-300
                    transition-colors
                  `,children:a.label},s))})]})]})})}function Nw(e){return Ot({queryKey:["ar","departments",e],queryFn:async()=>{const t=new URLSearchParams;return e!=null&&e.status&&t.set("status",e.status),e!=null&&e.search&&t.set("search",e.search),e!=null&&e.page&&t.set("page",String(e.page)),e!=null&&e.pageSize&&t.set("pageSize",String(e.pageSize)),ce({url:`/api/ar/departments?${t.toString()}`,method:"GET"})}})}function Rre(){const e=wt();return Et({mutationFn:async t=>ce({url:"/api/ar/departments",method:"POST",data:t}),onSuccess:()=>{e.invalidateQueries({queryKey:["ar","departments"]})}})}function Mre(){const e=wt();return Et({mutationFn:async({id:t,...n})=>ce({url:`/api/ar/departments/${t}`,method:"PATCH",data:n}),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["ar","departments"]}),e.invalidateQueries({queryKey:["ar","departments",n.id]})}})}function Ire(){const e=wt();return Et({mutationFn:async t=>ce({url:`/api/ar/departments/${t}`,method:"DELETE"}),onSuccess:()=>{e.invalidateQueries({queryKey:["ar","departments"]})}})}function $re(){const e=wt();return Et({mutationFn:async({id:t,budgetCents:n})=>ce({url:`/api/ar/departments/${t}/budget`,method:"PATCH",data:{budgetCents:n}}),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["ar","departments"]}),e.invalidateQueries({queryKey:["ar","departments",n.id]})}})}function Sw(e){return Ot({queryKey:["ar","positions",e],queryFn:async()=>{const t=new URLSearchParams;return e!=null&&e.status&&t.set("status",e.status),e!=null&&e.departmentId&&t.set("departmentId",e.departmentId),e!=null&&e.search&&t.set("search",e.search),e!=null&&e.page&&t.set("page",String(e.page)),e!=null&&e.pageSize&&t.set("pageSize",String(e.pageSize)),ce({url:`/api/ar/positions?${t.toString()}`,method:"GET"})}})}function Lre(){const e=wt();return Et({mutationFn:async t=>ce({url:`/api/ar/positions/${t}`,method:"DELETE"}),onSuccess:()=>{e.invalidateQueries({queryKey:["ar","positions"]})}})}function eT(e){return Ot({queryKey:["ar","assignments",e],queryFn:async()=>{const t=new URLSearchParams;return e!=null&&e.status&&t.set("status",e.status),e!=null&&e.departmentId&&t.set("departmentId",e.departmentId),e!=null&&e.positionId&&t.set("positionId",e.positionId),e!=null&&e.agentId&&t.set("agentId",e.agentId),e!=null&&e.page&&t.set("page",String(e.page)),e!=null&&e.pageSize&&t.set("pageSize",String(e.pageSize)),ce({url:`/api/ar/assignments?${t.toString()}`,method:"GET"})}})}function Dre(){const e=wt();return Et({mutationFn:async({id:t,status:n})=>ce({url:`/api/ar/assignments/${t}/status`,method:"PATCH",data:{status:n}}),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["ar","assignments"]}),e.invalidateQueries({queryKey:["ar","assignments",n.id]})}})}function Fre(){const e=wt();return Et({mutationFn:async({id:t,reason:n})=>ce({url:`/api/ar/assignments/${t}/terminate`,method:"POST",data:{reason:n}}),onSuccess:()=>{e.invalidateQueries({queryKey:["ar","assignments"]}),e.invalidateQueries({queryKey:["ar","positions"]})}})}function zre(e){return Ot({queryKey:["ar","approvals",e],queryFn:async()=>{const t=new URLSearchParams;return e!=null&&e.status&&t.set("status",e.status),e!=null&&e.requestType&&t.set("requestType",e.requestType),e!=null&&e.level&&t.set("level",String(e.level)),e!=null&&e.page&&t.set("page",String(e.page)),e!=null&&e.pageSize&&t.set("pageSize",String(e.pageSize)),ce({url:`/api/ar/approvals?${t.toString()}`,method:"GET"})}})}function Bre(){return Ot({queryKey:["ar","approvals","pending"],queryFn:async()=>ce({url:"/api/ar/approvals?status=pending",method:"GET"})})}function qre(){const e=wt();return Et({mutationFn:async({id:t,note:n})=>ce({url:`/api/ar/approvals/${t}/approve`,method:"POST",data:{note:n}}),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["ar","approvals"]}),e.invalidateQueries({queryKey:["ar","approvals",n.id]})}})}function Ure(){const e=wt();return Et({mutationFn:async({id:t,note:n})=>ce({url:`/api/ar/approvals/${t}/reject`,method:"POST",data:{note:n}}),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["ar","approvals"]}),e.invalidateQueries({queryKey:["ar","approvals",n.id]})}})}function Wre(){const e=wt();return Et({mutationFn:async({id:t,reason:n})=>ce({url:`/api/ar/approvals/${t}/escalate`,method:"POST",data:{reason:n}}),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["ar","approvals"]}),e.invalidateQueries({queryKey:["ar","approvals",n.id]})}})}function tT(){return Ot({queryKey:["ar","workload"],queryFn:async()=>ce({url:"/api/ar/coordination/workload",method:"GET"}),refetchInterval:3e4})}function Hre(){return Ot({queryKey:["ar","workload","proposals"],queryFn:async()=>ce({url:"/api/ar/coordination/workload/proposals",method:"GET"})})}function Kre(){const e=wt();return Et({mutationFn:async(t="manual")=>ce({url:"/api/ar/coordination/workload/rebalance",method:"POST",data:{trigger:t}}),onSuccess:()=>{e.invalidateQueries({queryKey:["ar","workload","proposals"]})}})}function Gre(){const e=wt();return Et({mutationFn:async({proposalId:t,partial:n,changeIds:a})=>ce({url:"/api/ar/coordination/workload/apply",method:"POST",data:{proposalId:t,partial:n,changeIds:a}}),onSuccess:()=>{e.invalidateQueries({queryKey:["ar","workload"]}),e.invalidateQueries({queryKey:["ar","workload","proposals"]}),e.invalidateQueries({queryKey:["ar","assignments"]})}})}function Vre(e=30){return Ot({queryKey:["ar","analytics","report",e],queryFn:async()=>ce({url:`/api/ar/analytics/report?periodDays=${e}`,method:"GET"})})}function Qre(){return Ot({queryKey:["ar","analytics","health"],queryFn:async()=>ce({url:"/api/ar/analytics/ops/health",method:"GET"}),refetchInterval:6e4})}function Yre(){return Ot({queryKey:["ar","analytics","coaching"],queryFn:async()=>ce({url:"/api/ar/analytics/coaching/needs",method:"GET"})})}function Xre(){return Ot({queryKey:["ar","analytics","recommendations"],queryFn:async()=>ce({url:"/api/ar/analytics/recommendations",method:"GET"})})}function Jre(){return Ot({queryKey:["ar","issues"],queryFn:async()=>ce({url:"/api/ar/coordination/issues",method:"GET"}),refetchInterval:3e4})}function Zre(){var w,x,S,O,P,N,C,A,E,M;const{data:e,isLoading:t}=Nw({status:"active"}),{data:n,isLoading:a}=Sw({status:"active"}),{data:s,isLoading:i}=eT({status:"active"}),{data:l,isLoading:u}=Bre(),{data:d,isLoading:h}=tT(),{data:p,isLoading:m}=Jre(),{data:g,isLoading:j}=Xre(),v=t||a||i||u;return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"AR Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Agent Resource Management Overview"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:v?r.jsxs(r.Fragment,{children:[r.jsx(Qr,{}),r.jsx(Qr,{}),r.jsx(Qr,{}),r.jsx(Qr,{})]}):r.jsxs(r.Fragment,{children:[r.jsx(ht,{to:"/ar/departments",children:r.jsx(Ka,{title:"Departments",value:((w=e==null?void 0:e.departments)==null?void 0:w.length)??0,icon:r.jsx(iI,{className:"h-6 w-6"}),color:"blue",description:"Active departments"})}),r.jsx(ht,{to:"/ar/positions",children:r.jsx(Ka,{title:"Positions",value:((x=n==null?void 0:n.positions)==null?void 0:x.length)??0,icon:r.jsx(wv,{className:"h-6 w-6"}),color:"green",description:"Total positions"})}),r.jsx(ht,{to:"/ar/assignments",children:r.jsx(Ka,{title:"Assignments",value:((S=s==null?void 0:s.assignments)==null?void 0:S.length)??0,icon:r.jsx(Gd,{className:"h-6 w-6"}),color:"purple",description:"Active assignments"})}),r.jsx(ht,{to:"/ar/approvals",children:r.jsx(Ka,{title:"Pending Approvals",value:((O=l==null?void 0:l.requests)==null?void 0:O.length)??0,icon:r.jsx(Nv,{className:"h-6 w-6"}),color:(P=l==null?void 0:l.requests)!=null&&P.length?"yellow":"gray",description:"Awaiting action"})})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Workload Distribution"}),r.jsxs(ht,{to:"/ar/workload",className:"text-sm text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:["View All ",r.jsx(tI,{className:"h-4 w-4"})]})]}),h?r.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(R=>r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),r.jsx("div",{className:"h-2.5 bg-gray-100 rounded w-full"})]},R))}):(N=d==null?void 0:d.snapshots)!=null&&N.length?r.jsxs("div",{className:"space-y-4",children:[d.snapshots.slice(0,6).map(R=>r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:R.agentName}),r.jsx("span",{className:`text-xs font-medium ${R.status==="overloaded"?"text-red-600":R.status==="underutilized"?"text-yellow-600":"text-green-600"}`,children:R.status})]}),r.jsx(Fc,{workload:R.currentWorkload,showPercentage:!0})]},R.agentId)),d.stats&&r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Math.round(d.stats.avgWorkload*100),"%"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Avg Workload"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-red-600",children:d.stats.overloaded}),r.jsx("p",{className:"text-xs text-gray-500",children:"Overloaded"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:d.stats.underutilized}),r.jsx("p",{className:"text-xs text-gray-500",children:"Underutilized"})]})]})})]}):r.jsx("p",{className:"text-gray-500 text-sm",children:"No workload data available"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Issues"}),(((C=p==null?void 0:p.summary)==null?void 0:C.total)??0)>0&&r.jsx("span",{className:"bg-red-100 text-red-700 text-xs font-medium px-2 py-0.5 rounded-full",children:(A=p==null?void 0:p.summary)==null?void 0:A.total})]})}),m?r.jsx("div",{className:"space-y-4",children:[1,2,3].map(R=>r.jsxs("div",{className:"animate-pulse bg-gray-100 rounded-lg p-4",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-2"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]},R))}):(E=p==null?void 0:p.issues)!=null&&E.length?r.jsx("div",{className:"space-y-3",children:p.issues.slice(0,4).map(R=>r.jsx(Ore,{issue:R,compact:!0},R.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(e3,{className:"h-12 w-12 text-green-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"No issues detected"}),r.jsx("p",{className:"text-xs text-gray-400",children:"All systems operating normally"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recommendations"})}),j?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2].map(R=>r.jsxs("div",{className:"animate-pulse bg-gray-100 rounded-lg p-4",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-1"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]},R))}):(M=g==null?void 0:g.recommendations)!=null&&M.length?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.recommendations.slice(0,4).map(R=>r.jsx(Tre,{recommendation:R,onAction:(I,T)=>{console.log("Action triggered:",I,T)}},R.id))}):r.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No recommendations at this time"})]})]})}function ene({departments:e,onClose:t,onSuccess:n}){const[a,s]=b.useState(""),[i,l]=b.useState(""),[u,d]=b.useState(""),[h,p]=b.useState("active"),[m,g]=b.useState(0),[j,v]=b.useState(null),w=Rre(),x=async S=>{if(S.preventDefault(),v(null),!a.trim()){v("Department name is required");return}try{await w.mutateAsync({name:a.trim(),description:i.trim()||void 0,parentId:u||void 0,status:h,metadata:{budgetCents:m}}),n()}catch(O){v(O instanceof Error?O.message:"Failed to create department")}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Create Department"}),r.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded-lg",children:r.jsx(uj,{className:"h-5 w-5 text-gray-500"})})]}),r.jsxs("form",{onSubmit:x,className:"p-4 space-y-4",children:[j&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-2 rounded-lg text-sm",children:j}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:a,onChange:S=>s(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Engineering",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:i,onChange:S=>l(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Product development department",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent Department"}),r.jsxs("select",{value:u,onChange:S=>d(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"None (Top Level)"}),e.map(S=>r.jsx("option",{value:S.id,children:S.name},S.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:h,onChange:S=>p(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"}),r.jsx("option",{value:"archived",children:"Archived"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),r.jsx("input",{type:"number",value:m/100,onChange:S=>g(Math.round(parseFloat(S.target.value||"0")*100)),className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"0.00",min:"0",step:"0.01"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:w.isPending,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:w.isPending?"Creating...":"Create Department"})]})]})]})})}function tne({department:e,departments:t,onClose:n,onSuccess:a}){const[s,i]=b.useState(e.name),[l,u]=b.useState(e.description||""),[d,h]=b.useState(e.parentId||""),[p,m]=b.useState(e.status),[g,j]=b.useState(e.budgetCents),[v,w]=b.useState(null),x=Mre(),S=$re(),O=async A=>{if(A.preventDefault(),w(null),!s.trim()){w("Department name is required");return}try{await x.mutateAsync({id:e.id,name:s.trim(),description:l.trim()||null,parentId:d||null,status:p}),g!==e.budgetCents&&await S.mutateAsync({id:e.id,budgetCents:g}),a()}catch(E){w(E instanceof Error?E.message:"Failed to update department")}},P=A=>{const E=t.filter(M=>M.parentId===A);return[A,...E.flatMap(M=>P(M.id))]},N=new Set(P(e.id)),C=t.filter(A=>!N.has(A.id));return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Edit Department"}),r.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded-lg",children:r.jsx(uj,{className:"h-5 w-5 text-gray-500"})})]}),r.jsxs("form",{onSubmit:O,className:"p-4 space-y-4",children:[v&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-2 rounded-lg text-sm",children:v}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:s,onChange:A=>i(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:l,onChange:A=>u(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent Department"}),r.jsxs("select",{value:d,onChange:A=>h(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"None (Top Level)"}),C.map(A=>r.jsx("option",{value:A.id,children:A.name},A.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:p,onChange:A=>m(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"}),r.jsx("option",{value:"archived",children:"Archived"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),r.jsx("input",{type:"number",value:g/100,onChange:A=>j(Math.round(parseFloat(A.target.value||"0")*100)),className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",min:"0",step:"0.01"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:x.isPending||S.isPending,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:x.isPending||S.isPending?"Saving...":"Save Changes"})]})]})]})})}function rT({department:e,allDepartments:t,level:n,selectedId:a,onSelect:s,onEdit:i,onDelete:l}){const[u,d]=b.useState(!0),h=t.filter(g=>g.parentId===e.id),p=h.length>0,m=a===e.id;return r.jsxs("div",{children:[r.jsxs("div",{className:`
          flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer
          transition-colors group
          ${m?"bg-indigo-50 border border-indigo-200":"hover:bg-gray-50"}
        `,style:{paddingLeft:`${n*20+12}px`},onClick:()=>s(e.id),children:[p?r.jsx("button",{onClick:g=>{g.stopPropagation(),d(!u)},className:"p-0.5 hover:bg-gray-200 rounded",children:u?r.jsx(hI,{className:"h-4 w-4 text-gray-500"}):r.jsx(mI,{className:"h-4 w-4 text-gray-500"})}):r.jsx("span",{className:"w-5"}),u?r.jsx(jI,{className:"h-5 w-5 text-indigo-500"}):r.jsx(Sv,{className:"h-5 w-5 text-gray-400"}),r.jsx("span",{className:`flex-1 font-medium ${m?"text-indigo-700":"text-gray-700"}`,children:e.name}),r.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${e.status==="active"?"bg-green-100 text-green-700":e.status==="inactive"?"bg-gray-100 text-gray-600":"bg-yellow-100 text-yellow-700"}`,children:e.status}),r.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex items-center gap-1",children:[r.jsx("button",{onClick:g=>{g.stopPropagation(),i(e)},className:"p-1 hover:bg-gray-200 rounded",title:"Edit",children:r.jsx(Hd,{className:"h-4 w-4 text-gray-500"})}),r.jsx("button",{onClick:g=>{g.stopPropagation(),confirm(`Delete ${e.name}?`)&&l(e.id)},className:"p-1 hover:bg-red-100 rounded",title:"Delete",children:r.jsx(Kd,{className:"h-4 w-4 text-red-500"})})]})]}),u&&p&&r.jsx("div",{children:h.map(g=>r.jsx(rT,{department:g,allDepartments:t,level:n+1,selectedId:a,onSelect:s,onEdit:i,onDelete:l},g.id))})]})}function rne(){const[e,t]=b.useState(""),[n,a]=b.useState("all"),[s,i]=b.useState(null),[l,u]=b.useState(!1),[d,h]=b.useState(null),{data:p,isLoading:m,refetch:g}=Nw({status:n==="all"?void 0:n,search:e||void 0}),j=Ire(),v=(p==null?void 0:p.departments)??[],w=v.filter(P=>!P.parentId),x=v.find(P=>P.id===s),S=async P=>{try{await j.mutateAsync(P),s===P&&i(null)}catch(N){console.error("Failed to delete department:",N)}},O=P=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(P/100);return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Departments"}),r.jsx("p",{className:"text-gray-600",children:"Manage your organization's department structure"})]}),r.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[r.jsx(tf,{className:"h-5 w-5"}),"Add Department"]})]}),r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(cj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search departments...",value:e,onChange:P=>t(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("select",{value:n,onChange:P=>a(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"}),r.jsx("option",{value:"archived",children:"Archived"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border p-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Department Tree"}),m?r.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(P=>r.jsxs("div",{className:"animate-pulse flex items-center gap-2 p-2",children:[r.jsx("div",{className:"h-5 w-5 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},P))}):w.length>0?r.jsx("div",{className:"space-y-1",children:w.map(P=>r.jsx(rT,{department:P,allDepartments:v,level:0,selectedId:s,onSelect:i,onEdit:h,onDelete:S},P.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Sv,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"No departments found"}),r.jsx("button",{onClick:()=>u(!0),className:"mt-2 text-indigo-600 hover:text-indigo-800 text-sm",children:"Create your first department"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Details"}),x?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),r.jsx("p",{className:"text-gray-900 font-medium",children:x.name})]}),x.description&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),r.jsx("p",{className:"text-gray-700 text-sm",children:x.description})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("p",{className:`inline-block px-2 py-0.5 rounded text-sm font-medium ${x.status==="active"?"bg-green-100 text-green-700":x.status==="inactive"?"bg-gray-100 text-gray-600":"bg-yellow-100 text-yellow-700"}`,children:x.status})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),r.jsx("p",{className:"text-gray-900 font-medium",children:O(x.budgetCents)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sub-departments"}),r.jsx("p",{className:"text-gray-700",children:v.filter(P=>P.parentId===x.id).length})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),r.jsx("p",{className:"text-gray-700 text-sm",children:new Date(x.createdAt).toLocaleDateString()})]}),r.jsxs("div",{className:"pt-4 flex gap-2",children:[r.jsxs("button",{onClick:()=>h(x),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(Hd,{className:"h-4 w-4"}),"Edit"]}),r.jsx("button",{onClick:()=>{confirm(`Delete ${x.name}?`)&&S(x.id)},className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50",children:r.jsx(Kd,{className:"h-4 w-4"})})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Sv,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Select a department to view details"})]})]})]}),l&&r.jsx(ene,{departments:v,onClose:()=>u(!1),onSuccess:()=>{u(!1),g()}}),d&&r.jsx(tne,{department:d,departments:v.filter(P=>P.id!==d.id),onClose:()=>h(null),onSuccess:()=>{h(null),g()}})]})}const nne={beginner:"bg-gray-100 text-gray-700",intermediate:"bg-blue-100 text-blue-700",advanced:"bg-purple-100 text-purple-700",expert:"bg-orange-100 text-orange-700"};function ane(){const[e,t]=b.useState(""),[n,a]=b.useState("all"),[s,i]=b.useState("all"),[l,u]=b.useState(null),[d,h]=b.useState(!1),[p,m]=b.useState(null),{data:g}=Nw({status:"active"}),{data:j,isLoading:v}=Sw({status:n==="all"?void 0:n,departmentId:s==="all"?void 0:s,search:e||void 0}),w=Lre(),x=(j==null?void 0:j.positions)??[],S=(g==null?void 0:g.departments)??[],O=x.find(C=>C.id===l),P=C=>{var A;return((A=S.find(E=>E.id===C))==null?void 0:A.name)??"Unknown"},N=async C=>{try{await w.mutateAsync(C),l===C&&u(null)}catch(A){console.error("Failed to delete position:",A)}};return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Positions"}),r.jsx("p",{className:"text-gray-600",children:"Define roles and skill requirements for agents"})]}),r.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[r.jsx(tf,{className:"h-5 w-5"}),"Add Position"]})]}),r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(cj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search positions...",value:e,onChange:C=>t(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("select",{value:s,onChange:C=>i(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Departments"}),S.map(C=>r.jsx("option",{value:C.id,children:C.name},C.id))]}),r.jsxs("select",{value:n,onChange:C=>a(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"}),r.jsx("option",{value:"archived",children:"Archived"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capacity"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v?Array.from({length:5}).map((C,A)=>r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-4",children:r.jsx("div",{className:"animate-pulse h-4 bg-gray-200 rounded w-full"})})},A)):x.length===0?r.jsx("tr",{children:r.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center",children:[r.jsx(wv,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"No positions found"}),r.jsx("button",{onClick:()=>h(!0),className:"mt-2 text-indigo-600 hover:text-indigo-800 text-sm",children:"Create your first position"})]})}):x.map(C=>r.jsxs("tr",{onClick:()=>u(C.id),className:`cursor-pointer hover:bg-gray-50 ${l===C.id?"bg-indigo-50":""}`,children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"font-medium text-gray-900",children:C.title}),r.jsxs("div",{className:"text-sm text-gray-500",children:[C.requiredSkills.length," skills required"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P(C.departmentId)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`text-sm font-medium ${C.currentCount>=C.maxCapacity?"text-green-600":"text-gray-600"}`,children:[C.currentCount,"/",C.maxCapacity]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${C.status==="active"?"bg-green-100 text-green-700":C.status==="inactive"?"bg-gray-100 text-gray-600":"bg-yellow-100 text-yellow-700"}`,children:C.status})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[r.jsx("button",{onClick:A=>{A.stopPropagation(),m(C)},className:"text-indigo-600 hover:text-indigo-900 mr-3",children:r.jsx(Hd,{className:"h-4 w-4"})}),r.jsx("button",{onClick:A=>{A.stopPropagation(),confirm(`Delete ${C.title}?`)&&N(C.id)},className:"text-red-600 hover:text-red-900",children:r.jsx(Kd,{className:"h-4 w-4"})})]})]},C.id))})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Details"}),O?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),r.jsx("p",{className:"text-gray-900 font-medium",children:O.title})]}),O.description&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),r.jsx("p",{className:"text-gray-700 text-sm",children:O.description})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),r.jsx("p",{className:"text-gray-700",children:P(O.departmentId)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Min Experience"}),r.jsxs("p",{className:"text-gray-700",children:[O.minExperience," years"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required Skills"}),r.jsx("div",{className:"mt-1 space-y-2",children:O.requiredSkills.length===0?r.jsx("p",{className:"text-gray-500 text-sm",children:"No skills defined"}):O.requiredSkills.map((C,A)=>r.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[r.jsx("span",{className:"text-sm font-medium",children:C.name}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${nne[C.level]}`,children:C.level}),r.jsxs("span",{className:"text-xs text-gray-400",children:["(",C.weight,"%)"]})]})]},A))})]}),r.jsxs("div",{className:"pt-4 flex gap-2",children:[r.jsxs("button",{onClick:()=>m(O),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(Hd,{className:"h-4 w-4"}),"Edit"]}),r.jsx("button",{onClick:()=>{confirm(`Delete ${O.title}?`)&&N(O.id)},className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50",children:r.jsx(Kd,{className:"h-4 w-4"})})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(wv,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Select a position to view details"})]})]})]}),d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Create Position"}),r.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Position creation modal coming soon."}),r.jsx("button",{onClick:()=>h(!1),className:"w-full px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Close"})]})}),p&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4 p-6",children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Edit Position: ",p.title]}),r.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Position editing modal coming soon."}),r.jsx("button",{onClick:()=>m(null),className:"w-full px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Close"})]})})]})}const sne={healthy:{color:"bg-green-500",bgColor:"bg-green-100",textColor:"text-green-700",label:"Healthy",icon:""},warning:{color:"bg-yellow-500",bgColor:"bg-yellow-100",textColor:"text-yellow-700",label:"Warning",icon:""},critical:{color:"bg-red-500",bgColor:"bg-red-100",textColor:"text-red-700",label:"Critical",icon:""}};function kw({status:e,size:t="md"}){const n=sne[e],a={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm"};return r.jsxs("span",{className:`
        inline-flex items-center gap-1 rounded-full font-medium
        ${n.bgColor} ${n.textColor} ${a[t]}
      `,children:[r.jsx("span",{className:`${n.color} h-1.5 w-1.5 rounded-full`}),n.label]})}const ine={active:"bg-green-100 text-green-700",on_leave:"bg-yellow-100 text-yellow-700",suspended:"bg-orange-100 text-orange-700",terminated:"bg-red-100 text-red-700"},gO={permanent:"Permanent",temporary:"Temporary",acting:"Acting"};function one(){var M;const[e,t]=b.useState(""),[n,a]=b.useState("all"),[s,i]=b.useState("all"),[l,u]=b.useState(null),[d,h]=b.useState(!1),{data:p}=Sw({status:"active"}),{data:m,isLoading:g,refetch:j}=eT({status:n==="all"?void 0:n,search:e||void 0}),v=Dre(),w=Fre(),x=(m==null?void 0:m.assignments)??[],S=(p==null?void 0:p.positions)??[],O=x.find(R=>R.id===l),P=R=>{var I;return((I=S.find(T=>T.id===R))==null?void 0:I.title)??"Unknown Position"},N=async(R,I)=>{try{await v.mutateAsync({id:R,status:I}),j()}catch(T){console.error("Failed to update status:",T)}},C=async R=>{const I=prompt("Reason for termination (optional):");try{await w.mutateAsync({id:R,reason:I||void 0}),l===R&&u(null),j()}catch(T){console.error("Failed to terminate:",T)}},A=R=>R>=.9?"critical":R>=.8?"warning":"healthy",E=s==="all"?x:x.filter(R=>R.assignmentType===s);return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Assignments"}),r.jsx("p",{className:"text-gray-600",children:"Manage agent-position relationships"})]}),r.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[r.jsx(tf,{className:"h-5 w-5"}),"Add Assignment"]})]}),r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(cj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search agents...",value:e,onChange:R=>t(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("select",{value:n,onChange:R=>a(R.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"on_leave",children:"On Leave"}),r.jsx("option",{value:"suspended",children:"Suspended"}),r.jsx("option",{value:"terminated",children:"Terminated"})]}),r.jsxs("select",{value:s,onChange:R=>i(R.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"permanent",children:"Permanent"}),r.jsx("option",{value:"temporary",children:"Temporary"}),r.jsx("option",{value:"acting",children:"Acting"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Workload"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g?Array.from({length:5}).map((R,I)=>r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-4",children:r.jsx("div",{className:"animate-pulse h-4 bg-gray-200 rounded w-full"})})},I)):E.length===0?r.jsx("tr",{children:r.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center",children:[r.jsx(Gd,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"No assignments found"})]})}):E.map(R=>{var I,T,$;return r.jsxs("tr",{onClick:()=>u(R.id),className:`cursor-pointer hover:bg-gray-50 ${l===R.id?"bg-indigo-50":""}`,children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-indigo-600 text-sm font-medium",children:((T=(I=R.agent)==null?void 0:I.name)==null?void 0:T[0])??"A"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:(($=R.agent)==null?void 0:$.name)??R.agentId}),r.jsx("div",{className:"text-xs text-gray-500",children:gO[R.assignmentType]})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P(R.positionId)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"w-24",children:r.jsx(Fc,{workload:R.workload,size:"sm",showPercentage:!0})})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${ine[R.status]}`,children:R.status.replace("_"," ")})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[r.jsx("button",{onClick:W=>{W.stopPropagation(),alert("Reassign modal coming soon")},className:"text-indigo-600 hover:text-indigo-900 mr-3",title:"Reassign",children:r.jsx(jv,{className:"h-4 w-4"})}),r.jsx("button",{onClick:W=>{W.stopPropagation(),confirm("Terminate this assignment?")&&C(R.id)},className:"text-red-600 hover:text-red-900",title:"Terminate",children:r.jsx(Vd,{className:"h-4 w-4"})})]})]},R.id)})})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Details"}),O?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),r.jsx("p",{className:"text-gray-900 font-medium",children:((M=O.agent)==null?void 0:M.name)??O.agentId})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),r.jsx("p",{className:"text-gray-700",children:P(O.positionId)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("p",{className:"text-gray-700",children:gO[O.assignmentType]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Workload"}),r.jsx("div",{className:"mt-1",children:r.jsx(Fc,{workload:O.workload,showPercentage:!0,showStatus:!0})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Health"}),r.jsx("div",{className:"mt-1",children:r.jsx(kw,{status:A(O.workload)})})]}),O.performanceScore!==null&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance"}),r.jsxs("p",{className:"text-gray-900 font-medium",children:[O.performanceScore,"/100"]})]}),O.humanSupervisor&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supervisor"}),r.jsx("p",{className:"text-gray-700",children:O.humanSupervisor})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Date"}),r.jsx("p",{className:"text-gray-700 text-sm",children:O.startDate?new Date(O.startDate).toLocaleDateString():"Not set"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("div",{className:"mt-1",children:r.jsxs("select",{value:O.status,onChange:R=>N(O.id,R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"on_leave",children:"On Leave"}),r.jsx("option",{value:"suspended",children:"Suspended"})]})})]}),r.jsx("div",{className:"pt-4",children:r.jsxs("button",{onClick:()=>{confirm("Terminate this assignment?")&&C(O.id)},className:"w-full flex items-center justify-center gap-2 px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50",children:[r.jsx(Vd,{className:"h-4 w-4"}),"Terminate Assignment"]})})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Gd,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Select an assignment to view details"})]})]})]}),d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Create Assignment"}),r.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Assignment creation modal coming soon."}),r.jsx("button",{onClick:()=>h(!1),className:"w-full px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Close"})]})})]})}const lne={pending:"bg-yellow-100 text-yellow-700",approved:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700",expired:"bg-gray-100 text-gray-600",escalated:"bg-purple-100 text-purple-700"},cne={pending:"",approved:"",rejected:"",expired:"",escalated:""},yO={1:"Task",2:"Process",3:"Project",4:"Function",5:"Objective"};function une(){const[e,t]=b.useState("pending"),[n,a]=b.useState("all"),[s,i]=b.useState("all"),[l,u]=b.useState(null),{data:d,isLoading:h,refetch:p}=zre({status:e==="all"?void 0:e,requestType:n==="all"?void 0:n,level:s==="all"?void 0:parseInt(s)}),m=qre(),g=Ure(),j=Wre(),v=(d==null?void 0:d.requests)??[],w=v.find(N=>N.id===l),x=async N=>{const C=prompt("Add a note (optional):");try{await m.mutateAsync({id:N,note:C||void 0}),p()}catch(A){console.error("Failed to approve:",A)}},S=async N=>{const C=prompt("Reason for rejection:");if(!C){alert("Rejection reason is required");return}try{await g.mutateAsync({id:N,note:C}),p()}catch(A){console.error("Failed to reject:",A)}},O=async N=>{const C=prompt("Reason for escalation:");try{await j.mutateAsync({id:N,reason:C||void 0}),p()}catch(A){console.error("Failed to escalate:",A)}},P=N=>new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"AR Approvals"}),r.jsx("p",{className:"text-gray-600",children:"Manage approval requests for agent resources"})]}),r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsxs("select",{value:e,onChange:N=>t(N.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"}),r.jsx("option",{value:"escalated",children:"Escalated"}),r.jsx("option",{value:"expired",children:"Expired"})]}),r.jsxs("select",{value:n,onChange:N=>a(N.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"task",children:"Task"}),r.jsx("option",{value:"budget",children:"Budget"}),r.jsx("option",{value:"assignment",children:"Assignment"}),r.jsx("option",{value:"schedule",children:"Schedule"}),r.jsx("option",{value:"leave",children:"Leave"}),r.jsx("option",{value:"policy",children:"Policy"})]}),r.jsxs("select",{value:s,onChange:N=>i(N.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Levels"}),r.jsx("option",{value:"1",children:"Level 1 (Task)"}),r.jsx("option",{value:"2",children:"Level 2 (Process)"}),r.jsx("option",{value:"3",children:"Level 3 (Project)"}),r.jsx("option",{value:"4",children:"Level 4 (Function)"}),r.jsx("option",{value:"5",children:"Level 5 (Objective)"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Request"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type / Level"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h?Array.from({length:5}).map((N,C)=>r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-4",children:r.jsx("div",{className:"animate-pulse h-4 bg-gray-200 rounded w-full"})})},C)):v.length===0?r.jsx("tr",{children:r.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center",children:[r.jsx(Nv,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"No approval requests found"})]})}):v.map(N=>r.jsxs("tr",{onClick:()=>u(N.id),className:`cursor-pointer hover:bg-gray-50 ${l===N.id?"bg-indigo-50":""}`,children:[r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"font-medium text-gray-900",children:N.title}),r.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:N.description})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm",children:r.jsx("span",{className:"px-2 py-0.5 bg-gray-100 rounded text-gray-700 text-xs",children:N.requestType})}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Level ",N.level," (",yO[N.level],")"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full font-medium ${lne[N.status]}`,children:[cne[N.status]," ",N.status]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P(N.expiresAt)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:N.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:C=>{C.stopPropagation(),x(N.id)},className:"text-green-600 hover:text-green-900 mr-2",title:"Approve",children:r.jsx(Wd,{className:"h-5 w-5"})}),r.jsx("button",{onClick:C=>{C.stopPropagation(),S(N.id)},className:"text-red-600 hover:text-red-900 mr-2",title:"Reject",children:r.jsx(Vd,{className:"h-5 w-5"})}),r.jsx("button",{onClick:C=>{C.stopPropagation(),O(N.id)},className:"text-purple-600 hover:text-purple-900",title:"Escalate",children:r.jsx(nI,{className:"h-5 w-5"})})]})})]},N.id))})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Details"}),w?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),r.jsx("p",{className:"text-gray-900 font-medium",children:w.title})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),r.jsx("p",{className:"text-gray-700 text-sm",children:w.description})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("p",{className:"text-gray-700 capitalize",children:w.requestType})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),r.jsxs("p",{className:"text-gray-700",children:[w.level," (",yO[w.level],")"]})]})]}),w.impactScope&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Impact Scope"}),r.jsx("p",{className:"text-gray-700 capitalize",children:w.impactScope})]}),w.estimatedValue&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estimated Value"}),r.jsxs("p",{className:"text-gray-700",children:["$",w.estimatedValue.toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-2 block",children:"Approval Chain"}),r.jsx("div",{className:"space-y-2",children:w.approverChain.map((N,C)=>{const A=w.responses.find(M=>M.level===N.level),E=N.level===w.currentLevel&&w.status==="pending";return r.jsxs("div",{className:`flex items-center gap-2 p-2 rounded ${E?"bg-yellow-50 border border-yellow-200":"bg-gray-50"}`,children:[r.jsx("span",{className:"text-lg",children:(A==null?void 0:A.decision)==="approved"?"":(A==null?void 0:A.decision)==="rejected"?"":E?"":""}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"text-sm font-medium",children:["Level ",N.level]}),r.jsx("p",{className:"text-xs text-gray-500",children:N.roleTitle||N.approverId})]}),A&&r.jsx("span",{className:"text-xs text-gray-400",children:P(A.timestamp)})]},C)})})]}),w.status==="pending"&&r.jsxs("div",{className:"pt-4 flex gap-2",children:[r.jsxs("button",{onClick:()=>x(w.id),disabled:m.isPending,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[r.jsx(Wd,{className:"h-4 w-4"}),"Approve"]}),r.jsxs("button",{onClick:()=>S(w.id),disabled:g.isPending,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:[r.jsx(Vd,{className:"h-4 w-4"}),"Reject"]})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Nv,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Select a request to view details"})]})]})]})]})}function dne(){var d,h,p,m,g,j,v,w,x,S,O,P;const[e,t]=b.useState(30),{data:n,isLoading:a}=Vre(e),{data:s,isLoading:i}=Qre(),{data:l,isLoading:u}=Yre();return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"AR Analytics"}),r.jsx("p",{className:"text-gray-600",children:"Performance metrics and insights"})]}),r.jsxs("select",{value:e,onChange:N=>t(parseInt(N.target.value)),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"7",children:"Last 7 days"}),r.jsx("option",{value:"30",children:"Last 30 days"}),r.jsx("option",{value:"90",children:"Last 90 days"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:a?r.jsxs(r.Fragment,{children:[r.jsx(Qr,{}),r.jsx(Qr,{}),r.jsx(Qr,{}),r.jsx(Qr,{})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ka,{title:"Tasks Completed",value:((d=n==null?void 0:n.metrics)==null?void 0:d.completedTasks)??0,icon:r.jsx(Wd,{className:"h-6 w-6"}),color:"green",trend:(h=n==null?void 0:n.trends)!=null&&h.completion&&n.trends.completion>0?"up":"down",change:((p=n==null?void 0:n.trends)==null?void 0:p.completion)??0}),r.jsx(Ka,{title:"Avg Performance",value:`${Math.round(((m=n==null?void 0:n.metrics)==null?void 0:m.avgPerformance)??0)}%`,icon:r.jsx(JO,{className:"h-6 w-6"}),color:"blue",trend:(g=n==null?void 0:n.trends)!=null&&g.performance&&n.trends.performance>0?"up":"down",change:((j=n==null?void 0:n.trends)==null?void 0:j.performance)??0}),r.jsx(Ka,{title:"Total Cost",value:`$${(((v=n==null?void 0:n.metrics)==null?void 0:v.totalCost)??0).toLocaleString()}`,icon:r.jsx(ZO,{className:"h-6 w-6"}),color:"purple",trend:(w=n==null?void 0:n.trends)!=null&&w.cost&&n.trends.cost<0?"up":"down",change:((x=n==null?void 0:n.trends)==null?void 0:x.cost)??0}),r.jsx(Ka,{title:"Cost/Task",value:`$${(((S=n==null?void 0:n.metrics)==null?void 0:S.costPerTask)??0).toFixed(2)}`,icon:r.jsx(Gd,{className:"h-6 w-6"}),color:"gray"})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Agent Health Status"}),i?r.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(N=>r.jsxs("div",{className:"animate-pulse flex items-center gap-4",children:[r.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),r.jsx("div",{className:"h-2 bg-gray-100 rounded w-full"})]})]},N))}):(O=s==null?void 0:s.agents)!=null&&O.length?r.jsx("div",{className:"space-y-4",children:s.agents.map(N=>r.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-indigo-600 font-medium",children:N.agentName[0]})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"font-medium text-gray-900",children:N.agentName}),r.jsx(kw,{status:N.status,size:"sm"})]}),r.jsx(Fc,{workload:N.workload,size:"sm",showPercentage:!0})]})]},N.agentId))}):r.jsx("p",{className:"text-gray-500 text-center py-4",children:"No health data available"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Coaching Needs"}),u?r.jsx("div",{className:"space-y-4",children:[1,2,3].map(N=>r.jsxs("div",{className:"animate-pulse bg-gray-100 rounded-lg p-4",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-2"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]},N))}):(P=l==null?void 0:l.agents)!=null&&P.length?r.jsx("div",{className:"space-y-3",children:l.agents.map(N=>r.jsxs("div",{className:`p-4 rounded-lg border ${N.priority==="high"?"bg-red-50 border-red-200":N.priority==="medium"?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-medium text-gray-900",children:N.agentName}),r.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${N.priority==="high"?"bg-red-100 text-red-700":N.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:N.priority})]}),r.jsx("ul",{className:"space-y-1",children:N.needs.map((C,A)=>r.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[r.jsx("span",{className:"text-gray-400",children:""}),C]},A))})]},N.agentId))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Wd,{className:"h-12 w-12 text-green-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"All agents performing well"}),r.jsx("p",{className:"text-xs text-gray-400",children:"No coaching needs identified"})]})]})]})]})}function hne(){var v,w;const[e,t]=b.useState(null),{data:n,isLoading:a}=tT(),{data:s,isLoading:i,refetch:l}=Hre(),u=Kre(),d=Gre(),h=async()=>{try{const x=await u.mutateAsync("manual");t(x.proposal.id),l()}catch(x){console.error("Failed to create proposal:",x)}},p=async x=>{try{await d.mutateAsync({proposalId:x}),t(null),l()}catch(S){console.error("Failed to apply proposal:",S)}},m=x=>x>=.9?"critical":x>=.8?"warning":"healthy",g=((v=s==null?void 0:s.proposals)==null?void 0:v.filter(x=>x.status==="pending"))??[],j=g.find(x=>x.id===e);return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Workload Distribution"}),r.jsx("p",{className:"text-gray-600",children:"Monitor and optimize agent workloads"})]}),r.jsxs("button",{onClick:h,disabled:u.isPending,className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:[r.jsx(jv,{className:`h-5 w-5 ${u.isPending?"animate-spin":""}`}),"Generate Rebalancing"]})]}),(n==null?void 0:n.stats)&&r.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6 mb-6",children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[Math.round(n.stats.avgWorkload*100),"%"]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Average Workload"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[Math.round(n.stats.stdDeviation*100),"%"]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Std Deviation"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-green-600",children:n.stats.balanced}),r.jsx("p",{className:"text-sm text-gray-500",children:"Balanced"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-red-600",children:n.stats.overloaded}),r.jsx("p",{className:"text-sm text-gray-500",children:"Overloaded"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:n.stats.underutilized}),r.jsx("p",{className:"text-sm text-gray-500",children:"Underutilized"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Agent Workloads"}),a?r.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(x=>r.jsxs("div",{className:"animate-pulse flex items-center gap-4",children:[r.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),r.jsx("div",{className:"h-3 bg-gray-100 rounded w-full"})]})]},x))}):(w=n==null?void 0:n.snapshots)!=null&&w.length?r.jsx("div",{className:"space-y-4",children:n.snapshots.map(x=>r.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border ${x.status==="overloaded"?"bg-red-50 border-red-200":x.status==="underutilized"?"bg-yellow-50 border-yellow-200":"bg-gray-50 border-gray-200"}`,children:[r.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-indigo-600 font-bold",children:x.agentName[0]})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-medium text-gray-900",children:x.agentName}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm text-gray-500",children:[x.taskCount," tasks"]}),r.jsx(kw,{status:m(x.currentWorkload),size:"sm"})]})]}),r.jsx(Fc,{workload:x.currentWorkload,showPercentage:!0,showStatus:!0})]})]},x.agentId))}):r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No workload data available"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rebalancing Proposals"}),i?r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"h-20 bg-gray-100 rounded"}),r.jsx("div",{className:"h-20 bg-gray-100 rounded"})]}):g.length>0?r.jsx("div",{className:"space-y-4",children:g.map(x=>r.jsxs("div",{className:`p-4 rounded-lg border cursor-pointer transition-colors ${e===x.id?"bg-indigo-50 border-indigo-200":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,onClick:()=>t(x.id),children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Proposal #",x.id.slice(0,8)]}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(x.createdAt).toLocaleDateString()})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[x.proposedChanges.length," changes, ~",Math.round(x.estimatedImprovement),"% improvement"]})]},x.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(jv,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"No pending proposals"}),r.jsx("button",{onClick:h,className:"mt-2 text-indigo-600 hover:text-indigo-800 text-sm",children:"Generate one"})]}),j&&r.jsxs("div",{className:"mt-6 pt-6 border-t",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Proposed Changes"}),r.jsx("div",{className:"space-y-3",children:j.proposedChanges.map(x=>r.jsxs("div",{className:"bg-white border rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"font-medium",children:x.fromAgentId}),r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{className:"font-medium",children:x.toAgentId})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[x.taskIds.length," task(s)"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 text-xs",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"From: "}),r.jsxs("span",{className:"text-red-600",children:[Math.round(x.estimatedImpact.fromWorkload.before*100),"%"]}),r.jsx("span",{className:"text-gray-400",children:"  "}),r.jsxs("span",{className:"text-green-600",children:[Math.round(x.estimatedImpact.fromWorkload.after*100),"%"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"To: "}),r.jsxs("span",{children:[Math.round(x.estimatedImpact.toWorkload.before*100),"%"]}),r.jsx("span",{className:"text-gray-400",children:"  "}),r.jsxs("span",{children:[Math.round(x.estimatedImpact.toWorkload.after*100),"%"]})]})]})]},x.id))}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsxs("button",{onClick:()=>p(j.id),disabled:d.isPending,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[r.jsx(uI,{className:"h-4 w-4"}),"Apply"]}),r.jsx("button",{onClick:()=>t(null),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:r.jsx(uj,{className:"h-4 w-4"})})]})]})]})]})]})}function fne(){const[e,t]=b.useState(!1),{currentOrganization:n,organizations:a,switchOrganization:s}=Za();if(!n||a.length<=1)return null;const i=async l=>{t(!1),await s(l)};return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>t(!e),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:n.name}),r.jsx("svg",{className:`w-4 h-4 text-gray-600 transition-transform ${e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>t(!1)}),r.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-20",children:r.jsxs("div",{className:"p-2",children:[r.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase",children:"Switch Organization"}),a.map(l=>r.jsxs("button",{onClick:()=>i(l.id),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${l.id===n.id?"bg-indigo-50 text-indigo-700":"hover:bg-gray-100 text-gray-700"}`,children:[r.jsx("div",{className:"font-medium",children:l.name}),r.jsx("div",{className:"text-xs text-gray-500",children:l.domain})]},l.id))]})})]})]})}function mne({user:e,onLogout:t}){return r.jsx("header",{className:"h-16 bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-50",children:r.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("h1",{className:"text-2xl font-bold text-indigo-600",children:"Nubabel"})}),r.jsx(fne,{}),e&&r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[e.picture?r.jsx("img",{src:e.picture,alt:e.name,className:"w-8 h-8 rounded-full"}):r.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-medium",children:(e.name||e.email||"?").charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.name}),r.jsx("span",{className:"text-xs text-gray-500",children:e.email})]})]}),r.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Logout"})]})]})})}const pne=[{name:"Dashboard",path:"/dashboard",icon:""},{name:"OKRs",path:"/okr",icon:""},{name:"Workflows",path:"/workflows",icon:""},{name:"Executions",path:"/executions",icon:""},{name:"Activity",path:"/activity",icon:""},{name:"Search",path:"/search",icon:""},{name:"Conversations",path:"/conversations",icon:""},{name:"Settings",path:"/settings",icon:""}],xne=[{name:"Members",path:"/settings/members",icon:""},{name:"Approvals",path:"/approvals",icon:""},{name:"Changes",path:"/org-changes",icon:""}],gne=[{name:"AR Dashboard",path:"/ar",icon:""},{name:"Departments",path:"/ar/departments",icon:""},{name:"Positions",path:"/ar/positions",icon:""},{name:"Assignments",path:"/ar/assignments",icon:""},{name:"AR Approvals",path:"/ar/approvals",icon:""},{name:"AR Analytics",path:"/ar/analytics",icon:""},{name:"Workload",path:"/ar/workload",icon:""}],yne=[{name:"Notion Settings",path:"/settings/notion",icon:""},{name:"Slack Settings",path:"/settings/slack",icon:""}],vne=[{name:"Analytics",path:"/analytics",icon:""},{name:"Costs",path:"/costs",icon:""},{name:"Patterns",path:"/patterns",icon:""},{name:"Feedback",path:"/feedback",icon:""},{name:"System Health",path:"/system-health",icon:""}],bne=[{name:"Knowledge Graph",path:"/knowledge-graph",icon:""},{name:"SOP Drafts",path:"/sops/drafts",icon:""},{name:"SOP Editor",path:"/sops/editor",icon:""}],jne=[{name:"Marketplace",path:"/marketplace",icon:""},{name:"External Tools",path:"/marketplace-hub",icon:""},{name:"Developer Portal",path:"/developer",icon:""}],wne=[{name:"Admin Dashboard",path:"/admin",icon:""},{name:"Agents",path:"/admin/agents",icon:""},{name:"Agent Monitor",path:"/admin/agent-monitor",icon:""},{name:"Skills",path:"/admin/skills",icon:""},{name:"Claude Max",path:"/admin/claude-max-accounts",icon:""},{name:"Optimization",path:"/admin/optimization",icon:""},{name:"Organizations",path:"/admin/organizations",icon:""},{name:"Billing",path:"/billing",icon:""}];function Nne(){const e=Xs(),t=n=>n.map(a=>{const i=e.pathname===a.path?"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-indigo-600 text-white":"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-700 hover:bg-gray-200";return r.jsx("li",{children:r.jsxs(ht,{to:a.path,className:i,children:[r.jsx("span",{className:"text-xl",children:a.icon}),r.jsx("span",{className:"font-medium",children:a.name})]})},a.path)});return r.jsx("aside",{className:"w-64 bg-gray-50 fixed left-0 top-16 bottom-0 border-r border-gray-200 overflow-y-auto",children:r.jsx("nav",{className:"p-4",children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{children:r.jsx("ul",{className:"space-y-2",children:t(pne)})}),r.jsxs("div",{children:[r.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Organization"}),r.jsx("ul",{className:"space-y-2",children:t(xne)})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Agent Resources"}),r.jsx("ul",{className:"space-y-2",children:t(gne)})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Integrations"}),r.jsx("ul",{className:"space-y-2",children:t(yne)})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Analytics"}),r.jsx("ul",{className:"space-y-2",children:t(vne)})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Knowledge"}),r.jsx("ul",{className:"space-y-2",children:t(bne)})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Marketplace"}),r.jsx("ul",{className:"space-y-2",children:t(jne)})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Admin"}),r.jsx("ul",{className:"space-y-2",children:t(wne)})]})]})})})}function Me({children:e}){const{user:t,logout:n}=Za();return r.jsxs("div",{className:"min-h-screen bg-gray-100",children:[r.jsx(mne,{user:t||void 0,onLogout:n}),r.jsx(Nne,{}),r.jsx("main",{className:"ml-64 mt-16 p-8",children:e})]})}function Re({children:e}){const{user:t,isLoading:n,fetchUser:a}=Za();return b.useEffect(()=>{a()},[a]),n?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):t?r.jsx(r.Fragment,{children:e}):r.jsx(XO,{to:"/login",replace:!0})}function Sne(){return r.jsx(GM,{children:r.jsxs(FM,{children:[r.jsx(Oe,{path:"/login",element:r.jsx(JM,{})}),r.jsx(Oe,{path:"/dashboard",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(zI,{})})})}),r.jsx(Oe,{path:"/okr",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(QL,{})})})}),r.jsx(Oe,{path:"/workflows",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(w7,{})})})}),r.jsx(Oe,{path:"/workflows/:id",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(N7,{})})})}),r.jsx(Oe,{path:"/executions",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(S7,{})})})}),r.jsx(Oe,{path:"/executions/:id",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(k7,{})})})}),r.jsx(Oe,{path:"/settings",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(O7,{})})})}),r.jsx(Oe,{path:"/settings/notion",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(E7,{})})})}),r.jsx(Oe,{path:"/settings/slack",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(_7,{})})})}),r.jsx(Oe,{path:"/settings/google-calendar",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(T7,{})})})}),r.jsx(Oe,{path:"/settings/identities",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(z7,{})})})}),r.jsx(Oe,{path:"/settings/members",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx($L,{})})})}),r.jsx(Oe,{path:"/approvals",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(LL,{})})})}),r.jsx(Oe,{path:"/activity",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(KL,{})})})}),r.jsx(Oe,{path:"/metrics/agents",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(GL,{})})})}),r.jsx(Oe,{path:"/org-changes",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(VL,{})})})}),r.jsx(Oe,{path:"/admin/agents",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(ZL,{})})})}),r.jsx(Oe,{path:"/admin/skills",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(nD,{})})})}),r.jsx(Oe,{path:"/admin",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(cD,{})})})}),r.jsx(Oe,{path:"/admin/organizations",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(hD,{})})})}),r.jsx(Oe,{path:"/admin/identities",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(bD,{})})})}),r.jsx(Oe,{path:"/admin/optimization",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(Zte,{})})})}),r.jsx(Oe,{path:"/admin/claude-max-accounts",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(ure,{})})})}),r.jsx(Oe,{path:"/admin/agent-monitor",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(Nre,{})})})}),r.jsx(Oe,{path:"/conversations",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(aD,{})})})}),r.jsx(Oe,{path:"/search",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(lD,{})})})}),r.jsx(Oe,{path:"/analytics",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(vte,{})})})}),r.jsx(Oe,{path:"/costs",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(wte,{})})})}),r.jsx(Oe,{path:"/billing",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(bte,{})})})}),r.jsx(Oe,{path:"/knowledge-graph",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(Pte,{})})})}),r.jsx(Oe,{path:"/patterns",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(Mte,{})})})}),r.jsx(Oe,{path:"/feedback",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(Ate,{})})})}),r.jsx(Oe,{path:"/system-health",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(Jte,{})})})}),r.jsx(Oe,{path:"/marketplace",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(Ote,{})})})}),r.jsx(Oe,{path:"/marketplace-hub",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(Ete,{})})})}),r.jsx(Oe,{path:"/marketplace/:extensionId",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(Cte,{})})})}),r.jsx(Oe,{path:"/developer",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(kte,{})})})}),r.jsx(Oe,{path:"/developer/publisher",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(Ite,{})})})}),r.jsx(Oe,{path:"/sops/drafts",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx($te,{})})})}),r.jsx(Oe,{path:"/sops/editor/:id?",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(Ute,{})})})}),r.jsx(Oe,{path:"/onboarding",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(_te,{})})})}),r.jsx(Oe,{path:"/org-change-wizard",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(Rte,{})})})}),r.jsx(Oe,{path:"/n8n/workflows",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(yre,{})})})}),r.jsx(Oe,{path:"/claude-connect",element:r.jsx(Re,{children:r.jsx(dre,{})})}),r.jsx(Oe,{path:"/ar",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(Zre,{})})})}),r.jsx(Oe,{path:"/ar/departments",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(rne,{})})})}),r.jsx(Oe,{path:"/ar/positions",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(ane,{})})})}),r.jsx(Oe,{path:"/ar/assignments",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(one,{})})})}),r.jsx(Oe,{path:"/ar/approvals",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(une,{})})})}),r.jsx(Oe,{path:"/ar/analytics",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(dne,{})})})}),r.jsx(Oe,{path:"/ar/workload",element:r.jsx(Re,{children:r.jsx(Me,{children:r.jsx(hne,{})})})}),r.jsx(Oe,{path:"/",element:r.jsx(XO,{to:"/dashboard",replace:!0})})]})})}class kne extends V.Component{constructor(){super(...arguments);md(this,"state",{hasError:!1,errorMessage:null})}static getDerivedStateFromError(n){return{hasError:!0,errorMessage:n instanceof Error?n.message:String(n)}}componentDidCatch(n){const a=n instanceof Error?n.message:String(n);console.error("UI error:",a)}render(){return this.state.hasError?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:r.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Something went wrong"}),this.state.errorMessage?r.jsx("p",{className:"mt-2 text-sm text-gray-600 break-words",children:this.state.errorMessage}):null,r.jsx("button",{type:"button",className:"mt-4 inline-flex items-center justify-center rounded-md bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800",onClick:()=>window.location.reload(),children:"Reload"})]})}):this.props.children}}const Cne=new IR;dR.createRoot(document.getElementById("root")).render(r.jsx(V.StrictMode,{children:r.jsx(kne,{children:r.jsx($R,{client:Cne,children:r.jsx(Sne,{})})})}));
